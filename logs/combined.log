{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759551870999}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434/ - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:24:30.991Z"}
{"level":"info","message":"6 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T04:24:30.997Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-04T04:24:30.995Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-04T04:24:30.996Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-04T04:24:30.996Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434/ - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:24:30.998Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-04T04:24:30.999Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-04T04:24:30.998Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T04:24:30.999Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T04:24:30.999Z"}
{"level":"info","message":"Trading automático deshabilitado","module":"TradingSystem","timestamp":"2025-10-04T04:24:30.999Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-04T04:24:30.999Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T04:24:31.000Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-04T04:24:30.999Z"}
{"level":"info","message":"Recibida señal SIGINT, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-04T04:30:51.099Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759552251101}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-04T04:30:51.102Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759552260374}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-04T04:31:00.371Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:31:00.367Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:31:00.370Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:31:00.370Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T04:31:00.371Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759552260374}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:31:00.373Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:31:00.373Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T04:31:00.374Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T04:31:00.374Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (5m)","module":"TradingSystem","timestamp":"2025-10-04T04:31:00.374Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-04T04:31:00.371Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-04T04:31:00.371Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-04T04:31:00.372Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-04T04:31:00.372Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-04T04:31:00.372Z"}
{"level":"info","message":"6 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T04:31:00.372Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T04:31:00.392Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T04:31:00.373Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:31:00.374Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T04:31:00.417Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T04:31:01.442Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-04T04:31:01.443Z"}
{"error":"Error: Se necesitan al menos 50 velas para análisis técnico\n    at TechnicalAnalysis.analyze (/Users/tgomez/Documents/kalmann/ai-trading-system/src/analysis/technical-analysis.ts:21:15)\n    at TradingStrategy.performCompleteAnalysis (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:100:44)\n    at TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:70:37)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","level":"error","message":"Error en análisis técnico:","module":"TechnicalAnalysis","timestamp":"2025-10-04T04:31:01.810Z"}
{"error":"Error: Se necesitan al menos 10 velas para predicción\n    at KalmanFilter.predict (/Users/tgomez/Documents/kalmann/ai-trading-system/src/analysis/kalman-filter.ts:35:15)\n    at TradingStrategy.performCompleteAnalysis (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:103:38)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:70:26)","level":"error","message":"Error en predicción Kalman:","module":"KalmanFilter","timestamp":"2025-10-04T04:31:01.811Z"}
{"error":"TypeError: Cannot read properties of undefined (reading 'close')\n    at KalmanFilter.predict (/Users/tgomez/Documents/kalmann/ai-trading-system/src/analysis/kalman-filter.ts:74:51)\n    at TradingStrategy.performCompleteAnalysis (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:103:38)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:70:26)","level":"error","message":"Error en loop de trading:","module":"TradingStrategy","timestamp":"2025-10-04T04:31:01.811Z"}
{"error":"Error: Se necesitan al menos 50 velas para análisis técnico\n    at TechnicalAnalysis.analyze (/Users/tgomez/Documents/kalmann/ai-trading-system/src/analysis/technical-analysis.ts:21:15)\n    at TradingStrategy.performCompleteAnalysis (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:100:44)\n    at TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:70:37)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","level":"error","message":"Error en análisis técnico:","module":"TechnicalAnalysis","timestamp":"2025-10-04T04:31:32.920Z"}
{"error":"Error: Se necesitan al menos 10 velas para predicción\n    at KalmanFilter.predict (/Users/tgomez/Documents/kalmann/ai-trading-system/src/analysis/kalman-filter.ts:35:15)\n    at TradingStrategy.performCompleteAnalysis (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:103:38)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:70:26)","level":"error","message":"Error en predicción Kalman:","module":"KalmanFilter","timestamp":"2025-10-04T04:31:32.921Z"}
{"error":"TypeError: Cannot read properties of undefined (reading 'close')\n    at KalmanFilter.predict (/Users/tgomez/Documents/kalmann/ai-trading-system/src/analysis/kalman-filter.ts:74:51)\n    at TradingStrategy.performCompleteAnalysis (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:103:38)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:70:26)","level":"error","message":"Error en loop de trading:","module":"TradingStrategy","timestamp":"2025-10-04T04:31:32.921Z"}
{"error":"Error: Se necesitan al menos 50 velas para análisis técnico\n    at TechnicalAnalysis.analyze (/Users/tgomez/Documents/kalmann/ai-trading-system/src/analysis/technical-analysis.ts:21:15)\n    at TradingStrategy.performCompleteAnalysis (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:100:44)\n    at TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:70:37)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","level":"error","message":"Error en análisis técnico:","module":"TechnicalAnalysis","timestamp":"2025-10-04T04:32:04.050Z"}
{"error":"Error: Se necesitan al menos 10 velas para predicción\n    at KalmanFilter.predict (/Users/tgomez/Documents/kalmann/ai-trading-system/src/analysis/kalman-filter.ts:35:15)\n    at TradingStrategy.performCompleteAnalysis (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:103:38)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:70:26)","level":"error","message":"Error en predicción Kalman:","module":"KalmanFilter","timestamp":"2025-10-04T04:32:04.056Z"}
{"error":"TypeError: Cannot read properties of undefined (reading 'close')\n    at KalmanFilter.predict (/Users/tgomez/Documents/kalmann/ai-trading-system/src/analysis/kalman-filter.ts:74:51)\n    at TradingStrategy.performCompleteAnalysis (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:103:38)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:70:26)","level":"error","message":"Error en loop de trading:","module":"TradingStrategy","timestamp":"2025-10-04T04:32:04.058Z"}
{"error":"Error: Se necesitan al menos 50 velas para análisis técnico\n    at TechnicalAnalysis.analyze (/Users/tgomez/Documents/kalmann/ai-trading-system/src/analysis/technical-analysis.ts:21:15)\n    at TradingStrategy.performCompleteAnalysis (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:100:44)\n    at TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:70:37)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","level":"error","message":"Error en análisis técnico:","module":"TechnicalAnalysis","timestamp":"2025-10-04T04:32:35.682Z"}
{"error":"Error: Se necesitan al menos 10 velas para predicción\n    at KalmanFilter.predict (/Users/tgomez/Documents/kalmann/ai-trading-system/src/analysis/kalman-filter.ts:35:15)\n    at TradingStrategy.performCompleteAnalysis (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:103:38)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:70:26)","level":"error","message":"Error en predicción Kalman:","module":"KalmanFilter","timestamp":"2025-10-04T04:32:35.685Z"}
{"error":"TypeError: Cannot read properties of undefined (reading 'close')\n    at KalmanFilter.predict (/Users/tgomez/Documents/kalmann/ai-trading-system/src/analysis/kalman-filter.ts:74:51)\n    at TradingStrategy.performCompleteAnalysis (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:103:38)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:70:26)","level":"error","message":"Error en loop de trading:","module":"TradingStrategy","timestamp":"2025-10-04T04:32:35.687Z"}
{"error":"Error: Se necesitan al menos 50 velas para análisis técnico\n    at TechnicalAnalysis.analyze (/Users/tgomez/Documents/kalmann/ai-trading-system/src/analysis/technical-analysis.ts:21:15)\n    at TradingStrategy.performCompleteAnalysis (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:100:44)\n    at TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:70:37)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","level":"error","message":"Error en análisis técnico:","module":"TechnicalAnalysis","timestamp":"2025-10-04T04:33:06.104Z"}
{"error":"Error: Se necesitan al menos 10 velas para predicción\n    at KalmanFilter.predict (/Users/tgomez/Documents/kalmann/ai-trading-system/src/analysis/kalman-filter.ts:35:15)\n    at TradingStrategy.performCompleteAnalysis (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:103:38)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:70:26)","level":"error","message":"Error en predicción Kalman:","module":"KalmanFilter","timestamp":"2025-10-04T04:33:06.105Z"}
{"error":"TypeError: Cannot read properties of undefined (reading 'close')\n    at KalmanFilter.predict (/Users/tgomez/Documents/kalmann/ai-trading-system/src/analysis/kalman-filter.ts:74:51)\n    at TradingStrategy.performCompleteAnalysis (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:103:38)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:70:26)","level":"error","message":"Error en loop de trading:","module":"TradingStrategy","timestamp":"2025-10-04T04:33:06.106Z"}
{"level":"info","message":"Recibida señal SIGINT, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-04T04:33:30.274Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759552410274}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-04T04:33:30.275Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759552413229}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-04T04:33:33.226Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:33:33.221Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:33:33.225Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:33:33.226Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T04:33:33.226Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759552413230}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:33:33.228Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T04:33:33.228Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:33:33.228Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:33:33.228Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T04:33:33.229Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T04:33:33.229Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (5m)","module":"TradingSystem","timestamp":"2025-10-04T04:33:33.230Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-04T04:33:33.226Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-04T04:33:33.226Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-04T04:33:33.226Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-04T04:33:33.227Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-04T04:33:33.227Z"}
{"level":"info","message":"6 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T04:33:33.227Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T04:33:33.248Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:33:33.229Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T04:33:33.262Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T04:33:34.421Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (5m)","module":"DataManager","timestamp":"2025-10-04T04:33:34.421Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-04T04:33:34.421Z"}
{"level":"info","message":"Datos históricos recopilados: 0 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T04:33:34.789Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:33:34.790Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T04:33:34.790Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:33:36.791Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:33:38.792Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:33:40.793Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:33:42.795Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:33:44.796Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:33:46.812Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759552428289}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:33:48.285Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-04T04:33:48.288Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-04T04:33:48.288Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-04T04:33:48.289Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-04T04:33:48.289Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T04:33:48.316Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:33:48.813Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T04:33:49.072Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (5m)","module":"DataManager","timestamp":"2025-10-04T04:33:49.072Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-04T04:33:49.072Z"}
{"level":"info","message":"Datos históricos recopilados: 0 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T04:33:49.440Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:33:49.440Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T04:33:49.440Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:33:50.815Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:33:51.442Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:33:52.816Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:33:53.442Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:33:54.817Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:33:55.444Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:33:56.819Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:33:57.445Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:33:58.820Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:33:59.448Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:00.821Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:01.448Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:02.823Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:03.450Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:04.824Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:05.451Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:06.826Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:07.452Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:08.827Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:09.453Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:10.829Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:11.455Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:12.830Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:13.456Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:14.832Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:15.458Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:16.833Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:17.459Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:18.834Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:19.463Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:20.837Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:21.463Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:22.838Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:23.464Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:24.840Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:25.466Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:26.844Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:27.466Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:28.847Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:29.468Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:30.850Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:31.469Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:32.851Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:33.470Z"}
{"error":"Error: Timeout esperando datos para BTCUSDT\n    at TradingStrategy.waitForData (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:454:15)\n    at async TradingStrategy.start (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:50:7)\n    at async TradingSystem.start (/Users/tgomez/Documents/kalmann/ai-trading-system/src/index.ts:44:9)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-04T04:34:34.858Z"}
{"error":"Error: Timeout esperando datos para BTCUSDT\n    at TradingStrategy.waitForData (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:454:15)\n    at async TradingStrategy.start (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:50:7)\n    at async TradingSystem.start (/Users/tgomez/Documents/kalmann/ai-trading-system/src/index.ts:44:9)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-04T04:34:34.859Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:35.472Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759552519114}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-04T04:35:19.112Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:35:19.107Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:35:19.110Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T04:35:19.111Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:35:19.111Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759552519115}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:35:19.113Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T04:35:19.114Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:35:19.114Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:35:19.114Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T04:35:19.114Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T04:35:19.114Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (5m)","module":"TradingSystem","timestamp":"2025-10-04T04:35:19.114Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-04T04:35:19.112Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-04T04:35:19.112Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-04T04:35:19.112Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-04T04:35:19.112Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-04T04:35:19.112Z"}
{"level":"info","message":"6 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T04:35:19.112Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T04:35:19.127Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:35:19.114Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T04:35:19.149Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T04:35:20.148Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (5m)","module":"DataManager","timestamp":"2025-10-04T04:35:20.148Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-04T04:35:20.148Z"}
{"level":"info","message":"Datos históricos recopilados: 0 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T04:35:20.515Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:35:20.515Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T04:35:20.515Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:35:22.516Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:35:24.517Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:35:26.518Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:35:28.520Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:35:30.521Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:35:32.522Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:35:34.522Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:35:36.523Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:35:38.525Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:35:40.526Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:35:42.527Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759552552116}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:35:52.112Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-04T04:35:52.115Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-04T04:35:52.115Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-04T04:35:52.115Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-04T04:35:52.115Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T04:35:52.143Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T04:35:52.945Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (5m)","module":"DataManager","timestamp":"2025-10-04T04:35:52.946Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-04T04:35:52.946Z"}
{"level":"info","message":"Datos históricos recopilados: 0 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T04:35:53.308Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:35:53.309Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T04:35:53.309Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:35:55.310Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:35:57.311Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:35:59.314Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:01.315Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:03.316Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:05.317Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:07.318Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:09.320Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:11.322Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-04T04:36:13.047Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:13.322Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:15.324Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:17.326Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:19.327Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:21.328Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:23.330Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:25.332Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:27.338Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:29.337Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:31.338Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:33.339Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:35.345Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:37.346Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:39.349Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:41.351Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:43.357Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:45.360Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:47.365Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:49.365Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:51.367Z"}
{"error":"Error: Timeout esperando datos para BTCUSDT\n    at TradingStrategy.waitForData (/Users/tgomez/Documents/kalmann/ai-trading-system/dist/strategy/trading-strategy.js:403:23)\n    at async TradingStrategy.start (/Users/tgomez/Documents/kalmann/ai-trading-system/dist/strategy/trading-strategy.js:46:13)\n    at async testTradingSystem (/Users/tgomez/Documents/kalmann/ai-trading-system/test-trading.js:20:5)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-04T04:36:53.367Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-04T04:37:13.493Z"}
{"level":"info","message":"Velas obtenidas: 0 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T04:37:14.670Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-04T04:38:43.723Z"}
{"level":"info","message":"Velas obtenidas: 10 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T04:38:44.925Z"}
{"error":"AxiosError: Request failed with status code 404\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:2097:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3305:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/dist/exchange/bybit-client.js:233:26)\n    at async BybitClient.getBalance (/Users/tgomez/Documents/kalmann/ai-trading-system/dist/exchange/bybit-client.js:183:30)\n    at async testBybitConnection (/Users/tgomez/Documents/kalmann/ai-trading-system/test-bybit.js:31:21)","level":"error","message":"Error obteniendo balance:","module":"BybitClient","timestamp":"2025-10-04T04:38:45.292Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759552751668}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-04T04:39:11.664Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:39:11.660Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T04:39:11.664Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:39:11.663Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:39:11.666Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:39:11.663Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759552751668}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T04:39:11.667Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:39:11.667Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T04:39:11.668Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T04:39:11.668Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (5m)","module":"TradingSystem","timestamp":"2025-10-04T04:39:11.668Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-04T04:39:11.664Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-04T04:39:11.664Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-04T04:39:11.665Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-04T04:39:11.665Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-04T04:39:11.665Z"}
{"level":"info","message":"6 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T04:39:11.665Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T04:39:11.682Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:39:11.667Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:39:11.668Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T04:39:11.708Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T04:39:13.200Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (5m)","module":"DataManager","timestamp":"2025-10-04T04:39:13.201Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 200","module":"BybitClient","timestamp":"2025-10-04T04:39:13.201Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-04T04:39:13.201Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T04:39:14.649Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T04:39:14.649Z"}
{"level":"info","message":"Datos suficientes recopilados para BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T04:39:14.650Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T04:39:14.650Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0030, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-04T04:39:14.651Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-04T04:39:14.651Z"}
{"level":"info","message":"Velas obtenidas: 200 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T04:39:14.649Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T04:39:14.650Z"}
{"level":"debug","message":"Predicción Kalman: 131672.32001245813 (Confianza: 0.908)","module":"KalmanFilter","timestamp":"2025-10-04T04:39:14.651Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T04:39:15.720Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T04:39:26.556Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":132068.89164036638,"middle":141860.70500000002,"upper":151652.51835963366},"ema":{"ema21":140093.5635509675,"ema50":141363.59852389307,"ema9":138430.7728987927},"macd":{"histogram":-79.98373639348722,"macd":-799.837363934872,"signal":-719.8536275413848},"rsi":10.458377982065315,"volume":{"avg":53114.663669999965,"current":1.255,"ratio":0.000023628126646857496}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is oversold and MACD is bearish, indicating a potential bottom. Additionally, the Kalman prediction for a price increase with high confidence suggests that this could be a good entry point.","symbol":"BTCUSDT","timestamp":1759552766557}
{"error":"AxiosError: Request failed with status code 404\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:264:22)\n    at async BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:159:24)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error obteniendo posiciones:","module":"BybitClient","timestamp":"2025-10-04T04:39:27.009Z"}
{"error":"Error: Error obteniendo posiciones\n    at BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:174:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error en loop de trading:","module":"TradingStrategy","timestamp":"2025-10-04T04:39:27.010Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T04:39:57.014Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0030, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-04T04:39:57.016Z"}
{"level":"debug","message":"Predicción Kalman: 131672.32001245813 (Confianza: 0.908)","module":"KalmanFilter","timestamp":"2025-10-04T04:39:57.016Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T04:39:58.115Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T04:40:05.865Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":132068.89164036638,"middle":141860.70500000002,"upper":151652.51835963366},"ema":{"ema21":140093.5635509675,"ema50":141363.59852389307,"ema9":138430.7728987927},"macd":{"histogram":-79.98373639348722,"macd":-799.837363934872,"signal":-719.8536275413848},"rsi":10.458377982065315,"volume":{"avg":53114.663669999965,"current":1.255,"ratio":0.000023628126646857496}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La RSI está en el rango inferior (10-70), indicando un posible bottom en el mercado. Además, el cambio reciente ha sido negativo y el volumen 24h es alto, lo que sugiere una mayor actividad en el mercado. El MACD también está en un signal bullish, confirmando la tendencia actual. La predicción de Kalman también indica una subida en los próximos días con alta confianza","symbol":"BTCUSDT","timestamp":1759552805865}
{"error":"AxiosError: Request failed with status code 404\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:264:22)\n    at async BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:159:24)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error obteniendo posiciones:","module":"BybitClient","timestamp":"2025-10-04T04:40:06.269Z"}
{"error":"Error: Error obteniendo posiciones\n    at BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:174:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error en loop de trading:","module":"TradingStrategy","timestamp":"2025-10-04T04:40:06.269Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T04:40:36.273Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0030, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-04T04:40:36.277Z"}
{"level":"debug","message":"Predicción Kalman: 131672.32001245813 (Confianza: 0.908)","module":"KalmanFilter","timestamp":"2025-10-04T04:40:36.277Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T04:40:37.980Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T04:40:47.893Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":132068.89164036638,"middle":141860.70500000002,"upper":151652.51835963366},"ema":{"ema21":140093.5635509675,"ema50":141363.59852389307,"ema9":138430.7728987927},"macd":{"histogram":-79.98373639348722,"macd":-799.837363934872,"signal":-719.8536275413848},"rsi":10.458377982065315,"volume":{"avg":53114.663669999965,"current":1.255,"ratio":0.000023628126646857496}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La RSI está en el rango más bajo (10-70) y el MACD está en una posición baja (-799.8374), lo que indica un posible cambio de tendencia hacia arriba. Además, el Kalman predice un aumento en el precio con una confianza del 90.8%. Considerando el leverage alto (10-50x) y la volatilidad alta del mercado, es apropiado tomar una posición de compra con una confianza del 80%","symbol":"BTCUSDT","timestamp":1759552847894}
{"error":"AxiosError: Request failed with status code 404\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:264:22)\n    at async BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:159:24)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error obteniendo posiciones:","module":"BybitClient","timestamp":"2025-10-04T04:40:48.292Z"}
{"error":"Error: Error obteniendo posiciones\n    at BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:174:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error en loop de trading:","module":"TradingStrategy","timestamp":"2025-10-04T04:40:48.292Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-04T04:41:10.443Z"}
{"level":"info","message":"Velas obtenidas: 10 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T04:41:11.741Z"}
{"error":"AxiosError: Request failed with status code 401\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:2097:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3305:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/dist/exchange/bybit-client.js:242:24)\n    at async BybitClient.getBalance (/Users/tgomez/Documents/kalmann/ai-trading-system/dist/exchange/bybit-client.js:183:30)\n    at async testBybitConnection (/Users/tgomez/Documents/kalmann/ai-trading-system/test-bybit.js:31:21)","level":"error","message":"Error obteniendo balance:","module":"BybitClient","timestamp":"2025-10-04T04:41:12.110Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T04:41:18.294Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0030, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-04T04:41:18.295Z"}
{"level":"debug","message":"Predicción Kalman: 131672.32001245813 (Confianza: 0.908)","module":"KalmanFilter","timestamp":"2025-10-04T04:41:18.295Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T04:41:18.699Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T04:41:27.956Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":132068.89164036638,"middle":141860.70500000002,"upper":151652.51835963366},"ema":{"ema21":140093.5635509675,"ema50":141363.59852389307,"ema9":138430.7728987927},"macd":{"histogram":-79.98373639348722,"macd":-799.837363934872,"signal":-719.8536275413848},"rsi":10.458377982065315,"volume":{"avg":53114.663669999965,"current":1.255,"ratio":0.000023628126646857496}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La RSI está en el rango más bajo (10-70) y el MACD está en una posición baja (-799.8374), lo que sugiere una posible oportunidad de compra. Además, el Kalman predice un aumento en el precio con una confianza del 90.8%. Considerando el alto volumen y la leverage disponible (10-50x), es recomendable tomar una posición de compra con una confianza moderada.","symbol":"BTCUSDT","timestamp":1759552887957}
{"error":"AxiosError: Request failed with status code 404\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:264:22)\n    at async BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:159:24)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error obteniendo posiciones:","module":"BybitClient","timestamp":"2025-10-04T04:41:28.341Z"}
{"error":"Error: Error obteniendo posiciones\n    at BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:174:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error en loop de trading:","module":"TradingStrategy","timestamp":"2025-10-04T04:41:28.341Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T04:41:58.347Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0030, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-04T04:41:58.351Z"}
{"level":"debug","message":"Predicción Kalman: 131672.32001245813 (Confianza: 0.908)","module":"KalmanFilter","timestamp":"2025-10-04T04:41:58.351Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T04:41:59.125Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T04:42:04.577Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":132068.89164036638,"middle":141860.70500000002,"upper":151652.51835963366},"ema":{"ema21":140093.5635509675,"ema50":141363.59852389307,"ema9":138430.7728987927},"macd":{"histogram":-79.98373639348722,"macd":-799.837363934872,"signal":-719.8536275413848},"rsi":10.458377982065315,"volume":{"avg":53114.663669999965,"current":1.255,"ratio":0.000023628126646857496}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La RSI está en el rango más bajo (10.46) y el MACD está en una posición bearish, lo que sugiere una oportunidad de compra. Además, el Kalman predice un aumento en el precio con una confianza del 90.8%. Considerando el leverage alto (10-50x) y la alta volatilidad y volumen, es recomendable tomar una posición de compra con una confianza moderada.","symbol":"BTCUSDT","timestamp":1759552924577}
{"error":"AxiosError: Request failed with status code 404\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:264:22)\n    at async BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:159:24)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error obteniendo posiciones:","module":"BybitClient","timestamp":"2025-10-04T04:42:04.978Z"}
{"error":"Error: Error obteniendo posiciones\n    at BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:174:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error en loop de trading:","module":"TradingStrategy","timestamp":"2025-10-04T04:42:04.981Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T04:42:34.987Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0030, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-04T04:42:34.990Z"}
{"level":"debug","message":"Predicción Kalman: 131672.32001245813 (Confianza: 0.908)","module":"KalmanFilter","timestamp":"2025-10-04T04:42:34.991Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T04:42:36.111Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T04:42:42.057Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":132068.89164036638,"middle":141860.70500000002,"upper":151652.51835963366},"ema":{"ema21":140093.5635509675,"ema50":141363.59852389307,"ema9":138430.7728987927},"macd":{"histogram":-79.98373639348722,"macd":-799.837363934872,"signal":-719.8536275413848},"rsi":10.458377982065315,"volume":{"avg":53114.663669999965,"current":1.255,"ratio":0.000023628126646857496}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La RSI está en el rango más bajo (10.46) y el MACD está en una posición bearish. Además, el Bollinger Band Superior y Medio están en niveles altos, lo que indica una gran actividad en el mercado. La predicción de Kalman también indica una tendencia bajista con alta confianza. Basándome en estas señales claras, decido comprar con un leverage alto (10-50x) y una confianza del 80%","symbol":"BTCUSDT","timestamp":1759552962057}
{"error":"AxiosError: Request failed with status code 404\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:264:22)\n    at async BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:159:24)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error obteniendo posiciones:","module":"BybitClient","timestamp":"2025-10-04T04:42:42.449Z"}
{"error":"Error: Error obteniendo posiciones\n    at BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:174:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error en loop de trading:","module":"TradingStrategy","timestamp":"2025-10-04T04:42:42.450Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T04:43:12.455Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0030, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-04T04:43:12.457Z"}
{"level":"debug","message":"Predicción Kalman: 131672.32001245813 (Confianza: 0.908)","module":"KalmanFilter","timestamp":"2025-10-04T04:43:12.457Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T04:43:12.873Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T04:43:18.535Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":132068.89164036638,"middle":141860.70500000002,"upper":151652.51835963366},"ema":{"ema21":140093.5635509675,"ema50":141363.59852389307,"ema9":138430.7728987927},"macd":{"histogram":-79.98373639348722,"macd":-799.837363934872,"signal":-719.8536275413848},"rsi":10.458377982065315,"volume":{"avg":53114.663669999965,"current":1.255,"ratio":0.000023628126646857496}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is oversold and MACD is bearish, indicating a potential bottom. Additionally, the Kalman prediction for a price increase with high confidence suggests that this may be a good time to buy.","symbol":"BTCUSDT","timestamp":1759552998535}
{"error":"AxiosError: Request failed with status code 404\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:264:22)\n    at async BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:159:24)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error obteniendo posiciones:","module":"BybitClient","timestamp":"2025-10-04T04:43:19.695Z"}
{"error":"Error: Error obteniendo posiciones\n    at BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:174:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error en loop de trading:","module":"TradingStrategy","timestamp":"2025-10-04T04:43:19.696Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T04:43:49.703Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0030, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-04T04:43:49.705Z"}
{"level":"debug","message":"Predicción Kalman: 131672.32001245813 (Confianza: 0.908)","module":"KalmanFilter","timestamp":"2025-10-04T04:43:49.705Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T04:43:50.811Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T04:43:59.337Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":132068.89164036638,"middle":141860.70500000002,"upper":151652.51835963366},"ema":{"ema21":140093.5635509675,"ema50":141363.59852389307,"ema9":138430.7728987927},"macd":{"histogram":-79.98373639348722,"macd":-799.837363934872,"signal":-719.8536275413848},"rsi":10.458377982065315,"volume":{"avg":53114.663669999965,"current":1.255,"ratio":0.000023628126646857496}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La RSI está en un nivel muy bajo (10.46) indicando una oportunidad de compra. Además, el cambio reciente ha sido negativo del 14.62%, lo que sugiere una posible tendencia bearish. Sin embargo, el MACD y el Bollinger Band indican una posibilidad de un giro en la tendencia. La Kalman Prediction también predice una subida con alta confianza. Considerando todos estos factores, es probable que el precio siga subiendo.","symbol":"BTCUSDT","timestamp":1759553039338}
{"error":"AxiosError: Request failed with status code 404\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:264:22)\n    at async BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:159:24)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error obteniendo posiciones:","module":"BybitClient","timestamp":"2025-10-04T04:44:00.434Z"}
{"error":"Error: Error obteniendo posiciones\n    at BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:174:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error en loop de trading:","module":"TradingStrategy","timestamp":"2025-10-04T04:44:00.434Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 5","module":"BybitClient","timestamp":"2025-10-04T04:44:14.654Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T04:44:15.769Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-04T04:44:15.770Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T04:44:15.769Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T04:44:30.455Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0038, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-04T04:44:30.455Z"}
{"level":"debug","message":"Predicción Kalman: 122105.80554855386 (Confianza: 0.912)","module":"KalmanFilter","timestamp":"2025-10-04T04:44:30.456Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T04:44:31.567Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T04:44:40.203Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":123768.59888829745,"middle":139622.66000000003,"upper":155476.72111170262},"ema":{"ema21":137138.8478206696,"ema50":139883.7456375376,"ema9":133145.09758375923},"macd":{"histogram":-292.17373204977184,"macd":-2921.7373204977193,"signal":-2629.5635884479475},"rsi":35.52637523552876,"volume":{"avg":53114.67766999996,"current":0.077,"ratio":0.000001449693444030648}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La combinación de un precio actual por debajo del cambio reciente y una RSI por debajo de 30, junto con un MACD bearish y un Bollinger Superior, indica una posible oportunidad de compra. Además, la predicción Kalman sugiere que el precio podría subir en los próximos días. Considerando el leverage alto (10-50x) y la alta volatilidad del mercado, es recomendable tomar una posición de compra con confianza.","symbol":"BTCUSDT","timestamp":1759553080204}
{"error":"AxiosError: Request failed with status code 404\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:264:22)\n    at async BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:159:24)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error obteniendo posiciones:","module":"BybitClient","timestamp":"2025-10-04T04:44:40.675Z"}
{"error":"Error: Error obteniendo posiciones\n    at BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:174:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error en loop de trading:","module":"TradingStrategy","timestamp":"2025-10-04T04:44:40.676Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T04:45:10.683Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0038, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-04T04:45:10.685Z"}
{"level":"debug","message":"Predicción Kalman: 122105.80554855386 (Confianza: 0.912)","module":"KalmanFilter","timestamp":"2025-10-04T04:45:10.685Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T04:45:11.075Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T04:45:19.007Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":123768.59888829745,"middle":139622.66000000003,"upper":155476.72111170262},"ema":{"ema21":137138.8478206696,"ema50":139883.7456375376,"ema9":133145.09758375923},"macd":{"histogram":-292.17373204977184,"macd":-2921.7373204977193,"signal":-2629.5635884479475},"rsi":35.52637523552876,"volume":{"avg":53114.67766999996,"current":0.077,"ratio":0.000001449693444030648}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La combinación de un precio actual por debajo del cambio reciente y los indicadores técnicos en declive sugiere una posible oportunidad de compra. La RSI está por debajo del 30, el MACD está en una posición bearish y el Bollinger Band está en el lado inferior, lo que indica una mayor volatilidad. Además, la predicción de Kalman sugiere un aumento en los precios futuros con una alta confianza.","symbol":"BTCUSDT","timestamp":1759553119008}
{"error":"AxiosError: Request failed with status code 404\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:264:22)\n    at async BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:159:24)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error obteniendo posiciones:","module":"BybitClient","timestamp":"2025-10-04T04:45:19.407Z"}
{"error":"Error: Error obteniendo posiciones\n    at BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:174:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error en loop de trading:","module":"TradingStrategy","timestamp":"2025-10-04T04:45:19.408Z"}
{"level":"info","message":"Recibida señal SIGINT, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-04T04:45:45.720Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759553145725}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-04T04:45:45.725Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-04T04:45:45.726Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759553183561}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-04T04:46:23.558Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:46:23.552Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:46:23.556Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T04:46:23.557Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:46:23.556Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759553183562}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:46:23.560Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T04:46:23.561Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:46:23.561Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T04:46:23.562Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T04:46:23.562Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (5m)","module":"TradingSystem","timestamp":"2025-10-04T04:46:23.562Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-04T04:46:23.558Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-04T04:46:23.558Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-04T04:46:23.558Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-04T04:46:23.558Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-04T04:46:23.558Z"}
{"level":"info","message":"6 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T04:46:23.558Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T04:46:23.584Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:46:23.561Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:46:23.561Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T04:46:23.612Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T04:46:24.847Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (5m)","module":"DataManager","timestamp":"2025-10-04T04:46:24.848Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 200","module":"BybitClient","timestamp":"2025-10-04T04:46:24.848Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-04T04:46:24.848Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T04:46:26.255Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T04:46:26.255Z"}
{"level":"info","message":"Datos suficientes recopilados para BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T04:46:26.256Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T04:46:26.256Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0030, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-04T04:46:26.256Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-04T04:46:26.257Z"}
{"level":"info","message":"Velas obtenidas: 200 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T04:46:26.255Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T04:46:26.255Z"}
{"level":"debug","message":"Predicción Kalman: 114663.50442271336 (Confianza: 0.907)","module":"KalmanFilter","timestamp":"2025-10-04T04:46:26.257Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T04:46:27.318Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T04:46:38.813Z"}
{"confidence":0.3,"decision":"BUY","indicators":{"bollinger":{"lower":123311.8698325666,"middle":139704.87500000006,"upper":156097.88016743353},"ema":{"ema21":136599.92882470996,"ema50":139743.55193258065,"ema9":131771.47065540485},"macd":{"histogram":-343.3183552775704,"macd":-3433.1835527757066,"signal":-3089.8651974981362},"rsi":10.325782438165362,"volume":{"avg":53114.66486999996,"current":0.04,"ratio":7.530876848776403e-7}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"{\n  \"decision\": \"BUY\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La RSI está en un nivel muy bajo (10.33) indicando una oportunidad de compra. Además, el cambio reciente ha sido negativo (-16.02%) lo que s","symbol":"BTCUSDT","timestamp":1759553198819}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-04T04:46:38.818Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-04T04:46:38.819Z"}
{"error":"AxiosError: Request failed with status code 401\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:295:18)\n    at async BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:159:24)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error obteniendo posiciones:","module":"BybitClient","timestamp":"2025-10-04T04:46:40.059Z"}
{"level":"info","message":"Asumiendo que no hay posiciones activas para demo trading","module":"BybitClient","timestamp":"2025-10-04T04:46:40.059Z"}
{"error":"AxiosError: Request failed with status code 401\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:295:18)\n    at async BybitClient.getBalance (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:213:24)\n    at async TradingStrategy.calculatePositionSize (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:313:23)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:159:22)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error obteniendo balance:","module":"BybitClient","timestamp":"2025-10-04T04:46:41.146Z"}
{"level":"info","message":"Usando balance demo para trading","module":"BybitClient","timestamp":"2025-10-04T04:46:41.147Z"}
{"level":"info","message":"Contador diario de trades reseteado","module":"RiskManager","timestamp":"2025-10-04T04:46:41.516Z"}
{"error":"AxiosError: Request failed with status code 401\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:295:18)\n    at async BybitClient.getBalance (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:213:24)\n    at async RiskManager.validateTrade (/Users/tgomez/Documents/kalmann/ai-trading-system/src/risk/risk-manager.ts:63:23)\n    at async TradingStrategy.executeTradingAction (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:231:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:94:11)","level":"error","message":"Error obteniendo balance:","module":"BybitClient","timestamp":"2025-10-04T04:46:41.916Z"}
{"level":"info","message":"Usando balance demo para trading","module":"BybitClient","timestamp":"2025-10-04T04:46:41.917Z"}
{"level":"warn","message":"Trade rechazado por gestión de riesgo: Posición excede límite de riesgo. Máximo: $100.00","module":"TradingStrategy","timestamp":"2025-10-04T04:46:43.393Z"}
{"level":"info","message":"Recibida señal SIGINT, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-04T04:48:58.604Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759553338608}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-04T04:48:58.608Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-04T04:48:58.610Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759553355742}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-04T04:49:15.739Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:49:15.733Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:49:15.737Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T04:49:15.738Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:49:15.738Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759553355742}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:49:15.741Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T04:49:15.741Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:49:15.741Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:49:15.741Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T04:49:15.742Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T04:49:15.742Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (5m)","module":"TradingSystem","timestamp":"2025-10-04T04:49:15.742Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-04T04:49:15.739Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-04T04:49:15.739Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-04T04:49:15.739Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-04T04:49:15.739Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-04T04:49:15.739Z"}
{"level":"info","message":"6 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T04:49:15.739Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T04:49:15.758Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:49:15.742Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T04:49:15.781Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T04:49:16.242Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (5m)","module":"DataManager","timestamp":"2025-10-04T04:49:16.242Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 200","module":"BybitClient","timestamp":"2025-10-04T04:49:16.242Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-04T04:49:16.242Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T04:49:17.653Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T04:49:17.654Z"}
{"level":"info","message":"Datos suficientes recopilados para BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T04:49:17.654Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T04:49:17.655Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0030, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-04T04:49:17.656Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-04T04:49:17.656Z"}
{"level":"info","message":"Velas obtenidas: 200 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T04:49:17.654Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T04:49:17.654Z"}
{"level":"debug","message":"Predicción Kalman: 113934.03349621897 (Confianza: 0.909)","module":"KalmanFilter","timestamp":"2025-10-04T04:49:17.656Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T04:49:18.728Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T04:49:24.620Z"}
{"confidence":0.9,"decision":"BUY","indicators":{"bollinger":{"lower":122813.39694096701,"middle":139622.55000000005,"upper":156431.70305903308},"ema":{"ema21":136450.24700652814,"ema50":139678.98330512966,"ema9":131442.17065540483},"macd":{"histogram":-356.45282821204455,"macd":-3564.5282821204455,"signal":-3208.075453908401},"rsi":9.766165027451905,"volume":{"avg":53114.66575999996,"current":0.129,"ratio":0.000002428707743034475}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is oversold and MACD is bearish, indicating a potential bottom. Additionally, the Kalman prediction for a price increase with high confidence suggests that now is a good time to buy.","symbol":"BTCUSDT","timestamp":1759553364621}
{"error":"AxiosError: Request failed with status code 401\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:295:18)\n    at async BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:159:24)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error obteniendo posiciones:","module":"BybitClient","timestamp":"2025-10-04T04:49:25.733Z"}
{"level":"info","message":"Asumiendo que no hay posiciones activas para demo trading","module":"BybitClient","timestamp":"2025-10-04T04:49:25.733Z"}
{"error":"AxiosError: Request failed with status code 401\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:295:18)\n    at async BybitClient.getBalance (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:213:24)\n    at async TradingStrategy.calculatePositionSize (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:313:23)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:159:22)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error obteniendo balance:","module":"BybitClient","timestamp":"2025-10-04T04:49:27.083Z"}
{"level":"info","message":"Usando balance demo para trading","module":"BybitClient","timestamp":"2025-10-04T04:49:27.084Z"}
{"level":"info","message":"Contador diario de trades reseteado","module":"RiskManager","timestamp":"2025-10-04T04:49:27.457Z"}
{"error":"AxiosError: Request failed with status code 401\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:295:18)\n    at async BybitClient.getBalance (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:213:24)\n    at async RiskManager.validateTrade (/Users/tgomez/Documents/kalmann/ai-trading-system/src/risk/risk-manager.ts:63:23)\n    at async TradingStrategy.executeTradingAction (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:231:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:94:11)","level":"error","message":"Error obteniendo balance:","module":"BybitClient","timestamp":"2025-10-04T04:49:27.847Z"}
{"level":"info","message":"Usando balance demo para trading","module":"BybitClient","timestamp":"2025-10-04T04:49:27.848Z"}
{"level":"warn","message":"Trade rechazado por gestión de riesgo: Posición excede límite de riesgo. Máximo: $100.00","module":"TradingStrategy","timestamp":"2025-10-04T04:49:29.291Z"}
{"level":"info","message":"Recibida señal SIGINT, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-04T04:51:19.396Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759553479403}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-04T04:51:19.404Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-04T04:51:19.406Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759553538900}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-04T04:52:18.896Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:52:18.890Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:52:18.894Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T04:52:18.895Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:52:18.895Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759553538900}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:52:18.898Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T04:52:18.899Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:52:18.899Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:52:18.900Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T04:52:18.900Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T04:52:18.900Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (5m)","module":"TradingSystem","timestamp":"2025-10-04T04:52:18.900Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-04T04:52:18.896Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-04T04:52:18.896Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-04T04:52:18.896Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-04T04:52:18.896Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-04T04:52:18.896Z"}
{"level":"info","message":"6 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T04:52:18.897Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T04:52:18.918Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:52:18.900Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T04:52:18.937Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T04:52:19.860Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (5m)","module":"DataManager","timestamp":"2025-10-04T04:52:19.860Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 200","module":"BybitClient","timestamp":"2025-10-04T04:52:19.860Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-04T04:52:19.860Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T04:52:20.579Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T04:52:20.581Z"}
{"level":"info","message":"Datos suficientes recopilados para BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T04:52:20.581Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T04:52:20.582Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0030, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-04T04:52:20.582Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-04T04:52:20.582Z"}
{"level":"info","message":"Velas obtenidas: 200 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T04:52:20.580Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T04:52:20.581Z"}
{"level":"debug","message":"Predicción Kalman: 108608.98944129006 (Confianza: 0.910)","module":"KalmanFilter","timestamp":"2025-10-04T04:52:20.582Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T04:52:21.639Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T04:52:30.288Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":118577.80335299119,"middle":138304.53500000003,"upper":158031.26664700886},"ema":{"ema21":134561.49676707995,"ema50":138662.73816623428,"ema9":128293.94852349423},"macd":{"histogram":-472.51655609091813,"macd":-4725.165560909183,"signal":-4252.649004818265},"rsi":9.167083773612887,"volume":{"avg":53114.66771999997,"current":0.17,"ratio":0.0000032006224889925775}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La RSI está en el rango más bajo (9.17) y el MACD está en un signal bearish (-4725.1656). Además, el Bollinger Band Superior es mayor que el precio actual ($115875.7), lo que sugiere una oportunidad de compra. La predicción Kalman también indica una posibilidad del 91.0% de un aumento en el precio.","symbol":"BTCUSDT","timestamp":1759553550289}
{"level":"debug","message":"Autenticación: timestamp=1759553550289, query=category=linear&symbol=BTCUSDT, signature=7b3dfd280d430c8a7b0bb50ad7ac686098e02186a7c62bbb98d17de6423a3173","module":"BybitClient","timestamp":"2025-10-04T04:52:30.290Z"}
{"error":{"endpoint":"/v5/position/list","error":"Request failed with status code 401","method":"GET","params":{"category":"linear","symbol":"BTCUSDT"},"response":""},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-04T04:52:30.711Z"}
{"error":"AxiosError: Request failed with status code 401\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:300:20)\n    at async BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:160:24)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error obteniendo posiciones:","module":"BybitClient","timestamp":"2025-10-04T04:52:30.712Z"}
{"level":"info","message":"Asumiendo que no hay posiciones activas para demo trading","module":"BybitClient","timestamp":"2025-10-04T04:52:30.712Z"}
{"level":"debug","message":"Autenticación: timestamp=1759553550712, query=accountType=UNIFIED, signature=680ec30c73be8789ab28143cade3d98dedf2de16e46b71b48a7ec5da431464ec","module":"BybitClient","timestamp":"2025-10-04T04:52:30.712Z"}
{"error":{"endpoint":"/v5/account/wallet-balance","error":"Request failed with status code 401","method":"GET","params":{"accountType":"UNIFIED"},"response":""},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-04T04:52:31.773Z"}
{"error":"AxiosError: Request failed with status code 401\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:300:20)\n    at async BybitClient.getBalance (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:214:24)\n    at async TradingStrategy.calculatePositionSize (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:313:23)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:159:22)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error obteniendo balance:","module":"BybitClient","timestamp":"2025-10-04T04:52:31.773Z"}
{"level":"info","message":"Usando balance demo para trading","module":"BybitClient","timestamp":"2025-10-04T04:52:31.773Z"}
{"level":"info","message":"Contador diario de trades reseteado","module":"RiskManager","timestamp":"2025-10-04T04:52:32.857Z"}
{"level":"debug","message":"Autenticación: timestamp=1759553552857, query=accountType=UNIFIED, signature=978bfd7713a360288e48a6822464889ffb7783f4cd031cef275b6c47a4909649","module":"BybitClient","timestamp":"2025-10-04T04:52:32.857Z"}
{"error":{"endpoint":"/v5/account/wallet-balance","error":"Request failed with status code 401","method":"GET","params":{"accountType":"UNIFIED"},"response":""},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-04T04:52:33.269Z"}
{"error":"AxiosError: Request failed with status code 401\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:300:20)\n    at async BybitClient.getBalance (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:214:24)\n    at async RiskManager.validateTrade (/Users/tgomez/Documents/kalmann/ai-trading-system/src/risk/risk-manager.ts:63:23)\n    at async TradingStrategy.executeTradingAction (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:231:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:94:11)","level":"error","message":"Error obteniendo balance:","module":"BybitClient","timestamp":"2025-10-04T04:52:33.269Z"}
{"level":"info","message":"Usando balance demo para trading","module":"BybitClient","timestamp":"2025-10-04T04:52:33.270Z"}
{"level":"warn","message":"Trade rechazado por gestión de riesgo: Posición excede límite de riesgo. Máximo: $100.00","module":"TradingStrategy","timestamp":"2025-10-04T04:52:34.002Z"}
{"level":"info","message":"Recibida señal SIGINT, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-04T04:53:18.968Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759553598971}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-04T04:53:18.971Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-04T04:53:18.973Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759553622759}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-04T04:53:42.756Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:53:42.752Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:53:42.755Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T04:53:42.756Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:53:42.756Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759553622759}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T04:53:42.759Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:53:42.758Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:53:42.759Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T04:53:42.759Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T04:53:42.759Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (5m)","module":"TradingSystem","timestamp":"2025-10-04T04:53:42.759Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-04T04:53:42.756Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-04T04:53:42.756Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-04T04:53:42.757Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-04T04:53:42.757Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-04T04:53:42.757Z"}
{"level":"info","message":"6 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T04:53:42.757Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T04:53:42.775Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:53:42.759Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:53:42.758Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T04:53:42.807Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T04:53:43.637Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (5m)","module":"DataManager","timestamp":"2025-10-04T04:53:43.637Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 200","module":"BybitClient","timestamp":"2025-10-04T04:53:43.637Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-04T04:53:43.637Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T04:53:44.357Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T04:53:44.358Z"}
{"level":"info","message":"Datos suficientes recopilados para BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T04:53:44.358Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T04:53:44.358Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0030, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-04T04:53:44.359Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-04T04:53:44.359Z"}
{"level":"info","message":"Velas obtenidas: 200 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T04:53:44.358Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T04:53:44.358Z"}
{"level":"debug","message":"Predicción Kalman: 108198.66202988774 (Confianza: 0.911)","module":"KalmanFilter","timestamp":"2025-10-04T04:53:44.359Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T04:53:45.412Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T04:53:51.890Z"}
{"confidence":0.3,"decision":"BUY","indicators":{"bollinger":{"lower":118320.77074584366,"middle":138258.73000000004,"upper":158196.68925415643},"ema":{"ema21":134478.21494889815,"ema50":138626.81267603821,"ema9":128110.72852349422},"macd":{"histogram":-479.8244763188395,"macd":-4798.244763188399,"signal":-4318.420286869559},"rsi":8.914755467686646,"volume":{"avg":53114.66847999997,"current":0.246,"ratio":0.000004631488947212951}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"{\n  \"decision\": \"BUY\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"RSI is oversold and MACD is bearish, indicating a potential bottom. Additionally, the Kalman prediction is for an increase in price with hig","symbol":"BTCUSDT","timestamp":1759553631891}
{"level":"debug","message":"Autenticación: timestamp=1759553631892, query=category=linear&symbol=BTCUSDT, signature=cff77ae8fabae02383ee1d2eac59e054ced37c7b400407e61f935286bfc60f8b","module":"BybitClient","timestamp":"2025-10-04T04:53:51.893Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-04T04:53:51.891Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-04T04:53:51.891Z"}
{"error":{"endpoint":"/v5/position/list","error":"Request failed with status code 401","method":"GET","params":{"category":"linear","symbol":"BTCUSDT"},"response":""},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-04T04:53:52.313Z"}
{"error":"AxiosError: Request failed with status code 401\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:300:20)\n    at async BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:160:24)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error obteniendo posiciones:","module":"BybitClient","timestamp":"2025-10-04T04:53:52.313Z"}
{"level":"info","message":"Asumiendo que no hay posiciones activas para demo trading","module":"BybitClient","timestamp":"2025-10-04T04:53:52.313Z"}
{"level":"debug","message":"Autenticación: timestamp=1759553632313, query=accountType=UNIFIED, signature=9255463acbcb88c94763e6e3201ae5814af3d16e0d0e751a2b48d41af800580a","module":"BybitClient","timestamp":"2025-10-04T04:53:52.313Z"}
{"error":{"endpoint":"/v5/account/wallet-balance","error":"Request failed with status code 401","method":"GET","params":{"accountType":"UNIFIED"},"response":""},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-04T04:53:52.695Z"}
{"error":"AxiosError: Request failed with status code 401\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:300:20)\n    at async BybitClient.getBalance (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:214:24)\n    at async TradingStrategy.calculatePositionSize (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:313:23)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:159:22)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error obteniendo balance:","module":"BybitClient","timestamp":"2025-10-04T04:53:52.695Z"}
{"level":"info","message":"Usando balance demo para trading","module":"BybitClient","timestamp":"2025-10-04T04:53:52.696Z"}
{"level":"info","message":"Contador diario de trades reseteado","module":"RiskManager","timestamp":"2025-10-04T04:53:53.114Z"}
{"level":"debug","message":"Autenticación: timestamp=1759553633114, query=accountType=UNIFIED, signature=3ba8c4cdc1c9ead7e903b0c7998c3f75c8d76a6cc785c4a1b9721f03c9af4ebc","module":"BybitClient","timestamp":"2025-10-04T04:53:53.114Z"}
{"error":{"endpoint":"/v5/account/wallet-balance","error":"Request failed with status code 401","method":"GET","params":{"accountType":"UNIFIED"},"response":""},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-04T04:53:53.493Z"}
{"error":"AxiosError: Request failed with status code 401\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:300:20)\n    at async BybitClient.getBalance (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:214:24)\n    at async RiskManager.validateTrade (/Users/tgomez/Documents/kalmann/ai-trading-system/src/risk/risk-manager.ts:63:23)\n    at async TradingStrategy.executeTradingAction (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:231:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:94:11)","level":"error","message":"Error obteniendo balance:","module":"BybitClient","timestamp":"2025-10-04T04:53:53.493Z"}
{"level":"info","message":"Usando balance demo para trading","module":"BybitClient","timestamp":"2025-10-04T04:53:53.493Z"}
{"level":"warn","message":"Trade rechazado por gestión de riesgo: Posición excede límite de riesgo. Máximo: $5000.00","module":"TradingStrategy","timestamp":"2025-10-04T04:53:54.246Z"}
{"level":"info","message":"Recibida señal SIGINT, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-04T04:56:03.131Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759553763135}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-04T04:56:03.136Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-04T04:56:03.138Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759553765692}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-04T04:56:05.689Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:56:05.684Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:56:05.687Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T04:56:05.688Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759553765692}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:56:05.688Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:56:05.690Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T04:56:05.691Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:56:05.691Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:56:05.691Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T04:56:05.692Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T04:56:05.692Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (5m)","module":"TradingSystem","timestamp":"2025-10-04T04:56:05.692Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-04T04:56:05.689Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-04T04:56:05.689Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-04T04:56:05.689Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-04T04:56:05.689Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-04T04:56:05.689Z"}
{"level":"info","message":"6 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T04:56:05.689Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T04:56:05.713Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:56:05.692Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T04:56:05.739Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T04:56:06.737Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (5m)","module":"DataManager","timestamp":"2025-10-04T04:56:06.738Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 200","module":"BybitClient","timestamp":"2025-10-04T04:56:06.738Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-04T04:56:06.738Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T04:56:07.452Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T04:56:07.453Z"}
{"level":"info","message":"Datos suficientes recopilados para BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T04:56:07.454Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T04:56:07.454Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0994","module":"KalmanFilter","timestamp":"2025-10-04T04:56:07.455Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-04T04:56:07.455Z"}
{"level":"info","message":"Velas obtenidas: 200 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T04:56:07.453Z"}
{"level":"debug","message":"Predicción Kalman: 122361.64942701158 (Confianza: 0.848)","module":"KalmanFilter","timestamp":"2025-10-04T04:56:07.455Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T04:56:07.453Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T04:56:07.825Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T04:56:16.127Z"}
{"confidence":0.3,"decision":"BUY","indicators":{"bollinger":{"lower":121892.95348031101,"middle":122216.93500000003,"upper":122540.91651968904},"ema":{"ema21":122228.84419161665,"ema50":122120.58153590292,"ema9":122364.29199025454},"macd":{"histogram":13.477921088150467,"macd":134.7792108815047,"signal":121.30128979335423},"rsi":87.67225325884189,"volume":{"avg":113.09119000000001,"current":3.671,"ratio":0.0324605303030236}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"{\n  \"decision\": \"BUY\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La RSI está en un nivel extremo de overbought (87.67), indicando una posible tendencia a bajar. Además, el MACD está en un nivel bullish y e","symbol":"BTCUSDT","timestamp":1759553776128}
{"level":"debug","message":"Autenticación: timestamp=1759553776128, query=category=linear&symbol=BTCUSDT, signature=687015b95565d235aacbf590a2b3960bda92d8f1906736746a06bf7785126ea1","module":"BybitClient","timestamp":"2025-10-04T04:56:16.128Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-04T04:56:16.128Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-04T04:56:16.128Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1754196323203%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"10\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"122452.02\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-9409.10616415\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697097140965,\"updatedTime\":\"1754196323203\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759553777140}","module":"BybitClient","timestamp":"2025-10-04T04:56:17.263Z"}
{"level":"info","message":"Recibida señal SIGINT, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-04T04:58:05.029Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759553885032}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-04T04:58:05.032Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-04T04:58:05.033Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759554495749}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-04T05:08:15.735Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T05:08:15.727Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:08:15.734Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T05:08:15.735Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:08:15.735Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759554495751}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T05:08:15.745Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T05:08:15.747Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:08:15.747Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:08:15.748Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:08:15.749Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T05:08:15.750Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T05:08:15.751Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (5m)","module":"TradingSystem","timestamp":"2025-10-04T05:08:15.751Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-04T05:08:15.735Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-04T05:08:15.735Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-04T05:08:15.736Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-04T05:08:15.736Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-04T05:08:15.742Z"}
{"level":"info","message":"6 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T05:08:15.743Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T05:08:15.763Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-04T05:08:15.819Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:423:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.start (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:44:7)\n    at async TradingSystem.start (/Users/x3at/Documents/ai-trading-system/src/index.ts:44:9)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-04T05:08:17.467Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:423:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.start (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:44:7)\n    at async TradingSystem.start (/Users/x3at/Documents/ai-trading-system/src/index.ts:44:9)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-04T05:08:17.469Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759554606193}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-04T05:10:06.190Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:10:06.188Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T05:10:06.185Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T05:10:06.189Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:10:06.189Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759554606193}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T05:10:06.192Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T05:10:06.193Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:10:06.193Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:10:06.193Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:10:06.193Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T05:10:06.193Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T05:10:06.193Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (5m)","module":"TradingSystem","timestamp":"2025-10-04T05:10:06.193Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-04T05:10:06.190Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-04T05:10:06.190Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-04T05:10:06.190Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-04T05:10:06.191Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-04T05:10:06.191Z"}
{"level":"info","message":"6 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T05:10:06.191Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T05:10:06.204Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-04T05:10:06.213Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:423:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.start (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:44:7)\n    at async TradingSystem.start (/Users/x3at/Documents/ai-trading-system/src/index.ts:44:9)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-04T05:10:07.786Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:423:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.start (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:44:7)\n    at async TradingSystem.start (/Users/x3at/Documents/ai-trading-system/src/index.ts:44:9)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-04T05:10:07.787Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759555116935}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-04T05:18:36.921Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T05:18:36.913Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:18:36.919Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T05:18:36.920Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:18:36.920Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759555116935}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T05:18:36.932Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T05:18:36.933Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:18:36.933Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:18:36.934Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:18:36.935Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-04T05:18:36.921Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-04T05:18:36.921Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-04T05:18:36.930Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-04T05:18:36.930Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-04T05:18:36.931Z"}
{"level":"info","message":"6 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T05:18:36.931Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T05:18:36.953Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T05:18:36.935Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T05:18:36.935Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (5m)","module":"TradingSystem","timestamp":"2025-10-04T05:18:36.935Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T05:18:37.022Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T05:18:39.251Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (5m)","module":"DataManager","timestamp":"2025-10-04T05:18:39.251Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 200","module":"BybitClient","timestamp":"2025-10-04T05:18:39.252Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-04T05:18:39.251Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T05:18:40.170Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T05:18:40.170Z"}
{"level":"info","message":"Datos suficientes recopilados para BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T05:18:40.171Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T05:18:40.172Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1518","module":"KalmanFilter","timestamp":"2025-10-04T05:18:40.173Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-04T05:18:40.174Z"}
{"level":"info","message":"Velas obtenidas: 200 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T05:18:40.170Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T05:18:40.171Z"}
{"level":"debug","message":"Predicción Kalman: 122401.60554502679 (Confianza: 0.826)","module":"KalmanFilter","timestamp":"2025-10-04T05:18:40.173Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T05:18:40.911Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T05:19:06.647Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":122016.22980895793,"middle":122321.66,"upper":122627.09019104208},"ema":{"ema21":122320.84061471644,"ema50":122174.70593466568,"ema9":122462.08087917315},"macd":{"histogram":14.560585489257932,"macd":145.60585489257937,"signal":131.04526940332144},"rsi":78.95333765391905,"volume":{"avg":113.53336999999999,"current":118.461,"ratio":1.0434024815787641}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La señal de RSI es un 78.95, lo que indica un estado OVERBOUGHT y se recomienda vender. Sin embargo, la señal de MACD es bullish con un valor de 145.6059, lo que sugiere una tendencia bullish. Además, el indicador Bollinger está en el rango superior, lo que indica una mayor volatilidad y oportunidad de ganancia. Considerando todos estos factores, es recomendable realizar una compra con un leverage alto (10-50x) para aprovechar la señal.","symbol":"BTCUSDT","timestamp":1759555146654}
{"level":"debug","message":"Autenticación: timestamp=1759555146655, query=category=linear&symbol=BTCUSDT, signature=eaeb16267685f19a7860e22910442bd8c21c9b50732921977096872507f9ba67","module":"BybitClient","timestamp":"2025-10-04T05:19:06.662Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759555055484%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"10\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"122591\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-10831.16214444\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697264625154,\"updatedTime\":\"1759555055484\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759555148102}","module":"BybitClient","timestamp":"2025-10-04T05:19:07.937Z"}
{"level":"info","message":"Recibida señal SIGINT, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-04T05:21:19.153Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759555279172}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-04T05:21:19.173Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-04T05:21:19.175Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759555300017}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-04T05:21:40.008Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:21:39.998Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T05:21:39.986Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:21:40.004Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T05:21:40.004Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759555300019}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T05:21:40.012Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T05:21:40.014Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:21:40.015Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:21:40.017Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:21:40.013Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T05:21:40.017Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T05:21:40.017Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (5m)","module":"TradingSystem","timestamp":"2025-10-04T05:21:40.018Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-04T05:21:40.008Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-04T05:21:40.008Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-04T05:21:40.009Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-04T05:21:40.009Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-04T05:21:40.010Z"}
{"level":"info","message":"6 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T05:21:40.010Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T05:21:40.040Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T05:21:41.931Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T05:21:43.825Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (5m)","module":"DataManager","timestamp":"2025-10-04T05:21:43.839Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 200","module":"BybitClient","timestamp":"2025-10-04T05:21:43.840Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-04T05:21:43.839Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T05:21:44.438Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T05:21:44.440Z"}
{"level":"info","message":"Datos suficientes recopilados para BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T05:21:44.445Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T05:21:44.447Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1537","module":"KalmanFilter","timestamp":"2025-10-04T05:21:44.448Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-04T05:21:44.483Z"}
{"level":"info","message":"Velas obtenidas: 200 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T05:21:44.440Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T05:21:44.445Z"}
{"level":"debug","message":"Predicción Kalman: 122452.7616338913 (Confianza: 0.834)","module":"KalmanFilter","timestamp":"2025-10-04T05:21:44.482Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T05:21:44.879Z"}
{"error":"AxiosError: timeout of 30000ms exceeded\n    at RedirectableRequest.handleRequestTimeout (/Users/x3at/Documents/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:675:16)\n    at RedirectableRequest.emit (node:events:507:28)\n    at RedirectableRequest.emit (node:domain:489:12)\n    at Timeout.<anonymous> (/Users/x3at/Documents/ai-trading-system/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:221:12)\n    at listOnTimeout (node:internal/timers:611:17)\n    at processTimers (node:internal/timers:546:7)\n    at Axios.request (/Users/x3at/Documents/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:572:9)\n    at processTimers (node:internal/timers:546:7)\n    at async OllamaClient.analyze (/Users/x3at/Documents/ai-trading-system/src/ai/ollama-client.ts:39:24)\n    at async TradingStrategy.performCompleteAnalysis (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:130:16)\n    at async TradingStrategy.tradingLoop (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:87:26)","level":"error","message":"Error en análisis de Ollama:","module":"OllamaClient","timestamp":"2025-10-04T05:22:15.003Z"}
{"confidence":0.1,"decision":"HOLD","indicators":{"bollinger":{"lower":122041.71210749875,"middle":122355.525,"upper":122669.33789250124},"ema":{"ema21":122355.04504584591,"ema50":122194.41210540402,"ema9":122508.13670332884},"macd":{"histogram":15.622944951086538,"macd":156.22944951086538,"signal":140.60650455977884},"rsi":81.78090216754323,"volume":{"avg":113.11158000000002,"current":60.451,"ratio":0.5344368808215745}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"Error en análisis de IA: timeout of 30000ms exceeded","symbol":"BTCUSDT","timestamp":1759555335005}
{"level":"debug","message":"Autenticación: timestamp=1759555335007, query=category=linear&symbol=BTCUSDT, signature=2b9117a70262100844be395b000bd5b0b8aa35f2bcdb77e8b803ec4697ba6f2e","module":"BybitClient","timestamp":"2025-10-04T05:22:15.012Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759555055484%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"10\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"122667.8\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-10831.16214444\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697264625154,\"updatedTime\":\"1759555055484\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759555336080}","module":"BybitClient","timestamp":"2025-10-04T05:22:15.906Z"}
{"level":"info","message":"Posiciones existentes: 0","module":"TradingStrategy","timestamp":"2025-10-04T05:22:15.918Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-04T05:22:15.908Z"}
{"level":"info","message":"AI sugiere HOLD, no se ejecutará trade","module":"TradingStrategy","timestamp":"2025-10-04T05:22:15.918Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-04T05:22:15.918Z"}
{"level":"info","message":"Recibida señal SIGINT, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-04T05:23:30.852Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759555410866}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-04T05:23:30.867Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-04T05:23:30.870Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759555413954}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-04T05:23:33.941Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 30000ms)","module":"OllamaClient","timestamp":"2025-10-04T05:23:33.932Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:23:33.939Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T05:23:33.940Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:23:33.940Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759555413956}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 30000ms)","module":"OllamaClient","timestamp":"2025-10-04T05:23:33.947Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T05:23:33.952Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:23:33.952Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:23:33.953Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:23:33.954Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T05:23:33.955Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T05:23:33.955Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (5m)","module":"TradingSystem","timestamp":"2025-10-04T05:23:33.955Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-04T05:23:33.941Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-04T05:23:33.941Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-04T05:23:33.941Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-04T05:23:33.941Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-04T05:23:33.944Z"}
{"level":"info","message":"6 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T05:23:33.944Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T05:23:33.977Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T05:23:34.029Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T05:23:35.454Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (5m)","module":"DataManager","timestamp":"2025-10-04T05:23:35.457Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 200","module":"BybitClient","timestamp":"2025-10-04T05:23:35.457Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-04T05:23:35.457Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T05:23:36.376Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T05:23:36.376Z"}
{"level":"info","message":"Datos suficientes recopilados para BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T05:23:36.377Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T05:23:36.377Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1746","module":"KalmanFilter","timestamp":"2025-10-04T05:23:36.377Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-04T05:23:36.378Z"}
{"level":"info","message":"Velas obtenidas: 200 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T05:23:36.376Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T05:23:36.377Z"}
{"level":"debug","message":"Predicción Kalman: 122434.27031709395 (Confianza: 0.828)","module":"KalmanFilter","timestamp":"2025-10-04T05:23:36.378Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T05:23:37.120Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T05:24:06.329Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":122042.71074761658,"middle":122355.17,"upper":122667.62925238341},"ema":{"ema21":122354.39959130045,"ema50":122194.13367403147,"ema9":122506.71670332884},"macd":{"histogram":15.566306774449174,"macd":155.66306774449185,"signal":140.09676097004268},"rsi":81.589462779338,"volume":{"avg":114.41098000000002,"current":190.391,"ratio":1.6640972745797646}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La RSI está en un nivel muy alto (81.59) indicando una posición überbought. Además, el MACD está en un nivel bullish y el volumen es alto. La predicción de Kalman también indica una tendencia bullish con alta confianza. Basándome en estas señales claras, decido comprar con unlevel de confianza del 80%","symbol":"BTCUSDT","timestamp":1759555446337}
{"level":"debug","message":"Autenticación: timestamp=1759555446342, query=category=linear&symbol=BTCUSDT, signature=e1b3e806af1cba425284c4b074f01d7735e9aa069652617e1ecf5751116f330b","module":"BybitClient","timestamp":"2025-10-04T05:24:06.349Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759555055484%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"10\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"122671.62\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-10831.16214444\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697264625154,\"updatedTime\":\"1759555055484\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759555447433}","module":"BybitClient","timestamp":"2025-10-04T05:24:07.258Z"}
{"level":"info","message":"Posiciones existentes: 0","module":"TradingStrategy","timestamp":"2025-10-04T05:24:07.259Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-04T05:24:07.258Z"}
{"level":"debug","message":"Autenticación: timestamp=1759555447259, query=accountType=UNIFIED, signature=ea82e3151ec7aab90f281a82701a6a4216b8af5e62312d8970f8b89f421c1b55","module":"BybitClient","timestamp":"2025-10-04T05:24:07.260Z"}
{"level":"info","message":"AI sugiere BUY con confianza 0.8","module":"TradingStrategy","timestamp":"2025-10-04T05:24:07.259Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216013.72776911\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"216013.72776911\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49995.37375417\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121399.84382741\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4505.497071\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"40081.38890068\",\"totalPositionMM\":\"0\",\"usdValue\":\"40113.01311652\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"40081.38890068\",\"cumRealisedPnl\":\"-10826.21398932\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759555447845}","module":"BybitClient","timestamp":"2025-10-04T05:24:07.689Z"}
{"level":"info","message":"Parámetros calculados - Leverage: 40x, Quantity: NaN","module":"TradingStrategy","timestamp":"2025-10-04T05:24:08.109Z"}
{"level":"info","message":"Contador diario de trades reseteado","module":"RiskManager","timestamp":"2025-10-04T05:24:08.111Z"}
{"level":"debug","message":"Autenticación: timestamp=1759555448111, query=accountType=UNIFIED, signature=92d0a96155563d555e548ce8d6931a03ec34a558b63d33785cad6e83cf33f8d2","module":"BybitClient","timestamp":"2025-10-04T05:24:08.111Z"}
{"level":"info","message":"Generando señal de trading: BUY NaN BTCUSDT @ 122650.4 (SL: 120197.39199999999, TP: 131481.2288)","module":"TradingStrategy","timestamp":"2025-10-04T05:24:08.110Z"}
{"level":"info","message":"EJECUTANDO TRADE: BUY NaN BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T05:24:08.110Z"}
{"level":"info","message":"=== INICIO EJECUCIÓN DE TRADE ===","module":"TradingStrategy","timestamp":"2025-10-04T05:24:08.110Z"}
{"level":"info","message":"Señal: {\"symbol\":\"BTCUSDT\",\"action\":\"BUY\",\"leverage\":40,\"quantity\":null,\"stopLoss\":120197.39199999999,\"takeProfit\":131481.2288,\"timestamp\":1759555448110,\"aiAnalysis\":{\"decision\":\"BUY\",\"confidence\":0.8,\"reasoning\":\"La RSI está en un nivel muy alto (81.59) indicando una posición überbought. Además, el MACD está en un nivel bullish y el volumen es alto. La predicción de Kalman también indica una tendencia bullish con alta confianza. Basándome en estas señales claras, decido comprar con unlevel de confianza del 80%\",\"indicators\":{},\"kalman\":{},\"marketSentiment\":\"bullish\",\"riskLevel\":\"medium\",\"suggestedLeverage\":10}}","module":"TradingStrategy","timestamp":"2025-10-04T05:24:08.110Z"}
{"level":"info","message":"Validando con Risk Manager...","module":"TradingStrategy","timestamp":"2025-10-04T05:24:08.110Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216013.72776911\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"216013.72776911\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49995.37375417\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121399.84382741\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4505.497071\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"40081.38890068\",\"totalPositionMM\":\"0\",\"usdValue\":\"40113.01311652\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"40081.38890068\",\"cumRealisedPnl\":\"-10826.21398932\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759555449028}","module":"BybitClient","timestamp":"2025-10-04T05:24:08.853Z"}
{"level":"debug","message":"Autenticación: timestamp=1759555449591, query=category=linear&symbol=BTCUSDT, signature=5277fe182a034bf08acbe16c2d452ea1bdea476d928103667e02070adab7a3e0","module":"BybitClient","timestamp":"2025-10-04T05:24:09.591Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759555055484%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"10\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"122671.38\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-10831.16214444\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697264625154,\"updatedTime\":\"1759555055484\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759555450176}","module":"BybitClient","timestamp":"2025-10-04T05:24:10.001Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-04T05:24:10.001Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 20","module":"BybitClient","timestamp":"2025-10-04T05:24:10.735Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T05:24:11.143Z"}
{"level":"info","message":"Velas obtenidas: 20 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T05:24:11.144Z"}
{"level":"info","message":"Resultado validación: {\"approved\":false,\"reason\":\"Stop loss demasiado lejos: 2.02% (máx: 2%)\",\"riskScore\":0.6}","module":"TradingStrategy","timestamp":"2025-10-04T05:24:11.549Z"}
{"level":"warn","message":"Trade rechazado por gestión de riesgo: Stop loss demasiado lejos: 2.02% (máx: 2%)","module":"TradingStrategy","timestamp":"2025-10-04T05:24:11.552Z"}
{"level":"info","message":"Recibida señal SIGINT, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-04T05:25:30.981Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759555530996}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-04T05:25:30.997Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-04T05:25:30.999Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759555534490}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-04T05:25:34.485Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 30000ms)","module":"OllamaClient","timestamp":"2025-10-04T05:25:34.476Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:25:34.482Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T05:25:34.484Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:25:34.484Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759555534491}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 30000ms)","module":"OllamaClient","timestamp":"2025-10-04T05:25:34.489Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T05:25:34.490Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:25:34.489Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:25:34.490Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:25:34.490Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T05:25:34.491Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T05:25:34.491Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (5m)","module":"TradingSystem","timestamp":"2025-10-04T05:25:34.491Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-04T05:25:34.485Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-04T05:25:34.485Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-04T05:25:34.486Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-04T05:25:34.486Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-04T05:25:34.487Z"}
{"level":"info","message":"6 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T05:25:34.487Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T05:25:34.509Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T05:25:34.609Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T05:25:36.006Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (5m)","module":"DataManager","timestamp":"2025-10-04T05:25:36.007Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 200","module":"BybitClient","timestamp":"2025-10-04T05:25:36.008Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-04T05:25:36.007Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T05:25:36.939Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T05:25:36.940Z"}
{"level":"info","message":"Datos suficientes recopilados para BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T05:25:36.941Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T05:25:36.943Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1652","module":"KalmanFilter","timestamp":"2025-10-04T05:25:36.944Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-04T05:25:36.944Z"}
{"level":"info","message":"Velas obtenidas: 200 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T05:25:36.940Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T05:25:36.941Z"}
{"level":"debug","message":"Predicción Kalman: 122484.37763501765 (Confianza: 0.836)","module":"KalmanFilter","timestamp":"2025-10-04T05:25:36.944Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T05:25:37.351Z"}
{"error":"AxiosError: timeout of 30000ms exceeded\n    at RedirectableRequest.handleRequestTimeout (/Users/x3at/Documents/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:675:16)\n    at RedirectableRequest.emit (node:events:507:28)\n    at RedirectableRequest.emit (node:domain:489:12)\n    at Timeout.<anonymous> (/Users/x3at/Documents/ai-trading-system/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:221:12)\n    at listOnTimeout (node:internal/timers:611:17)\n    at processTimers (node:internal/timers:546:7)\n    at Axios.request (/Users/x3at/Documents/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at runNextTicks (node:internal/process/task_queues:65:5)\n    at listOnTimeout (node:internal/timers:572:9)\n    at processTimers (node:internal/timers:546:7)\n    at async OllamaClient.analyze (/Users/x3at/Documents/ai-trading-system/src/ai/ollama-client.ts:39:24)\n    at async TradingStrategy.performCompleteAnalysis (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:130:16)\n    at async TradingStrategy.tradingLoop (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:87:26)","level":"error","message":"Error en análisis de Ollama:","module":"OllamaClient","timestamp":"2025-10-04T05:26:07.437Z"}
{"confidence":0.1,"decision":"HOLD","indicators":{"bollinger":{"lower":122070.3076517587,"middle":122389.585,"upper":122708.86234824131},"ema":{"ema21":122388.7375852949,"ema50":122216.72301502326,"ema9":122551.24536267917},"macd":{"histogram":16.523512006297807,"macd":165.23512006297824,"signal":148.71160805668043},"rsi":82.77008310249124,"volume":{"avg":114.35171,"current":17.116,"ratio":0.14967856624094208}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"Error en análisis de IA: timeout of 30000ms exceeded","symbol":"BTCUSDT","timestamp":1759555567438}
{"level":"debug","message":"Autenticación: timestamp=1759555567440, query=category=linear&symbol=BTCUSDT, signature=626e50f780fef42dc4a7937d3f5ae8d50473457c4b38e8144906856d3563263f","module":"BybitClient","timestamp":"2025-10-04T05:26:07.441Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759555055484%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"10\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"122744.31\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-10831.16214444\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697264625154,\"updatedTime\":\"1759555055484\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759555568506}","module":"BybitClient","timestamp":"2025-10-04T05:26:08.336Z"}
{"level":"info","message":"Posiciones existentes: 0","module":"TradingStrategy","timestamp":"2025-10-04T05:26:08.337Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-04T05:26:08.337Z"}
{"level":"info","message":"AI sugiere HOLD, no se ejecutará trade","module":"TradingStrategy","timestamp":"2025-10-04T05:26:08.337Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-04T05:26:08.337Z"}
{"level":"info","message":"Recibida señal SIGINT, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-04T05:27:10.990Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759555631009}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-04T05:27:11.009Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-04T05:27:11.016Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759555636199}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-04T05:27:16.192Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-04T05:27:16.184Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:27:16.190Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T05:27:16.192Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:27:16.192Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759555636199}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-04T05:27:16.195Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T05:27:16.197Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:27:16.197Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:27:16.198Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:27:16.199Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T05:27:16.199Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T05:27:16.199Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (5m)","module":"TradingSystem","timestamp":"2025-10-04T05:27:16.199Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-04T05:27:16.193Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-04T05:27:16.193Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-04T05:27:16.193Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-04T05:27:16.193Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-04T05:27:16.193Z"}
{"level":"info","message":"6 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T05:27:16.194Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T05:27:16.219Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T05:27:16.813Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T05:27:18.199Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (5m)","module":"DataManager","timestamp":"2025-10-04T05:27:18.200Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 200","module":"BybitClient","timestamp":"2025-10-04T05:27:18.201Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-04T05:27:18.200Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T05:27:18.859Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T05:27:18.870Z"}
{"level":"info","message":"Datos suficientes recopilados para BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T05:27:18.871Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T05:27:18.873Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1754","module":"KalmanFilter","timestamp":"2025-10-04T05:27:18.874Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-04T05:27:18.875Z"}
{"level":"info","message":"Velas obtenidas: 200 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T05:27:18.870Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T05:27:18.870Z"}
{"level":"debug","message":"Predicción Kalman: 122472.92618001532 (Confianza: 0.831)","module":"KalmanFilter","timestamp":"2025-10-04T05:27:18.874Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T05:27:19.292Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T05:27:40.905Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":122073.05243687468,"middle":122388.64499999999,"upper":122704.2375631253},"ema":{"ema21":122387.02849438581,"ema50":122215.9857601213,"ema9":122547.48536267917},"macd":{"histogram":16.373540496325575,"macd":163.73540496325586,"signal":147.36186446693029},"rsi":82.30944254834847,"volume":{"avg":114.98823,"current":80.768,"ratio":0.7024023241335222}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La RSI está en un nivel muy alto (82.31) indicando una posibilidad alta de continuar la tendencia bullish. Además, el MACD está en un nivel bullish y el Bollinger Band está en el lado superior, lo que sugiere una mayor actividad en el mercado. La predicción de Kalman también indica una posibilidad alta de subida","symbol":"BTCUSDT","timestamp":1759555660908}
{"level":"debug","message":"Autenticación: timestamp=1759555660918, query=category=linear&symbol=BTCUSDT, signature=6df0c9e6c3450b8f8a238828a52df3d8c48a9a1dec9413c02d0921f69446e234","module":"BybitClient","timestamp":"2025-10-04T05:27:40.923Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759555055484%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"10\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"122694.57\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-10831.16214444\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697264625154,\"updatedTime\":\"1759555055484\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759555662392}","module":"BybitClient","timestamp":"2025-10-04T05:27:42.222Z"}
{"level":"info","message":"Posiciones existentes: 0","module":"TradingStrategy","timestamp":"2025-10-04T05:27:42.222Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-04T05:27:42.222Z"}
{"level":"debug","message":"Autenticación: timestamp=1759555662223, query=accountType=UNIFIED, signature=aef1b773caf3bc131841cfb351b5a793bc6269e3e83303e843e9b70c778a7a70","module":"BybitClient","timestamp":"2025-10-04T05:27:42.223Z"}
{"level":"info","message":"AI sugiere BUY con confianza 0.8","module":"TradingStrategy","timestamp":"2025-10-04T05:27:42.222Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216013.72776911\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"216013.72776911\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49995.37375417\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121399.84382741\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4505.497071\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"40081.38890068\",\"totalPositionMM\":\"0\",\"usdValue\":\"40113.01311652\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"40081.38890068\",\"cumRealisedPnl\":\"-10826.21398932\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759555663147}","module":"BybitClient","timestamp":"2025-10-04T05:27:42.981Z"}
{"level":"info","message":"Balance disponible: $40081.39","module":"TradingStrategy","timestamp":"2025-10-04T05:27:42.984Z"}
{"level":"info","message":"Balance obtenido - Total: $216013.73, Disponible: $40081.39","module":"BybitClient","timestamp":"2025-10-04T05:27:42.982Z"}
{"level":"debug","message":"Símbolo info - Min: 0.001, Step: 0.001","module":"TradingStrategy","timestamp":"2025-10-04T05:27:43.721Z"}
{"level":"info","message":"Contador diario de trades reseteado","module":"RiskManager","timestamp":"2025-10-04T05:27:43.724Z"}
{"level":"debug","message":"Autenticación: timestamp=1759555663724, query=accountType=UNIFIED, signature=2e2586befc7c3e863225fbc446eedf6cc0076121c676c253b559608df57213f3","module":"BybitClient","timestamp":"2025-10-04T05:27:43.724Z"}
{"level":"info","message":"Riesgo: 20%, Max position value: $8016.28","module":"TradingStrategy","timestamp":"2025-10-04T05:27:43.722Z"}
{"level":"debug","message":"Position value: $320651.11, Quantity raw: 2.6135640054466927","module":"TradingStrategy","timestamp":"2025-10-04T05:27:43.722Z"}
{"level":"info","message":"Cantidad final calculada: 2.613 BTC","module":"TradingStrategy","timestamp":"2025-10-04T05:27:43.722Z"}
{"level":"info","message":"Parámetros calculados - Leverage: 40x, Quantity: 2.613","module":"TradingStrategy","timestamp":"2025-10-04T05:27:43.722Z"}
{"level":"info","message":"Generando señal de trading: BUY 2.613 BTCUSDT @ 122687.3 (SL: 120356.2413, TP: 131079.11132000003)","module":"TradingStrategy","timestamp":"2025-10-04T05:27:43.722Z"}
{"level":"info","message":"EJECUTANDO TRADE: BUY 2.613 BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T05:27:43.723Z"}
{"level":"info","message":"=== INICIO EJECUCIÓN DE TRADE ===","module":"TradingStrategy","timestamp":"2025-10-04T05:27:43.723Z"}
{"level":"info","message":"Señal: {\"symbol\":\"BTCUSDT\",\"action\":\"BUY\",\"leverage\":40,\"quantity\":2.613,\"stopLoss\":120356.2413,\"takeProfit\":131079.11132000003,\"timestamp\":1759555663723,\"aiAnalysis\":{\"decision\":\"BUY\",\"confidence\":0.8,\"reasoning\":\"La RSI está en un nivel muy alto (82.31) indicando una posibilidad alta de continuar la tendencia bullish. Además, el MACD está en un nivel bullish y el Bollinger Band está en el lado superior, lo que sugiere una mayor actividad en el mercado. La predicción de Kalman también indica una posibilidad alta de subida\",\"indicators\":{},\"kalman\":{},\"marketSentiment\":\"bullish\",\"riskLevel\":\"medium\",\"suggestedLeverage\":10}}","module":"TradingStrategy","timestamp":"2025-10-04T05:27:43.723Z"}
{"level":"info","message":"Validando con Risk Manager...","module":"TradingStrategy","timestamp":"2025-10-04T05:27:43.723Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216013.72776911\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"216013.72776911\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49995.37375417\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121399.84382741\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4505.497071\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"40081.38890068\",\"totalPositionMM\":\"0\",\"usdValue\":\"40113.01311652\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"40081.38890068\",\"cumRealisedPnl\":\"-10826.21398932\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759555664308}","module":"BybitClient","timestamp":"2025-10-04T05:27:44.138Z"}
{"level":"info","message":"Balance obtenido - Total: $216013.73, Disponible: $40081.39","module":"BybitClient","timestamp":"2025-10-04T05:27:44.138Z"}
{"level":"info","message":"Resultado validación: {\"approved\":false,\"reason\":\"Posición excede límite de riesgo. Máximo: $108006.86\",\"adjustedParams\":{\"symbol\":\"BTCUSDT\",\"side\":\"Buy\",\"quantity\":0,\"leverage\":40,\"stopLoss\":120356.2413,\"takeProfit\":131079.11132000003},\"riskScore\":0.8}","module":"TradingStrategy","timestamp":"2025-10-04T05:27:45.303Z"}
{"level":"warn","message":"Trade rechazado por gestión de riesgo: Posición excede límite de riesgo. Máximo: $108006.86","module":"TradingStrategy","timestamp":"2025-10-04T05:27:45.305Z"}
{"level":"info","message":"Recibida señal SIGINT, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-04T05:29:04.126Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759555744137}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-04T05:29:04.137Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-04T05:29:04.149Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759555748497}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-04T05:29:08.490Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-04T05:29:08.479Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:29:08.487Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T05:29:08.489Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:29:08.488Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759555748498}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-04T05:29:08.495Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T05:29:08.496Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:29:08.496Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:29:08.497Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:29:08.497Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T05:29:08.498Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T05:29:08.498Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (5m)","module":"TradingSystem","timestamp":"2025-10-04T05:29:08.498Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-04T05:29:08.490Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-04T05:29:08.490Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-04T05:29:08.490Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-04T05:29:08.490Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-04T05:29:08.493Z"}
{"level":"info","message":"6 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T05:29:08.494Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T05:29:08.519Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T05:29:09.973Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T05:29:11.371Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (5m)","module":"DataManager","timestamp":"2025-10-04T05:29:11.374Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 200","module":"BybitClient","timestamp":"2025-10-04T05:29:11.375Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-04T05:29:11.374Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T05:29:11.789Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T05:29:11.790Z"}
{"level":"info","message":"Datos suficientes recopilados para BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T05:29:11.790Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T05:29:11.791Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1892","module":"KalmanFilter","timestamp":"2025-10-04T05:29:11.792Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-04T05:29:11.793Z"}
{"level":"info","message":"Velas obtenidas: 200 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T05:29:11.789Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T05:29:11.790Z"}
{"level":"debug","message":"Predicción Kalman: 122451.43534680047 (Confianza: 0.827)","module":"KalmanFilter","timestamp":"2025-10-04T05:29:11.793Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T05:29:12.187Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T05:30:00.646Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":122082.23551163063,"middle":122384.89499999999,"upper":122687.55448836935},"ema":{"ema21":122380.21031256764,"ema50":122213.04458365071,"ema9":122532.48536267917},"macd":{"histogram":15.775249898034957,"macd":157.75249898034963,"signal":141.97724908231467},"rsi":75.40851861773262,"volume":{"avg":115.86619,"current":168.564,"ratio":1.4548161115852691}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La RSI está en un estado overbought y el MACD está mostrando una señal bullish, lo que sugiere que el precio puede seguir subiendo. Además, el Bollinger Band Superior y Medio están en niveles altos, lo que indica una alta volatilidad. Considerando la predicción de Kalman y el leverage alto disponible, es probable que el precio continúe subiendo. Confío en un alza de $122451.44 con una confianza del 82.7%","symbol":"BTCUSDT","timestamp":1759555800672}
{"level":"debug","message":"Autenticación: timestamp=1759555800777, query=category=linear&symbol=BTCUSDT, signature=e3b0e2cdf99b98624aa71a09532bab1879d36f7041ff8149329e574b79e8aaa6","module":"BybitClient","timestamp":"2025-10-04T05:30:00.803Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759555055484%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"10\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"122626.99\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-10831.16214444\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697264625154,\"updatedTime\":\"1759555055484\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759555801901}","module":"BybitClient","timestamp":"2025-10-04T05:30:01.732Z"}
{"level":"info","message":"Posiciones existentes: 0","module":"TradingStrategy","timestamp":"2025-10-04T05:30:01.735Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-04T05:30:01.734Z"}
{"level":"debug","message":"Autenticación: timestamp=1759555801737, query=accountType=UNIFIED, signature=cabf5259302349bb842ec3bc9fa7dd319ee56fae8a98b617fc96b11929a57176","module":"BybitClient","timestamp":"2025-10-04T05:30:01.737Z"}
{"level":"info","message":"AI sugiere BUY con confianza 0.8","module":"TradingStrategy","timestamp":"2025-10-04T05:30:01.735Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216013.72776911\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"216013.72776911\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49995.37375417\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121399.84382741\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4505.497071\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"40081.38890068\",\"totalPositionMM\":\"0\",\"usdValue\":\"40113.01311652\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"40081.38890068\",\"cumRealisedPnl\":\"-10826.21398932\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759555802314}","module":"BybitClient","timestamp":"2025-10-04T05:30:02.138Z"}
{"level":"info","message":"Balance disponible: $40081.39","module":"TradingStrategy","timestamp":"2025-10-04T05:30:02.139Z"}
{"level":"info","message":"Balance obtenido - Total: $216013.73, Disponible: $40081.39","module":"BybitClient","timestamp":"2025-10-04T05:30:02.139Z"}
{"level":"debug","message":"Símbolo info - Min: 0.001, Step: 0.001","module":"TradingStrategy","timestamp":"2025-10-04T05:30:02.530Z"}
{"level":"info","message":"Contador diario de trades reseteado","module":"RiskManager","timestamp":"2025-10-04T05:30:02.532Z"}
{"level":"debug","message":"Autenticación: timestamp=1759555802532, query=accountType=UNIFIED, signature=6ff28c559ecd036191f3a8117d531f3e7bcc04ebbc65b130ec46c037b4ac5188","module":"BybitClient","timestamp":"2025-10-04T05:30:02.532Z"}
{"level":"info","message":"Riesgo: 20%, Max position value: $8016.28","module":"TradingStrategy","timestamp":"2025-10-04T05:30:02.530Z"}
{"level":"debug","message":"Position value: $320651.11, Quantity raw: 2.615088032744883","module":"TradingStrategy","timestamp":"2025-10-04T05:30:02.530Z"}
{"level":"info","message":"Cantidad final calculada: 2.615 BTC","module":"TradingStrategy","timestamp":"2025-10-04T05:30:02.530Z"}
{"level":"info","message":"Parámetros calculados - Leverage: 40x, Quantity: 2.615","module":"TradingStrategy","timestamp":"2025-10-04T05:30:02.530Z"}
{"level":"info","message":"Generando señal de trading: BUY 2.615 BTCUSDT @ 122615.8 (SL: 120286.0998, TP: 131002.72072000003)","module":"TradingStrategy","timestamp":"2025-10-04T05:30:02.531Z"}
{"level":"info","message":"EJECUTANDO TRADE: BUY 2.615 BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T05:30:02.531Z"}
{"level":"info","message":"=== INICIO EJECUCIÓN DE TRADE ===","module":"TradingStrategy","timestamp":"2025-10-04T05:30:02.531Z"}
{"level":"info","message":"Señal: {\"symbol\":\"BTCUSDT\",\"action\":\"BUY\",\"leverage\":40,\"quantity\":2.615,\"stopLoss\":120286.0998,\"takeProfit\":131002.72072000003,\"timestamp\":1759555802531,\"aiAnalysis\":{\"decision\":\"BUY\",\"confidence\":0.8,\"reasoning\":\"La RSI está en un estado overbought y el MACD está mostrando una señal bullish, lo que sugiere que el precio puede seguir subiendo. Además, el Bollinger Band Superior y Medio están en niveles altos, lo que indica una alta volatilidad. Considerando la predicción de Kalman y el leverage alto disponible, es probable que el precio continúe subiendo. Confío en un alza de $122451.44 con una confianza del 82.7%\",\"indicators\":{},\"kalman\":{},\"marketSentiment\":\"bullish\",\"riskLevel\":\"high\",\"suggestedLeverage\":10}}","module":"TradingStrategy","timestamp":"2025-10-04T05:30:02.531Z"}
{"level":"info","message":"Validando con Risk Manager...","module":"TradingStrategy","timestamp":"2025-10-04T05:30:02.531Z"}
{"level":"info","message":"Recibida señal SIGINT, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-04T05:30:02.557Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759555802558}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-04T05:30:02.558Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-04T05:30:02.559Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759555810128}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-04T05:30:09.888Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-04T05:30:09.867Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:30:09.879Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T05:30:09.882Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-04T05:30:10.080Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T05:30:10.081Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:30:09.881Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:30:10.081Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:30:10.082Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759555810129}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:30:10.128Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-04T05:30:09.896Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-04T05:30:09.897Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-04T05:30:10.076Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-04T05:30:10.076Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-04T05:30:10.077Z"}
{"level":"info","message":"6 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T05:30:10.077Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T05:30:10.154Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T05:30:10.128Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T05:30:10.128Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (5m)","module":"TradingSystem","timestamp":"2025-10-04T05:30:10.129Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T05:30:10.484Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T05:30:11.443Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (5m)","module":"DataManager","timestamp":"2025-10-04T05:30:11.443Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 200","module":"BybitClient","timestamp":"2025-10-04T05:30:11.446Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-04T05:30:11.443Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T05:30:11.871Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T05:30:11.872Z"}
{"level":"info","message":"Datos suficientes recopilados para BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T05:30:11.872Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T05:30:11.873Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1657","module":"KalmanFilter","timestamp":"2025-10-04T05:30:11.873Z"}
{"level":"info","message":"Velas obtenidas: 200 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T05:30:11.872Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-04T05:30:11.874Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T05:30:11.872Z"}
{"level":"debug","message":"Predicción Kalman: 122481.08501768758 (Confianza: 0.830)","module":"KalmanFilter","timestamp":"2025-10-04T05:30:11.873Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T05:30:12.268Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T05:30:59.142Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":122102.6706209588,"middle":122405.75,"upper":122708.8293790412},"ema":{"ema21":122400.60804312512,"ema50":122225.16044667512,"ema9":122546.8202901071},"macd":{"histogram":15.52190647338574,"macd":155.21906473385752,"signal":139.69715826047178},"rsi":70.31412833109853,"volume":{"avg":115.39195000000001,"current":5.674,"ratio":0.04917154099571071}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La RSI está por encima del 70, indicando un estado overbought. Además, el MACD está en una posición bullish y el Bollinger Band está superando la línea superior, lo que sugiere una posible tendencia ascendente. La Kalman Prediction también predice una subida con alta confianza.","symbol":"BTCUSDT","timestamp":1759555859149}
{"level":"debug","message":"Autenticación: timestamp=1759555859155, query=category=linear&symbol=BTCUSDT, signature=e7a048d1077cffc38d2a853009deae99f2d58d61daef8b0f9f696c0d5c0a0440","module":"BybitClient","timestamp":"2025-10-04T05:30:59.156Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759555055484%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"10\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"122619\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-10831.16214444\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697264625154,\"updatedTime\":\"1759555055484\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759555860717}","module":"BybitClient","timestamp":"2025-10-04T05:31:00.548Z"}
{"level":"info","message":"Posiciones existentes: 0","module":"TradingStrategy","timestamp":"2025-10-04T05:31:00.549Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-04T05:31:00.549Z"}
{"level":"debug","message":"Autenticación: timestamp=1759555860549, query=accountType=UNIFIED, signature=256f3a7abe79f8e3e5f929c81a0798fce17c41a11f622a812d8d76e50865894c","module":"BybitClient","timestamp":"2025-10-04T05:31:00.550Z"}
{"level":"info","message":"AI sugiere BUY con confianza 0.8","module":"TradingStrategy","timestamp":"2025-10-04T05:31:00.549Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216013.72776911\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"216013.72776911\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49995.37375417\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121399.84382741\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4505.497071\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"40081.38890068\",\"totalPositionMM\":\"0\",\"usdValue\":\"40113.01311652\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"40081.38890068\",\"cumRealisedPnl\":\"-10826.21398932\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759555861129}","module":"BybitClient","timestamp":"2025-10-04T05:31:00.952Z"}
{"level":"info","message":"Balance disponible: $40081.39","module":"TradingStrategy","timestamp":"2025-10-04T05:31:00.955Z"}
{"level":"info","message":"Balance obtenido - Total: $216013.73, Disponible: $40081.39","module":"BybitClient","timestamp":"2025-10-04T05:31:00.954Z"}
{"level":"debug","message":"Símbolo info - Min: 0.001, Step: 0.001","module":"TradingStrategy","timestamp":"2025-10-04T05:31:01.377Z"}
{"level":"info","message":"Contador diario de trades reseteado","module":"RiskManager","timestamp":"2025-10-04T05:31:01.385Z"}
{"level":"debug","message":"Autenticación: timestamp=1759555861386, query=accountType=UNIFIED, signature=d3ba0e4e6c7d82da7128f2ce61bcd996161ce42ff4e09841b5569d1a764dc499","module":"BybitClient","timestamp":"2025-10-04T05:31:01.387Z"}
{"level":"info","message":"Riesgo: 17.5%, Max position value: $7014.24","module":"TradingStrategy","timestamp":"2025-10-04T05:31:01.380Z"}
{"level":"debug","message":"Position value: $245498.51, Quantity raw: 2.0024348043773657","module":"TradingStrategy","timestamp":"2025-10-04T05:31:01.382Z"}
{"level":"info","message":"Cantidad final calculada: 2.0020000000000002 BTC","module":"TradingStrategy","timestamp":"2025-10-04T05:31:01.382Z"}
{"level":"info","message":"Parámetros calculados - Leverage: 35x, Quantity: 2.0020000000000002","module":"TradingStrategy","timestamp":"2025-10-04T05:31:01.382Z"}
{"level":"info","message":"Generando señal de trading: BUY 2.0020000000000002 BTCUSDT @ 122600 (SL: 120270.59999999999, TP: 130985.84000000003)","module":"TradingStrategy","timestamp":"2025-10-04T05:31:01.382Z"}
{"level":"info","message":"EJECUTANDO TRADE: BUY 2.0020000000000002 BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T05:31:01.383Z"}
{"level":"info","message":"=== INICIO EJECUCIÓN DE TRADE ===","module":"TradingStrategy","timestamp":"2025-10-04T05:31:01.383Z"}
{"level":"info","message":"Señal: {\"symbol\":\"BTCUSDT\",\"action\":\"BUY\",\"leverage\":35,\"quantity\":2.0020000000000002,\"stopLoss\":120270.59999999999,\"takeProfit\":130985.84000000003,\"timestamp\":1759555861383,\"aiAnalysis\":{\"decision\":\"BUY\",\"confidence\":0.8,\"reasoning\":\"La RSI está por encima del 70, indicando un estado overbought. Además, el MACD está en una posición bullish y el Bollinger Band está superando la línea superior, lo que sugiere una posible tendencia ascendente. La Kalman Prediction también predice una subida con alta confianza.\",\"indicators\":{},\"kalman\":{},\"marketSentiment\":\"bullish\",\"riskLevel\":\"medium\",\"suggestedLeverage\":10}}","module":"TradingStrategy","timestamp":"2025-10-04T05:31:01.384Z"}
{"level":"info","message":"Validando con Risk Manager...","module":"TradingStrategy","timestamp":"2025-10-04T05:31:01.384Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216013.72776911\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"216013.72776911\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49995.37375417\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121399.84382741\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4505.497071\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"40081.38890068\",\"totalPositionMM\":\"0\",\"usdValue\":\"40113.01311652\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"40081.38890068\",\"cumRealisedPnl\":\"-10826.21398932\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759555861981}","module":"BybitClient","timestamp":"2025-10-04T05:31:01.803Z"}
{"level":"info","message":"Balance obtenido - Total: $216013.73, Disponible: $40081.39","module":"BybitClient","timestamp":"2025-10-04T05:31:01.809Z"}
{"level":"info","message":"Validando posición: Cantidad=2.0020000000000002, Precio=122618.9, Valor=245483.04","module":"RiskManager","timestamp":"2025-10-04T05:31:02.204Z"}
{"level":"info","message":"Resultado validación: {\"approved\":false,\"reason\":\"Posición excede límite de riesgo. Máximo: $108006.86\",\"adjustedParams\":{\"symbol\":\"BTCUSDT\",\"side\":\"Buy\",\"quantity\":0.88,\"leverage\":35,\"stopLoss\":120270.59999999999,\"takeProfit\":130985.84000000003},\"riskScore\":0.8}","module":"TradingStrategy","timestamp":"2025-10-04T05:31:02.204Z"}
{"level":"warn","message":"Posición excede límite. Solicitado: $245483.04, Máximo: $108006.86","module":"RiskManager","timestamp":"2025-10-04T05:31:02.204Z"}
{"level":"warn","message":"Trade rechazado por gestión de riesgo: Posición excede límite de riesgo. Máximo: $108006.86","module":"TradingStrategy","timestamp":"2025-10-04T05:31:02.204Z"}
{"level":"info","message":"Recibida señal SIGINT, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-04T05:31:58.852Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759555918863}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-04T05:31:58.863Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-04T05:31:58.866Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759555923120}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-04T05:32:03.109Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-04T05:32:03.100Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:32:03.107Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:32:03.108Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759555923121}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-04T05:32:03.115Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T05:32:03.108Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T05:32:03.117Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:32:03.117Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:32:03.119Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:32:03.119Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T05:32:03.120Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T05:32:03.121Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (5m)","module":"TradingSystem","timestamp":"2025-10-04T05:32:03.121Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-04T05:32:03.109Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-04T05:32:03.109Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-04T05:32:03.109Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-04T05:32:03.109Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-04T05:32:03.111Z"}
{"level":"info","message":"6 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T05:32:03.112Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T05:32:03.153Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T05:32:03.625Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T05:32:04.768Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (5m)","module":"DataManager","timestamp":"2025-10-04T05:32:04.768Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 200","module":"BybitClient","timestamp":"2025-10-04T05:32:04.769Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-04T05:32:04.768Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T05:32:05.670Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T05:32:05.672Z"}
{"level":"info","message":"Datos suficientes recopilados para BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T05:32:05.673Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T05:32:05.674Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1720","module":"KalmanFilter","timestamp":"2025-10-04T05:32:05.675Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-04T05:32:05.676Z"}
{"level":"info","message":"Velas obtenidas: 200 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T05:32:05.672Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T05:32:05.673Z"}
{"level":"debug","message":"Predicción Kalman: 122474.72312654041 (Confianza: 0.829)","module":"KalmanFilter","timestamp":"2025-10-04T05:32:05.676Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T05:32:06.072Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T05:32:39.728Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":122103.38742572772,"middle":122405.275,"upper":122707.16257427227},"ema":{"ema21":122399.74440676149,"ema50":122224.78789765551,"ema9":122544.92029010711},"macd":{"histogram":15.446122997603368,"macd":154.4612299760338,"signal":139.01510697843042},"rsi":69.3335290663519,"volume":{"avg":115.78540000000001,"current":45.019,"ratio":0.388814133733614}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La combinación de un precio actual por encima del cambio reciente y el aumento en el RSI y el MACD sugiere una tendencia bullish. Además, la predicción de Kalman es positiva con alta confianza, lo que respalda la decisión de compra. Recomiendo un leveraje alto (10-50x) para maximizar los beneficios.","symbol":"BTCUSDT","timestamp":1759555959730}
{"level":"debug","message":"Autenticación: timestamp=1759555959732, query=category=linear&symbol=BTCUSDT, signature=098b88ead465218366e7474e83f429886b7609cd1f1b037ac5097dbccbd302f1","module":"BybitClient","timestamp":"2025-10-04T05:32:39.743Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759555055484%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"10\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"122605.2\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-10831.16214444\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697264625154,\"updatedTime\":\"1759555055484\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759555961278}","module":"BybitClient","timestamp":"2025-10-04T05:32:41.099Z"}
{"level":"info","message":"Posiciones existentes: 0","module":"TradingStrategy","timestamp":"2025-10-04T05:32:41.099Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-04T05:32:41.099Z"}
{"level":"debug","message":"Autenticación: timestamp=1759555961100, query=accountType=UNIFIED, signature=b3a7c14c24e199a751da17b627c10418090afb18353bc5daa10449a83266819d","module":"BybitClient","timestamp":"2025-10-04T05:32:41.100Z"}
{"level":"info","message":"AI sugiere BUY con confianza 0.8","module":"TradingStrategy","timestamp":"2025-10-04T05:32:41.099Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216013.72776911\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"216013.72776911\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49995.37375417\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121399.84382741\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4505.497071\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"40081.38890068\",\"totalPositionMM\":\"0\",\"usdValue\":\"40113.01311652\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"40081.38890068\",\"cumRealisedPnl\":\"-10826.21398932\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759555961679}","module":"BybitClient","timestamp":"2025-10-04T05:32:41.504Z"}
{"level":"info","message":"Balance disponible: $40081.39, Precio: $122590.5","module":"TradingStrategy","timestamp":"2025-10-04T05:32:41.505Z"}
{"level":"info","message":"Balance obtenido - Total: $216013.73, Disponible: $40081.39","module":"BybitClient","timestamp":"2025-10-04T05:32:41.505Z"}
{"level":"debug","message":"Símbolo info - Min: 0.001, Step: 0.001","module":"TradingStrategy","timestamp":"2025-10-04T05:32:41.899Z"}
{"level":"info","message":"Contador diario de trades reseteado","module":"RiskManager","timestamp":"2025-10-04T05:32:41.901Z"}
{"level":"debug","message":"Autenticación: timestamp=1759555961901, query=accountType=UNIFIED, signature=2ee3bb8642fb080b613e27a918628e7c1d1ae8a0fffe8bfb15976097d7c84bea","module":"BybitClient","timestamp":"2025-10-04T05:32:41.902Z"}
{"level":"info","message":"Riesgo: 15%, Capital a arriesgar: $6012.21","module":"TradingStrategy","timestamp":"2025-10-04T05:32:41.899Z"}
{"level":"info","message":"Position value: $180366.25, Quantity raw: 1.471291","module":"TradingStrategy","timestamp":"2025-10-04T05:32:41.900Z"}
{"level":"info","message":"Cantidad final calculada: 1.471 BTC (valor: $180330.63)","module":"TradingStrategy","timestamp":"2025-10-04T05:32:41.900Z"}
{"level":"info","message":"Parámetros calculados - Leverage: 30x, Quantity: 1.471","module":"TradingStrategy","timestamp":"2025-10-04T05:32:41.900Z"}
{"level":"info","message":"Generando señal de trading: BUY 1.471 BTCUSDT @ 122590.5 (SL: 120261.2805, TP: 130975.69020000003)","module":"TradingStrategy","timestamp":"2025-10-04T05:32:41.900Z"}
{"level":"info","message":"EJECUTANDO TRADE: BUY 1.471 BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T05:32:41.900Z"}
{"level":"info","message":"=== INICIO EJECUCIÓN DE TRADE ===","module":"TradingStrategy","timestamp":"2025-10-04T05:32:41.900Z"}
{"level":"info","message":"Señal: {\"symbol\":\"BTCUSDT\",\"action\":\"BUY\",\"leverage\":30,\"quantity\":1.471,\"stopLoss\":120261.2805,\"takeProfit\":130975.69020000003,\"timestamp\":1759555961900,\"aiAnalysis\":{\"decision\":\"BUY\",\"confidence\":0.8,\"reasoning\":\"La combinación de un precio actual por encima del cambio reciente y el aumento en el RSI y el MACD sugiere una tendencia bullish. Además, la predicción de Kalman es positiva con alta confianza, lo que respalda la decisión de compra. Recomiendo un leveraje alto (10-50x) para maximizar los beneficios.\",\"indicators\":{},\"kalman\":{},\"marketSentiment\":\"bullish\",\"riskLevel\":\"medium\",\"suggestedLeverage\":10}}","module":"TradingStrategy","timestamp":"2025-10-04T05:32:41.900Z"}
{"level":"info","message":"Validando con Risk Manager...","module":"TradingStrategy","timestamp":"2025-10-04T05:32:41.901Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216013.72776911\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"216013.72776911\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49995.37375417\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121399.84382741\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4505.497071\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"40081.38890068\",\"totalPositionMM\":\"0\",\"usdValue\":\"40113.01311652\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"40081.38890068\",\"cumRealisedPnl\":\"-10826.21398932\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759555962482}","module":"BybitClient","timestamp":"2025-10-04T05:32:42.306Z"}
{"level":"info","message":"Balance obtenido - Total: $216013.73, Disponible: $40081.39","module":"BybitClient","timestamp":"2025-10-04T05:32:42.306Z"}
{"level":"info","message":"Validando posición: Cantidad=1.471, Precio=122605.2, Valor=180352.25","module":"RiskManager","timestamp":"2025-10-04T05:32:42.701Z"}
{"level":"info","message":"Resultado validación: {\"approved\":false,\"reason\":\"Posición excede límite de riesgo. Máximo: $108006.86\",\"adjustedParams\":{\"symbol\":\"BTCUSDT\",\"side\":\"Buy\",\"quantity\":0.88,\"leverage\":30,\"stopLoss\":120261.2805,\"takeProfit\":130975.69020000003},\"riskScore\":0.8}","module":"TradingStrategy","timestamp":"2025-10-04T05:32:42.702Z"}
{"level":"debug","message":"Autenticación: timestamp=1759555962703, query=category=linear&symbol=BTCUSDT&buyLeverage=30&sellLeverage=30, signature=453fcfcb4a57224fab362f3083cfea5be1d83d60ae324278f1717b4b4d950ae4","module":"BybitClient","timestamp":"2025-10-04T05:32:42.703Z"}
{"level":"warn","message":"Posición excede límite. Solicitado: $180352.25, Máximo: $108006.86","module":"RiskManager","timestamp":"2025-10-04T05:32:42.702Z"}
{"level":"info","message":"Trade ajustado por Risk Manager. Cantidad ajustada: 0.88","module":"TradingStrategy","timestamp":"2025-10-04T05:32:42.702Z"}
{"level":"info","message":"Ejecutando trade con parámetros ajustados: 0.88 BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T05:32:42.702Z"}
{"error":{"endpoint":"/v5/position/set-leverage","error":"Request failed with status code 404","method":"GET","params":{"buyLeverage":"30","category":"linear","sellLeverage":"30","symbol":"BTCUSDT"},"response":""},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-04T05:32:43.138Z"}
{"error":"Error: Error ejecutando trade: Error estableciendo leverage para BTCUSDT\n    at BybitClient.executeTrade (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:147:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.executeTradingAction (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:287:24)\n    at async TradingStrategy.tradingLoop (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:95:11)","level":"error","message":"Error ejecutando acción de trading:","module":"TradingStrategy","timestamp":"2025-10-04T05:32:43.140Z"}
{"error":"AxiosError: Request failed with status code 404\n    at settle (/Users/x3at/Documents/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/x3at/Documents/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1696:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/x3at/Documents/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:330:20)\n    at async BybitClient.setLeverage (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:197:7)\n    at async BybitClient.executeTrade (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:121:9)\n    at async TradingStrategy.executeTradingAction (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:287:24)\n    at async TradingStrategy.tradingLoop (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:95:11)","level":"error","message":"Error estableciendo leverage:","module":"BybitClient","timestamp":"2025-10-04T05:32:43.138Z"}
{"error":"Error: Error estableciendo leverage para BTCUSDT\n    at BybitClient.setLeverage (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:207:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.executeTrade (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:121:9)\n    at async TradingStrategy.executeTradingAction (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:287:24)\n    at async TradingStrategy.tradingLoop (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:95:11)","level":"error","message":"Error ejecutando trade:","module":"BybitClient","timestamp":"2025-10-04T05:32:43.139Z"}
{"level":"info","message":"Recibida señal SIGINT, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-04T05:34:10.421Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759556050437}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-04T05:34:10.476Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-04T05:34:10.479Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759556055945}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-04T05:34:15.941Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-04T05:34:15.932Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:34:15.938Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T05:34:15.940Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:34:15.939Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759556055945}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-04T05:34:15.943Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T05:34:15.944Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:34:15.944Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:34:15.944Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:34:15.945Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T05:34:15.945Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T05:34:15.945Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (5m)","module":"TradingSystem","timestamp":"2025-10-04T05:34:15.945Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-04T05:34:15.941Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-04T05:34:15.941Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-04T05:34:15.941Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-04T05:34:15.941Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-04T05:34:15.942Z"}
{"level":"info","message":"6 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T05:34:15.942Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T05:34:15.963Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T05:34:16.329Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T05:34:17.729Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (5m)","module":"DataManager","timestamp":"2025-10-04T05:34:17.729Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 200","module":"BybitClient","timestamp":"2025-10-04T05:34:17.730Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-04T05:34:17.730Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T05:34:18.144Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T05:34:18.145Z"}
{"level":"info","message":"Datos suficientes recopilados para BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T05:34:18.145Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T05:34:18.146Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1815","module":"KalmanFilter","timestamp":"2025-10-04T05:34:18.146Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-04T05:34:18.146Z"}
{"level":"info","message":"Velas obtenidas: 200 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T05:34:18.145Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T05:34:18.145Z"}
{"level":"debug","message":"Predicción Kalman: 122475.25541662557 (Confianza: 0.826)","module":"KalmanFilter","timestamp":"2025-10-04T05:34:18.146Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T05:34:18.544Z"}
{"level":"info","message":"Recibida señal SIGINT, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-04T05:34:22.845Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759556062861}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-04T05:34:22.863Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-04T05:34:22.867Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759556069505}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-04T05:34:29.497Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-04T05:34:29.489Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:34:29.494Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T05:34:29.496Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:34:29.496Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759556069506}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-04T05:34:29.501Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T05:34:29.504Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:34:29.503Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:34:29.504Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:34:29.505Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T05:34:29.506Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T05:34:29.506Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (5m)","module":"TradingSystem","timestamp":"2025-10-04T05:34:29.506Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-04T05:34:29.497Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-04T05:34:29.497Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-04T05:34:29.497Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-04T05:34:29.498Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-04T05:34:29.499Z"}
{"level":"info","message":"6 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T05:34:29.499Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T05:34:29.526Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T05:34:29.740Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T05:34:30.614Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (5m)","module":"DataManager","timestamp":"2025-10-04T05:34:30.614Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 200","module":"BybitClient","timestamp":"2025-10-04T05:34:30.614Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-04T05:34:30.614Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T05:34:31.021Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T05:34:31.022Z"}
{"level":"info","message":"Datos suficientes recopilados para BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T05:34:31.022Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T05:34:31.023Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1820","module":"KalmanFilter","timestamp":"2025-10-04T05:34:31.024Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-04T05:34:31.024Z"}
{"level":"info","message":"Velas obtenidas: 200 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T05:34:31.021Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T05:34:31.022Z"}
{"level":"debug","message":"Predicción Kalman: 122474.90911855476 (Confianza: 0.826)","module":"KalmanFilter","timestamp":"2025-10-04T05:34:31.024Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T05:34:31.421Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T05:35:08.036Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":122098.57351824678,"middle":122408.005,"upper":122717.43648175323},"ema":{"ema21":122404.70804312512,"ema50":122226.9290741261,"ema9":122555.84029010711},"macd":{"histogram":15.881678553158423,"macd":158.81678553158417,"signal":142.93510697842575},"rsi":73.5625370480126,"volume":{"avg":116.42442000000001,"current":108.921,"ratio":0.935551149836091}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La RSI está en el rango superior (73.56) y el MACD está en un signal bullish con un valor de $142.9351, lo que indica una posible tendencia ascendente. Además, el Bollinger Band Superior se encuentra por encima del precio actual, lo que sugiere una mayor volatilidad y un mayor margen de maniobra para realizar una inversión. La predicción de Kalman también indica una posible subida con alta confianza.","symbol":"BTCUSDT","timestamp":1759556108040}
{"level":"debug","message":"Autenticación: timestamp=1759556108042, query=category=linear&symbol=BTCUSDT, signature=355d26ee7d2fc8e58d94cb97d3001e9437f047012ba04792c1a3ca905720f03c","module":"BybitClient","timestamp":"2025-10-04T05:35:08.043Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759555055484%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"10\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"122629.63\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-10831.16214444\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697264625154,\"updatedTime\":\"1759555055484\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759556109079}","module":"BybitClient","timestamp":"2025-10-04T05:35:08.899Z"}
{"level":"info","message":"Posiciones existentes: 0","module":"TradingStrategy","timestamp":"2025-10-04T05:35:08.899Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-04T05:35:08.899Z"}
{"level":"debug","message":"Autenticación: timestamp=1759556108900, query=accountType=UNIFIED, signature=fe4eb03144e7d77e6da76fa7d40deb8cc545174cf5c369aa440c1411437844cd","module":"BybitClient","timestamp":"2025-10-04T05:35:08.900Z"}
{"level":"info","message":"AI sugiere BUY con confianza 0.8","module":"TradingStrategy","timestamp":"2025-10-04T05:35:08.900Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216013.72776911\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"216013.72776911\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49995.37375417\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121399.84382741\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4505.497071\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"40081.38890068\",\"totalPositionMM\":\"0\",\"usdValue\":\"40113.01311652\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"40081.38890068\",\"cumRealisedPnl\":\"-10826.21398932\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759556109476}","module":"BybitClient","timestamp":"2025-10-04T05:35:09.298Z"}
{"level":"info","message":"Balance disponible: $40081.39, Precio: $122645.1","module":"TradingStrategy","timestamp":"2025-10-04T05:35:09.298Z"}
{"level":"info","message":"Balance obtenido - Total: $216013.73, Disponible: $40081.39","module":"BybitClient","timestamp":"2025-10-04T05:35:09.298Z"}
{"level":"debug","message":"Símbolo info - Min: 0.001, Step: 0.001","module":"TradingStrategy","timestamp":"2025-10-04T05:35:09.692Z"}
{"level":"info","message":"Contador diario de trades reseteado","module":"RiskManager","timestamp":"2025-10-04T05:35:09.699Z"}
{"level":"debug","message":"Autenticación: timestamp=1759556109700, query=accountType=UNIFIED, signature=bdf66a7c732ef20f4bcd4b4a40a0e4a1810899daeed8dfb131eb07e20f6063e7","module":"BybitClient","timestamp":"2025-10-04T05:35:09.700Z"}
{"level":"info","message":"Riesgo: 17.5%, Capital a arriesgar: $7014.24","module":"TradingStrategy","timestamp":"2025-10-04T05:35:09.692Z"}
{"level":"info","message":"Position value: $245498.51, Quantity raw: 2.001698","module":"TradingStrategy","timestamp":"2025-10-04T05:35:09.693Z"}
{"level":"info","message":"Cantidad final calculada: 2.001 BTC (valor: $245412.85)","module":"TradingStrategy","timestamp":"2025-10-04T05:35:09.693Z"}
{"level":"info","message":"Parámetros calculados - Leverage: 35x, Quantity: 2.001","module":"TradingStrategy","timestamp":"2025-10-04T05:35:09.693Z"}
{"level":"info","message":"Generando señal de trading: BUY 2.001 BTCUSDT @ 122645.1 (SL: 120314.8431, TP: 131034.02484000003)","module":"TradingStrategy","timestamp":"2025-10-04T05:35:09.694Z"}
{"level":"info","message":"EJECUTANDO TRADE: BUY 2.001 BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T05:35:09.694Z"}
{"level":"info","message":"=== INICIO EJECUCIÓN DE TRADE ===","module":"TradingStrategy","timestamp":"2025-10-04T05:35:09.695Z"}
{"level":"info","message":"Señal: {\"symbol\":\"BTCUSDT\",\"action\":\"BUY\",\"leverage\":35,\"quantity\":2.001,\"stopLoss\":120314.8431,\"takeProfit\":131034.02484000003,\"timestamp\":1759556109694,\"aiAnalysis\":{\"decision\":\"BUY\",\"confidence\":0.8,\"reasoning\":\"La RSI está en el rango superior (73.56) y el MACD está en un signal bullish con un valor de $142.9351, lo que indica una posible tendencia ascendente. Además, el Bollinger Band Superior se encuentra por encima del precio actual, lo que sugiere una mayor volatilidad y un mayor margen de maniobra para realizar una inversión. La predicción de Kalman también indica una posible subida con alta confianza.\",\"indicators\":{},\"kalman\":{},\"marketSentiment\":\"bullish\",\"riskLevel\":\"high\",\"suggestedLeverage\":10}}","module":"TradingStrategy","timestamp":"2025-10-04T05:35:09.695Z"}
{"level":"info","message":"Validando con Risk Manager...","module":"TradingStrategy","timestamp":"2025-10-04T05:35:09.695Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216013.72776911\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"216013.72776911\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49995.37375417\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121399.84382741\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4505.497071\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"40081.38890068\",\"totalPositionMM\":\"0\",\"usdValue\":\"40113.01311652\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"40081.38890068\",\"cumRealisedPnl\":\"-10826.21398932\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759556110279}","module":"BybitClient","timestamp":"2025-10-04T05:35:10.099Z"}
{"level":"info","message":"Balance obtenido - Total: $216013.73, Disponible: $40081.39","module":"BybitClient","timestamp":"2025-10-04T05:35:10.100Z"}
{"level":"info","message":"Validando posición: Cantidad=2.001, Precio=122627.9, Valor=245378.43","module":"RiskManager","timestamp":"2025-10-04T05:35:10.501Z"}
{"level":"info","message":"Resultado validación: {\"approved\":false,\"reason\":\"Posición excede límite de riesgo. Máximo: $108006.86\",\"adjustedParams\":{\"symbol\":\"BTCUSDT\",\"side\":\"Buy\",\"quantity\":0.88,\"leverage\":35,\"stopLoss\":120314.8431,\"takeProfit\":131034.02484000003},\"riskScore\":0.8}","module":"TradingStrategy","timestamp":"2025-10-04T05:35:10.501Z"}
{"level":"debug","message":"Autenticación: timestamp=1759556110502, query=category=linear&symbol=BTCUSDT&buyLeverage=35&sellLeverage=35, signature=dbef654b6b71d171bc4363292efa5a74e709f6b5aa6474fac6042a247d0c82b0","module":"BybitClient","timestamp":"2025-10-04T05:35:10.502Z"}
{"level":"warn","message":"Posición excede límite. Solicitado: $245378.43, Máximo: $108006.86","module":"RiskManager","timestamp":"2025-10-04T05:35:10.501Z"}
{"level":"info","message":"Trade ajustado por Risk Manager. Cantidad ajustada: 0.88","module":"TradingStrategy","timestamp":"2025-10-04T05:35:10.502Z"}
{"level":"info","message":"Ejecutando trade con parámetros ajustados: 0.88 BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T05:35:10.502Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10004,\"retMsg\":\"error sign! origin_string[1759556110502jZVZskvC82vQUZhMzV5000{\\\"category\\\":\\\"linear\\\",\\\"symbol\\\":\\\"BTCUSDT\\\",\\\"buyLeverage\\\":\\\"35\\\",\\\"sellLeverage\\\":\\\"35\\\"}]\",\"result\":{},\"retExtInfo\":{},\"time\":1759556111074}","module":"BybitClient","timestamp":"2025-10-04T05:35:10.893Z"}
{"error":{"endpoint":"/v5/position/set-leverage","error":"Error API Bybit: error sign! origin_string[1759556110502jZVZskvC82vQUZhMzV5000{\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"buyLeverage\":\"35\",\"sellLeverage\":\"35\"}] (Code: 10004)","method":"POST","params":{"buyLeverage":"35","category":"linear","sellLeverage":"35","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-04T05:35:10.893Z"}
{"error":"Error: Error API Bybit: error sign! origin_string[1759556110502jZVZskvC82vQUZhMzV5000{\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"buyLeverage\":\"35\",\"sellLeverage\":\"35\"}] (Code: 10004)\n    at BybitClient.makeAuthenticatedRequest (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:342:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.setLeverage (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:200:7)\n    at async BybitClient.executeTrade (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:121:9)\n    at async TradingStrategy.executeTradingAction (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:287:24)\n    at async TradingStrategy.tradingLoop (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:95:11)","level":"error","message":"Error estableciendo leverage:","module":"BybitClient","timestamp":"2025-10-04T05:35:10.900Z"}
{"level":"warn","message":"Continuando sin cambiar leverage para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T05:35:10.901Z"}
{"level":"info","message":"Ejecutando orden: Buy 0.88 BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T05:35:10.901Z"}
{"level":"debug","message":"Autenticación: timestamp=1759556110904, query=category=linear&symbol=BTCUSDT&side=Buy&orderType=Market&qty=0.88&timeInForce=IOC, signature=f01f5b1b284416703c0cdbb48dbbaa885644fb69e42c9c0dbae0c6346765a40f","module":"BybitClient","timestamp":"2025-10-04T05:35:10.904Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10004,\"retMsg\":\"error sign! origin_string[1759556110904jZVZskvC82vQUZhMzV5000{\\\"category\\\":\\\"linear\\\",\\\"symbol\\\":\\\"BTCUSDT\\\",\\\"side\\\":\\\"Buy\\\",\\\"orderType\\\":\\\"Market\\\",\\\"qty\\\":\\\"0.88\\\",\\\"timeInForce\\\":\\\"IOC\\\"}]\",\"result\":{},\"retExtInfo\":{},\"time\":1759556111476}","module":"BybitClient","timestamp":"2025-10-04T05:35:11.298Z"}
{"error":"Error: Error ejecutando trade: Error API Bybit: error sign! origin_string[1759556110904jZVZskvC82vQUZhMzV5000{\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"side\":\"Buy\",\"orderType\":\"Market\",\"qty\":\"0.88\",\"timeInForce\":\"IOC\"}] (Code: 10004)\n    at BybitClient.executeTrade (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:150:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.executeTradingAction (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:287:24)\n    at async TradingStrategy.tradingLoop (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:95:11)","level":"error","message":"Error ejecutando acción de trading:","module":"TradingStrategy","timestamp":"2025-10-04T05:35:11.300Z"}
{"error":{"endpoint":"/v5/order/create","error":"Error API Bybit: error sign! origin_string[1759556110904jZVZskvC82vQUZhMzV5000{\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"side\":\"Buy\",\"orderType\":\"Market\",\"qty\":\"0.88\",\"timeInForce\":\"IOC\"}] (Code: 10004)","method":"POST","params":{"category":"linear","orderType":"Market","qty":"0.88","side":"Buy","symbol":"BTCUSDT","timeInForce":"IOC"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-04T05:35:11.299Z"}
{"error":"Error: Error API Bybit: error sign! origin_string[1759556110904jZVZskvC82vQUZhMzV5000{\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"side\":\"Buy\",\"orderType\":\"Market\",\"qty\":\"0.88\",\"timeInForce\":\"IOC\"}] (Code: 10004)\n    at BybitClient.makeAuthenticatedRequest (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:342:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.executeTrade (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:134:24)\n    at async TradingStrategy.executeTradingAction (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:287:24)\n    at async TradingStrategy.tradingLoop (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:95:11)","level":"error","message":"Error ejecutando trade:","module":"BybitClient","timestamp":"2025-10-04T05:35:11.300Z"}
{"level":"info","message":"Recibida señal SIGINT, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-04T05:36:34.043Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759556194052}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-04T05:36:34.055Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-04T05:36:34.059Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759556198181}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-04T05:36:38.174Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-04T05:36:38.162Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:36:38.170Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:36:38.173Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T05:36:38.173Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759556198182}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-04T05:36:38.178Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T05:36:38.180Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:36:38.180Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:36:38.181Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:36:38.181Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T05:36:38.181Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T05:36:38.181Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (5m)","module":"TradingSystem","timestamp":"2025-10-04T05:36:38.181Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-04T05:36:38.174Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-04T05:36:38.174Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-04T05:36:38.174Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-04T05:36:38.175Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-04T05:36:38.175Z"}
{"level":"info","message":"6 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T05:36:38.176Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T05:36:38.204Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T05:36:38.242Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T05:36:39.603Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (5m)","module":"DataManager","timestamp":"2025-10-04T05:36:39.605Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 200","module":"BybitClient","timestamp":"2025-10-04T05:36:39.606Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-04T05:36:39.606Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T05:36:40.018Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T05:36:40.019Z"}
{"level":"info","message":"Datos suficientes recopilados para BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T05:36:40.019Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T05:36:40.019Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1259","module":"KalmanFilter","timestamp":"2025-10-04T05:36:40.020Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-04T05:36:40.020Z"}
{"level":"info","message":"Velas obtenidas: 200 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T05:36:40.019Z"}
{"level":"debug","message":"Predicción Kalman: 122533.12142591599 (Confianza: 0.839)","module":"KalmanFilter","timestamp":"2025-10-04T05:36:40.020Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T05:36:40.019Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T05:36:40.414Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T05:37:12.089Z"}
{"confidence":0.3,"decision":"BUY","indicators":{"bollinger":{"lower":122124.48080868885,"middle":122430.48500000002,"upper":122736.48919131118},"ema":{"ema21":122425.47647539448,"ema50":122243.61104428298,"ema9":122571.47223209425},"macd":{"histogram":15.656062742960046,"macd":156.56062742960057,"signal":140.90456468664053},"rsi":78.38354854136563,"volume":{"avg":115.71522000000004,"current":33.561,"ratio":0.29003099160162327}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"{\n  \"decision\": \"BUY\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La RSI está en un nivel altamente overbought (78.38), indicando una posibilidad alta de una retroceso. Además, el MACD está en un nivel bull","symbol":"BTCUSDT","timestamp":1759556232094}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759556232095, payload=category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T05:37:12.100Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-04T05:37:12.093Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-04T05:37:12.093Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759555055484%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"10\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"122640.3\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-10831.16214444\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697264625154,\"updatedTime\":\"1759555055484\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759556233147}","module":"BybitClient","timestamp":"2025-10-04T05:37:12.962Z"}
{"level":"info","message":"Posiciones existentes: 0","module":"TradingStrategy","timestamp":"2025-10-04T05:37:12.963Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-04T05:37:12.963Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759556232963, payload=accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-04T05:37:12.964Z"}
{"level":"info","message":"AI sugiere BUY con confianza 0.3","module":"TradingStrategy","timestamp":"2025-10-04T05:37:12.963Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216013.72776911\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"216013.72776911\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49995.37375417\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121399.84382741\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4505.497071\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"40081.38890068\",\"totalPositionMM\":\"0\",\"usdValue\":\"40113.01311652\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"40081.38890068\",\"cumRealisedPnl\":\"-10826.21398932\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759556233543}","module":"BybitClient","timestamp":"2025-10-04T05:37:13.380Z"}
{"level":"info","message":"Balance disponible: $40081.39, Precio: $122640.3","module":"TradingStrategy","timestamp":"2025-10-04T05:37:13.383Z"}
{"level":"info","message":"Balance obtenido - Total: $216013.73, Disponible: $40081.39","module":"BybitClient","timestamp":"2025-10-04T05:37:13.383Z"}
{"level":"debug","message":"Símbolo info - Min: 0.001, Step: 0.001","module":"TradingStrategy","timestamp":"2025-10-04T05:37:13.784Z"}
{"level":"info","message":"Contador diario de trades reseteado","module":"RiskManager","timestamp":"2025-10-04T05:37:13.786Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759556233786, payload=accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-04T05:37:13.786Z"}
{"level":"info","message":"Riesgo: 15%, Capital a arriesgar: $6012.21","module":"TradingStrategy","timestamp":"2025-10-04T05:37:13.784Z"}
{"level":"info","message":"Position value: $180366.25, Quantity raw: 1.470693","module":"TradingStrategy","timestamp":"2025-10-04T05:37:13.784Z"}
{"level":"info","message":"Cantidad final calculada: 1.47 BTC (valor: $180281.24)","module":"TradingStrategy","timestamp":"2025-10-04T05:37:13.784Z"}
{"level":"info","message":"Parámetros calculados - Leverage: 30x, Quantity: 1.47","module":"TradingStrategy","timestamp":"2025-10-04T05:37:13.785Z"}
{"level":"info","message":"Generando señal de trading: BUY 1.47 BTCUSDT @ 122640.3 (SL: 120310.1343, TP: 128698.73082)","module":"TradingStrategy","timestamp":"2025-10-04T05:37:13.785Z"}
{"level":"info","message":"EJECUTANDO TRADE: BUY 1.47 BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T05:37:13.785Z"}
{"level":"info","message":"=== INICIO EJECUCIÓN DE TRADE ===","module":"TradingStrategy","timestamp":"2025-10-04T05:37:13.785Z"}
{"level":"info","message":"Señal: {\"symbol\":\"BTCUSDT\",\"action\":\"BUY\",\"leverage\":30,\"quantity\":1.47,\"stopLoss\":120310.1343,\"takeProfit\":128698.73082,\"timestamp\":1759556233785,\"aiAnalysis\":{\"decision\":\"BUY\",\"confidence\":0.3,\"reasoning\":\"{\\n  \\\"decision\\\": \\\"BUY\\\",\\n  \\\"confidence\\\": 0.8,\\n  \\\"reasoning\\\": \\\"La RSI está en un nivel altamente overbought (78.38), indicando una posibilidad alta de una retroceso. Además, el MACD está en un nivel bull\",\"indicators\":{},\"kalman\":{},\"marketSentiment\":\"neutral\",\"riskLevel\":\"medium\",\"suggestedLeverage\":2}}","module":"TradingStrategy","timestamp":"2025-10-04T05:37:13.785Z"}
{"level":"info","message":"Validando con Risk Manager...","module":"TradingStrategy","timestamp":"2025-10-04T05:37:13.785Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216013.72776911\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"216013.72776911\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49995.37375417\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121399.84382741\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4505.497071\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"40081.38890068\",\"totalPositionMM\":\"0\",\"usdValue\":\"40113.01311652\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"40081.38890068\",\"cumRealisedPnl\":\"-10826.21398932\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759556234367}","module":"BybitClient","timestamp":"2025-10-04T05:37:14.184Z"}
{"level":"info","message":"Balance obtenido - Total: $216013.73, Disponible: $40081.39","module":"BybitClient","timestamp":"2025-10-04T05:37:14.185Z"}
{"level":"info","message":"Validando posición: Cantidad=1.47, Precio=122640.3, Valor=180281.24","module":"RiskManager","timestamp":"2025-10-04T05:37:14.575Z"}
{"level":"info","message":"Resultado validación: {\"approved\":false,\"reason\":\"Posición excede límite de riesgo. Máximo: $108006.86\",\"adjustedParams\":{\"symbol\":\"BTCUSDT\",\"side\":\"Buy\",\"quantity\":0.88,\"leverage\":30,\"stopLoss\":120310.1343,\"takeProfit\":128698.73082},\"riskScore\":0.8}","module":"TradingStrategy","timestamp":"2025-10-04T05:37:14.575Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759556234576, payload={\"buyLeverage\":\"30\",\"category\":\"linear\",\"sellLeverage\":\"30\",\"symbol\":\"BTCUSDT\"}","module":"BybitClient","timestamp":"2025-10-04T05:37:14.576Z"}
{"level":"warn","message":"Posición excede límite. Solicitado: $180281.24, Máximo: $108006.86","module":"RiskManager","timestamp":"2025-10-04T05:37:14.575Z"}
{"level":"info","message":"Trade ajustado por Risk Manager. Cantidad ajustada: 0.88","module":"TradingStrategy","timestamp":"2025-10-04T05:37:14.576Z"}
{"level":"info","message":"Ejecutando trade con parámetros ajustados: 0.88 BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T05:37:14.576Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10004,\"retMsg\":\"error sign! origin_string[1759556234576jZVZskvC82vQUZhMzV5000{\\\"category\\\":\\\"linear\\\",\\\"symbol\\\":\\\"BTCUSDT\\\",\\\"buyLeverage\\\":\\\"30\\\",\\\"sellLeverage\\\":\\\"30\\\"}]\",\"result\":{},\"retExtInfo\":{},\"time\":1759556235151}","module":"BybitClient","timestamp":"2025-10-04T05:37:14.965Z"}
{"error":{"endpoint":"/v5/position/set-leverage","error":"Error API Bybit: error sign! origin_string[1759556234576jZVZskvC82vQUZhMzV5000{\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"buyLeverage\":\"30\",\"sellLeverage\":\"30\"}] (Code: 10004)","method":"POST","params":{"buyLeverage":"30","category":"linear","sellLeverage":"30","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-04T05:37:14.966Z"}
{"error":"Error: Error API Bybit: error sign! origin_string[1759556234576jZVZskvC82vQUZhMzV5000{\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"buyLeverage\":\"30\",\"sellLeverage\":\"30\"}] (Code: 10004)\n    at BybitClient.makeAuthenticatedRequest (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:355:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.setLeverage (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:200:7)\n    at async BybitClient.executeTrade (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:121:9)\n    at async TradingStrategy.executeTradingAction (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:287:24)\n    at async TradingStrategy.tradingLoop (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:95:11)","level":"error","message":"Error estableciendo leverage:","module":"BybitClient","timestamp":"2025-10-04T05:37:14.978Z"}
{"level":"warn","message":"Continuando sin cambiar leverage para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T05:37:14.979Z"}
{"level":"info","message":"Ejecutando orden: Buy 0.88 BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T05:37:14.980Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759556234980, payload={\"category\":\"linear\",\"orderType\":\"Market\",\"qty\":\"0.88\",\"side\":\"Buy\",\"symbol\":\"BTCUSDT\",\"timeInForce\"","module":"BybitClient","timestamp":"2025-10-04T05:37:14.980Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10004,\"retMsg\":\"error sign! origin_string[1759556234980jZVZskvC82vQUZhMzV5000{\\\"category\\\":\\\"linear\\\",\\\"symbol\\\":\\\"BTCUSDT\\\",\\\"side\\\":\\\"Buy\\\",\\\"orderType\\\":\\\"Market\\\",\\\"qty\\\":\\\"0.88\\\",\\\"timeInForce\\\":\\\"IOC\\\"}]\",\"result\":{},\"retExtInfo\":{},\"time\":1759556235559}","module":"BybitClient","timestamp":"2025-10-04T05:37:15.374Z"}
{"error":"Error: Error ejecutando trade: Error API Bybit: error sign! origin_string[1759556234980jZVZskvC82vQUZhMzV5000{\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"side\":\"Buy\",\"orderType\":\"Market\",\"qty\":\"0.88\",\"timeInForce\":\"IOC\"}] (Code: 10004)\n    at BybitClient.executeTrade (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:150:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.executeTradingAction (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:287:24)\n    at async TradingStrategy.tradingLoop (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:95:11)","level":"error","message":"Error ejecutando acción de trading:","module":"TradingStrategy","timestamp":"2025-10-04T05:37:15.377Z"}
{"error":{"endpoint":"/v5/order/create","error":"Error API Bybit: error sign! origin_string[1759556234980jZVZskvC82vQUZhMzV5000{\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"side\":\"Buy\",\"orderType\":\"Market\",\"qty\":\"0.88\",\"timeInForce\":\"IOC\"}] (Code: 10004)","method":"POST","params":{"category":"linear","orderType":"Market","qty":"0.88","side":"Buy","symbol":"BTCUSDT","timeInForce":"IOC"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-04T05:37:15.374Z"}
{"error":"Error: Error API Bybit: error sign! origin_string[1759556234980jZVZskvC82vQUZhMzV5000{\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"side\":\"Buy\",\"orderType\":\"Market\",\"qty\":\"0.88\",\"timeInForce\":\"IOC\"}] (Code: 10004)\n    at BybitClient.makeAuthenticatedRequest (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:355:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.executeTrade (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:134:24)\n    at async TradingStrategy.executeTradingAction (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:287:24)\n    at async TradingStrategy.tradingLoop (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:95:11)","level":"error","message":"Error ejecutando trade:","module":"BybitClient","timestamp":"2025-10-04T05:37:15.375Z"}
{"level":"info","message":"Recibida señal SIGINT, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-04T05:39:31.332Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759556371354}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-04T05:39:31.355Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-04T05:39:31.366Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759556375275}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-04T05:39:35.270Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-04T05:39:35.259Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:39:35.267Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T05:39:35.269Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:39:35.269Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759556375276}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-04T05:39:35.272Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T05:39:35.273Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:39:35.273Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:39:35.274Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:39:35.275Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T05:39:35.275Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T05:39:35.276Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (5m)","module":"TradingSystem","timestamp":"2025-10-04T05:39:35.276Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-04T05:39:35.270Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-04T05:39:35.270Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-04T05:39:35.270Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-04T05:39:35.270Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-04T05:39:35.271Z"}
{"level":"info","message":"6 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T05:39:35.271Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T05:39:35.306Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T05:39:35.935Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T05:39:37.346Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (5m)","module":"DataManager","timestamp":"2025-10-04T05:39:37.350Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 200","module":"BybitClient","timestamp":"2025-10-04T05:39:37.352Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-04T05:39:37.352Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T05:39:37.937Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T05:39:37.938Z"}
{"level":"info","message":"Datos suficientes recopilados para BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T05:39:37.938Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T05:39:37.939Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1361","module":"KalmanFilter","timestamp":"2025-10-04T05:39:37.940Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-04T05:39:37.941Z"}
{"level":"info","message":"Velas obtenidas: 200 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T05:39:37.938Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T05:39:37.938Z"}
{"level":"debug","message":"Predicción Kalman: 122517.92540351489 (Confianza: 0.836)","module":"KalmanFilter","timestamp":"2025-10-04T05:39:37.941Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T05:39:38.348Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T05:40:09.679Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":122126.99446154152,"middle":122428.87500000003,"upper":122730.75553845854},"ema":{"ema21":122422.5492026672,"ema50":122242.34829918495,"ema9":122565.03223209425},"macd":{"histogram":15.399196646093316,"macd":153.99196646093333,"signal":138.59276981484},"rsi":74.8047174146093,"volume":{"avg":116.35011000000004,"current":97.05,"ratio":0.8341203974796411}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La RSI está por encima del 70, indicando un nivel de overbought. Además, el MACD está en una posición bullish y el Bollinger Band está expandido, lo que sugiere una posible oportunidad de compra. La predicción de Kalman también indica una subida probable con una confianza del 83.6%. Considerando todos estos factores, es recomendable tomar una posición de compra con un nivel de leverage alto (10-50x)","symbol":"BTCUSDT","timestamp":1759556409689}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759556409691","module":"BybitClient","timestamp":"2025-10-04T05:40:09.696Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T05:40:09.696Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759555055484%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"10\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"122583.4\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-10831.16214444\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697264625154,\"updatedTime\":\"1759555055484\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759556410770}","module":"BybitClient","timestamp":"2025-10-04T05:40:10.586Z"}
{"level":"info","message":"Posiciones existentes: 0","module":"TradingStrategy","timestamp":"2025-10-04T05:40:10.586Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-04T05:40:10.586Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759556410587","module":"BybitClient","timestamp":"2025-10-04T05:40:10.587Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-04T05:40:10.587Z"}
{"level":"info","message":"AI sugiere BUY con confianza 0.8","module":"TradingStrategy","timestamp":"2025-10-04T05:40:10.586Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216013.72776911\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"216013.72776911\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49995.37375417\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121399.84382741\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4505.497071\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"40081.38890068\",\"totalPositionMM\":\"0\",\"usdValue\":\"40113.01311652\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"40081.38890068\",\"cumRealisedPnl\":\"-10826.21398932\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759556411177}","module":"BybitClient","timestamp":"2025-10-04T05:40:10.999Z"}
{"level":"info","message":"Balance disponible: $40081.39, Precio: $122608.2","module":"TradingStrategy","timestamp":"2025-10-04T05:40:11.000Z"}
{"level":"info","message":"Balance obtenido - Total: $216013.73, Disponible: $40081.39","module":"BybitClient","timestamp":"2025-10-04T05:40:11.000Z"}
{"level":"debug","message":"Símbolo info - Min: 0.001, Step: 0.001","module":"TradingStrategy","timestamp":"2025-10-04T05:40:11.731Z"}
{"level":"info","message":"Contador diario de trades reseteado","module":"RiskManager","timestamp":"2025-10-04T05:40:11.733Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759556411734","module":"BybitClient","timestamp":"2025-10-04T05:40:11.734Z"}
{"level":"info","message":"Riesgo: 17.5%, Capital a arriesgar: $7014.24","module":"TradingStrategy","timestamp":"2025-10-04T05:40:11.731Z"}
{"level":"info","message":"Position value: $245498.51, Quantity raw: 2.002301","module":"TradingStrategy","timestamp":"2025-10-04T05:40:11.732Z"}
{"level":"info","message":"Cantidad final calculada: 2.0020000000000002 BTC (valor: $245461.62)","module":"TradingStrategy","timestamp":"2025-10-04T05:40:11.732Z"}
{"level":"info","message":"Parámetros calculados - Leverage: 35x, Quantity: 2.0020000000000002","module":"TradingStrategy","timestamp":"2025-10-04T05:40:11.732Z"}
{"level":"info","message":"Generando señal de trading: BUY 2.0020000000000002 BTCUSDT @ 122608.2 (SL: 120278.6442, TP: 130994.60088)","module":"TradingStrategy","timestamp":"2025-10-04T05:40:11.732Z"}
{"level":"info","message":"EJECUTANDO TRADE: BUY 2.0020000000000002 BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T05:40:11.732Z"}
{"level":"info","message":"=== INICIO EJECUCIÓN DE TRADE ===","module":"TradingStrategy","timestamp":"2025-10-04T05:40:11.732Z"}
{"level":"info","message":"Señal: {\"symbol\":\"BTCUSDT\",\"action\":\"BUY\",\"leverage\":35,\"quantity\":2.0020000000000002,\"stopLoss\":120278.6442,\"takeProfit\":130994.60088,\"timestamp\":1759556411732,\"aiAnalysis\":{\"decision\":\"BUY\",\"confidence\":0.8,\"reasoning\":\"La RSI está por encima del 70, indicando un nivel de overbought. Además, el MACD está en una posición bullish y el Bollinger Band está expandido, lo que sugiere una posible oportunidad de compra. La predicción de Kalman también indica una subida probable con una confianza del 83.6%. Considerando todos estos factores, es recomendable tomar una posición de compra con un nivel de leverage alto (10-50x)\",\"indicators\":{},\"kalman\":{},\"marketSentiment\":\"bullish\",\"riskLevel\":\"medium\",\"suggestedLeverage\":10}}","module":"TradingStrategy","timestamp":"2025-10-04T05:40:11.733Z"}
{"level":"info","message":"Validando con Risk Manager...","module":"TradingStrategy","timestamp":"2025-10-04T05:40:11.733Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-04T05:40:11.734Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216013.72776911\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"216013.72776911\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49995.37375417\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121399.84382741\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4505.497071\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"40081.38890068\",\"totalPositionMM\":\"0\",\"usdValue\":\"40113.01311652\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"40081.38890068\",\"cumRealisedPnl\":\"-10826.21398932\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759556412326}","module":"BybitClient","timestamp":"2025-10-04T05:40:12.143Z"}
{"level":"info","message":"Balance obtenido - Total: $216013.73, Disponible: $40081.39","module":"BybitClient","timestamp":"2025-10-04T05:40:12.144Z"}
{"level":"info","message":"Validando posición: Cantidad=2.0020000000000002, Precio=122583.3, Valor=245411.77","module":"RiskManager","timestamp":"2025-10-04T05:40:12.544Z"}
{"level":"info","message":"Resultado validación: {\"approved\":false,\"reason\":\"Posición excede límite de riesgo. Máximo: $108006.86\",\"adjustedParams\":{\"symbol\":\"BTCUSDT\",\"side\":\"Buy\",\"quantity\":0.881,\"leverage\":35,\"stopLoss\":120278.6442,\"takeProfit\":130994.60088},\"riskScore\":0.8}","module":"TradingStrategy","timestamp":"2025-10-04T05:40:12.544Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759556412544","module":"BybitClient","timestamp":"2025-10-04T05:40:12.545Z"}
{"level":"warn","message":"Posición excede límite. Solicitado: $245411.77, Máximo: $108006.86","module":"RiskManager","timestamp":"2025-10-04T05:40:12.544Z"}
{"level":"info","message":"Trade ajustado por Risk Manager. Cantidad ajustada: 0.881","module":"TradingStrategy","timestamp":"2025-10-04T05:40:12.544Z"}
{"level":"info","message":"Ejecutando trade con parámetros ajustados: 0.881 BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T05:40:12.544Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"buyLeverage\":\"35\",\"sellLeverage\":\"35\"}","module":"BybitClient","timestamp":"2025-10-04T05:40:12.545Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{},\"retExtInfo\":{},\"time\":1759556413460}","module":"BybitClient","timestamp":"2025-10-04T05:40:13.278Z"}
{"level":"info","message":"Leverage establecido a 35x para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T05:40:13.279Z"}
{"level":"info","message":"Ejecutando orden: Buy 0.881 BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T05:40:13.279Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759556413279","module":"BybitClient","timestamp":"2025-10-04T05:40:13.279Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"side\":\"Buy\",\"orderType\":\"Market\",\"qty\":\"0.881\",\"timeInForce\":\"IOC\"}","module":"BybitClient","timestamp":"2025-10-04T05:40:13.279Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"orderId\":\"a12170c3-da71-4958-83a0-b6849a96a80f\",\"orderLinkId\":\"\"},\"retExtInfo\":{},\"time\":1759556414197}","module":"BybitClient","timestamp":"2025-10-04T05:40:14.013Z"}
{"level":"info","message":"TRADE_OPEN","module":"TradingStrategy","pnl":0,"price":0,"quantity":0.881,"side":"BUY","symbol":"BTCUSDT","timestamp":1759556414013}
{"level":"debug","message":"Trades ejecutados hoy: 1/20","module":"RiskManager","timestamp":"2025-10-04T05:40:14.014Z"}
{"level":"info","message":"Orden ejecutada exitosamente: a12170c3-da71-4958-83a0-b6849a96a80f","module":"BybitClient","timestamp":"2025-10-04T05:40:14.013Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 5","module":"BybitClient","timestamp":"2025-10-04T05:44:37.999Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T05:44:39.491Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-04T05:44:39.493Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T05:44:39.492Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T05:45:14.051Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1517","module":"KalmanFilter","timestamp":"2025-10-04T05:45:14.053Z"}
{"level":"debug","message":"Predicción Kalman: 122504.52840230832 (Confianza: 0.829)","module":"KalmanFilter","timestamp":"2025-10-04T05:45:14.054Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T05:45:14.963Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T05:46:02.024Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":122264.88269926156,"middle":122513.18999999999,"upper":122761.49730073841},"ema":{"ema21":122480.30877447869,"ema50":122299.89439164771,"ema9":122561.52496177988},"macd":{"histogram":11.097946893499469,"macd":110.97946893499466,"signal":99.88152204149519},"rsi":47.70932069510212,"volume":{"avg":120.27900000000004,"current":233.462,"ratio":1.9410038327555095}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La combinación de un precio actual por debajo del cambio reciente y una RSI por debajo de 30, junto con un MACD bullish y un Bollinger Superior, indica una oportunidad de compra con confianza. Además, la predicción de Kalman sugiere que el precio podría subir en los próximos días. Considerando el leverage alto (10-50x) y el alto volumen, es recomendable tomar una posición de compra con un nivel de riesgo medio.","symbol":"BTCUSDT","timestamp":1759556762037}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759556762041","module":"BybitClient","timestamp":"2025-10-04T05:46:02.054Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T05:46:02.054Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759556414196%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"35\",\"autoAddMargin\":0,\"avgPrice\":\"122583.3\",\"liqPrice\":\"119693.9\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"107995.8873\",\"isReduceOnly\":false,\"positionIMByMp\":\"3143.29805691\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"119679.4\",\"unrealisedPnl\":\"-154.66836\",\"markPrice\":\"122407.74\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-10890.55988246\",\"positionMM\":\"597.68055913\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"3143.29805691\",\"positionMMByMp\":\"596.90721732\",\"seq\":140697264661824,\"updatedTime\":\"1759556414196\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"3143.29805691\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-59.39773802\",\"size\":\"0.881\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759556764138}","module":"BybitClient","timestamp":"2025-10-04T05:46:03.987Z"}
{"level":"info","message":"Posiciones existentes: 1","module":"TradingStrategy","timestamp":"2025-10-04T05:46:03.992Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T05:46:03.991Z"}
{"level":"info","message":"Analizando posición existente...","module":"TradingStrategy","timestamp":"2025-10-04T05:46:03.992Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-04T05:46:03.994Z"}
{"level":"info","message":"Recibida señal SIGINT, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-04T05:48:44.572Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759556924582}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-04T05:48:44.582Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-04T05:48:44.586Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759556965740}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-04T05:49:25.476Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-04T05:49:25.693Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:49:25.678Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T05:49:25.685Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:49:25.683Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759556965748}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-04T05:49:25.737Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:49:25.739Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T05:49:25.739Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:49:25.739Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:49:25.740Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T05:49:25.740Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T05:49:25.746Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (5m)","module":"TradingSystem","timestamp":"2025-10-04T05:49:25.746Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-04T05:49:25.693Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-04T05:49:25.729Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-04T05:49:25.729Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-04T05:49:25.729Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-04T05:49:25.733Z"}
{"level":"info","message":"6 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T05:49:25.733Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T05:49:25.776Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T05:49:27.157Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T05:49:28.527Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (5m)","module":"DataManager","timestamp":"2025-10-04T05:49:28.528Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 200","module":"BybitClient","timestamp":"2025-10-04T05:49:28.529Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-04T05:49:28.528Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T05:49:28.933Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T05:49:28.934Z"}
{"level":"info","message":"Datos suficientes recopilados para BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T05:49:28.934Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T05:49:28.934Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1492","module":"KalmanFilter","timestamp":"2025-10-04T05:49:28.935Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-04T05:49:28.935Z"}
{"level":"info","message":"Velas obtenidas: 200 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T05:49:28.933Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T05:49:28.934Z"}
{"level":"debug","message":"Predicción Kalman: 122437.65250527898 (Confianza: 0.833)","module":"KalmanFilter","timestamp":"2025-10-04T05:49:28.935Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T05:49:29.324Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T05:50:07.784Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":122173.63023860351,"middle":122444.21500000001,"upper":122714.79976139651},"ema":{"ema21":122415.48688933483,"ema50":122251.23831253742,"ema9":122499.16302852108},"macd":{"histogram":11.144198900500484,"macd":111.44198900500487,"signal":100.29779010450439},"rsi":50.01845245417568,"volume":{"avg":120.25221000000003,"current":185.191,"ratio":1.5400215929503496}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La combinación de un precio actual por debajo del cambio reciente y una RSI por debajo de 30, junto con un MACD bullish y un Bollinger Superior, indica una oportunidad buena para comprar. Además, la predicción de Kalman sugiere que el precio tendrá una tendencia ascendente en los próximos días. Considerando el leverage alto (10-50x) y el alto volumen, es recomendable tomar esta decisión AGRESIVA.","symbol":"BTCUSDT","timestamp":1759557007786}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759557007797","module":"BybitClient","timestamp":"2025-10-04T05:50:07.806Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T05:50:07.806Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759556414196%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"35\",\"autoAddMargin\":0,\"avgPrice\":\"122583.3\",\"liqPrice\":\"119693.9\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"107995.8873\",\"isReduceOnly\":false,\"positionIMByMp\":\"3143.29805691\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"119679.4\",\"unrealisedPnl\":\"-186.88653\",\"markPrice\":\"122371.17\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-10890.55988246\",\"positionMM\":\"597.68055913\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"3143.29805691\",\"positionMMByMp\":\"596.74612647\",\"seq\":140697264661824,\"updatedTime\":\"1759556414196\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"3143.29805691\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-59.39773802\",\"size\":\"0.881\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759557008833}","module":"BybitClient","timestamp":"2025-10-04T05:50:08.668Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.881 BTCUSDT | PnL: -0.17%","module":"TradingStrategy","timestamp":"2025-10-04T05:50:08.670Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T05:50:08.669Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759557008671","module":"BybitClient","timestamp":"2025-10-04T05:50:08.671Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T05:50:08.671Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759556414196%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"35\",\"autoAddMargin\":0,\"avgPrice\":\"122583.3\",\"liqPrice\":\"119693.9\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"107995.8873\",\"isReduceOnly\":false,\"positionIMByMp\":\"3143.29805691\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"119679.4\",\"unrealisedPnl\":\"-186.88653\",\"markPrice\":\"122371.17\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-10890.55988246\",\"positionMM\":\"597.68055913\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"3143.29805691\",\"positionMMByMp\":\"596.74612647\",\"seq\":140697264661824,\"updatedTime\":\"1759556414196\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"3143.29805691\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-59.39773802\",\"size\":\"0.881\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759557009229}","module":"BybitClient","timestamp":"2025-10-04T05:50:09.078Z"}
{"level":"info","message":"Posiciones existentes: 1","module":"TradingStrategy","timestamp":"2025-10-04T05:50:09.079Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T05:50:09.079Z"}
{"level":"info","message":"Analizando posición existente...","module":"TradingStrategy","timestamp":"2025-10-04T05:50:09.079Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-04T05:50:09.079Z"}
{"level":"info","message":"Recibida señal SIGINT, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-04T05:50:36.304Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759557036311}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-04T05:50:36.312Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-04T05:50:36.316Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759557040232}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-04T05:50:40.222Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-04T05:50:40.212Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:50:40.220Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T05:50:40.222Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:50:40.221Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759557040233}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-04T05:50:40.227Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T05:50:40.232Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:50:40.231Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:50:40.232Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T05:50:40.232Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T05:50:40.233Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T05:50:40.233Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (5m)","module":"TradingSystem","timestamp":"2025-10-04T05:50:40.233Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-04T05:50:40.223Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-04T05:50:40.223Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-04T05:50:40.223Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-04T05:50:40.223Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-04T05:50:40.224Z"}
{"level":"info","message":"6 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T05:50:40.224Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T05:50:40.276Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T05:50:40.618Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T05:50:41.498Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (5m)","module":"DataManager","timestamp":"2025-10-04T05:50:41.499Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 200","module":"BybitClient","timestamp":"2025-10-04T05:50:41.500Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-04T05:50:41.500Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T05:50:41.939Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T05:50:41.951Z"}
{"level":"info","message":"Datos suficientes recopilados para BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T05:50:41.952Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T05:50:41.953Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1208","module":"KalmanFilter","timestamp":"2025-10-04T05:50:41.954Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-04T05:50:41.954Z"}
{"level":"info","message":"Velas obtenidas: 200 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T05:50:41.951Z"}
{"level":"debug","message":"Predicción Kalman: 122418.62850292886 (Confianza: 0.842)","module":"KalmanFilter","timestamp":"2025-10-04T05:50:41.954Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T05:50:41.952Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T05:50:42.360Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T05:51:15.100Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":122201.27779245785,"middle":122453.20500000003,"upper":122705.1322075422},"ema":{"ema21":122414.36219853643,"ema50":122256.7132429003,"ema9":122479.9424228115},"macd":{"histogram":9.653102491670865,"macd":96.5310249167087,"signal":86.87792242503784},"rsi":48.15950920245389,"volume":{"avg":117.68260000000002,"current":12.243,"ratio":0.10403407130705812}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La combinación de un precio actual por debajo del Bollinger Superior, un MACD bullish y un RSI por debajo de 30 señala una posible oportunidad de compra. Además, la predicción de Kalman indica que el precio podría subir en los próximos días con alta confianza. Considerando el leverage alto (10-50x) y el nivel de riesgo bajo, es recomendable realizar una operación de compra.","symbol":"BTCUSDT","timestamp":1759557075112}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759557075113","module":"BybitClient","timestamp":"2025-10-04T05:51:15.117Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T05:51:15.117Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759557033533%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"35\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"122446.5\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-11130.19913309\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697264678644,\"updatedTime\":\"1759557033533\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759557076670}","module":"BybitClient","timestamp":"2025-10-04T05:51:16.516Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-04T05:51:16.517Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759557076517","module":"BybitClient","timestamp":"2025-10-04T05:51:16.517Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T05:51:16.517Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759557033533%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"35\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"122446.55\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-11130.19913309\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697264678644,\"updatedTime\":\"1759557033533\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759557077412}","module":"BybitClient","timestamp":"2025-10-04T05:51:17.259Z"}
{"level":"info","message":"Posiciones existentes: 0","module":"TradingStrategy","timestamp":"2025-10-04T05:51:17.259Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-04T05:51:17.259Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759557077260","module":"BybitClient","timestamp":"2025-10-04T05:51:17.260Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-04T05:51:17.260Z"}
{"level":"info","message":"AI sugiere BUY con confianza 0.8","module":"TradingStrategy","timestamp":"2025-10-04T05:51:17.259Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215498.25805558\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"215498.25805558\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49997.27375507\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121181.2923337\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4503.564838\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"39782.35191203\",\"totalPositionMM\":\"0\",\"usdValue\":\"39816.1271288\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"39782.35191203\",\"cumRealisedPnl\":\"-11125.25097797\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759557077828}","module":"BybitClient","timestamp":"2025-10-04T05:51:17.679Z"}
{"level":"info","message":"Balance disponible: $39782.35, Precio: $122406.9","module":"TradingStrategy","timestamp":"2025-10-04T05:51:17.681Z"}
{"level":"info","message":"Balance obtenido - Total: $215498.26, Disponible: $39782.35","module":"BybitClient","timestamp":"2025-10-04T05:51:17.680Z"}
{"level":"debug","message":"Símbolo info - Min: 0.001, Step: 0.001","module":"TradingStrategy","timestamp":"2025-10-04T05:51:18.094Z"}
{"level":"info","message":"Contador diario de trades reseteado","module":"RiskManager","timestamp":"2025-10-04T05:51:18.096Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759557078096","module":"BybitClient","timestamp":"2025-10-04T05:51:18.096Z"}
{"level":"info","message":"Riesgo: 15%, Capital a arriesgar: $5967.35","module":"TradingStrategy","timestamp":"2025-10-04T05:51:18.094Z"}
{"level":"info","message":"Position value: $179020.58, Quantity raw: 1.462504","module":"TradingStrategy","timestamp":"2025-10-04T05:51:18.094Z"}
{"level":"info","message":"Cantidad final calculada: 1.462 BTC (valor: $178958.89)","module":"TradingStrategy","timestamp":"2025-10-04T05:51:18.094Z"}
{"level":"info","message":"Parámetros calculados - Leverage: 30x, Quantity: 1.462","module":"TradingStrategy","timestamp":"2025-10-04T05:51:18.094Z"}
{"level":"info","message":"Generando señal de trading: BUY 1.462 BTCUSDT @ 122406.9 (SL: 120081.16889999999, TP: 130779.53196000001)","module":"TradingStrategy","timestamp":"2025-10-04T05:51:18.095Z"}
{"level":"info","message":"EJECUTANDO TRADE: BUY 1.462 BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T05:51:18.095Z"}
{"level":"info","message":"=== INICIO EJECUCIÓN DE TRADE ===","module":"TradingStrategy","timestamp":"2025-10-04T05:51:18.095Z"}
{"level":"info","message":"Señal: {\"symbol\":\"BTCUSDT\",\"action\":\"BUY\",\"leverage\":30,\"quantity\":1.462,\"stopLoss\":120081.16889999999,\"takeProfit\":130779.53196000001,\"timestamp\":1759557078095,\"aiAnalysis\":{\"decision\":\"BUY\",\"confidence\":0.8,\"reasoning\":\"La combinación de un precio actual por debajo del Bollinger Superior, un MACD bullish y un RSI por debajo de 30 señala una posible oportunidad de compra. Además, la predicción de Kalman indica que el precio podría subir en los próximos días con alta confianza. Considerando el leverage alto (10-50x) y el nivel de riesgo bajo, es recomendable realizar una operación de compra.\",\"indicators\":{},\"kalman\":{},\"marketSentiment\":\"bullish\",\"riskLevel\":\"low\",\"suggestedLeverage\":10}}","module":"TradingStrategy","timestamp":"2025-10-04T05:51:18.095Z"}
{"level":"info","message":"Validando con Risk Manager...","module":"TradingStrategy","timestamp":"2025-10-04T05:51:18.095Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-04T05:51:18.097Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215498.25805558\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"215498.25805558\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49997.27375507\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121181.2923337\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4503.564838\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"39782.35191203\",\"totalPositionMM\":\"0\",\"usdValue\":\"39816.1271288\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"39782.35191203\",\"cumRealisedPnl\":\"-11125.25097797\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759557078993}","module":"BybitClient","timestamp":"2025-10-04T05:51:18.845Z"}
{"level":"info","message":"Balance obtenido - Total: $215498.26, Disponible: $39782.35","module":"BybitClient","timestamp":"2025-10-04T05:51:18.846Z"}
{"level":"info","message":"Validando posición: Cantidad=1.462, Precio=122446.5, Valor=179016.78","module":"RiskManager","timestamp":"2025-10-04T05:51:19.260Z"}
{"level":"info","message":"Resultado validación: {\"approved\":false,\"reason\":\"Posición excede límite de riesgo. Máximo: $107749.13\",\"adjustedParams\":{\"symbol\":\"BTCUSDT\",\"side\":\"Buy\",\"quantity\":0.879,\"leverage\":30,\"stopLoss\":120081.16889999999,\"takeProfit\":130779.53196000001},\"riskScore\":0.8}","module":"TradingStrategy","timestamp":"2025-10-04T05:51:19.261Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759557079262","module":"BybitClient","timestamp":"2025-10-04T05:51:19.262Z"}
{"level":"warn","message":"Posición excede límite. Solicitado: $179016.78, Máximo: $107749.13","module":"RiskManager","timestamp":"2025-10-04T05:51:19.260Z"}
{"level":"info","message":"Trade ajustado por Risk Manager. Cantidad ajustada: 0.879","module":"TradingStrategy","timestamp":"2025-10-04T05:51:19.261Z"}
{"level":"info","message":"Ejecutando trade con parámetros ajustados: 0.879 BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T05:51:19.261Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"buyLeverage\":\"30\",\"sellLeverage\":\"30\"}","module":"BybitClient","timestamp":"2025-10-04T05:51:19.262Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{},\"retExtInfo\":{},\"time\":1759557079829}","module":"BybitClient","timestamp":"2025-10-04T05:51:19.675Z"}
{"level":"info","message":"Leverage establecido a 30x para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T05:51:19.675Z"}
{"level":"info","message":"Ejecutando orden: Buy 0.879 BTCUSDT | SL: 120081.16889999999 | TP: 130779.53196000001","module":"BybitClient","timestamp":"2025-10-04T05:51:19.675Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759557079675","module":"BybitClient","timestamp":"2025-10-04T05:51:19.675Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"side\":\"Buy\",\"orderType\":\"Market\",\"qty\":\"0.879\",\"timeInForce\":\"IOC\",\"stopLoss\":\"120081.16889999999\",\"slTriggerBy\":\"LastPrice\",\"takeProfit\":\"130779.53196000001\",\"tpTriggerBy\":\"LastPrice\"}","module":"BybitClient","timestamp":"2025-10-04T05:51:19.675Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"orderId\":\"348b0083-95d2-4238-a419-45138ab6c767\",\"orderLinkId\":\"\"},\"retExtInfo\":{},\"time\":1759557080244}","module":"BybitClient","timestamp":"2025-10-04T05:51:20.094Z"}
{"level":"info","message":"TRADE_OPEN","module":"TradingStrategy","pnl":0,"price":0,"quantity":0.879,"side":"BUY","symbol":"BTCUSDT","timestamp":1759557080095}
{"level":"debug","message":"Trades ejecutados hoy: 1/20","module":"RiskManager","timestamp":"2025-10-04T05:51:20.096Z"}
{"level":"info","message":"Orden ejecutada exitosamente: 348b0083-95d2-4238-a419-45138ab6c767","module":"BybitClient","timestamp":"2025-10-04T05:51:20.094Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 5","module":"BybitClient","timestamp":"2025-10-04T05:55:41.969Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T05:55:43.367Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-04T05:55:43.368Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T05:55:43.368Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T05:56:20.101Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1376","module":"KalmanFilter","timestamp":"2025-10-04T05:56:20.103Z"}
{"level":"debug","message":"Predicción Kalman: 122445.36855056985 (Confianza: 0.839)","module":"KalmanFilter","timestamp":"2025-10-04T05:56:20.104Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T05:56:20.971Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T05:56:59.565Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":122302.64725940136,"middle":122498.5,"upper":122694.35274059864},"ema":{"ema21":122441.36200937846,"ema50":122302.04103638187,"ema9":122485.09201314586},"macd":{"histogram":6.910881504666754,"macd":69.10881504666759,"signal":62.19793354200083},"rsi":51.56404051268239,"volume":{"avg":117.53172000000002,"current":80.575,"ratio":0.6855596089294022}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La combinación de un precio actual por encima del cambio reciente, un RSI por debajo de 30 y un MACD con una señal bullish sugiere una tendencia bullish. Además, el Bollinger Band Superior se encuentra por encima del precio actual, lo que indica una alta volatilidad. Considerando el leverage alto (10-50x) y la confianza en la señal (83.9%), la mejor estrategia es comprar con una posición agresiva.","symbol":"BTCUSDT","timestamp":1759557419573}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759557419578","module":"BybitClient","timestamp":"2025-10-04T05:56:59.585Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T05:56:59.586Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759557080244%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"30\",\"autoAddMargin\":0,\"avgPrice\":\"122446.5\",\"liqPrice\":\"118977.2\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"130779.5\",\"positionValue\":\"107630.4735\",\"isReduceOnly\":false,\"positionIMByMp\":\"3644.90706139\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"118959.8\",\"unrealisedPnl\":\"50.5425\",\"markPrice\":\"122504\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11189.39589352\",\"positionMM\":\"595.37626135\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"3644.90706139\",\"positionMMByMp\":\"595.62897384\",\"seq\":140697264679900,\"updatedTime\":\"1759557080244\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"3644.90706139\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-59.19676043\",\"size\":\"0.879\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"120081.1\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759557421183}","module":"BybitClient","timestamp":"2025-10-04T05:57:01.006Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.879 BTCUSDT | PnL: 0.05%","module":"TradingStrategy","timestamp":"2025-10-04T05:57:01.010Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T05:57:01.010Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759557421013","module":"BybitClient","timestamp":"2025-10-04T05:57:01.013Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T05:57:01.013Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759557080244%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"30\",\"autoAddMargin\":0,\"avgPrice\":\"122446.5\",\"liqPrice\":\"118977.2\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"130779.5\",\"positionValue\":\"107630.4735\",\"isReduceOnly\":false,\"positionIMByMp\":\"3644.90706139\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"118959.8\",\"unrealisedPnl\":\"50.5425\",\"markPrice\":\"122504\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11189.39589352\",\"positionMM\":\"595.37626135\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"3644.90706139\",\"positionMMByMp\":\"595.62897384\",\"seq\":140697264679900,\"updatedTime\":\"1759557080244\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"3644.90706139\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-59.19676043\",\"size\":\"0.879\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"120081.1\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759557421930}","module":"BybitClient","timestamp":"2025-10-04T05:57:01.758Z"}
{"level":"info","message":"Posiciones existentes: 1","module":"TradingStrategy","timestamp":"2025-10-04T05:57:01.760Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T05:57:01.759Z"}
{"level":"info","message":"Analizando posición existente...","module":"TradingStrategy","timestamp":"2025-10-04T05:57:01.760Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-04T05:57:01.761Z"}
{"level":"info","message":"Recibida señal SIGINT, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-04T05:57:20.049Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759557440053}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-04T05:57:20.053Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-04T05:57:20.057Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759617070263}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-04T22:31:10.249Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-04T22:31:10.258Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T22:31:10.255Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T22:31:10.257Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T22:31:10.257Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759617070263}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-04T22:31:10.261Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T22:31:10.262Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T22:31:10.261Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T22:31:10.262Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T22:31:10.263Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T22:31:10.263Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T22:31:10.263Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (5m)","module":"TradingSystem","timestamp":"2025-10-04T22:31:10.263Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-04T22:31:10.258Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-04T22:31:10.258Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-04T22:31:10.259Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-04T22:31:10.259Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-04T22:31:10.259Z"}
{"level":"info","message":"6 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T22:31:10.259Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T22:31:10.280Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T22:31:10.393Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T22:31:11.860Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (5m)","module":"DataManager","timestamp":"2025-10-04T22:31:11.860Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 200","module":"BybitClient","timestamp":"2025-10-04T22:31:11.861Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-04T22:31:11.861Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T22:31:12.782Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T22:31:12.783Z"}
{"level":"info","message":"Datos suficientes recopilados para BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T22:31:12.784Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T22:31:12.785Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-04T22:31:12.785Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-04T22:31:12.786Z"}
{"level":"info","message":"Velas obtenidas: 200 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T22:31:12.783Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T22:31:12.783Z"}
{"level":"debug","message":"Predicción Kalman: 122180.35105158508 (Confianza: 0.865)","module":"KalmanFilter","timestamp":"2025-10-04T22:31:12.786Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T22:31:13.200Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T22:32:27.636Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":121908.96914778356,"middle":122137.55,"upper":122366.13085221645},"ema":{"ema21":122118.64257124247,"ema50":122011.2652047352,"ema9":122168.81174491852},"macd":{"histogram":6.48493340910936,"macd":64.84933409109362,"signal":58.364400681984264},"rsi":51.71232876712328,"volume":{"avg":120.96206999999998,"current":6.413,"ratio":0.05301661917657329}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La combinación de un precio actual por debajo del cambio reciente y un RSI por debajo de 30 sugiere una posible oportunidad de compra. Además, el MACD está en un signal bullish y el Bollinger Band se encuentra en el rango superior, lo que indica una mayor volatilidad y un mayor margen de maniobra para la toma de decisiones. Considerando el leverage alto (10-50x) y la confianza moderada (86.5%), la decisión es comprar con una dosis moderada de riesgo (medium).","symbol":"BTCUSDT","timestamp":1759617147658}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759617147669","module":"BybitClient","timestamp":"2025-10-04T22:32:27.681Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T22:32:27.684Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759597094167%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"30\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"122207\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-11973.12594001\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697265821136,\"updatedTime\":\"1759597094167\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759617149949}","module":"BybitClient","timestamp":"2025-10-04T22:32:29.671Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-04T22:32:29.672Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759617149676","module":"BybitClient","timestamp":"2025-10-04T22:32:29.677Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T22:32:29.677Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759597094167%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"30\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"122207.07\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-11973.12594001\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697265821136,\"updatedTime\":\"1759597094167\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759617150703}","module":"BybitClient","timestamp":"2025-10-04T22:32:30.419Z"}
{"level":"info","message":"Posiciones existentes: 0","module":"TradingStrategy","timestamp":"2025-10-04T22:32:30.429Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-04T22:32:30.419Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759617150465","module":"BybitClient","timestamp":"2025-10-04T22:32:30.466Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-04T22:32:30.480Z"}
{"level":"info","message":"AI sugiere BUY con confianza 0.8","module":"TradingStrategy","timestamp":"2025-10-04T22:32:30.430Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"214099.78543212\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"214099.78543212\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49994.87375393\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"120672.93946312\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4469.650728\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38939.42510511\",\"totalPositionMM\":\"0\",\"usdValue\":\"38962.32148707\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"38939.42510511\",\"cumRealisedPnl\":\"-11968.17778489\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759617151206}","module":"BybitClient","timestamp":"2025-10-04T22:32:30.928Z"}
{"level":"info","message":"Balance disponible: $38939.43, Precio: $122210","module":"TradingStrategy","timestamp":"2025-10-04T22:32:30.929Z"}
{"level":"info","message":"Balance obtenido - Total: $214099.79, Disponible: $38939.43","module":"BybitClient","timestamp":"2025-10-04T22:32:30.929Z"}
{"level":"debug","message":"Símbolo info - Min: 0.001, Step: 0.001","module":"TradingStrategy","timestamp":"2025-10-04T22:32:31.441Z"}
{"level":"info","message":"Contador diario de trades reseteado","module":"RiskManager","timestamp":"2025-10-04T22:32:31.496Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759617151496","module":"BybitClient","timestamp":"2025-10-04T22:32:31.497Z"}
{"level":"info","message":"Riesgo: 15%, Capital a arriesgar: $5840.91","module":"TradingStrategy","timestamp":"2025-10-04T22:32:31.443Z"}
{"level":"info","message":"Position value: $175227.41, Quantity raw: 1.433822","module":"TradingStrategy","timestamp":"2025-10-04T22:32:31.443Z"}
{"level":"info","message":"Cantidad final calculada: 1.433 BTC (valor: $175126.93)","module":"TradingStrategy","timestamp":"2025-10-04T22:32:31.494Z"}
{"level":"info","message":"Parámetros calculados - Leverage: 30x, Quantity: 1.433","module":"TradingStrategy","timestamp":"2025-10-04T22:32:31.494Z"}
{"level":"info","message":"Generando señal de trading: BUY 1.433 BTCUSDT @ 122210 (SL: 119888.01, TP: 130569.16400000002)","module":"TradingStrategy","timestamp":"2025-10-04T22:32:31.495Z"}
{"level":"info","message":"EJECUTANDO TRADE: BUY 1.433 BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T22:32:31.495Z"}
{"level":"info","message":"=== INICIO EJECUCIÓN DE TRADE ===","module":"TradingStrategy","timestamp":"2025-10-04T22:32:31.495Z"}
{"level":"info","message":"Señal: {\"symbol\":\"BTCUSDT\",\"action\":\"BUY\",\"leverage\":30,\"quantity\":1.433,\"stopLoss\":119888.01,\"takeProfit\":130569.16400000002,\"timestamp\":1759617151495,\"aiAnalysis\":{\"decision\":\"BUY\",\"confidence\":0.8,\"reasoning\":\"La combinación de un precio actual por debajo del cambio reciente y un RSI por debajo de 30 sugiere una posible oportunidad de compra. Además, el MACD está en un signal bullish y el Bollinger Band se encuentra en el rango superior, lo que indica una mayor volatilidad y un mayor margen de maniobra para la toma de decisiones. Considerando el leverage alto (10-50x) y la confianza moderada (86.5%), la decisión es comprar con una dosis moderada de riesgo (medium).\",\"indicators\":{},\"kalman\":{},\"marketSentiment\":\"bullish\",\"riskLevel\":\"medium\",\"suggestedLeverage\":10}}","module":"TradingStrategy","timestamp":"2025-10-04T22:32:31.495Z"}
{"level":"info","message":"Validando con Risk Manager...","module":"TradingStrategy","timestamp":"2025-10-04T22:32:31.495Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-04T22:32:31.497Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"214099.78543212\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"214099.78543212\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49994.87375393\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"120672.93946312\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4469.650728\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38939.42510511\",\"totalPositionMM\":\"0\",\"usdValue\":\"38962.32148707\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"38939.42510511\",\"cumRealisedPnl\":\"-11968.17778489\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759617152519}","module":"BybitClient","timestamp":"2025-10-04T22:32:32.250Z"}
{"level":"info","message":"Balance obtenido - Total: $214099.79, Disponible: $38939.43","module":"BybitClient","timestamp":"2025-10-04T22:32:32.252Z"}
{"level":"info","message":"Validando posición: Cantidad=1.433, Precio=122201.4, Valor=175114.61","module":"RiskManager","timestamp":"2025-10-04T22:32:32.665Z"}
{"level":"info","message":"Resultado validación: {\"approved\":false,\"reason\":\"Posición excede límite de riesgo. Máximo: $107049.89\",\"adjustedParams\":{\"symbol\":\"BTCUSDT\",\"side\":\"Buy\",\"quantity\":0.876,\"leverage\":30,\"stopLoss\":119888.01,\"takeProfit\":130569.16400000002},\"riskScore\":0.8}","module":"TradingStrategy","timestamp":"2025-10-04T22:32:32.667Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759617152668","module":"BybitClient","timestamp":"2025-10-04T22:32:32.669Z"}
{"level":"warn","message":"Posición excede límite. Solicitado: $175114.61, Máximo: $107049.89","module":"RiskManager","timestamp":"2025-10-04T22:32:32.666Z"}
{"level":"info","message":"Trade ajustado por Risk Manager. Cantidad ajustada: 0.876","module":"TradingStrategy","timestamp":"2025-10-04T22:32:32.667Z"}
{"level":"info","message":"Ejecutando trade con parámetros ajustados: 0.876 BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T22:32:32.667Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"buyLeverage\":\"30\",\"sellLeverage\":\"30\"}","module":"BybitClient","timestamp":"2025-10-04T22:32:32.669Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":110043,\"retMsg\":\"leverage not modified\",\"result\":{},\"retExtInfo\":{},\"time\":1759617153368}","module":"BybitClient","timestamp":"2025-10-04T22:32:33.083Z"}
{"error":{"endpoint":"/v5/position/set-leverage","error":"Error API Bybit: leverage not modified (Code: 110043)","method":"POST","params":{"buyLeverage":"30","category":"linear","sellLeverage":"30","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-04T22:32:33.084Z"}
{"error":"Error: Error API Bybit: leverage not modified (Code: 110043)\n    at BybitClient.makeAuthenticatedRequest (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:406:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.setLeverage (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:221:7)\n    at async BybitClient.executeTrade (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:121:9)\n    at async TradingStrategy.executeTradingAction (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:290:24)\n    at async TradingStrategy.tradingLoop (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:98:11)","level":"error","message":"Error estableciendo leverage:","module":"BybitClient","timestamp":"2025-10-04T22:32:33.114Z"}
{"level":"warn","message":"Continuando sin cambiar leverage para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T22:32:33.114Z"}
{"level":"info","message":"Ejecutando orden: Buy 0.876 BTCUSDT | SL: 119888.01 | TP: 130569.16400000002","module":"BybitClient","timestamp":"2025-10-04T22:32:33.115Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759617153115","module":"BybitClient","timestamp":"2025-10-04T22:32:33.115Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"side\":\"Buy\",\"orderType\":\"Market\",\"qty\":\"0.876\",\"timeInForce\":\"IOC\",\"stopLoss\":\"119888.01\",\"slTriggerBy\":\"LastPrice\",\"takeProfit\":\"130569.16400000002\",\"tpTriggerBy\":\"LastPrice\"}","module":"BybitClient","timestamp":"2025-10-04T22:32:33.115Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"orderId\":\"d6a0006c-00e8-4397-aaa3-fc702a0a6a74\",\"orderLinkId\":\"\"},\"retExtInfo\":{},\"time\":1759617154136}","module":"BybitClient","timestamp":"2025-10-04T22:32:33.851Z"}
{"level":"info","message":"TRADE_OPEN","module":"TradingStrategy","pnl":0,"price":0,"quantity":0.876,"side":"BUY","symbol":"BTCUSDT","timestamp":1759617153852}
{"level":"debug","message":"Trades ejecutados hoy: 1/20","module":"RiskManager","timestamp":"2025-10-04T22:32:33.854Z"}
{"level":"info","message":"Orden ejecutada exitosamente: d6a0006c-00e8-4397-aaa3-fc702a0a6a74","module":"BybitClient","timestamp":"2025-10-04T22:32:33.851Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 5","module":"BybitClient","timestamp":"2025-10-04T22:36:12.797Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T22:36:14.259Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-04T22:36:14.259Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T22:36:14.259Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T22:37:33.863Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-04T22:37:33.874Z"}
{"level":"debug","message":"Predicción Kalman: 122234.92964064101 (Confianza: 0.877)","module":"KalmanFilter","timestamp":"2025-10-04T22:37:33.875Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T22:37:35.258Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T22:38:18.849Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":122074.93407845673,"middle":122192.07499999998,"upper":122309.21592154323},"ema":{"ema21":122155.67242219631,"ema50":122045.46661175389,"ema9":122206.15396055636},"macd":{"histogram":6.131557451885598,"macd":61.31557451885601,"signal":55.18401706697041},"rsi":58.93014253035341,"volume":{"avg":118.53442,"current":13.564,"ratio":0.11443089694959489}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La señal de MACD es bullish y el RSI está por debajo del 30, lo que indica una posible oportunidad de compra. Además, la predicción de Kalman muestra un precio predicho cercano al actual, con alta confianza. Recomiendo utilizar leverage alto (10-50x) para aprovechar esta oportunidad.","symbol":"BTCUSDT","timestamp":1759617498854}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759617498858","module":"BybitClient","timestamp":"2025-10-04T22:38:18.866Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T22:38:18.867Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759617154135%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"30\",\"autoAddMargin\":0,\"avgPrice\":\"122201.4\",\"liqPrice\":\"118739.1\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"130569.1\",\"positionValue\":\"107048.4264\",\"isReduceOnly\":false,\"positionIMByMp\":\"3625.19603053\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"118721.7\",\"unrealisedPnl\":\"33.726\",\"markPrice\":\"122239.9\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12032.00257453\",\"positionMM\":\"592.15656887\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"3625.19603053\",\"positionMMByMp\":\"592.32519886\",\"seq\":140697266384441,\"updatedTime\":\"1759617154135\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"3625.19603053\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-58.87663452\",\"size\":\"0.876\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"119888\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759617500010}","module":"BybitClient","timestamp":"2025-10-04T22:38:19.714Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.876 BTCUSDT | PnL: 0.03%","module":"TradingStrategy","timestamp":"2025-10-04T22:38:19.719Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T22:38:19.719Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759617499722","module":"BybitClient","timestamp":"2025-10-04T22:38:19.723Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T22:38:19.723Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759617154135%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"30\",\"autoAddMargin\":0,\"avgPrice\":\"122201.4\",\"liqPrice\":\"118739.1\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"130569.1\",\"positionValue\":\"107048.4264\",\"isReduceOnly\":false,\"positionIMByMp\":\"3625.19603053\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"118721.7\",\"unrealisedPnl\":\"33.726\",\"markPrice\":\"122239.9\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12032.00257453\",\"positionMM\":\"592.15656887\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"3625.19603053\",\"positionMMByMp\":\"592.32519886\",\"seq\":140697266384441,\"updatedTime\":\"1759617154135\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"3625.19603053\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-58.87663452\",\"size\":\"0.876\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"119888\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759617500412}","module":"BybitClient","timestamp":"2025-10-04T22:38:20.115Z"}
{"level":"info","message":"Posiciones existentes: 1","module":"TradingStrategy","timestamp":"2025-10-04T22:38:20.116Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T22:38:20.116Z"}
{"level":"info","message":"Analizando posición existente...","module":"TradingStrategy","timestamp":"2025-10-04T22:38:20.116Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-04T22:38:20.116Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 5","module":"BybitClient","timestamp":"2025-10-04T22:41:12.781Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T22:41:14.180Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-04T22:41:14.180Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T22:41:14.180Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T22:43:20.130Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-04T22:43:20.141Z"}
{"level":"debug","message":"Predicción Kalman: 122245.4268440204 (Confianza: 0.888)","module":"KalmanFilter","timestamp":"2025-10-04T22:43:20.141Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T22:43:21.540Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T22:44:54.192Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":122074.8786247171,"middle":122186.42,"upper":122297.9613752829},"ema":{"ema21":122183.8801372427,"ema50":122075.29369068886,"ema9":122224.05729777472},"macd":{"histogram":5.176196390042605,"macd":51.76196390042605,"signal":46.58576751038345},"rsi":53.91053787047175,"volume":{"avg":107.62139,"current":4.883,"ratio":0.04537202130543008}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La combinación de un precio actual por debajo del cambio reciente y una RSI por debajo de 30, junto con un MACD bullish y un Bollinger Superior, indica una posible oportunidad de compra. Además, la predicción de Kalman sugiere que el precio podría subir en los próximos días. Considerando el leverage alto (10-50x) y el nivel de confianza alto (88.8%), es recomendable tomar una posición de compra con una confianza del 88.8%","symbol":"BTCUSDT","timestamp":1759617894200}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759617894208","module":"BybitClient","timestamp":"2025-10-04T22:44:54.231Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T22:44:54.398Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759617154135%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"30\",\"autoAddMargin\":0,\"avgPrice\":\"122201.4\",\"liqPrice\":\"118739.1\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"130569.1\",\"positionValue\":\"107048.4264\",\"isReduceOnly\":false,\"positionIMByMp\":\"3625.19603053\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"118721.7\",\"unrealisedPnl\":\"33.726\",\"markPrice\":\"122239.9\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12032.00257453\",\"positionMM\":\"592.15656887\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"3625.19603053\",\"positionMMByMp\":\"592.32519886\",\"seq\":140697266384441,\"updatedTime\":\"1759617154135\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"3625.19603053\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-58.87663452\",\"size\":\"0.876\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"119888\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759617896135}","module":"BybitClient","timestamp":"2025-10-04T22:44:55.842Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.876 BTCUSDT | PnL: 0.03%","module":"TradingStrategy","timestamp":"2025-10-04T22:44:55.844Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T22:44:55.843Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759617895845","module":"BybitClient","timestamp":"2025-10-04T22:44:55.845Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T22:44:55.846Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759617154135%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"30\",\"autoAddMargin\":0,\"avgPrice\":\"122201.4\",\"liqPrice\":\"118739.1\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"130569.1\",\"positionValue\":\"107048.4264\",\"isReduceOnly\":false,\"positionIMByMp\":\"3625.19603053\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"118721.7\",\"unrealisedPnl\":\"33.726\",\"markPrice\":\"122239.9\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12032.00257453\",\"positionMM\":\"592.15656887\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"3625.19603053\",\"positionMMByMp\":\"592.32519886\",\"seq\":140697266384441,\"updatedTime\":\"1759617154135\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"3625.19603053\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-58.87663452\",\"size\":\"0.876\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"119888\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759617896884}","module":"BybitClient","timestamp":"2025-10-04T22:44:56.587Z"}
{"level":"info","message":"Posiciones existentes: 1","module":"TradingStrategy","timestamp":"2025-10-04T22:44:56.589Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T22:44:56.589Z"}
{"level":"info","message":"Analizando posición existente...","module":"TradingStrategy","timestamp":"2025-10-04T22:44:56.589Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-04T22:44:56.589Z"}
{"level":"info","message":"Recibida señal SIGINT, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-04T22:45:58.658Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759617958669}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-04T22:45:58.672Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-04T22:45:58.680Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759617967167}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-04T22:46:07.157Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-04T22:46:07.104Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T22:46:07.153Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T22:46:07.156Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T22:46:07.155Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759617967168}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-04T22:46:07.161Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T22:46:07.165Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T22:46:07.165Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T22:46:07.166Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T22:46:07.167Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T22:46:07.168Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T22:46:07.168Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (5m)","module":"TradingSystem","timestamp":"2025-10-04T22:46:07.168Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-04T22:46:07.158Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-04T22:46:07.158Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-04T22:46:07.158Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-04T22:46:07.158Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-04T22:46:07.159Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-04T22:46:07.159Z"}
{"level":"info","message":"7 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T22:46:07.159Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T22:46:07.191Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T22:46:08.009Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T22:46:09.398Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (5m)","module":"DataManager","timestamp":"2025-10-04T22:46:09.399Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 200","module":"BybitClient","timestamp":"2025-10-04T22:46:09.399Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-04T22:46:09.399Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T22:46:09.805Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T22:46:09.806Z"}
{"level":"info","message":"Datos suficientes recopilados para BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T22:46:09.806Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T22:46:09.807Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-04T22:46:09.808Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-04T22:46:09.808Z"}
{"level":"info","message":"Velas obtenidas: 200 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T22:46:09.805Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T22:46:09.806Z"}
{"level":"debug","message":"Predicción Kalman: 122265.67347862292 (Confianza: 0.869)","module":"KalmanFilter","timestamp":"2025-10-04T22:46:09.808Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T22:46:10.203Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T22:47:07.562Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":122065.42861555573,"middle":122196.88999999998,"upper":122328.35138444424},"ema":{"ema21":122161.30500730911,"ema50":122041.60820855381,"ema9":122225.44233338398},"macd":{"histogram":7.472430849548246,"macd":74.72430849548255,"signal":67.2518776459343},"rsi":54.535165723525125,"volume":{"avg":119.51907999999999,"current":3.851,"ratio":0.032220796880297276}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La combinación de un precio actual por debajo del cambio reciente y un RSI por debajo de 30, junto con un MACD bullish y una Bollinger Band superior en el gráfico, señala una posible oportunidad de compra. Además, la predicción de Kalman indica que el precio podría subir en los próximos días con alta confianza. Considerando el uso de leverage alto (10-50x) y el nivel de confianza razonablemente alto (86.9%), es recomendable tomar una posición de compra AGRESIVA.","symbol":"BTCUSDT","timestamp":1759618027565}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759618027566","module":"BybitClient","timestamp":"2025-10-04T22:47:07.569Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T22:47:07.569Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759617154135%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"30\",\"autoAddMargin\":0,\"avgPrice\":\"122201.4\",\"liqPrice\":\"118739.1\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"130569.1\",\"positionValue\":\"107048.4264\",\"isReduceOnly\":false,\"positionIMByMp\":\"3625.19603053\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"118721.7\",\"unrealisedPnl\":\"63.948\",\"markPrice\":\"122274.4\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12032.00257453\",\"positionMM\":\"592.15656887\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"3625.19603053\",\"positionMMByMp\":\"592.47630886\",\"seq\":140697266384441,\"updatedTime\":\"1759617154135\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"3625.19603053\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-58.87663452\",\"size\":\"0.876\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"119888\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759618029301}","module":"BybitClient","timestamp":"2025-10-04T22:47:09.053Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.876 BTCUSDT | PnL: 0.06%","module":"TradingStrategy","timestamp":"2025-10-04T22:47:09.054Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T22:47:09.054Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-04T22:47:09.453Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-04T22:47:09.454Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La tendencia actual es bullish y no hay señales de reversión. Mantener la posición para apr...","module":"OllamaClient","timestamp":"2025-10-04T22:47:41.612Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La tendencia actual es bullish y no hay señales de reversión. Mantener la posición para aprovechar e...","module":"TradingStrategy","timestamp":"2025-10-04T22:47:41.614Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759618061615","module":"BybitClient","timestamp":"2025-10-04T22:47:41.617Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-04T22:47:41.614Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-04T22:47:41.614Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T22:47:41.617Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759617154135%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"30\",\"autoAddMargin\":0,\"avgPrice\":\"122201.4\",\"liqPrice\":\"118739.1\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"130569.1\",\"positionValue\":\"107048.4264\",\"isReduceOnly\":false,\"positionIMByMp\":\"3625.19603053\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"118721.7\",\"unrealisedPnl\":\"63.8604\",\"markPrice\":\"122274.3\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12032.00257453\",\"positionMM\":\"592.15656887\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"3625.19603053\",\"positionMMByMp\":\"592.47587086\",\"seq\":140697266384441,\"updatedTime\":\"1759617154135\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"3625.19603053\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-58.87663452\",\"size\":\"0.876\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"119888\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759618063057}","module":"BybitClient","timestamp":"2025-10-04T22:47:42.754Z"}
{"level":"info","message":"Ya existe una posición abierta, no se abrirá nueva posición","module":"TradingStrategy","timestamp":"2025-10-04T22:47:42.762Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T22:47:42.762Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-04T22:47:42.762Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 5","module":"BybitClient","timestamp":"2025-10-04T22:51:09.818Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T22:51:11.293Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-04T22:51:11.304Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T22:51:11.303Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T22:52:42.768Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-04T22:52:42.779Z"}
{"level":"debug","message":"Predicción Kalman: 122268.20224497399 (Confianza: 0.885)","module":"KalmanFilter","timestamp":"2025-10-04T22:52:42.779Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T22:52:44.516Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T22:53:45.625Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":122082.97449441289,"middle":122214.505,"upper":122346.03550558712},"ema":{"ema21":122204.54564550733,"ema50":122078.66186259479,"ema9":122258.7167197537},"macd":{"histogram":6.704074458211835,"macd":67.04074458211835,"signal":60.336670123906515},"rsi":66.75476684916046,"volume":{"avg":113.03632000000002,"current":5.128,"ratio":0.045365949634595316}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La combinación de un precio actual por debajo del cambio reciente y una RSI por debajo de 30, junto con un MACD bullish y un Bollinger Superior y Medio en el rango superior, señaliza una posible oportunidad de compra. Además, la predicción de Kalman para el precio futuro también apoya esta decisión.","symbol":"BTCUSDT","timestamp":1759618425630}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759618425631","module":"BybitClient","timestamp":"2025-10-04T22:53:45.635Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T22:53:45.635Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759618277791%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"30\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"122198.2\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-12027.75434683\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266416671,\"updatedTime\":\"1759618277791\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759618427727}","module":"BybitClient","timestamp":"2025-10-04T22:53:47.426Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-04T22:53:47.426Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759618427426","module":"BybitClient","timestamp":"2025-10-04T22:53:47.426Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T22:53:47.427Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759618277791%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"30\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"122198.3\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-12027.75434683\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266416671,\"updatedTime\":\"1759618277791\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759618428469}","module":"BybitClient","timestamp":"2025-10-04T22:53:48.167Z"}
{"level":"info","message":"AI sugiere BUY con confianza 0.8","module":"TradingStrategy","timestamp":"2025-10-04T22:53:48.168Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-04T22:53:48.167Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759618428173","module":"BybitClient","timestamp":"2025-10-04T22:53:48.174Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-04T22:53:48.174Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"214444.61638238\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"214444.61638238\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49996.27375459\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121046.15658721\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4494.875045\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38884.79669829\",\"totalPositionMM\":\"0\",\"usdValue\":\"38907.31099557\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"38884.79669829\",\"cumRealisedPnl\":\"-12022.80619171\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759618429216}","module":"BybitClient","timestamp":"2025-10-04T22:53:48.920Z"}
{"level":"info","message":"Balance disponible: $38884.80, Precio: $122177.8","module":"TradingStrategy","timestamp":"2025-10-04T22:53:48.924Z"}
{"level":"info","message":"Balance obtenido - Total: $214444.62, Disponible: $38884.80","module":"BybitClient","timestamp":"2025-10-04T22:53:48.924Z"}
{"level":"debug","message":"Símbolo info - Min: 0.001, Step: 0.001","module":"TradingStrategy","timestamp":"2025-10-04T22:53:49.662Z"}
{"level":"info","message":"Contador diario de trades reseteado","module":"RiskManager","timestamp":"2025-10-04T22:53:49.696Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759618429696","module":"BybitClient","timestamp":"2025-10-04T22:53:49.697Z"}
{"level":"info","message":"Riesgo: 5.666666666666667%, Capital a arriesgar: $2203.47","module":"TradingStrategy","timestamp":"2025-10-04T22:53:49.689Z"}
{"level":"info","message":"Position value: $37459.02, Quantity raw: 0.306594","module":"TradingStrategy","timestamp":"2025-10-04T22:53:49.689Z"}
{"level":"info","message":"Cantidad final calculada: 0.306 BTC (valor: $37386.41)","module":"TradingStrategy","timestamp":"2025-10-04T22:53:49.690Z"}
{"level":"info","message":"Parámetros calculados - Leverage: 17x, Quantity: 0.306","module":"TradingStrategy","timestamp":"2025-10-04T22:53:49.690Z"}
{"level":"info","message":"Generando señal de trading: BUY 0.306 BTCUSDT @ 122177.8 (SL: 121444.7332, TP: 123570.62692000001)","module":"TradingStrategy","timestamp":"2025-10-04T22:53:49.693Z"}
{"level":"info","message":"EJECUTANDO TRADE: BUY 0.306 BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T22:53:49.693Z"}
{"level":"info","message":"=== INICIO EJECUCIÓN DE TRADE ===","module":"TradingStrategy","timestamp":"2025-10-04T22:53:49.694Z"}
{"level":"info","message":"Señal: {\"symbol\":\"BTCUSDT\",\"action\":\"BUY\",\"leverage\":17,\"quantity\":0.306,\"stopLoss\":121444.7332,\"takeProfit\":123570.62692000001,\"timestamp\":1759618429693,\"aiAnalysis\":{\"decision\":\"BUY\",\"confidence\":0.8,\"reasoning\":\"La combinación de un precio actual por debajo del cambio reciente y una RSI por debajo de 30, junto con un MACD bullish y un Bollinger Superior y Medio en el rango superior, señaliza una posible oportunidad de compra. Además, la predicción de Kalman para el precio futuro también apoya esta decisión.\",\"indicators\":{},\"kalman\":{},\"marketSentiment\":\"bullish\",\"riskLevel\":\"medium\",\"suggestedLeverage\":10}}","module":"TradingStrategy","timestamp":"2025-10-04T22:53:49.694Z"}
{"level":"info","message":"Validando con Risk Manager...","module":"TradingStrategy","timestamp":"2025-10-04T22:53:49.694Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-04T22:53:49.697Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"214444.61638238\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"214444.61638238\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49996.27375459\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121046.15658721\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4494.875045\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38884.79669829\",\"totalPositionMM\":\"0\",\"usdValue\":\"38907.31099557\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"38884.79669829\",\"cumRealisedPnl\":\"-12022.80619171\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759618430737}","module":"BybitClient","timestamp":"2025-10-04T22:53:50.438Z"}
{"level":"info","message":"Balance obtenido - Total: $214444.62, Disponible: $38884.80","module":"BybitClient","timestamp":"2025-10-04T22:53:50.441Z"}
{"level":"info","message":"Validando posición: Cantidad=0.306, Precio=122198.20, Valor=$37392.65","module":"RiskManager","timestamp":"2025-10-04T22:53:50.848Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759618430848","module":"BybitClient","timestamp":"2025-10-04T22:53:50.849Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T22:53:50.849Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759618277791%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"30\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"122198.2\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-12027.75434683\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266416671,\"updatedTime\":\"1759618277791\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759618431889}","module":"BybitClient","timestamp":"2025-10-04T22:53:51.595Z"}
{"level":"info","message":"Resultado validación: {\"approved\":false,\"reason\":\"Exposición total excedería límite: $100\",\"riskScore\":0.7}","module":"TradingStrategy","timestamp":"2025-10-04T22:53:51.596Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-04T22:53:51.595Z"}
{"level":"warn","message":"Trade rechazado por gestión de riesgo: Exposición total excedería límite: $100","module":"TradingStrategy","timestamp":"2025-10-04T22:53:51.596Z"}
{"level":"info","message":"Recibida señal SIGINT, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-04T22:55:39.192Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759618539199}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-04T22:55:39.200Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-04T22:55:39.205Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759618544330}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-04T22:55:44.315Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-04T22:55:44.325Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T22:55:44.321Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":1000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T22:55:44.324Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T22:55:44.324Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-04T22:55:44.328Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759618544330}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":1000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T22:55:44.329Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T22:55:44.329Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T22:55:44.329Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T22:55:44.329Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-04T22:55:44.325Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-04T22:55:44.326Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-04T22:55:44.326Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-04T22:55:44.326Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-04T22:55:44.326Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-04T22:55:44.326Z"}
{"level":"info","message":"7 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T22:55:44.326Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T22:55:44.351Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T22:55:44.330Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T22:55:44.330Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (5m)","module":"TradingSystem","timestamp":"2025-10-04T22:55:44.330Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T22:55:45.423Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T22:55:47.340Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (5m)","module":"DataManager","timestamp":"2025-10-04T22:55:47.340Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 200","module":"BybitClient","timestamp":"2025-10-04T22:55:47.340Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-04T22:55:47.340Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T22:55:48.249Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T22:55:48.250Z"}
{"level":"info","message":"Datos suficientes recopilados para BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T22:55:48.250Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T22:55:48.251Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-04T22:55:48.252Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-04T22:55:48.252Z"}
{"level":"info","message":"Velas obtenidas: 200 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T22:55:48.250Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T22:55:48.250Z"}
{"level":"debug","message":"Predicción Kalman: 122240.0503869407 (Confianza: 0.876)","module":"KalmanFilter","timestamp":"2025-10-04T22:55:48.252Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T22:55:48.661Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T22:56:32.878Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":122081.80713580789,"middle":122206.11499999999,"upper":122330.42286419209},"ema":{"ema21":122171.90785388624,"ema50":122054.60194768435,"ema9":122224.48069335638},"macd":{"histogram":6.5966134662623475,"macd":65.96613466262352,"signal":59.36952119636117},"rsi":58.451304792768866,"volume":{"avg":119.82261,"current":5.672,"ratio":0.04733664205778859}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La combinación de un precio actual por debajo del cambio reciente y un RSI por debajo de 30, junto con un MACD bullish y un Bollinger Band superior, indica una oportunidad buena para comprar. Además, la predicción de Kalman sugiere que el precio podría subir aún más, lo que respalda nuestra decisión de compra. Utilizaremos un leverage alto (10-50x) para aprovechar al máximo esta oportunidad.","symbol":"BTCUSDT","timestamp":1759618592880}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759618592881","module":"BybitClient","timestamp":"2025-10-04T22:56:32.882Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T22:56:32.882Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759618277791%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"30\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"122254\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-12027.75434683\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266416671,\"updatedTime\":\"1759618277791\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759618595552}","module":"BybitClient","timestamp":"2025-10-04T22:56:35.241Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-04T22:56:35.242Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759618595242","module":"BybitClient","timestamp":"2025-10-04T22:56:35.242Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T22:56:35.242Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759618277791%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"30\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"122254\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-12027.75434683\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266416671,\"updatedTime\":\"1759618277791\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759618596291}","module":"BybitClient","timestamp":"2025-10-04T22:56:36.041Z"}
{"level":"info","message":"AI sugiere BUY con confianza 0.8","module":"TradingStrategy","timestamp":"2025-10-04T22:56:36.045Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-04T22:56:36.042Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759618596045","module":"BybitClient","timestamp":"2025-10-04T22:56:36.045Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-04T22:56:36.046Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"214444.61638238\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"214444.61638238\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49996.27375459\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121046.15658721\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4494.875045\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38884.79669829\",\"totalPositionMM\":\"0\",\"usdValue\":\"38907.31099557\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"38884.79669829\",\"cumRealisedPnl\":\"-12022.80619171\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759618597096}","module":"BybitClient","timestamp":"2025-10-04T22:56:36.785Z"}
{"level":"info","message":"Balance disponible: $38884.80, Precio: $122235.6","module":"TradingStrategy","timestamp":"2025-10-04T22:56:36.786Z"}
{"level":"info","message":"Balance obtenido - Total: $214444.62, Disponible: $38884.80","module":"BybitClient","timestamp":"2025-10-04T22:56:36.786Z"}
{"level":"debug","message":"Símbolo info - Min: 0.001, Step: 0.001","module":"TradingStrategy","timestamp":"2025-10-04T22:56:37.194Z"}
{"level":"info","message":"Contador diario de trades reseteado","module":"RiskManager","timestamp":"2025-10-04T22:56:37.196Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759618597197","module":"BybitClient","timestamp":"2025-10-04T22:56:37.197Z"}
{"level":"info","message":"Riesgo: 5.666666666666667%, Capital a arriesgar: $2203.47","module":"TradingStrategy","timestamp":"2025-10-04T22:56:37.194Z"}
{"level":"info","message":"Position value: $37459.02, Quantity raw: 0.306449","module":"TradingStrategy","timestamp":"2025-10-04T22:56:37.194Z"}
{"level":"info","message":"Cantidad final calculada: 0.306 BTC (valor: $37404.09)","module":"TradingStrategy","timestamp":"2025-10-04T22:56:37.194Z"}
{"level":"info","message":"Parámetros calculados - Leverage: 17x, Quantity: 0.306","module":"TradingStrategy","timestamp":"2025-10-04T22:56:37.194Z"}
{"level":"info","message":"Generando señal de trading: BUY 0.306 BTCUSDT @ 122235.6 (SL: 121502.1864, TP: 123629.08584)","module":"TradingStrategy","timestamp":"2025-10-04T22:56:37.194Z"}
{"level":"info","message":"EJECUTANDO TRADE: BUY 0.306 BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T22:56:37.195Z"}
{"level":"info","message":"=== INICIO EJECUCIÓN DE TRADE ===","module":"TradingStrategy","timestamp":"2025-10-04T22:56:37.195Z"}
{"level":"info","message":"Señal: {\"symbol\":\"BTCUSDT\",\"action\":\"BUY\",\"leverage\":17,\"quantity\":0.306,\"stopLoss\":121502.1864,\"takeProfit\":123629.08584,\"timestamp\":1759618597195,\"aiAnalysis\":{\"decision\":\"BUY\",\"confidence\":0.8,\"reasoning\":\"La combinación de un precio actual por debajo del cambio reciente y un RSI por debajo de 30, junto con un MACD bullish y un Bollinger Band superior, indica una oportunidad buena para comprar. Además, la predicción de Kalman sugiere que el precio podría subir aún más, lo que respalda nuestra decisión de compra. Utilizaremos un leverage alto (10-50x) para aprovechar al máximo esta oportunidad.\",\"indicators\":{},\"kalman\":{},\"marketSentiment\":\"bullish\",\"riskLevel\":\"medium\",\"suggestedLeverage\":10}}","module":"TradingStrategy","timestamp":"2025-10-04T22:56:37.195Z"}
{"level":"info","message":"Validando con Risk Manager...","module":"TradingStrategy","timestamp":"2025-10-04T22:56:37.195Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-04T22:56:37.197Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"214444.61638238\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"214444.61638238\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49996.27375459\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121046.15658721\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4494.875045\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38884.79669829\",\"totalPositionMM\":\"0\",\"usdValue\":\"38907.31099557\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"38884.79669829\",\"cumRealisedPnl\":\"-12022.80619171\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759618598247}","module":"BybitClient","timestamp":"2025-10-04T22:56:37.936Z"}
{"level":"info","message":"Balance obtenido - Total: $214444.62, Disponible: $38884.80","module":"BybitClient","timestamp":"2025-10-04T22:56:37.937Z"}
{"level":"info","message":"Validando posición: Cantidad=0.306, Precio=122254.00, Valor=$37409.72","module":"RiskManager","timestamp":"2025-10-04T22:56:38.668Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759618598668","module":"BybitClient","timestamp":"2025-10-04T22:56:38.668Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T22:56:38.668Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759618277791%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"30\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"122254\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-12027.75434683\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266416671,\"updatedTime\":\"1759618277791\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759618599716}","module":"BybitClient","timestamp":"2025-10-04T22:56:39.419Z"}
{"level":"info","message":"Resultado validación: {\"approved\":false,\"reason\":\"Exposición total excedería límite: $1000\",\"riskScore\":0.7}","module":"TradingStrategy","timestamp":"2025-10-04T22:56:39.420Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-04T22:56:39.419Z"}
{"level":"warn","message":"Trade rechazado por gestión de riesgo: Exposición total excedería límite: $1000","module":"TradingStrategy","timestamp":"2025-10-04T22:56:39.420Z"}
{"level":"info","message":"Recibida señal SIGINT, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-04T22:56:53.297Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759618613299}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-04T22:56:53.299Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-04T22:56:53.307Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759618617552}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-04T22:56:57.536Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-04T22:56:57.523Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T22:56:57.529Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T22:56:57.533Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T22:56:57.532Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759618617553}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-04T22:56:57.544Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T22:56:57.546Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T22:56:57.546Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T22:56:57.548Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T22:56:57.552Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T22:56:57.552Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T22:56:57.552Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (5m)","module":"TradingSystem","timestamp":"2025-10-04T22:56:57.553Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-04T22:56:57.537Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-04T22:56:57.537Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-04T22:56:57.537Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-04T22:56:57.538Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-04T22:56:57.539Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-04T22:56:57.539Z"}
{"level":"info","message":"7 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T22:56:57.539Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T22:56:57.577Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T22:56:59.359Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T22:57:00.626Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (5m)","module":"DataManager","timestamp":"2025-10-04T22:57:00.628Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 200","module":"BybitClient","timestamp":"2025-10-04T22:57:00.629Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-04T22:57:00.629Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T22:57:01.546Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T22:57:01.546Z"}
{"level":"info","message":"Datos suficientes recopilados para BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T22:57:01.546Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T22:57:01.547Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-04T22:57:01.547Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-04T22:57:01.548Z"}
{"level":"info","message":"Velas obtenidas: 200 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T22:57:01.546Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T22:57:01.546Z"}
{"level":"debug","message":"Predicción Kalman: 122245.34772058597 (Confianza: 0.876)","module":"KalmanFilter","timestamp":"2025-10-04T22:57:01.548Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T22:57:02.288Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T22:57:44.711Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":122081.55940745599,"middle":122207.12,"upper":122332.680592544},"ema":{"ema21":122173.73512661352,"ema50":122055.39018297846,"ema9":122228.50069335639},"macd":{"histogram":6.756955346604805,"macd":67.56955346604809,"signal":60.81259811944329},"rsi":59.82849604221741,"volume":{"avg":120.18423000000001,"current":41.834,"ratio":0.3480822733564961}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La combinación de un precio actual por debajo del cambio reciente y una RSI por debajo de 30, junto con un MACD bullish y un Bollinger Band superior, indica una posible oportunidad de compra. Además, la predicción Kalman sugiere que el precio podría subir en los próximos días.","symbol":"BTCUSDT","timestamp":1759618664729}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759618664766","module":"BybitClient","timestamp":"2025-10-04T22:57:44.775Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T22:57:44.775Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759618277791%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"30\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"122241.24\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-12027.75434683\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266416671,\"updatedTime\":\"1759618277791\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759618666530}","module":"BybitClient","timestamp":"2025-10-04T22:57:46.224Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-04T22:57:46.224Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759618666225","module":"BybitClient","timestamp":"2025-10-04T22:57:46.225Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T22:57:46.225Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759618277791%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"30\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"122241.24\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-12027.75434683\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266416671,\"updatedTime\":\"1759618277791\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759618666947}","module":"BybitClient","timestamp":"2025-10-04T22:57:46.639Z"}
{"level":"info","message":"AI sugiere BUY con confianza 0.8","module":"TradingStrategy","timestamp":"2025-10-04T22:57:46.640Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-04T22:57:46.640Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759618666642","module":"BybitClient","timestamp":"2025-10-04T22:57:46.642Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-04T22:57:46.644Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"214444.61638238\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"214444.61638238\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49996.27375459\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121046.15658721\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4494.875045\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38884.79669829\",\"totalPositionMM\":\"0\",\"usdValue\":\"38907.31099557\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"38884.79669829\",\"cumRealisedPnl\":\"-12022.80619171\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759618667694}","module":"BybitClient","timestamp":"2025-10-04T22:57:47.388Z"}
{"level":"info","message":"Balance disponible: $38884.80, Precio: $122255.4","module":"TradingStrategy","timestamp":"2025-10-04T22:57:47.389Z"}
{"level":"info","message":"Balance obtenido - Total: $214444.62, Disponible: $38884.80","module":"BybitClient","timestamp":"2025-10-04T22:57:47.388Z"}
{"level":"debug","message":"Símbolo info - Min: 0.001, Step: 0.001","module":"TradingStrategy","timestamp":"2025-10-04T22:57:48.233Z"}
{"level":"info","message":"Contador diario de trades reseteado","module":"RiskManager","timestamp":"2025-10-04T22:57:48.235Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759618668235","module":"BybitClient","timestamp":"2025-10-04T22:57:48.235Z"}
{"level":"info","message":"Riesgo: 5.666666666666667%, Capital a arriesgar: $2203.47","module":"TradingStrategy","timestamp":"2025-10-04T22:57:48.233Z"}
{"level":"info","message":"Position value: $37459.02, Quantity raw: 0.306400","module":"TradingStrategy","timestamp":"2025-10-04T22:57:48.233Z"}
{"level":"info","message":"Cantidad final calculada: 0.306 BTC (valor: $37410.15)","module":"TradingStrategy","timestamp":"2025-10-04T22:57:48.233Z"}
{"level":"info","message":"Parámetros calculados - Leverage: 17x, Quantity: 0.306","module":"TradingStrategy","timestamp":"2025-10-04T22:57:48.234Z"}
{"level":"info","message":"Generando señal de trading: BUY 0.306 BTCUSDT @ 122255.4 (SL: 121521.8676, TP: 123649.11155999999)","module":"TradingStrategy","timestamp":"2025-10-04T22:57:48.234Z"}
{"level":"info","message":"EJECUTANDO TRADE: BUY 0.306 BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T22:57:48.234Z"}
{"level":"info","message":"=== INICIO EJECUCIÓN DE TRADE ===","module":"TradingStrategy","timestamp":"2025-10-04T22:57:48.234Z"}
{"level":"info","message":"Señal: {\"symbol\":\"BTCUSDT\",\"action\":\"BUY\",\"leverage\":17,\"quantity\":0.306,\"stopLoss\":121521.8676,\"takeProfit\":123649.11155999999,\"timestamp\":1759618668234,\"aiAnalysis\":{\"decision\":\"BUY\",\"confidence\":0.8,\"reasoning\":\"La combinación de un precio actual por debajo del cambio reciente y una RSI por debajo de 30, junto con un MACD bullish y un Bollinger Band superior, indica una posible oportunidad de compra. Además, la predicción Kalman sugiere que el precio podría subir en los próximos días.\",\"indicators\":{},\"kalman\":{},\"marketSentiment\":\"bullish\",\"riskLevel\":\"medium\",\"suggestedLeverage\":10}}","module":"TradingStrategy","timestamp":"2025-10-04T22:57:48.234Z"}
{"level":"info","message":"Validando con Risk Manager...","module":"TradingStrategy","timestamp":"2025-10-04T22:57:48.235Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-04T22:57:48.236Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"214444.61638238\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"214444.61638238\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49996.27375459\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121046.15658721\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4494.875045\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38884.79669829\",\"totalPositionMM\":\"0\",\"usdValue\":\"38907.31099557\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"38884.79669829\",\"cumRealisedPnl\":\"-12022.80619171\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759618669286}","module":"BybitClient","timestamp":"2025-10-04T22:57:48.980Z"}
{"level":"info","message":"Balance obtenido - Total: $214444.62, Disponible: $38884.80","module":"BybitClient","timestamp":"2025-10-04T22:57:48.980Z"}
{"level":"info","message":"Validando posición: Cantidad=0.306, Precio=122222.70, Valor=$37400.15","module":"RiskManager","timestamp":"2025-10-04T22:57:49.393Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759618669393","module":"BybitClient","timestamp":"2025-10-04T22:57:49.393Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T22:57:49.393Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759618277791%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"30\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"122240.84\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-12027.75434683\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266416671,\"updatedTime\":\"1759618277791\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759618670116}","module":"BybitClient","timestamp":"2025-10-04T22:57:49.809Z"}
{"level":"info","message":"Resultado validación: {\"approved\":false,\"reason\":\"Exposición total excedería límite: $10000\",\"riskScore\":0.7}","module":"TradingStrategy","timestamp":"2025-10-04T22:57:49.840Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-04T22:57:49.839Z"}
{"level":"warn","message":"Trade rechazado por gestión de riesgo: Exposición total excedería límite: $10000","module":"TradingStrategy","timestamp":"2025-10-04T22:57:49.840Z"}
{"level":"info","message":"Recibida señal SIGINT, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-04T22:58:42.494Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759618722506}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-04T22:58:42.509Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-04T22:58:42.514Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759618727261}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-04T22:58:47.254Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-04T22:58:47.244Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T22:58:47.251Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T22:58:47.253Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T22:58:47.253Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759618727262}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-04T22:58:47.258Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T22:58:47.259Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T22:58:47.259Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T22:58:47.260Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T22:58:47.261Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T22:58:47.262Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T22:58:47.262Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (5m)","module":"TradingSystem","timestamp":"2025-10-04T22:58:47.262Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-04T22:58:47.255Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-04T22:58:47.255Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-04T22:58:47.255Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-04T22:58:47.255Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-04T22:58:47.255Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-04T22:58:47.256Z"}
{"level":"info","message":"7 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T22:58:47.256Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T22:58:47.283Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T22:58:50.421Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T22:58:51.620Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (5m)","module":"DataManager","timestamp":"2025-10-04T22:58:51.621Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 200","module":"BybitClient","timestamp":"2025-10-04T22:58:51.621Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-04T22:58:51.621Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T22:58:52.037Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T22:58:52.040Z"}
{"level":"info","message":"Datos suficientes recopilados para BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T22:58:52.040Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T22:58:52.040Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-04T22:58:52.041Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-04T22:58:52.041Z"}
{"level":"info","message":"Velas obtenidas: 200 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T22:58:52.040Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T22:58:52.040Z"}
{"level":"debug","message":"Predicción Kalman: 122240.41935545334 (Confianza: 0.876)","module":"KalmanFilter","timestamp":"2025-10-04T22:58:52.041Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T22:58:52.779Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T22:59:59.141Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":122081.8094674383,"middle":122206.18499999998,"upper":122330.56053256166},"ema":{"ema21":122172.03512661351,"ema50":122054.65684964514,"ema9":122224.76069335638},"macd":{"histogram":6.607781557430279,"macd":66.0778155743028,"signal":59.470034016872525},"rsi":58.550280755487755,"volume":{"avg":120.26295,"current":49.706,"ratio":0.41331099894023887}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La combinación de un precio actual por debajo del cambio reciente y una RSI por debajo de 30, junto con un MACD bullish y un Bollinger Superior y Medio en el rango superior, señala una posible oportunidad de compra. Además, la predicción de Kalman indica un precio futuro que está por encima del precio actual, lo que sugiere una tendencia bullish. Considerando el leverage alto (10-50x) y el nivel de confianza moderado (87.6%), la decisión es comprar con una confianza del 87.6%.","symbol":"BTCUSDT","timestamp":1759618799154}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759618799161","module":"BybitClient","timestamp":"2025-10-04T22:59:59.165Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T22:59:59.165Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759618277791%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"30\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"122237\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-12027.75434683\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266416671,\"updatedTime\":\"1759618277791\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759618800635}","module":"BybitClient","timestamp":"2025-10-04T23:00:00.321Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-04T23:00:00.321Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759618800323","module":"BybitClient","timestamp":"2025-10-04T23:00:00.324Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T23:00:00.324Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759618277791%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"30\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"122237\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-12027.75434683\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266416671,\"updatedTime\":\"1759618277791\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759618801034}","module":"BybitClient","timestamp":"2025-10-04T23:00:00.720Z"}
{"level":"info","message":"AI sugiere BUY con confianza 0.8","module":"TradingStrategy","timestamp":"2025-10-04T23:00:00.720Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-04T23:00:00.720Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759618800725","module":"BybitClient","timestamp":"2025-10-04T23:00:00.725Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-04T23:00:00.725Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"214444.61638238\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"214444.61638238\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49996.27375459\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121046.15658721\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4494.875045\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38884.79669829\",\"totalPositionMM\":\"0\",\"usdValue\":\"38907.31099557\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"38884.79669829\",\"cumRealisedPnl\":\"-12022.80619171\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759618801438}","module":"BybitClient","timestamp":"2025-10-04T23:00:01.139Z"}
{"level":"info","message":"Balance disponible: $38884.80, Precio: $122237","module":"TradingStrategy","timestamp":"2025-10-04T23:00:01.141Z"}
{"level":"info","message":"Balance obtenido - Total: $214444.62, Disponible: $38884.80","module":"BybitClient","timestamp":"2025-10-04T23:00:01.141Z"}
{"level":"debug","message":"Símbolo info - Min: 0.001, Step: 0.001","module":"TradingStrategy","timestamp":"2025-10-04T23:00:01.536Z"}
{"level":"info","message":"Contador diario de trades reseteado","module":"RiskManager","timestamp":"2025-10-04T23:00:01.543Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759618801544","module":"BybitClient","timestamp":"2025-10-04T23:00:01.544Z"}
{"level":"info","message":"Riesgo: 5.666666666666667%, Capital a arriesgar: $2203.47","module":"TradingStrategy","timestamp":"2025-10-04T23:00:01.536Z"}
{"level":"info","message":"Position value: $37459.02, Quantity raw: 0.306446","module":"TradingStrategy","timestamp":"2025-10-04T23:00:01.536Z"}
{"level":"info","message":"Cantidad final calculada: 0.306 BTC (valor: $37404.52)","module":"TradingStrategy","timestamp":"2025-10-04T23:00:01.536Z"}
{"level":"info","message":"Parámetros calculados - Leverage: 17x, Quantity: 0.306","module":"TradingStrategy","timestamp":"2025-10-04T23:00:01.536Z"}
{"level":"info","message":"Generando señal de trading: BUY 0.306 BTCUSDT @ 122237 (SL: 121503.578, TP: 123630.50180000001)","module":"TradingStrategy","timestamp":"2025-10-04T23:00:01.536Z"}
{"level":"info","message":"EJECUTANDO TRADE: BUY 0.306 BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T23:00:01.536Z"}
{"level":"info","message":"=== INICIO EJECUCIÓN DE TRADE ===","module":"TradingStrategy","timestamp":"2025-10-04T23:00:01.537Z"}
{"level":"info","message":"Señal: {\"symbol\":\"BTCUSDT\",\"action\":\"BUY\",\"leverage\":17,\"quantity\":0.306,\"stopLoss\":121503.578,\"takeProfit\":123630.50180000001,\"timestamp\":1759618801536,\"aiAnalysis\":{\"decision\":\"BUY\",\"confidence\":0.8,\"reasoning\":\"La combinación de un precio actual por debajo del cambio reciente y una RSI por debajo de 30, junto con un MACD bullish y un Bollinger Superior y Medio en el rango superior, señala una posible oportunidad de compra. Además, la predicción de Kalman indica un precio futuro que está por encima del precio actual, lo que sugiere una tendencia bullish. Considerando el leverage alto (10-50x) y el nivel de confianza moderado (87.6%), la decisión es comprar con una confianza del 87.6%.\",\"indicators\":{},\"kalman\":{},\"marketSentiment\":\"bullish\",\"riskLevel\":\"medium\",\"suggestedLeverage\":10}}","module":"TradingStrategy","timestamp":"2025-10-04T23:00:01.539Z"}
{"level":"info","message":"Validando con Risk Manager...","module":"TradingStrategy","timestamp":"2025-10-04T23:00:01.539Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-04T23:00:01.544Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"214444.61638238\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"214444.61638238\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49996.27375459\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121046.15658721\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4494.875045\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38884.79669829\",\"totalPositionMM\":\"0\",\"usdValue\":\"38907.31099557\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"38884.79669829\",\"cumRealisedPnl\":\"-12022.80619171\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759618802255}","module":"BybitClient","timestamp":"2025-10-04T23:00:01.942Z"}
{"level":"info","message":"Balance obtenido - Total: $214444.62, Disponible: $38884.80","module":"BybitClient","timestamp":"2025-10-04T23:00:01.947Z"}
{"level":"info","message":"Validando posición: Cantidad=0.306, Precio=122236.90, Valor=$37404.49","module":"RiskManager","timestamp":"2025-10-04T23:00:02.340Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759618802340","module":"BybitClient","timestamp":"2025-10-04T23:00:02.340Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T23:00:02.340Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759618277791%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"30\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"122236.9\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-12027.75434683\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266416671,\"updatedTime\":\"1759618277791\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759618803051}","module":"BybitClient","timestamp":"2025-10-04T23:00:02.736Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-04T23:00:02.743Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 20","module":"BybitClient","timestamp":"2025-10-04T23:00:03.141Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T23:00:03.535Z"}
{"level":"info","message":"Velas obtenidas: 20 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T23:00:03.536Z"}
{"level":"info","message":"Trade aprobado - Risk Score: 0.30","module":"RiskManager","timestamp":"2025-10-04T23:00:03.930Z"}
{"level":"info","message":"Resultado validación: {\"approved\":true,\"reason\":\"Trade aprobado por gestión de riesgo\",\"riskScore\":0.30338254926840547}","module":"TradingStrategy","timestamp":"2025-10-04T23:00:03.932Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759618803932","module":"BybitClient","timestamp":"2025-10-04T23:00:03.932Z"}
{"level":"info","message":"Trade aprobado por Risk Manager, ejecutando...","module":"TradingStrategy","timestamp":"2025-10-04T23:00:03.932Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"buyLeverage\":\"17\",\"sellLeverage\":\"17\"}","module":"BybitClient","timestamp":"2025-10-04T23:00:03.933Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{},\"retExtInfo\":{},\"time\":1759618804644}","module":"BybitClient","timestamp":"2025-10-04T23:00:04.334Z"}
{"level":"info","message":"Leverage establecido a 17x para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T23:00:04.335Z"}
{"level":"info","message":"Ejecutando orden: Buy 0.306 BTCUSDT | SL: 121503.578 | TP: 123630.50180000001","module":"BybitClient","timestamp":"2025-10-04T23:00:04.335Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759618804336","module":"BybitClient","timestamp":"2025-10-04T23:00:04.336Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"side\":\"Buy\",\"orderType\":\"Market\",\"qty\":\"0.306\",\"timeInForce\":\"IOC\",\"stopLoss\":\"121503.578\",\"slTriggerBy\":\"LastPrice\",\"takeProfit\":\"123630.50180000001\",\"tpTriggerBy\":\"LastPrice\"}","module":"BybitClient","timestamp":"2025-10-04T23:00:04.336Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"orderId\":\"7b1b60eb-6d1e-4357-93d4-0141f523fcbb\",\"orderLinkId\":\"\"},\"retExtInfo\":{},\"time\":1759618805047}","module":"BybitClient","timestamp":"2025-10-04T23:00:04.744Z"}
{"level":"info","message":"TRADE_OPEN","module":"TradingStrategy","pnl":0,"price":0,"quantity":0.306,"side":"BUY","symbol":"BTCUSDT","timestamp":1759618804745}
{"level":"debug","message":"Trades ejecutados hoy: 1/20","module":"RiskManager","timestamp":"2025-10-04T23:00:04.746Z"}
{"level":"info","message":"Orden ejecutada exitosamente: 7b1b60eb-6d1e-4357-93d4-0141f523fcbb","module":"BybitClient","timestamp":"2025-10-04T23:00:04.745Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 5","module":"BybitClient","timestamp":"2025-10-04T23:03:52.045Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T23:03:53.804Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-04T23:03:53.805Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T23:03:53.804Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T23:05:04.761Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-04T23:05:04.774Z"}
{"level":"debug","message":"Predicción Kalman: 122227.83851606477 (Confianza: 0.888)","module":"KalmanFilter","timestamp":"2025-10-04T23:05:04.775Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T23:05:05.922Z"}
{"error":"AxiosError: timeout of 120000ms exceeded\n    at RedirectableRequest.handleRequestTimeout (/Users/x3at/Documents/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:675:16)\n    at RedirectableRequest.emit (node:events:507:28)\n    at RedirectableRequest.emit (node:domain:489:12)\n    at Timeout.<anonymous> (/Users/x3at/Documents/ai-trading-system/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:221:12)\n    at listOnTimeout (node:internal/timers:611:17)\n    at processTimers (node:internal/timers:546:7)\n    at Axios.request (/Users/x3at/Documents/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at async OllamaClient.analyze (/Users/x3at/Documents/ai-trading-system/src/ai/ollama-client.ts:39:24)\n    at async TradingStrategy.performCompleteAnalysis (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:133:16)\n    at async TradingStrategy.tradingLoop (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:87:26)","level":"error","message":"Error en análisis de Ollama:","module":"OllamaClient","timestamp":"2025-10-04T23:07:06.054Z"}
{"confidence":0.1,"decision":"HOLD","indicators":{"bollinger":{"lower":122084.71398595064,"middle":122203.54500000001,"upper":122322.37601404938},"ema":{"ema21":122196.54277914939,"ema50":122084.57456940485,"ema9":122230.42791997863},"macd":{"histogram":4.9477149981830735,"macd":49.477149981830735,"signal":44.52943498364766},"rsi":53.96155649320301,"volume":{"avg":110.32748000000001,"current":23.735,"ratio":0.21513225898026492}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"Error en análisis de IA: timeout of 120000ms exceeded","symbol":"BTCUSDT","timestamp":1759619226063}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759619226067","module":"BybitClient","timestamp":"2025-10-04T23:07:06.073Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T23:07:06.081Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759618805047%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"122236.9\",\"liqPrice\":\"115657.7\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123630.5\",\"positionValue\":\"37404.4914\",\"isReduceOnly\":false,\"positionIMByMp\":\"2219.62665698\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"115624.7\",\"unrealisedPnl\":\"0.19278\",\"markPrice\":\"122237.53\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12048.3268171\",\"positionMM\":\"206.38489198\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2219.62665698\",\"positionMMByMp\":\"206.38585587\",\"seq\":140697266431419,\"updatedTime\":\"1759618805047\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2219.62665698\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.57247027\",\"size\":\"0.306\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121503.5\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759619228315}","module":"BybitClient","timestamp":"2025-10-04T23:07:07.999Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.306 BTCUSDT | PnL: 0.00%","module":"TradingStrategy","timestamp":"2025-10-04T23:07:08.000Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T23:07:07.999Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-04T23:07:08.737Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-04T23:07:08.738Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La tendencia actual es bullish y no hay señales de reversión. Mantener la posición para apr...","module":"OllamaClient","timestamp":"2025-10-04T23:08:06.426Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La tendencia actual es bullish y no hay señales de reversión. Mantener la posición para aprovechar e...","module":"TradingStrategy","timestamp":"2025-10-04T23:08:06.485Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759619286494","module":"BybitClient","timestamp":"2025-10-04T23:08:06.507Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-04T23:08:06.484Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-04T23:08:06.485Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T23:08:06.522Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759618805047%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"122236.9\",\"liqPrice\":\"115657.7\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123630.5\",\"positionValue\":\"37404.4914\",\"isReduceOnly\":false,\"positionIMByMp\":\"2219.62665698\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"115624.7\",\"unrealisedPnl\":\"0.80478\",\"markPrice\":\"122239.53\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12048.3268171\",\"positionMM\":\"206.38489198\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2219.62665698\",\"positionMMByMp\":\"206.38891587\",\"seq\":140697266431419,\"updatedTime\":\"1759618805047\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2219.62665698\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.57247027\",\"size\":\"0.306\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121503.5\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759619287773}","module":"BybitClient","timestamp":"2025-10-04T23:08:07.461Z"}
{"level":"info","message":"Ya existe una posición abierta, no se abrirá nueva posición","module":"TradingStrategy","timestamp":"2025-10-04T23:08:07.469Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T23:08:07.462Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-04T23:08:07.469Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 5","module":"BybitClient","timestamp":"2025-10-04T23:08:52.038Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T23:08:53.419Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-04T23:08:53.421Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T23:08:53.421Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T23:13:07.500Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0587","module":"KalmanFilter","timestamp":"2025-10-04T23:13:07.511Z"}
{"level":"debug","message":"Predicción Kalman: 122224.63805670667 (Confianza: 0.886)","module":"KalmanFilter","timestamp":"2025-10-04T23:13:07.512Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T23:13:08.919Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 5","module":"BybitClient","timestamp":"2025-10-04T23:13:52.036Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T23:13:52.959Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-04T23:13:52.960Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T23:13:52.959Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T23:15:07.462Z"}
{"confidence":0.3,"decision":"BUY","indicators":{"bollinger":{"lower":122138.01466546547,"middle":122228.85,"upper":122319.68533453454},"ema":{"ema21":122210.80655273581,"ema50":122106.99213878252,"ema9":122232.23919678402},"macd":{"histogram":3.548327442792651,"macd":35.48327442792652,"signal":31.934946985133866},"rsi":50.06315124723621,"volume":{"avg":98.80839000000003,"current":30.464,"ratio":0.3083138992549113}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"{\n  \"decision\": \"BUY\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La RSI está por debajo de 30 y el MACD es bullish, lo que indica una posible oportunidad de compra. Además, el Kalman predice un aumento en ","symbol":"BTCUSDT","timestamp":1759619707519}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759619707520","module":"BybitClient","timestamp":"2025-10-04T23:15:07.541Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-04T23:15:07.515Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-04T23:15:07.519Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T23:15:07.541Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759618805047%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"122236.9\",\"liqPrice\":\"115657.7\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123630.5\",\"positionValue\":\"37404.4914\",\"isReduceOnly\":false,\"positionIMByMp\":\"2219.62665698\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"115624.7\",\"unrealisedPnl\":\"-13.1274\",\"markPrice\":\"122194\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12048.3268171\",\"positionMM\":\"206.38489198\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2219.62665698\",\"positionMMByMp\":\"206.31925497\",\"seq\":140697266431419,\"updatedTime\":\"1759618805047\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2219.62665698\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.57247027\",\"size\":\"0.306\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121503.5\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759619709625}","module":"BybitClient","timestamp":"2025-10-04T23:15:09.305Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.306 BTCUSDT | PnL: -0.04%","module":"TradingStrategy","timestamp":"2025-10-04T23:15:09.309Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T23:15:09.308Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-04T23:15:10.057Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-04T23:15:10.057Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La tendencia actual es bullish y no hay señales de reversión. Mantener la posición para apr...","module":"OllamaClient","timestamp":"2025-10-04T23:15:41.256Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La tendencia actual es bullish y no hay señales de reversión. Mantener la posición para aprovechar e...","module":"TradingStrategy","timestamp":"2025-10-04T23:15:41.266Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759619741267","module":"BybitClient","timestamp":"2025-10-04T23:15:41.268Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-04T23:15:41.265Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-04T23:15:41.266Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T23:15:41.268Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759618805047%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"122236.9\",\"liqPrice\":\"115657.7\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123630.5\",\"positionValue\":\"37404.4914\",\"isReduceOnly\":false,\"positionIMByMp\":\"2219.62665698\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"115624.7\",\"unrealisedPnl\":\"-15.4224\",\"markPrice\":\"122186.5\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12048.3268171\",\"positionMM\":\"206.38489198\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2219.62665698\",\"positionMMByMp\":\"206.30777997\",\"seq\":140697266431419,\"updatedTime\":\"1759618805047\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2219.62665698\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.57247027\",\"size\":\"0.306\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121503.5\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759619742811}","module":"BybitClient","timestamp":"2025-10-04T23:15:42.488Z"}
{"level":"info","message":"Ya existe una posición abierta, no se abrirá nueva posición","module":"TradingStrategy","timestamp":"2025-10-04T23:15:42.489Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T23:15:42.489Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-04T23:15:42.492Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 5","module":"BybitClient","timestamp":"2025-10-04T23:18:52.034Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T23:18:53.420Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-04T23:18:53.420Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T23:18:53.420Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T23:20:42.491Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-04T23:20:42.494Z"}
{"level":"debug","message":"Predicción Kalman: 122208.73093603025 (Confianza: 0.897)","module":"KalmanFilter","timestamp":"2025-10-04T23:20:42.494Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T23:20:45.202Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T23:22:33.951Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":122168.32466227905,"middle":122226.62,"upper":122284.91533772094},"ema":{"ema21":122212.8294268832,"ema50":122140.02673559482,"ema9":122213.42043626169},"macd":{"histogram":1.0644159810894056,"macd":10.644159810894052,"signal":9.579743829804647},"rsi":40.970448741334515,"volume":{"avg":82.78577999999999,"current":36.457,"ratio":0.440377562426784}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La combinación de un precio actual por debajo del cambio reciente y el MACD en una posición bullish sugiere una oportunidad de compra con confianza. Además, el RSI está en un nivel bajo y el Bollinger Band se encuentra en el rango superior, lo que indica una mayor volatilidad y un mayor margen de maniobra para la inversión.","symbol":"BTCUSDT","timestamp":1759620153952}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759620153952","module":"BybitClient","timestamp":"2025-10-04T23:22:33.954Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T23:22:33.954Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759618805047%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"122236.9\",\"liqPrice\":\"115657.7\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123630.5\",\"positionValue\":\"37404.4914\",\"isReduceOnly\":false,\"positionIMByMp\":\"2219.62665698\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"115624.7\",\"unrealisedPnl\":\"-15.2388\",\"markPrice\":\"122187.1\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12048.3268171\",\"positionMM\":\"206.38489198\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2219.62665698\",\"positionMMByMp\":\"206.30869797\",\"seq\":140697266431419,\"updatedTime\":\"1759618805047\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2219.62665698\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.57247027\",\"size\":\"0.306\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121503.5\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759620156168}","module":"BybitClient","timestamp":"2025-10-04T23:22:35.832Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.306 BTCUSDT | PnL: -0.04%","module":"TradingStrategy","timestamp":"2025-10-04T23:22:35.833Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T23:22:35.833Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-04T23:22:36.227Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-04T23:22:36.228Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La tendencia actual es favorable y no hay señales de reversión. Mantener la posición para a...","module":"OllamaClient","timestamp":"2025-10-04T23:22:59.207Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La tendencia actual es favorable y no hay señales de reversión. Mantener la posición para aprovechar...","module":"TradingStrategy","timestamp":"2025-10-04T23:22:59.208Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759620179209","module":"BybitClient","timestamp":"2025-10-04T23:22:59.209Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-04T23:22:59.208Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-04T23:22:59.208Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T23:22:59.209Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759618805047%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"122236.9\",\"liqPrice\":\"115657.7\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123630.5\",\"positionValue\":\"37404.4914\",\"isReduceOnly\":false,\"positionIMByMp\":\"2219.62665698\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"115624.7\",\"unrealisedPnl\":\"-19.9206\",\"markPrice\":\"122171.8\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12048.3268171\",\"positionMM\":\"206.38489198\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2219.62665698\",\"positionMMByMp\":\"206.28528897\",\"seq\":140697266431419,\"updatedTime\":\"1759618805047\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2219.62665698\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.57247027\",\"size\":\"0.306\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121503.5\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759620180487}","module":"BybitClient","timestamp":"2025-10-04T23:23:00.152Z"}
{"level":"info","message":"Ya existe una posición abierta, no se abrirá nueva posición","module":"TradingStrategy","timestamp":"2025-10-04T23:23:00.153Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T23:23:00.153Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-04T23:23:00.153Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 5","module":"BybitClient","timestamp":"2025-10-04T23:23:52.037Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T23:23:53.484Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-04T23:23:53.484Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T23:23:53.484Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T23:28:00.163Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0518","module":"KalmanFilter","timestamp":"2025-10-04T23:28:00.171Z"}
{"level":"debug","message":"Predicción Kalman: 122190.62725930853 (Confianza: 0.898)","module":"KalmanFilter","timestamp":"2025-10-04T23:28:00.172Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T23:28:02.185Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 5","module":"BybitClient","timestamp":"2025-10-04T23:28:52.032Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T23:28:53.217Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-04T23:28:53.218Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T23:28:53.217Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T23:29:24.583Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":122157.36306996881,"middle":122216.275,"upper":122275.18693003118},"ema":{"ema21":122205.99788257609,"ema50":122150.23914073038,"ema9":122197.85972053533},"macd":{"histogram":0.04238866825180593,"macd":0.4238866825180594,"signal":0.38149801426625346},"rsi":45.140997830802135,"volume":{"avg":75.71677999999999,"current":36.993,"ratio":0.4885706972747654}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La combinación de los indicadores técnicos y la predicción de Kalman indican una tendencia bullish en el mercado. Además, el volumen y la volatilidad son altas, lo que sugiere una oportunidad de trading aggressivo. Considerando el leverage alto (10-50x) y la confianza en la señal, es recomendable comprar con una posición AGRESIVA.","symbol":"BTCUSDT","timestamp":1759620564588}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759620564589","module":"BybitClient","timestamp":"2025-10-04T23:29:24.591Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T23:29:24.591Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759618805047%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"122236.9\",\"liqPrice\":\"115657.7\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123630.5\",\"positionValue\":\"37404.4914\",\"isReduceOnly\":false,\"positionIMByMp\":\"2219.62665698\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"115624.7\",\"unrealisedPnl\":\"-23.5314\",\"markPrice\":\"122160\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12048.3268171\",\"positionMM\":\"206.38489198\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2219.62665698\",\"positionMMByMp\":\"206.26723497\",\"seq\":140697266431419,\"updatedTime\":\"1759618805047\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2219.62665698\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.57247027\",\"size\":\"0.306\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121503.5\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759620566955}","module":"BybitClient","timestamp":"2025-10-04T23:29:26.616Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.306 BTCUSDT | PnL: -0.06%","module":"TradingStrategy","timestamp":"2025-10-04T23:29:26.617Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T23:29:26.617Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-04T23:29:27.018Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-04T23:29:27.018Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La tendencia actual es favorable y no hay señales de reversión. Mantener la posición y espe...","module":"OllamaClient","timestamp":"2025-10-04T23:29:50.679Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La tendencia actual es favorable y no hay...","module":"TradingStrategy","timestamp":"2025-10-04T23:29:50.682Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759620590683","module":"BybitClient","timestamp":"2025-10-04T23:29:50.683Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-04T23:29:50.681Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-04T23:29:50.682Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 30%)","module":"OllamaClient","timestamp":"2025-10-04T23:29:50.682Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-04T23:29:50.682Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T23:29:50.684Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759618805047%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"122236.9\",\"liqPrice\":\"115657.7\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123630.5\",\"positionValue\":\"37404.4914\",\"isReduceOnly\":false,\"positionIMByMp\":\"2219.62665698\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"115624.7\",\"unrealisedPnl\":\"-23.5314\",\"markPrice\":\"122160\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12048.3268171\",\"positionMM\":\"206.38489198\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2219.62665698\",\"positionMMByMp\":\"206.26723497\",\"seq\":140697266431419,\"updatedTime\":\"1759618805047\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2219.62665698\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.57247027\",\"size\":\"0.306\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121503.5\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759620592761}","module":"BybitClient","timestamp":"2025-10-04T23:29:52.429Z"}
{"level":"info","message":"Ya existe una posición abierta, no se abrirá nueva posición","module":"TradingStrategy","timestamp":"2025-10-04T23:29:52.429Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T23:29:52.429Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-04T23:29:52.430Z"}
{"level":"info","message":"Recibida señal SIGINT, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-04T23:32:18.010Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759620738017}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-04T23:32:18.017Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-04T23:32:18.024Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759620759710}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-04T23:32:39.701Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T23:32:39.699Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"ASTERUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T23:32:39.700Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T23:32:39.700Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"ASTERUSDT","timestamp":1759620759714}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-04T23:32:39.684Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"ASTERUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T23:32:39.707Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T23:32:39.709Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T23:32:39.707Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-04T23:32:39.706Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T23:32:39.710Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T23:32:39.710Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T23:32:39.714Z"}
{"level":"info","message":"Iniciando estrategia de trading para ASTERUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-04T23:32:39.714Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-04T23:32:39.701Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-04T23:32:39.701Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-04T23:32:39.701Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-04T23:32:39.701Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-04T23:32:39.703Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-04T23:32:39.703Z"}
{"level":"info","message":"7 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T23:32:39.703Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T23:32:39.734Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T23:32:42.235Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T23:32:44.551Z"}
{"level":"info","message":"Iniciando recopilación de datos para ASTERUSDT (1m)","module":"DataManager","timestamp":"2025-10-04T23:32:44.551Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 200","module":"BybitClient","timestamp":"2025-10-04T23:32:44.552Z"}
{"level":"info","message":"Recopilando datos históricos para ASTERUSDT...","module":"DataManager","timestamp":"2025-10-04T23:32:44.551Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T23:32:44.964Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para ASTERUSDT","module":"DataManager","timestamp":"2025-10-04T23:32:44.964Z"}
{"level":"info","message":"Datos suficientes recopilados para ASTERUSDT","module":"TradingStrategy","timestamp":"2025-10-04T23:32:44.965Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T23:32:44.966Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-04T23:32:44.966Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-04T23:32:44.967Z"}
{"level":"info","message":"Velas obtenidas: 200 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:32:44.964Z"}
{"level":"info","message":"Recopilación de datos iniciada para ASTERUSDT","module":"DataManager","timestamp":"2025-10-04T23:32:44.965Z"}
{"level":"debug","message":"Predicción Kalman: 2.051201721502691 (Confianza: 0.912)","module":"KalmanFilter","timestamp":"2025-10-04T23:32:44.966Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T23:32:45.361Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T23:33:18.901Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":2.032680736899461,"middle":2.0465899999999997,"upper":2.0604992631005383},"ema":{"ema21":2.0497666983833103,"ema50":2.0539309187425334,"ema9":2.0505742649183905},"macd":{"histogram":0.0000071482746016648865,"macd":0.00007148274601664895,"signal":0.00006433447141498406},"rsi":58.48214285714267,"volume":{"avg":109614.73,"current":60383,"ratio":0.550865745871928}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La RSI está por debajo del 30, el MACD es bullish y el volumen es alto, lo que sugiere una posible tendencia al alza. Además, la predicción de Kalman indica un precio próximo a $2.05 con alta confianza, lo que justifica una posición de compra.","symbol":"ASTERUSDT","timestamp":1759620798911}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759620798912","module":"BybitClient","timestamp":"2025-10-04T23:33:18.913Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:33:18.913Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"10\",\"autoAddMargin\":0,\"avgPrice\":\"\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"tpslMode\":\"\",\"isReduceOnly\":false,\"riskId\":1,\"trailingStop\":\"\",\"unrealisedPnl\":\"\",\"markPrice\":\"\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"\",\"positionMM\":\"\",\"createdTime\":\"\",\"positionIdx\":0,\"positionIM\":\"\",\"seq\":-1,\"updatedTime\":\"\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"\",\"size\":\"0\",\"positionStatus\":\"\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759620800426}","module":"BybitClient","timestamp":"2025-10-04T23:33:20.082Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-04T23:33:20.083Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759620800084","module":"BybitClient","timestamp":"2025-10-04T23:33:20.084Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:33:20.084Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"10\",\"autoAddMargin\":0,\"avgPrice\":\"\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"tpslMode\":\"\",\"isReduceOnly\":false,\"riskId\":1,\"trailingStop\":\"\",\"unrealisedPnl\":\"\",\"markPrice\":\"\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"\",\"positionMM\":\"\",\"createdTime\":\"\",\"positionIdx\":0,\"positionIM\":\"\",\"seq\":-1,\"updatedTime\":\"\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"\",\"size\":\"0\",\"positionStatus\":\"\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759620800827}","module":"BybitClient","timestamp":"2025-10-04T23:33:20.483Z"}
{"level":"info","message":"AI sugiere BUY con confianza 0.8","module":"TradingStrategy","timestamp":"2025-10-04T23:33:20.484Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-04T23:33:20.484Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759620800484","module":"BybitClient","timestamp":"2025-10-04T23:33:20.484Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-04T23:33:20.485Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"214346.58959102\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"214346.58959102\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49994.42375371\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"120998.41269627\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4489.556582\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38843.37650922\",\"totalPositionMM\":\"0\",\"usdValue\":\"38864.19655902\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"38843.37650922\",\"cumRealisedPnl\":\"-12064.22638078\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759620801228}","module":"BybitClient","timestamp":"2025-10-04T23:33:20.895Z"}
{"level":"info","message":"Balance disponible: $38843.38, Precio: $2.0475","module":"TradingStrategy","timestamp":"2025-10-04T23:33:20.896Z"}
{"level":"info","message":"Balance obtenido - Total: $214346.59, Disponible: $38843.38","module":"BybitClient","timestamp":"2025-10-04T23:33:20.896Z"}
{"level":"debug","message":"Símbolo info - Min: 1, Step: 1","module":"TradingStrategy","timestamp":"2025-10-04T23:33:21.293Z"}
{"level":"info","message":"Contador diario de trades reseteado","module":"RiskManager","timestamp":"2025-10-04T23:33:21.295Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759620801295","module":"BybitClient","timestamp":"2025-10-04T23:33:21.296Z"}
{"level":"info","message":"Riesgo: 5%, Capital a arriesgar: $1942.17","module":"TradingStrategy","timestamp":"2025-10-04T23:33:21.294Z"}
{"level":"info","message":"Position value: $29132.53, Quantity raw: 14228.343044","module":"TradingStrategy","timestamp":"2025-10-04T23:33:21.294Z"}
{"level":"info","message":"Cantidad final calculada: 14228 ASTER (valor: $29131.83)","module":"TradingStrategy","timestamp":"2025-10-04T23:33:21.294Z"}
{"level":"info","message":"Parámetros calculados - Leverage: 15x, Quantity: 14228","module":"TradingStrategy","timestamp":"2025-10-04T23:33:21.294Z"}
{"level":"info","message":"Generando señal de trading: BUY 14228 ASTERUSDT @ 2.0475 (SL: 2.035215, TP: 2.0708415)","module":"TradingStrategy","timestamp":"2025-10-04T23:33:21.294Z"}
{"level":"info","message":"EJECUTANDO TRADE: BUY 14228 ASTERUSDT","module":"TradingStrategy","timestamp":"2025-10-04T23:33:21.294Z"}
{"level":"info","message":"=== INICIO EJECUCIÓN DE TRADE ===","module":"TradingStrategy","timestamp":"2025-10-04T23:33:21.294Z"}
{"level":"info","message":"Señal: {\"symbol\":\"ASTERUSDT\",\"action\":\"BUY\",\"leverage\":15,\"quantity\":14228,\"stopLoss\":2.035215,\"takeProfit\":2.0708415,\"timestamp\":1759620801294,\"aiAnalysis\":{\"decision\":\"BUY\",\"confidence\":0.8,\"reasoning\":\"La RSI está por debajo del 30, el MACD es bullish y el volumen es alto, lo que sugiere una posible tendencia al alza. Además, la predicción de Kalman indica un precio próximo a $2.05 con alta confianza, lo que justifica una posición de compra.\",\"indicators\":{},\"kalman\":{},\"marketSentiment\":\"bullish\",\"riskLevel\":\"medium\",\"suggestedLeverage\":10}}","module":"TradingStrategy","timestamp":"2025-10-04T23:33:21.294Z"}
{"level":"info","message":"Validando con Risk Manager...","module":"TradingStrategy","timestamp":"2025-10-04T23:33:21.294Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-04T23:33:21.296Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"214346.58959102\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"214346.58959102\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49994.42375371\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"120998.41269627\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4489.556582\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38843.37650922\",\"totalPositionMM\":\"0\",\"usdValue\":\"38864.19655902\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"38843.37650922\",\"cumRealisedPnl\":\"-12064.22638078\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759620802039}","module":"BybitClient","timestamp":"2025-10-04T23:33:21.697Z"}
{"level":"info","message":"Balance obtenido - Total: $214346.59, Disponible: $38843.38","module":"BybitClient","timestamp":"2025-10-04T23:33:21.697Z"}
{"level":"info","message":"Validando posición: Cantidad=14228, Precio=2.04, Valor=$29093.41","module":"RiskManager","timestamp":"2025-10-04T23:33:22.092Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759620802092","module":"BybitClient","timestamp":"2025-10-04T23:33:22.092Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:33:22.092Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"10\",\"autoAddMargin\":0,\"avgPrice\":\"\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"tpslMode\":\"\",\"isReduceOnly\":false,\"riskId\":1,\"trailingStop\":\"\",\"unrealisedPnl\":\"\",\"markPrice\":\"\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"\",\"positionMM\":\"\",\"createdTime\":\"\",\"positionIdx\":0,\"positionIM\":\"\",\"seq\":-1,\"updatedTime\":\"\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"\",\"size\":\"0\",\"positionStatus\":\"\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759620802833}","module":"BybitClient","timestamp":"2025-10-04T23:33:22.489Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-04T23:33:22.489Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 5m, límite: 20","module":"BybitClient","timestamp":"2025-10-04T23:33:22.884Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T23:33:23.281Z"}
{"level":"info","message":"Velas obtenidas: 20 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:33:23.281Z"}
{"level":"info","message":"Trade aprobado - Risk Score: 0.30","module":"RiskManager","timestamp":"2025-10-04T23:33:23.687Z"}
{"level":"info","message":"Resultado validación: {\"approved\":true,\"reason\":\"Trade aprobado por gestión de riesgo\",\"riskScore\":0.3014913032368541}","module":"TradingStrategy","timestamp":"2025-10-04T23:33:23.687Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759620803687","module":"BybitClient","timestamp":"2025-10-04T23:33:23.687Z"}
{"level":"info","message":"Trade aprobado por Risk Manager, ejecutando...","module":"TradingStrategy","timestamp":"2025-10-04T23:33:23.687Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"buyLeverage\":\"15\",\"sellLeverage\":\"15\"}","module":"BybitClient","timestamp":"2025-10-04T23:33:23.688Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{},\"retExtInfo\":{},\"time\":1759620804428}","module":"BybitClient","timestamp":"2025-10-04T23:33:24.084Z"}
{"level":"info","message":"Leverage establecido a 15x para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:33:24.085Z"}
{"level":"info","message":"Ejecutando orden: Buy 14228 ASTERUSDT | SL: 2.035215 | TP: 2.0708415","module":"BybitClient","timestamp":"2025-10-04T23:33:24.085Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759620804085","module":"BybitClient","timestamp":"2025-10-04T23:33:24.085Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"side\":\"Buy\",\"orderType\":\"Market\",\"qty\":\"14228\",\"timeInForce\":\"IOC\",\"stopLoss\":\"2.035215\",\"slTriggerBy\":\"LastPrice\",\"takeProfit\":\"2.0708415\",\"tpTriggerBy\":\"LastPrice\"}","module":"BybitClient","timestamp":"2025-10-04T23:33:24.085Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"orderId\":\"ee8a667b-a8e3-4821-8db2-260bfe959aa9\",\"orderLinkId\":\"\"},\"retExtInfo\":{},\"time\":1759620804828}","module":"BybitClient","timestamp":"2025-10-04T23:33:24.483Z"}
{"level":"info","message":"TRADE_OPEN","module":"TradingStrategy","pnl":0,"price":0,"quantity":14228,"side":"BUY","symbol":"ASTERUSDT","timestamp":1759620804484}
{"level":"debug","message":"Trades ejecutados hoy: 1/20","module":"RiskManager","timestamp":"2025-10-04T23:33:24.484Z"}
{"level":"info","message":"Orden ejecutada exitosamente: ee8a667b-a8e3-4821-8db2-260bfe959aa9","module":"BybitClient","timestamp":"2025-10-04T23:33:24.484Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-04T23:33:44.965Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T23:33:45.880Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-04T23:33:45.880Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:33:45.880Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T23:34:24.487Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0690","module":"KalmanFilter","timestamp":"2025-10-04T23:34:24.489Z"}
{"level":"debug","message":"Predicción Kalman: 2.0481621001555834 (Confianza: 0.904)","module":"KalmanFilter","timestamp":"2025-10-04T23:34:24.490Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T23:34:26.129Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-04T23:34:44.964Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T23:34:46.715Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-04T23:34:46.716Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:34:46.716Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T23:34:56.323Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":2.04036265972935,"middle":2.0494600000000003,"upper":2.0585573402706507},"ema":{"ema21":2.0491901480337384,"ema50":2.052931382336465,"ema9":2.0485147991280614},"macd":{"histogram":-0.00006873417020281103,"macd":-0.0006873417020281103,"signal":-0.0006186075318252993},"rsi":40.889830508474745,"volume":{"avg":110359.51,"current":164215,"ratio":1.4880004450907767}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La RSI está por debajo del 30, indicando una posible oportunidad de compra. Además, el MACD está en un signal bullish y el Bollinger Band está expandido, lo que sugiere una mayor actividad en el mercado. La predicción de Kalman también indica un aumento en los precios.","symbol":"ASTERUSDT","timestamp":1759620896324}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759620896324","module":"BybitClient","timestamp":"2025-10-04T23:34:56.325Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:34:56.325Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759620804827%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0437\",\"liqPrice\":\"1.9328\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.0708\",\"positionValue\":\"29077.7636\",\"isReduceOnly\":false,\"positionIMByMp\":\"1953.44444943\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9312\",\"unrealisedPnl\":\"55.4892\",\"markPrice\":\"2.0476\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-15.99276998\",\"positionMM\":\"375.23879865\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1953.44444943\",\"positionMMByMp\":\"376.0322942\",\"seq\":140697266485841,\"updatedTime\":\"1759620804827\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1953.44444943\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.99276998\",\"size\":\"14228\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.0352\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759620899798}","module":"BybitClient","timestamp":"2025-10-04T23:34:59.460Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 14228 ASTERUSDT | PnL: 0.19%","module":"TradingStrategy","timestamp":"2025-10-04T23:34:59.461Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T23:34:59.461Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición ASTERUSDT...","module":"TradingStrategy","timestamp":"2025-10-04T23:35:00.240Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-04T23:35:00.241Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La tendencia actual es favorable y no hay señales de reversión. Mantener la posición y espe...","module":"OllamaClient","timestamp":"2025-10-04T23:35:22.151Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La tendencia actual es favorable y no hay señales de reversión. Mantener la posición y esperar más m...","module":"TradingStrategy","timestamp":"2025-10-04T23:35:22.151Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759620922152","module":"BybitClient","timestamp":"2025-10-04T23:35:22.152Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-04T23:35:22.151Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-04T23:35:22.151Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:35:22.153Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759620804827%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0437\",\"liqPrice\":\"1.9328\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.0708\",\"positionValue\":\"29077.7636\",\"isReduceOnly\":false,\"positionIMByMp\":\"1953.44444943\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9312\",\"unrealisedPnl\":\"31.3016\",\"markPrice\":\"2.0459\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-15.99276998\",\"positionMM\":\"375.23879865\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1953.44444943\",\"positionMMByMp\":\"375.68641152\",\"seq\":140697266485841,\"updatedTime\":\"1759620804827\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1953.44444943\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.99276998\",\"size\":\"14228\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.0352\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759620923521}","module":"BybitClient","timestamp":"2025-10-04T23:35:23.281Z"}
{"level":"info","message":"Ya existe una posición abierta, no se abrirá nueva posición","module":"TradingStrategy","timestamp":"2025-10-04T23:35:23.281Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T23:35:23.281Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-04T23:35:23.281Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-04T23:35:44.964Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T23:35:46.550Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-04T23:35:46.550Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:35:46.550Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T23:36:23.283Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0660","module":"KalmanFilter","timestamp":"2025-10-04T23:36:23.291Z"}
{"level":"debug","message":"Predicción Kalman: 2.0462620218089906 (Confianza: 0.907)","module":"KalmanFilter","timestamp":"2025-10-04T23:36:23.292Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T23:36:24.515Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-04T23:36:44.965Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T23:36:46.615Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-04T23:36:46.616Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:36:46.616Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T23:37:02.615Z"}
{"confidence":0.3,"decision":"BUY","indicators":{"bollinger":{"lower":2.0408077706543124,"middle":2.0490399999999998,"upper":2.057272229345687},"ema":{"ema21":2.0481794146884953,"ema50":2.0512770847545703,"ema9":2.047278826845689},"macd":{"histogram":-0.0000924719127139539,"macd":-0.0009247191271395394,"signal":-0.0008322472144255855},"rsi":47.63313609467474,"volume":{"avg":106954.55,"current":15331,"ratio":0.143341260376487}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"{\n  \"decision\": \"BUY\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La RSI está por debajo del 30, indicando una posible oportunidad de compra. Además, el MACD está en un signal bullish y el Bollinger Band es","symbol":"ASTERUSDT","timestamp":1759621022618}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759621022619","module":"BybitClient","timestamp":"2025-10-04T23:37:02.619Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-04T23:37:02.618Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-04T23:37:02.618Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:37:02.619Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759620804827%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0437\",\"liqPrice\":\"1.9328\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.0708\",\"positionValue\":\"29077.7636\",\"isReduceOnly\":false,\"positionIMByMp\":\"1953.44444943\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9312\",\"unrealisedPnl\":\"155.0852\",\"markPrice\":\"2.0546\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-15.99276998\",\"positionMM\":\"375.23879865\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1953.44444943\",\"positionMMByMp\":\"377.456517\",\"seq\":140697266485841,\"updatedTime\":\"1759620804827\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1953.44444943\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.99276998\",\"size\":\"14228\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.0352\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759621024670}","module":"BybitClient","timestamp":"2025-10-04T23:37:04.322Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 14228 ASTERUSDT | PnL: 0.53%","module":"TradingStrategy","timestamp":"2025-10-04T23:37:04.323Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T23:37:04.323Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759621024324","module":"BybitClient","timestamp":"2025-10-04T23:37:04.324Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"stopLoss\":\"2.0484362000000003\",\"slTriggerBy\":\"LastPrice\",\"positionIdx\":0}","module":"BybitClient","timestamp":"2025-10-04T23:37:04.324Z"}
{"level":"info","message":"🎯 Trailing stop ACTIVADO para ASTERUSDT (PnL: 0.53%)","module":"TradingStrategy","timestamp":"2025-10-04T23:37:04.323Z"}
{"level":"info","message":"📈 Actualizando trailing SL: 2.05 (Max alcanzado: 2.05)","module":"TradingStrategy","timestamp":"2025-10-04T23:37:04.323Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{},\"retExtInfo\":{},\"time\":1759621025064}","module":"BybitClient","timestamp":"2025-10-04T23:37:04.726Z"}
{"level":"info","message":"Stop Loss actualizado para ASTERUSDT: SL=2.0484362000000003","module":"BybitClient","timestamp":"2025-10-04T23:37:04.726Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición ASTERUSDT...","module":"TradingStrategy","timestamp":"2025-10-04T23:37:05.117Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-04T23:37:05.118Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.7,\n  \"reasoning\": \"La tendencia actual es favorable y no hay señales de reversión. Mantener la posición para s...","module":"OllamaClient","timestamp":"2025-10-04T23:37:26.899Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La tendencia actual es favorable y no hay señales de reversión. Mantener la posición para seguir apr...","module":"TradingStrategy","timestamp":"2025-10-04T23:37:26.901Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759621046903","module":"BybitClient","timestamp":"2025-10-04T23:37:26.904Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 70%)","module":"OllamaClient","timestamp":"2025-10-04T23:37:26.901Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-04T23:37:26.901Z"}
{"level":"info","message":"⚠️  Estrategia activada: PROFIT_LADDER_30 - PnL 0.53% - scalping: asegurar ganancia mínima","module":"TradingStrategy","timestamp":"2025-10-04T23:37:26.902Z"}
{"level":"info","message":"🟢 CERRANDO 25% DE POSICIÓN: PnL 0.53% - scalping: asegurar ganancia mínima","module":"TradingStrategy","timestamp":"2025-10-04T23:37:26.903Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:37:26.904Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759621025063%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0437\",\"liqPrice\":\"1.9328\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.0708\",\"positionValue\":\"29077.7636\",\"isReduceOnly\":false,\"positionIMByMp\":\"1953.44444943\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9312\",\"unrealisedPnl\":\"143.7028\",\"markPrice\":\"2.0538\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-15.99276998\",\"positionMM\":\"375.23879865\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1953.44444943\",\"positionMMByMp\":\"377.29374868\",\"seq\":140697266485841,\"updatedTime\":\"1759621025063\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1953.44444943\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.99276998\",\"size\":\"14228\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.0484\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759621048363}","module":"BybitClient","timestamp":"2025-10-04T23:37:28.018Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T23:37:28.019Z"}
{"level":"info","message":"Cerrando 25% de posición Buy ASTERUSDT: 3557 unidades","module":"BybitClient","timestamp":"2025-10-04T23:37:28.019Z"}
{"level":"info","message":"Ejecutando orden: Sell 3557 ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:37:28.019Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759621048019","module":"BybitClient","timestamp":"2025-10-04T23:37:28.019Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"side\":\"Sell\",\"orderType\":\"Market\",\"qty\":\"3557\",\"timeInForce\":\"IOC\"}","module":"BybitClient","timestamp":"2025-10-04T23:37:28.019Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"orderId\":\"aa039fdd-5aac-4d9f-8327-e20145c07a7d\",\"orderLinkId\":\"\"},\"retExtInfo\":{},\"time\":1759621048761}","module":"BybitClient","timestamp":"2025-10-04T23:37:28.416Z"}
{"level":"info","message":"💰 25% cerrado. PnL parcial: 38.77 USDT","module":"TradingStrategy","timestamp":"2025-10-04T23:37:28.424Z"}
{"level":"info","message":"Orden ejecutada exitosamente: aa039fdd-5aac-4d9f-8327-e20145c07a7d","module":"BybitClient","timestamp":"2025-10-04T23:37:28.424Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759621048424","module":"BybitClient","timestamp":"2025-10-04T23:37:28.424Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:37:28.424Z"}
{"level":"info","message":"✅ Acción ejecutada exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T23:37:28.424Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759621048760%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0437\",\"liqPrice\":\"1.9315\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.0708\",\"positionValue\":\"21808.3227\",\"isReduceOnly\":false,\"positionIMByMp\":\"1465.08333707\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9299\",\"unrealisedPnl\":\"108.8442\",\"markPrice\":\"2.0539\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"16.27048275\",\"positionMM\":\"267.55409899\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1465.08333707\",\"positionMMByMp\":\"269.11057104\",\"seq\":140697266492588,\"updatedTime\":\"1759621048760\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1465.08333707\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"16.27048275\",\"size\":\"10671\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.0484\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759621049165}","module":"BybitClient","timestamp":"2025-10-04T23:37:28.820Z"}
{"level":"info","message":"Ya existe una posición abierta, no se abrirá nueva posición","module":"TradingStrategy","timestamp":"2025-10-04T23:37:28.820Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T23:37:28.820Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-04T23:37:28.820Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-04T23:37:44.966Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T23:37:45.899Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-04T23:37:45.899Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:37:45.899Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T23:38:28.824Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0918","module":"KalmanFilter","timestamp":"2025-10-04T23:38:28.826Z"}
{"level":"debug","message":"Predicción Kalman: 2.0504707318121795 (Confianza: 0.880)","module":"KalmanFilter","timestamp":"2025-10-04T23:38:28.830Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T23:38:30.532Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-04T23:38:44.971Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T23:38:46.427Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-04T23:38:46.429Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:38:46.428Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T23:39:20.512Z"}
{"confidence":0.3,"decision":"BUY","indicators":{"bollinger":{"lower":2.039373583788824,"middle":2.04798,"upper":2.056586416211176},"ema":{"ema21":2.048576405196484,"ema50":2.050046879539354,"ema9":2.049719198865359},"macd":{"histogram":0.000054967921135995446,"macd":0.0005496792113599547,"signal":0.0004947112902239592},"rsi":51.863857374392275,"volume":{"avg":107444.11,"current":78288,"ratio":0.7286392897665587}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"{\n  \"decision\": \"BUY\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La combinación de un precio actual debajo del cambio 24h (-1.50%), un volumen superior al promedio (0.73x) y una RSI por debajo de 30 (+10) ","symbol":"ASTERUSDT","timestamp":1759621160516}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759621160516","module":"BybitClient","timestamp":"2025-10-04T23:39:20.517Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-04T23:39:20.515Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-04T23:39:20.516Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:39:20.517Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759621048760%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0437\",\"liqPrice\":\"1.9315\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.0708\",\"positionValue\":\"21808.3227\",\"isReduceOnly\":false,\"positionIMByMp\":\"1465.08333707\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9299\",\"unrealisedPnl\":\"125.9178\",\"markPrice\":\"2.0555\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"16.27048275\",\"positionMM\":\"267.55409899\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1465.08333707\",\"positionMMByMp\":\"269.35472352\",\"seq\":140697266492588,\"updatedTime\":\"1759621048760\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1465.08333707\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"16.27048275\",\"size\":\"10671\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.0484\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759621161735}","module":"BybitClient","timestamp":"2025-10-04T23:39:21.388Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 10671 ASTERUSDT | PnL: 0.58%","module":"TradingStrategy","timestamp":"2025-10-04T23:39:21.388Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T23:39:21.388Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759621161388","module":"BybitClient","timestamp":"2025-10-04T23:39:21.388Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"stopLoss\":\"2.0493335\",\"slTriggerBy\":\"LastPrice\",\"positionIdx\":0}","module":"BybitClient","timestamp":"2025-10-04T23:39:21.388Z"}
{"level":"info","message":"📈 Actualizando trailing SL: 2.05 (Max alcanzado: 2.06)","module":"TradingStrategy","timestamp":"2025-10-04T23:39:21.388Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{},\"retExtInfo\":{},\"time\":1759621162132}","module":"BybitClient","timestamp":"2025-10-04T23:39:21.795Z"}
{"level":"info","message":"Stop Loss actualizado para ASTERUSDT: SL=2.0493335","module":"BybitClient","timestamp":"2025-10-04T23:39:21.795Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición ASTERUSDT...","module":"TradingStrategy","timestamp":"2025-10-04T23:39:22.188Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-04T23:39:22.189Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-04T23:39:44.970Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La tendencia actual es favorable y no hay señales de reversión. Mantener la posición para a...","module":"OllamaClient","timestamp":"2025-10-04T23:39:45.230Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La tendencia actual es favorable y no hay señales de reversión. Mantener la posición para aprovechar...","module":"TradingStrategy","timestamp":"2025-10-04T23:39:45.230Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759621185231","module":"BybitClient","timestamp":"2025-10-04T23:39:45.231Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-04T23:39:45.230Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-04T23:39:45.231Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:39:45.231Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759621162132%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0437\",\"liqPrice\":\"1.9315\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.0708\",\"positionValue\":\"21808.3227\",\"isReduceOnly\":false,\"positionIMByMp\":\"1465.08333707\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9299\",\"unrealisedPnl\":\"139.7901\",\"markPrice\":\"2.0568\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"16.27048275\",\"positionMM\":\"267.55409899\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1465.08333707\",\"positionMMByMp\":\"269.55309741\",\"seq\":140697266492588,\"updatedTime\":\"1759621162132\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1465.08333707\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"16.27048275\",\"size\":\"10671\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.0493\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759621186488}","module":"BybitClient","timestamp":"2025-10-04T23:39:46.144Z"}
{"level":"info","message":"Ya existe una posición abierta, no se abrirá nueva posición","module":"TradingStrategy","timestamp":"2025-10-04T23:39:46.144Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T23:39:46.144Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-04T23:39:46.144Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T23:39:46.366Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-04T23:39:46.367Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:39:46.367Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-04T23:40:44.972Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T23:40:46.147Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1096","module":"KalmanFilter","timestamp":"2025-10-04T23:40:46.147Z"}
{"level":"debug","message":"Predicción Kalman: 2.0542998176348997 (Confianza: 0.875)","module":"KalmanFilter","timestamp":"2025-10-04T23:40:46.147Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T23:40:46.919Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-04T23:40:46.919Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:40:46.919Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T23:40:46.994Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T23:41:21.598Z"}
{"confidence":0.3,"decision":"BUY","indicators":{"bollinger":{"lower":2.0398730512857983,"middle":2.0504900000000004,"upper":2.0611069487142024},"ema":{"ema21":2.0517253441189425,"ema50":2.050961181472942,"ema9":2.05402138333776},"macd":{"histogram":0.0001983497017286949,"macd":0.0019834970172869504,"signal":0.0017851473155582555},"rsi":61.01190476190467,"volume":{"avg":106643.68,"current":131171,"ratio":1.2299931885321287}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"{\n  \"decision\": \"BUY\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La RSI está por debajo de 30 y el MACD es bullish, lo que indica una posible tendencia ascendente. Además, el precio actual está por debajo ","symbol":"ASTERUSDT","timestamp":1759621281602}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759621281605","module":"BybitClient","timestamp":"2025-10-04T23:41:21.607Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-04T23:41:21.601Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-04T23:41:21.601Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:41:21.607Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759621162132%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0437\",\"liqPrice\":\"1.9315\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.0708\",\"positionValue\":\"21808.3227\",\"isReduceOnly\":false,\"positionIMByMp\":\"1465.08333707\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9299\",\"unrealisedPnl\":\"178.2057\",\"markPrice\":\"2.0604\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"16.27048275\",\"positionMM\":\"267.55409899\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1465.08333707\",\"positionMMByMp\":\"270.10244049\",\"seq\":140697266492588,\"updatedTime\":\"1759621162132\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1465.08333707\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"16.27048275\",\"size\":\"10671\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.0493\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759621283141}","module":"BybitClient","timestamp":"2025-10-04T23:41:22.790Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 10671 ASTERUSDT | PnL: 0.82%","module":"TradingStrategy","timestamp":"2025-10-04T23:41:22.790Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T23:41:22.790Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759621282790","module":"BybitClient","timestamp":"2025-10-04T23:41:22.790Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"stopLoss\":\"2.0542188\",\"slTriggerBy\":\"LastPrice\",\"positionIdx\":0}","module":"BybitClient","timestamp":"2025-10-04T23:41:22.790Z"}
{"level":"info","message":"📈 Actualizando trailing SL: 2.05 (Max alcanzado: 2.06)","module":"TradingStrategy","timestamp":"2025-10-04T23:41:22.790Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{},\"retExtInfo\":{},\"time\":1759621283532}","module":"BybitClient","timestamp":"2025-10-04T23:41:23.180Z"}
{"level":"info","message":"Stop Loss actualizado para ASTERUSDT: SL=2.0542188","module":"BybitClient","timestamp":"2025-10-04T23:41:23.180Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición ASTERUSDT...","module":"TradingStrategy","timestamp":"2025-10-04T23:41:23.567Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-04T23:41:23.568Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La tendencia actual es favorable y no hay señales de reversión. Mantener la posición y espe...","module":"OllamaClient","timestamp":"2025-10-04T23:41:44.595Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La tendencia actual es favorable y no hay señales de reversión. Mantener la posición y esperar a ver...","module":"TradingStrategy","timestamp":"2025-10-04T23:41:44.597Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759621304598","module":"BybitClient","timestamp":"2025-10-04T23:41:44.601Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-04T23:41:44.597Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-04T23:41:44.597Z"}
{"level":"info","message":"⚠️  Estrategia activada: PROFIT_LADDER_60 - PnL 0.82% - scalping: tomar profit parcial","module":"TradingStrategy","timestamp":"2025-10-04T23:41:44.598Z"}
{"level":"info","message":"🟡 CERRANDO 50% DE POSICIÓN: PnL 0.82% - scalping: tomar profit parcial","module":"TradingStrategy","timestamp":"2025-10-04T23:41:44.598Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:41:44.601Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-04T23:41:44.972Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759621283531%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0437\",\"liqPrice\":\"1.9315\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.0708\",\"positionValue\":\"21808.3227\",\"isReduceOnly\":false,\"positionIMByMp\":\"1465.08333707\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9299\",\"unrealisedPnl\":\"202.749\",\"markPrice\":\"2.0627\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"16.27048275\",\"positionMM\":\"267.55409899\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1465.08333707\",\"positionMMByMp\":\"270.45340968\",\"seq\":140697266492588,\"updatedTime\":\"1759621283531\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1465.08333707\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"16.27048275\",\"size\":\"10671\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.0542\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759621305800}","module":"BybitClient","timestamp":"2025-10-04T23:41:45.458Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T23:41:45.459Z"}
{"level":"info","message":"Cerrando 50% de posición Buy ASTERUSDT: 5335.5 unidades","module":"BybitClient","timestamp":"2025-10-04T23:41:45.459Z"}
{"level":"info","message":"Ejecutando orden: Sell 5335.5 ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:41:45.459Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759621305459","module":"BybitClient","timestamp":"2025-10-04T23:41:45.459Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"side\":\"Sell\",\"orderType\":\"Market\",\"qty\":\"5335.5\",\"timeInForce\":\"IOC\"}","module":"BybitClient","timestamp":"2025-10-04T23:41:45.459Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T23:41:45.832Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-04T23:41:45.833Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:41:45.833Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10001,\"retMsg\":\"Qty invalid\",\"result\":{},\"retExtInfo\":{},\"time\":1759621306202}","module":"BybitClient","timestamp":"2025-10-04T23:41:45.850Z"}
{"error":"Error: Error cerrando posición: Error ejecutando trade: Error API Bybit: Qty invalid (Code: 10001)\n    at BybitClient.closePosition (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:347:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.executeExitAction (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:550:11)\n    at async TradingStrategy.manageExistingPositions (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:360:13)\n    at async TradingStrategy.tradingLoop (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:90:9)","level":"error","message":"Error ejecutando acción de salida:","module":"TradingStrategy","timestamp":"2025-10-04T23:41:45.890Z"}
{"error":{"endpoint":"/v5/order/create","error":"Error API Bybit: Qty invalid (Code: 10001)","method":"POST","params":{"category":"linear","orderType":"Market","qty":"5335.5","side":"Sell","symbol":"ASTERUSDT","timeInForce":"IOC"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-04T23:41:45.850Z"}
{"error":"Error: Error API Bybit: Qty invalid (Code: 10001)\n    at BybitClient.makeAuthenticatedRequest (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:411:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.executeTrade (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:147:24)\n    at async BybitClient.closePosition (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:340:14)\n    at async TradingStrategy.executeExitAction (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:550:11)\n    at async TradingStrategy.manageExistingPositions (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:360:13)\n    at async TradingStrategy.tradingLoop (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:90:9)","level":"error","message":"Error ejecutando trade:","module":"BybitClient","timestamp":"2025-10-04T23:41:45.870Z"}
{"error":"Error: Error ejecutando trade: Error API Bybit: Qty invalid (Code: 10001)\n    at BybitClient.executeTrade (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:163:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.closePosition (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:340:14)\n    at async TradingStrategy.executeExitAction (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:550:11)\n    at async TradingStrategy.manageExistingPositions (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:360:13)\n    at async TradingStrategy.tradingLoop (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:90:9)","level":"error","message":"Error cerrando posición:","module":"BybitClient","timestamp":"2025-10-04T23:41:45.889Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759621305890","module":"BybitClient","timestamp":"2025-10-04T23:41:45.890Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:41:45.890Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759621283531%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0437\",\"liqPrice\":\"1.9315\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.0708\",\"positionValue\":\"21808.3227\",\"isReduceOnly\":false,\"positionIMByMp\":\"1465.08333707\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9299\",\"unrealisedPnl\":\"202.749\",\"markPrice\":\"2.0627\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"16.27048275\",\"positionMM\":\"267.55409899\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1465.08333707\",\"positionMMByMp\":\"270.45340968\",\"seq\":140697266492588,\"updatedTime\":\"1759621283531\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1465.08333707\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"16.27048275\",\"size\":\"10671\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.0542\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759621306633}","module":"BybitClient","timestamp":"2025-10-04T23:41:46.280Z"}
{"level":"info","message":"Ya existe una posición abierta, no se abrirá nueva posición","module":"TradingStrategy","timestamp":"2025-10-04T23:41:46.281Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T23:41:46.280Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-04T23:41:46.281Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-04T23:42:44.975Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T23:42:46.113Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-04T23:42:46.114Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:42:46.113Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T23:42:46.282Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1140","module":"KalmanFilter","timestamp":"2025-10-04T23:42:46.282Z"}
{"level":"debug","message":"Predicción Kalman: 2.0597034486213963 (Confianza: 0.851)","module":"KalmanFilter","timestamp":"2025-10-04T23:42:46.283Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T23:42:46.686Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T23:43:39.288Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":2.049677934370195,"middle":2.0576849999999998,"upper":2.0656920656298046},"ema":{"ema21":2.057704406329857,"ema50":2.054582595307526,"ema9":2.059989172546412},"macd":{"histogram":0.000254687700285272,"macd":0.002546877002852721,"signal":0.002292189302567449},"rsi":54.75578406169626,"volume":{"avg":99710.7,"current":80766,"ratio":0.8100033396616412}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La señal de RSI < 30 y MACD bullish es muy fuerte, indicando una posible inflexión up en el mercado. Además, la predicción de Kalman es positiva con alta confianza, lo que sugiere una tendencia ascendente. Considerando el leverage alto (10-50x) y el alto volumen, es apropiado tomar posición en este caso.","symbol":"ASTERUSDT","timestamp":1759621419289}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759621419289","module":"BybitClient","timestamp":"2025-10-04T23:43:39.292Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:43:39.342Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759621283531%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0437\",\"liqPrice\":\"1.9315\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.0708\",\"positionValue\":\"21808.3227\",\"isReduceOnly\":false,\"positionIMByMp\":\"1465.08333707\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9299\",\"unrealisedPnl\":\"204.8832\",\"markPrice\":\"2.0629\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"16.27048275\",\"positionMM\":\"267.55409899\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1465.08333707\",\"positionMMByMp\":\"270.48392874\",\"seq\":140697266492588,\"updatedTime\":\"1759621283531\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1465.08333707\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"16.27048275\",\"size\":\"10671\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.0542\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759621420817}","module":"BybitClient","timestamp":"2025-10-04T23:43:40.467Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 10671 ASTERUSDT | PnL: 0.94%","module":"TradingStrategy","timestamp":"2025-10-04T23:43:40.468Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T23:43:40.468Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759621420469","module":"BybitClient","timestamp":"2025-10-04T23:43:40.469Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"stopLoss\":\"2.0567113\",\"slTriggerBy\":\"LastPrice\",\"positionIdx\":0}","module":"BybitClient","timestamp":"2025-10-04T23:43:40.469Z"}
{"level":"info","message":"📈 Actualizando trailing SL: 2.06 (Max alcanzado: 2.06)","module":"TradingStrategy","timestamp":"2025-10-04T23:43:40.469Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{},\"retExtInfo\":{},\"time\":1759621421220}","module":"BybitClient","timestamp":"2025-10-04T23:43:40.870Z"}
{"level":"info","message":"Stop Loss actualizado para ASTERUSDT: SL=2.0567113","module":"BybitClient","timestamp":"2025-10-04T23:43:40.870Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición ASTERUSDT...","module":"TradingStrategy","timestamp":"2025-10-04T23:43:41.269Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-04T23:43:41.269Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-04T23:43:44.972Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T23:43:45.371Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-04T23:43:45.371Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:43:45.371Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La tendencia actual es favorable y no hay señales de reversión. Mantener la posición y espe...","module":"OllamaClient","timestamp":"2025-10-04T23:44:09.697Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La tendencia actual es favorable y no hay señales de reversión. Mantener la posición y esperar a ver...","module":"TradingStrategy","timestamp":"2025-10-04T23:44:09.698Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759621449699","module":"BybitClient","timestamp":"2025-10-04T23:44:09.699Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-04T23:44:09.698Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-04T23:44:09.698Z"}
{"level":"info","message":"⚠️  Estrategia activada: PROFIT_LADDER_60 - PnL 0.94% - scalping: tomar profit parcial","module":"TradingStrategy","timestamp":"2025-10-04T23:44:09.698Z"}
{"level":"info","message":"🟡 CERRANDO 50% DE POSICIÓN: PnL 0.94% - scalping: tomar profit parcial","module":"TradingStrategy","timestamp":"2025-10-04T23:44:09.698Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:44:09.699Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759621421219%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0437\",\"liqPrice\":\"1.9315\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.0708\",\"positionValue\":\"21808.3227\",\"isReduceOnly\":false,\"positionIMByMp\":\"1465.08333707\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9299\",\"unrealisedPnl\":\"212.3529\",\"markPrice\":\"2.0636\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"16.27048275\",\"positionMM\":\"267.55409899\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1465.08333707\",\"positionMMByMp\":\"270.59074545\",\"seq\":140697266492588,\"updatedTime\":\"1759621421219\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1465.08333707\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"16.27048275\",\"size\":\"10671\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.0567\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759621451206}","module":"BybitClient","timestamp":"2025-10-04T23:44:10.854Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T23:44:10.855Z"}
{"level":"info","message":"Cerrando 50% de posición Buy ASTERUSDT: 5335.5 unidades","module":"BybitClient","timestamp":"2025-10-04T23:44:10.855Z"}
{"level":"info","message":"Ejecutando orden: Sell 5335.5 ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:44:10.855Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759621450855","module":"BybitClient","timestamp":"2025-10-04T23:44:10.855Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"side\":\"Sell\",\"orderType\":\"Market\",\"qty\":\"5335.5\",\"timeInForce\":\"IOC\"}","module":"BybitClient","timestamp":"2025-10-04T23:44:10.855Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10001,\"retMsg\":\"Qty invalid\",\"result\":{},\"retExtInfo\":{},\"time\":1759621451616}","module":"BybitClient","timestamp":"2025-10-04T23:44:11.264Z"}
{"error":"Error: Error cerrando posición: Error ejecutando trade: Error API Bybit: Qty invalid (Code: 10001)\n    at BybitClient.closePosition (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:347:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.executeExitAction (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:550:11)\n    at async TradingStrategy.manageExistingPositions (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:360:13)\n    at async TradingStrategy.tradingLoop (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:90:9)","level":"error","message":"Error ejecutando acción de salida:","module":"TradingStrategy","timestamp":"2025-10-04T23:44:11.269Z"}
{"error":{"endpoint":"/v5/order/create","error":"Error API Bybit: Qty invalid (Code: 10001)","method":"POST","params":{"category":"linear","orderType":"Market","qty":"5335.5","side":"Sell","symbol":"ASTERUSDT","timeInForce":"IOC"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-04T23:44:11.265Z"}
{"error":"Error: Error API Bybit: Qty invalid (Code: 10001)\n    at BybitClient.makeAuthenticatedRequest (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:411:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.executeTrade (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:147:24)\n    at async BybitClient.closePosition (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:340:14)\n    at async TradingStrategy.executeExitAction (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:550:11)\n    at async TradingStrategy.manageExistingPositions (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:360:13)\n    at async TradingStrategy.tradingLoop (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:90:9)","level":"error","message":"Error ejecutando trade:","module":"BybitClient","timestamp":"2025-10-04T23:44:11.268Z"}
{"error":"Error: Error ejecutando trade: Error API Bybit: Qty invalid (Code: 10001)\n    at BybitClient.executeTrade (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:163:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.closePosition (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:340:14)\n    at async TradingStrategy.executeExitAction (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:550:11)\n    at async TradingStrategy.manageExistingPositions (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:360:13)\n    at async TradingStrategy.tradingLoop (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:90:9)","level":"error","message":"Error cerrando posición:","module":"BybitClient","timestamp":"2025-10-04T23:44:11.269Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759621451270","module":"BybitClient","timestamp":"2025-10-04T23:44:11.270Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:44:11.270Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759621421219%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0437\",\"liqPrice\":\"1.9315\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.0708\",\"positionValue\":\"21808.3227\",\"isReduceOnly\":false,\"positionIMByMp\":\"1465.08333707\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9299\",\"unrealisedPnl\":\"212.3529\",\"markPrice\":\"2.0636\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"16.27048275\",\"positionMM\":\"267.55409899\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1465.08333707\",\"positionMMByMp\":\"270.59074545\",\"seq\":140697266492588,\"updatedTime\":\"1759621421219\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1465.08333707\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"16.27048275\",\"size\":\"10671\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.0567\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759621452359}","module":"BybitClient","timestamp":"2025-10-04T23:44:12.008Z"}
{"level":"info","message":"Ya existe una posición abierta, no se abrirá nueva posición","module":"TradingStrategy","timestamp":"2025-10-04T23:44:12.009Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T23:44:12.009Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-04T23:44:12.009Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-04T23:44:44.979Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T23:44:46.206Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-04T23:44:46.207Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:44:46.207Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T23:45:12.012Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0809","module":"KalmanFilter","timestamp":"2025-10-04T23:45:12.013Z"}
{"level":"debug","message":"Predicción Kalman: 2.0630924025797577 (Confianza: 0.862)","module":"KalmanFilter","timestamp":"2025-10-04T23:45:12.014Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T23:45:13.992Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-04T23:45:44.988Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T23:45:46.121Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-04T23:45:46.178Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:45:46.178Z"}
{"level":"info","message":"Recibida señal SIGINT, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-04T23:45:49.883Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759621549966}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-04T23:45:49.966Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-04T23:45:49.971Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759621555671}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-04T23:45:55.545Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-04T23:45:55.527Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T23:45:55.534Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"ASTERUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T23:45:55.541Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T23:45:55.539Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"ASTERUSDT","timestamp":1759621555865}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-04T23:45:55.604Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"ASTERUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T23:45:55.614Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T23:45:55.609Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T23:45:55.620Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T23:45:55.656Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T23:45:55.864Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T23:45:55.864Z"}
{"level":"info","message":"Iniciando estrategia de trading para ASTERUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-04T23:45:55.864Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-04T23:45:55.546Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-04T23:45:55.546Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-04T23:45:55.546Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-04T23:45:55.547Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-04T23:45:55.596Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-04T23:45:55.597Z"}
{"level":"info","message":"7 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T23:45:55.597Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T23:45:55.899Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T23:45:56.510Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T23:45:57.740Z"}
{"level":"info","message":"Iniciando recopilación de datos para ASTERUSDT (1m)","module":"DataManager","timestamp":"2025-10-04T23:45:57.741Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 200","module":"BybitClient","timestamp":"2025-10-04T23:45:57.741Z"}
{"level":"info","message":"Recopilando datos históricos para ASTERUSDT...","module":"DataManager","timestamp":"2025-10-04T23:45:57.741Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T23:45:58.155Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para ASTERUSDT","module":"DataManager","timestamp":"2025-10-04T23:45:58.156Z"}
{"level":"info","message":"Datos suficientes recopilados para ASTERUSDT","module":"TradingStrategy","timestamp":"2025-10-04T23:45:58.157Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T23:45:58.158Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0906","module":"KalmanFilter","timestamp":"2025-10-04T23:45:58.158Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-04T23:45:58.159Z"}
{"level":"info","message":"Velas obtenidas: 200 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:45:58.156Z"}
{"level":"info","message":"Recopilación de datos iniciada para ASTERUSDT","module":"DataManager","timestamp":"2025-10-04T23:45:58.157Z"}
{"level":"debug","message":"Predicción Kalman: 2.0627024186632266 (Confianza: 0.892)","module":"KalmanFilter","timestamp":"2025-10-04T23:45:58.159Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T23:45:58.554Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T23:46:25.988Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":2.0414407068286486,"middle":2.055535,"upper":2.069629293171351},"ema":{"ema21":2.05699281817975,"ema50":2.0558610161762125,"ema9":2.062000242620607},"macd":{"histogram":0.00042654402337056726,"macd":0.004265440233705675,"signal":0.003838896210335108},"rsi":65.36082474226802,"volume":{"avg":114647.88,"current":132763,"ratio":1.1580065850323618}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La RSI está por debajo del 30, MACD es bullish y el precio actual está aumentando con un cambio reciente del 0.62%. Además, la Kalman predice un aumento en el precio con una confianza del 89.2%","symbol":"ASTERUSDT","timestamp":1759621585990}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759621585991","module":"BybitClient","timestamp":"2025-10-04T23:46:25.993Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:46:25.994Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759621576367%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"2.0644\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"233.57622069\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266507497,\"updatedTime\":\"1759621576367\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759621588737}","module":"BybitClient","timestamp":"2025-10-04T23:46:28.381Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-04T23:46:28.382Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759621588382","module":"BybitClient","timestamp":"2025-10-04T23:46:28.382Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:46:28.382Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759621576367%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"2.0646\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"233.57622069\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266507497,\"updatedTime\":\"1759621576367\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759621589471}","module":"BybitClient","timestamp":"2025-10-04T23:46:29.114Z"}
{"level":"info","message":"AI sugiere BUY con confianza 0.8","module":"TradingStrategy","timestamp":"2025-10-04T23:46:29.114Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-04T23:46:29.114Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759621589115","module":"BybitClient","timestamp":"2025-10-04T23:46:29.115Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-04T23:46:29.115Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"214661.6493863\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"214661.6493863\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49992.57375284\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121080.80122556\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4490.64997\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"39076.95272991\",\"totalPositionMM\":\"0\",\"usdValue\":\"39097.6244379\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"39076.95272991\",\"cumRealisedPnl\":\"-11830.65016009\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759621590202}","module":"BybitClient","timestamp":"2025-10-04T23:46:29.903Z"}
{"level":"info","message":"Balance disponible: $39076.95, Precio: $2.0685","module":"TradingStrategy","timestamp":"2025-10-04T23:46:29.904Z"}
{"level":"info","message":"Balance obtenido - Total: $214661.65, Disponible: $39076.95","module":"BybitClient","timestamp":"2025-10-04T23:46:29.904Z"}
{"level":"debug","message":"Símbolo info - Min: 1, Step: 1","module":"TradingStrategy","timestamp":"2025-10-04T23:46:30.722Z"}
{"level":"info","message":"Contador diario de trades reseteado","module":"RiskManager","timestamp":"2025-10-04T23:46:30.724Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759621590724","module":"BybitClient","timestamp":"2025-10-04T23:46:30.724Z"}
{"level":"info","message":"Riesgo: 5%, Capital a arriesgar: $1953.85","module":"TradingStrategy","timestamp":"2025-10-04T23:46:30.722Z"}
{"level":"info","message":"Position value: $29307.71, Quantity raw: 14168.583296","module":"TradingStrategy","timestamp":"2025-10-04T23:46:30.722Z"}
{"level":"info","message":"Cantidad final calculada: 14168 ASTER (valor: $29306.51)","module":"TradingStrategy","timestamp":"2025-10-04T23:46:30.722Z"}
{"level":"info","message":"Parámetros calculados - Leverage: 15x, Quantity: 14168","module":"TradingStrategy","timestamp":"2025-10-04T23:46:30.723Z"}
{"level":"info","message":"Generando señal de trading: BUY 14168 ASTERUSDT @ 2.0685 (SL: 2.0560889999999996, TP: 2.0920809)","module":"TradingStrategy","timestamp":"2025-10-04T23:46:30.723Z"}
{"level":"info","message":"EJECUTANDO TRADE: BUY 14168 ASTERUSDT","module":"TradingStrategy","timestamp":"2025-10-04T23:46:30.723Z"}
{"level":"info","message":"=== INICIO EJECUCIÓN DE TRADE ===","module":"TradingStrategy","timestamp":"2025-10-04T23:46:30.723Z"}
{"level":"info","message":"Señal: {\"symbol\":\"ASTERUSDT\",\"action\":\"BUY\",\"leverage\":15,\"quantity\":14168,\"stopLoss\":2.0560889999999996,\"takeProfit\":2.0920809,\"timestamp\":1759621590723,\"aiAnalysis\":{\"decision\":\"BUY\",\"confidence\":0.8,\"reasoning\":\"La RSI está por debajo del 30, MACD es bullish y el precio actual está aumentando con un cambio reciente del 0.62%. Además, la Kalman predice un aumento en el precio con una confianza del 89.2%\",\"indicators\":{},\"kalman\":{},\"marketSentiment\":\"bullish\",\"riskLevel\":\"medium\",\"suggestedLeverage\":10}}","module":"TradingStrategy","timestamp":"2025-10-04T23:46:30.723Z"}
{"level":"info","message":"Validando con Risk Manager...","module":"TradingStrategy","timestamp":"2025-10-04T23:46:30.723Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-04T23:46:30.724Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"214661.6493863\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"214661.6493863\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49992.57375284\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121080.80122556\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4490.64997\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"39076.95272991\",\"totalPositionMM\":\"0\",\"usdValue\":\"39097.6244379\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"39076.95272991\",\"cumRealisedPnl\":\"-11830.65016009\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759621591810}","module":"BybitClient","timestamp":"2025-10-04T23:46:31.542Z"}
{"level":"info","message":"Balance obtenido - Total: $214661.65, Disponible: $39076.95","module":"BybitClient","timestamp":"2025-10-04T23:46:31.542Z"}
{"level":"info","message":"Validando posición: Cantidad=14168, Precio=2.06, Valor=$29245.59","module":"RiskManager","timestamp":"2025-10-04T23:46:31.941Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759621591941","module":"BybitClient","timestamp":"2025-10-04T23:46:31.941Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:46:31.941Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759621576367%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"2.0638\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"233.57622069\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266507497,\"updatedTime\":\"1759621576367\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759621592699}","module":"BybitClient","timestamp":"2025-10-04T23:46:32.342Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-04T23:46:32.342Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 5m, límite: 20","module":"BybitClient","timestamp":"2025-10-04T23:46:33.076Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T23:46:33.896Z"}
{"level":"info","message":"Velas obtenidas: 20 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:46:33.897Z"}
{"level":"info","message":"Trade aprobado - Risk Score: 0.30","module":"RiskManager","timestamp":"2025-10-04T23:46:34.296Z"}
{"level":"info","message":"Resultado validación: {\"approved\":true,\"reason\":\"Trade aprobado por gestión de riesgo\",\"riskScore\":0.3016197597095234}","module":"TradingStrategy","timestamp":"2025-10-04T23:46:34.296Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759621594297","module":"BybitClient","timestamp":"2025-10-04T23:46:34.297Z"}
{"level":"info","message":"Trade aprobado por Risk Manager, ejecutando...","module":"TradingStrategy","timestamp":"2025-10-04T23:46:34.296Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"buyLeverage\":\"15\",\"sellLeverage\":\"15\"}","module":"BybitClient","timestamp":"2025-10-04T23:46:34.297Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":110043,\"retMsg\":\"leverage not modified\",\"result\":{},\"retExtInfo\":{},\"time\":1759621595055}","module":"BybitClient","timestamp":"2025-10-04T23:46:34.697Z"}
{"level":"warn","message":"Bybit warning (ignorado): leverage not modified (Code: 110043)","module":"BybitClient","timestamp":"2025-10-04T23:46:34.697Z"}
{"level":"info","message":"Leverage establecido a 15x para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:46:34.697Z"}
{"level":"info","message":"Ejecutando orden: Buy 14168 ASTERUSDT | SL: 2.0560889999999996 | TP: 2.0920809","module":"BybitClient","timestamp":"2025-10-04T23:46:34.697Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759621594697","module":"BybitClient","timestamp":"2025-10-04T23:46:34.697Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"side\":\"Buy\",\"orderType\":\"Market\",\"qty\":\"14168\",\"timeInForce\":\"IOC\",\"stopLoss\":\"2.0560889999999996\",\"slTriggerBy\":\"LastPrice\",\"takeProfit\":\"2.0920809\",\"tpTriggerBy\":\"LastPrice\"}","module":"BybitClient","timestamp":"2025-10-04T23:46:34.698Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"orderId\":\"5fe680b0-c2b0-40e7-95dc-84fcce9c5e7f\",\"orderLinkId\":\"\"},\"retExtInfo\":{},\"time\":1759621595455}","module":"BybitClient","timestamp":"2025-10-04T23:46:35.097Z"}
{"level":"info","message":"TRADE_OPEN","module":"TradingStrategy","pnl":0,"price":0,"quantity":14168,"side":"BUY","symbol":"ASTERUSDT","timestamp":1759621595098}
{"level":"debug","message":"Trades ejecutados hoy: 1/20","module":"RiskManager","timestamp":"2025-10-04T23:46:35.098Z"}
{"level":"info","message":"Orden ejecutada exitosamente: 5fe680b0-c2b0-40e7-95dc-84fcce9c5e7f","module":"BybitClient","timestamp":"2025-10-04T23:46:35.098Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-04T23:46:58.158Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T23:47:00.622Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-04T23:47:00.622Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:47:00.622Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T23:47:35.102Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1077","module":"KalmanFilter","timestamp":"2025-10-04T23:47:35.107Z"}
{"level":"debug","message":"Predicción Kalman: 2.0652952890917287 (Confianza: 0.888)","module":"KalmanFilter","timestamp":"2025-10-04T23:47:35.108Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T23:47:36.320Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-04T23:47:58.158Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T23:47:59.558Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-04T23:47:59.558Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:47:59.558Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T23:48:02.483Z"}
{"confidence":0.3,"decision":"BUY","indicators":{"bollinger":{"lower":2.042472083962362,"middle":2.05917,"upper":2.075867916037638},"ema":{"ema21":2.0609984082546435,"ema50":2.057955916398738,"ema9":2.065901103501924},"macd":{"histogram":0.0004788902874479197,"macd":0.004788902874479195,"signal":0.004310012587031275},"rsi":72.6315789473685,"volume":{"avg":115565.87,"current":264,"ratio":0.0022844114789253955}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"{\n  \"decision\": \"BUY\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"RSI is overbought and MACD is bullish, indicating a potential buying opportunity. Kalman prediction also suggests a slight increase in price","symbol":"ASTERUSDT","timestamp":1759621682484}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759621682485","module":"BybitClient","timestamp":"2025-10-04T23:48:02.485Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-04T23:48:02.484Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-04T23:48:02.484Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:48:02.485Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759621595454%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0636\",\"liqPrice\":\"1.9517\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.092\",\"positionValue\":\"29237.0848\",\"isReduceOnly\":false,\"positionIMByMp\":\"1964.14764924\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.95\",\"unrealisedPnl\":\"36.8368\",\"markPrice\":\"2.0662\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"217.49582405\",\"positionMM\":\"377.59887776\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1964.14764924\",\"positionMMByMp\":\"378.12564399\",\"seq\":140697266508045,\"updatedTime\":\"1759621595454\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1964.14764924\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-16.08039664\",\"size\":\"14168\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.056\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759621683245}","module":"BybitClient","timestamp":"2025-10-04T23:48:02.896Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 14168 ASTERUSDT | PnL: 0.13%","module":"TradingStrategy","timestamp":"2025-10-04T23:48:02.896Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T23:48:02.896Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición ASTERUSDT...","module":"TradingStrategy","timestamp":"2025-10-04T23:48:03.630Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-04T23:48:03.631Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La tendencia actual es favorable y no hay señales de reversión. Mantener la posición para s...","module":"OllamaClient","timestamp":"2025-10-04T23:48:25.563Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La tendencia actual es favorable y no hay señales de reversión. Mantener la posición para seguir apr...","module":"TradingStrategy","timestamp":"2025-10-04T23:48:25.564Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759621705565","module":"BybitClient","timestamp":"2025-10-04T23:48:25.566Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-04T23:48:25.564Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-04T23:48:25.565Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:48:25.566Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759621595454%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0636\",\"liqPrice\":\"1.9517\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.092\",\"positionValue\":\"29237.0848\",\"isReduceOnly\":false,\"positionIMByMp\":\"1964.14764924\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.95\",\"unrealisedPnl\":\"12.7512\",\"markPrice\":\"2.0645\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"217.49582405\",\"positionMM\":\"377.59887776\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1964.14764924\",\"positionMMByMp\":\"377.78121991\",\"seq\":140697266508045,\"updatedTime\":\"1759621595454\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1964.14764924\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-16.08039664\",\"size\":\"14168\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.056\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759621708014}","module":"BybitClient","timestamp":"2025-10-04T23:48:27.664Z"}
{"level":"info","message":"Ya existe una posición abierta, no se abrirá nueva posición","module":"TradingStrategy","timestamp":"2025-10-04T23:48:27.664Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T23:48:27.664Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-04T23:48:27.664Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-04T23:48:58.158Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T23:49:00.225Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-04T23:49:00.226Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:49:00.226Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T23:49:27.666Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0771","module":"KalmanFilter","timestamp":"2025-10-04T23:49:27.666Z"}
{"level":"debug","message":"Predicción Kalman: 2.0655794441677147 (Confianza: 0.871)","module":"KalmanFilter","timestamp":"2025-10-04T23:49:27.666Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T23:49:28.803Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-04T23:49:58.157Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T23:50:00.539Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-04T23:50:00.539Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:50:00.539Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T23:50:02.520Z"}
{"confidence":0.3,"decision":"BUY","indicators":{"bollinger":{"lower":2.0617111621181494,"middle":2.066325,"upper":2.0709388378818505},"ema":{"ema21":2.0643977891456244,"ema50":2.0604769596172416,"ema9":2.066215757341536},"macd":{"histogram":0.0002651284883568028,"macd":0.002651284883568028,"signal":0.0023861563952112252},"rsi":50.86206896551714,"volume":{"avg":115786.33,"current":0,"ratio":0}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"{\n  \"decision\": \"BUY\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La RSI está por debajo de 30 y el MACD es bullish, lo que indica una posible tendencia ascendente. Además, la Kalman predicts an increase wi","symbol":"ASTERUSDT","timestamp":1759621802524}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759621802524","module":"BybitClient","timestamp":"2025-10-04T23:50:02.524Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-04T23:50:02.520Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-04T23:50:02.520Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:50:02.524Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759621595454%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0636\",\"liqPrice\":\"1.9517\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.092\",\"positionValue\":\"29237.0848\",\"isReduceOnly\":false,\"positionIMByMp\":\"1964.14764924\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.95\",\"unrealisedPnl\":\"35.42\",\"markPrice\":\"2.0661\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"217.49582405\",\"positionMM\":\"377.59887776\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1964.14764924\",\"positionMMByMp\":\"378.10538375\",\"seq\":140697266508045,\"updatedTime\":\"1759621595454\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1964.14764924\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-16.08039664\",\"size\":\"14168\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.056\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759621803290}","module":"BybitClient","timestamp":"2025-10-04T23:50:02.936Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 14168 ASTERUSDT | PnL: 0.12%","module":"TradingStrategy","timestamp":"2025-10-04T23:50:02.937Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T23:50:02.937Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición ASTERUSDT...","module":"TradingStrategy","timestamp":"2025-10-04T23:50:03.343Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-04T23:50:03.343Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La tendencia actual es favorable y no hay señales de reversión. Mantener la posición para s...","module":"OllamaClient","timestamp":"2025-10-04T23:50:22.756Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La tendencia actual es favorable y no hay señales de reversión. Mantener la posición para seguir apr...","module":"TradingStrategy","timestamp":"2025-10-04T23:50:22.760Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759621822760","module":"BybitClient","timestamp":"2025-10-04T23:50:22.761Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-04T23:50:22.759Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-04T23:50:22.760Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:50:22.761Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759621595454%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0636\",\"liqPrice\":\"1.9517\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.092\",\"positionValue\":\"29237.0848\",\"isReduceOnly\":false,\"positionIMByMp\":\"1964.14764924\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.95\",\"unrealisedPnl\":\"49.588\",\"markPrice\":\"2.0671\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"217.49582405\",\"positionMM\":\"377.59887776\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1964.14764924\",\"positionMMByMp\":\"378.30798615\",\"seq\":140697266508045,\"updatedTime\":\"1759621595454\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1964.14764924\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-16.08039664\",\"size\":\"14168\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.056\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759621825159}","module":"BybitClient","timestamp":"2025-10-04T23:50:24.805Z"}
{"level":"info","message":"Ya existe una posición abierta, no se abrirá nueva posición","module":"TradingStrategy","timestamp":"2025-10-04T23:50:24.805Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T23:50:24.805Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-04T23:50:24.805Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-04T23:50:58.159Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T23:50:59.828Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-04T23:50:59.828Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:50:59.828Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T23:51:24.807Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0684","module":"KalmanFilter","timestamp":"2025-10-04T23:51:24.808Z"}
{"level":"debug","message":"Predicción Kalman: 2.065875781284758 (Confianza: 0.862)","module":"KalmanFilter","timestamp":"2025-10-04T23:51:24.808Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T23:51:26.864Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-04T23:51:58.160Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T23:51:59.657Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-04T23:51:59.657Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:51:59.657Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T23:52:07.326Z"}
{"confidence":0.3,"decision":"BUY","indicators":{"bollinger":{"lower":2.0634896078682616,"middle":2.066549999999999,"upper":2.0696103921317364},"ema":{"ema21":2.065596157057092,"ema50":2.0622243441261667,"ema9":2.0662649208473143},"macd":{"histogram":0.00012748845259737953,"macd":0.0012748845259737962,"signal":0.0011473960733764167},"rsi":46.6101694915258,"volume":{"avg":111033.65,"current":48564,"ratio":0.43738092010845364}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"{\n  \"decision\": \"BUY\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La señal de RSI es baja (46.61) y la de MACD es positiva (0.0013) con un signal bullish (0.0011), lo que sugiere una posible tendencia ascen","symbol":"ASTERUSDT","timestamp":1759621927327}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759621927328","module":"BybitClient","timestamp":"2025-10-04T23:52:07.328Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-04T23:52:07.327Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-04T23:52:07.327Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:52:07.328Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759621595454%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0636\",\"liqPrice\":\"1.9517\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.092\",\"positionValue\":\"29237.0848\",\"isReduceOnly\":false,\"positionIMByMp\":\"1964.14764924\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.95\",\"unrealisedPnl\":\"99.176\",\"markPrice\":\"2.0706\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"217.49582405\",\"positionMM\":\"377.59887776\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1964.14764924\",\"positionMMByMp\":\"379.01709455\",\"seq\":140697266508045,\"updatedTime\":\"1759621595454\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1964.14764924\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-16.08039664\",\"size\":\"14168\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.056\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759621929404}","module":"BybitClient","timestamp":"2025-10-04T23:52:09.048Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 14168 ASTERUSDT | PnL: 0.34%","module":"TradingStrategy","timestamp":"2025-10-04T23:52:09.049Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T23:52:09.049Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición ASTERUSDT...","module":"TradingStrategy","timestamp":"2025-10-04T23:52:09.869Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-04T23:52:09.870Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La tendencia actual es favorable y no hay señales de reversión. Mantener la posición para a...","module":"OllamaClient","timestamp":"2025-10-04T23:52:30.939Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La tendencia actual es favorable y no hay señales de reversión. Mantener la posición para aprovechar...","module":"TradingStrategy","timestamp":"2025-10-04T23:52:30.945Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759621950947","module":"BybitClient","timestamp":"2025-10-04T23:52:30.950Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-04T23:52:30.944Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-04T23:52:30.945Z"}
{"level":"info","message":"⚠️  Estrategia activada: PROFIT_LADDER_30 - PnL 0.34% - scalping: asegurar ganancia mínima","module":"TradingStrategy","timestamp":"2025-10-04T23:52:30.945Z"}
{"level":"info","message":"🟢 CERRANDO 25% DE POSICIÓN: PnL 0.34% - scalping: asegurar ganancia mínima","module":"TradingStrategy","timestamp":"2025-10-04T23:52:30.946Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:52:30.951Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759621595454%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0636\",\"liqPrice\":\"1.9517\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.092\",\"positionValue\":\"29237.0848\",\"isReduceOnly\":false,\"positionIMByMp\":\"1964.14764924\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.95\",\"unrealisedPnl\":\"102.0096\",\"markPrice\":\"2.0708\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"217.49582405\",\"positionMM\":\"377.59887776\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1964.14764924\",\"positionMMByMp\":\"379.05761503\",\"seq\":140697266508045,\"updatedTime\":\"1759621595454\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1964.14764924\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-16.08039664\",\"size\":\"14168\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.056\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759621952450}","module":"BybitClient","timestamp":"2025-10-04T23:52:32.094Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T23:52:32.095Z"}
{"level":"info","message":"Cerrando 25% de posición Buy ASTERUSDT: 3542 unidades (raw: 3542.0000, stepSize: 1)","module":"BybitClient","timestamp":"2025-10-04T23:52:32.909Z"}
{"level":"info","message":"Ejecutando orden: Sell 3542 ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:52:32.910Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759621952910","module":"BybitClient","timestamp":"2025-10-04T23:52:32.910Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"side\":\"Sell\",\"orderType\":\"Market\",\"qty\":\"3542\",\"timeInForce\":\"IOC\"}","module":"BybitClient","timestamp":"2025-10-04T23:52:32.910Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"orderId\":\"f81dcd97-8ae0-4f63-9296-e212e712dd41\",\"orderLinkId\":\"\"},\"retExtInfo\":{},\"time\":1759621954002}","module":"BybitClient","timestamp":"2025-10-04T23:52:33.730Z"}
{"level":"info","message":"💰 25% cerrado. PnL parcial: 24.79 USDT","module":"TradingStrategy","timestamp":"2025-10-04T23:52:33.731Z"}
{"level":"info","message":"Orden ejecutada exitosamente: f81dcd97-8ae0-4f63-9296-e212e712dd41","module":"BybitClient","timestamp":"2025-10-04T23:52:33.731Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759621953731","module":"BybitClient","timestamp":"2025-10-04T23:52:33.731Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:52:33.731Z"}
{"level":"info","message":"✅ Acción ejecutada exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T23:52:33.731Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759621954001%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0636\",\"liqPrice\":\"1.9504\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.092\",\"positionValue\":\"21927.8136\",\"isReduceOnly\":false,\"positionIMByMp\":\"1473.11073693\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9487\",\"unrealisedPnl\":\"79.695\",\"markPrice\":\"2.0711\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"241.4421349\",\"positionMM\":\"269.32415832\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1473.11073693\",\"positionMMByMp\":\"270.46379681\",\"seq\":140697266517976,\"updatedTime\":\"1759621954001\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1473.11073693\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"7.86591421\",\"size\":\"10626\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.056\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759621954497}","module":"BybitClient","timestamp":"2025-10-04T23:52:34.140Z"}
{"level":"info","message":"Ya existe una posición abierta, no se abrirá nueva posición","module":"TradingStrategy","timestamp":"2025-10-04T23:52:34.141Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T23:52:34.141Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-04T23:52:34.141Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-04T23:52:58.160Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T23:53:00.246Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-04T23:53:00.246Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:53:00.246Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T23:53:34.143Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-04T23:53:34.144Z"}
{"level":"debug","message":"Predicción Kalman: 2.0702793550042746 (Confianza: 0.878)","module":"KalmanFilter","timestamp":"2025-10-04T23:53:34.145Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T23:53:36.169Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-04T23:53:58.161Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T23:53:59.542Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-04T23:53:59.542Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:53:59.542Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T23:54:09.295Z"}
{"confidence":0.3,"decision":"BUY","indicators":{"bollinger":{"lower":2.062867535140704,"middle":2.067225,"upper":2.071582464859296},"ema":{"ema21":2.0674054604046206,"ema50":2.0642756766177115,"ema9":2.0688754960223825},"macd":{"histogram":0.00015781993245664858,"macd":0.0015781993245664871,"signal":0.0014203793921098386},"rsi":53.43511450381724,"volume":{"avg":95544.5,"current":10097,"ratio":0.10567850582712768}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"{\n  \"decision\": \"BUY\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La RSI está por debajo de 30 y el MACD está en un signal bullish, lo que sugiere una posible tendencia ascendente. Además, el Kalman predice","symbol":"ASTERUSDT","timestamp":1759622049299}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759622049299","module":"BybitClient","timestamp":"2025-10-04T23:54:09.300Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-04T23:54:09.299Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-04T23:54:09.299Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:54:09.300Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759621954001%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0636\",\"liqPrice\":\"1.9504\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.092\",\"positionValue\":\"21927.8136\",\"isReduceOnly\":false,\"positionIMByMp\":\"1473.11073693\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9487\",\"unrealisedPnl\":\"51.0048\",\"markPrice\":\"2.0684\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"241.4421349\",\"positionMM\":\"269.32415832\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1473.11073693\",\"positionMMByMp\":\"270.05352695\",\"seq\":140697266517976,\"updatedTime\":\"1759621954001\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1473.11073693\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"7.86591421\",\"size\":\"10626\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.056\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759622050567}","module":"BybitClient","timestamp":"2025-10-04T23:54:10.207Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 10626 ASTERUSDT | PnL: 0.23%","module":"TradingStrategy","timestamp":"2025-10-04T23:54:10.208Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T23:54:10.208Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición ASTERUSDT...","module":"TradingStrategy","timestamp":"2025-10-04T23:54:10.604Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-04T23:54:10.604Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La tendencia actual es favorable y no hay señales de reversión. Mantener la posición para a...","module":"OllamaClient","timestamp":"2025-10-04T23:54:31.208Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La tendencia actual es favorable y no hay señales de reversión. Mantener la posición para aprovechar...","module":"TradingStrategy","timestamp":"2025-10-04T23:54:31.209Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759622071209","module":"BybitClient","timestamp":"2025-10-04T23:54:31.209Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-04T23:54:31.209Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-04T23:54:31.209Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:54:31.209Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759621954001%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0636\",\"liqPrice\":\"1.9504\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.092\",\"positionValue\":\"21927.8136\",\"isReduceOnly\":false,\"positionIMByMp\":\"1473.11073693\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9487\",\"unrealisedPnl\":\"37.191\",\"markPrice\":\"2.0671\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"241.4421349\",\"positionMM\":\"269.32415832\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1473.11073693\",\"positionMMByMp\":\"269.85598961\",\"seq\":140697266517976,\"updatedTime\":\"1759621954001\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1473.11073693\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"7.86591421\",\"size\":\"10626\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.056\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759622072759}","module":"BybitClient","timestamp":"2025-10-04T23:54:32.390Z"}
{"level":"info","message":"Ya existe una posición abierta, no se abrirá nueva posición","module":"TradingStrategy","timestamp":"2025-10-04T23:54:32.391Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T23:54:32.391Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-04T23:54:32.391Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-04T23:54:58.161Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T23:54:59.238Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-04T23:54:59.238Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:54:59.238Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T23:55:32.393Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0557","module":"KalmanFilter","timestamp":"2025-10-04T23:55:32.394Z"}
{"level":"debug","message":"Predicción Kalman: 2.0689803549998373 (Confianza: 0.879)","module":"KalmanFilter","timestamp":"2025-10-04T23:55:32.395Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T23:55:33.830Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-04T23:55:58.163Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T23:55:59.505Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-04T23:55:59.508Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:55:59.508Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T23:56:03.128Z"}
{"confidence":0.3,"decision":"BUY","indicators":{"bollinger":{"lower":2.063354176654553,"middle":2.0683949999999998,"upper":2.0734358233454464},"ema":{"ema21":2.0682371647956,"ema50":2.065732048227601,"ema9":2.068629322293061},"macd":{"histogram":0.00007627325346932774,"macd":0.0007627325346932778,"signal":0.0006864592812239501},"rsi":48.45938375350128,"volume":{"avg":93328.42,"current":55322,"ratio":0.5927669192299624}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"{\n  \"decision\": \"BUY\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La RSI está por debajo del 30, MACD es bullish y el volumen es alto, lo que indica una posible recuperación del precio. Además, la predicció","symbol":"ASTERUSDT","timestamp":1759622163129}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759622163129","module":"BybitClient","timestamp":"2025-10-04T23:56:03.129Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-04T23:56:03.128Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-04T23:56:03.128Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:56:03.129Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759621954001%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0636\",\"liqPrice\":\"1.9504\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.092\",\"positionValue\":\"21927.8136\",\"isReduceOnly\":false,\"positionIMByMp\":\"1473.11073693\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9487\",\"unrealisedPnl\":\"6.3756\",\"markPrice\":\"2.0642\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"241.4421349\",\"positionMM\":\"269.32415832\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1473.11073693\",\"positionMMByMp\":\"269.41532939\",\"seq\":140697266517976,\"updatedTime\":\"1759621954001\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1473.11073693\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"7.86591421\",\"size\":\"10626\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.056\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759622163885}","module":"BybitClient","timestamp":"2025-10-04T23:56:03.515Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 10626 ASTERUSDT | PnL: 0.03%","module":"TradingStrategy","timestamp":"2025-10-04T23:56:03.515Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T23:56:03.515Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición ASTERUSDT...","module":"TradingStrategy","timestamp":"2025-10-04T23:56:03.896Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-04T23:56:03.897Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La tendencia actual es favorable y no hay señales de reversión. Mantener la posición para a...","module":"OllamaClient","timestamp":"2025-10-04T23:56:23.199Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La tendencia actual es favorable y no hay señales de reversión. Mantener la posición para aprovechar...","module":"TradingStrategy","timestamp":"2025-10-04T23:56:23.199Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759622183200","module":"BybitClient","timestamp":"2025-10-04T23:56:23.200Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-04T23:56:23.199Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-04T23:56:23.199Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:56:23.200Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759621954001%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0636\",\"liqPrice\":\"1.9504\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.092\",\"positionValue\":\"21927.8136\",\"isReduceOnly\":false,\"positionIMByMp\":\"1473.11073693\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9487\",\"unrealisedPnl\":\"55.2552\",\"markPrice\":\"2.0688\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"241.4421349\",\"positionMM\":\"269.32415832\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1473.11073693\",\"positionMMByMp\":\"270.11430767\",\"seq\":140697266517976,\"updatedTime\":\"1759621954001\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1473.11073693\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"7.86591421\",\"size\":\"10626\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.056\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759622185006}","module":"BybitClient","timestamp":"2025-10-04T23:56:24.649Z"}
{"level":"info","message":"Ya existe una posición abierta, no se abrirá nueva posición","module":"TradingStrategy","timestamp":"2025-10-04T23:56:24.652Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T23:56:24.652Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-04T23:56:24.652Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-04T23:56:58.163Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T23:56:59.558Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-04T23:56:59.559Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:56:59.559Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T23:57:24.654Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0759","module":"KalmanFilter","timestamp":"2025-10-04T23:57:24.655Z"}
{"level":"debug","message":"Predicción Kalman: 2.067042869778218 (Confianza: 0.875)","module":"KalmanFilter","timestamp":"2025-10-04T23:57:24.656Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T23:57:26.697Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-04T23:57:58.164Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T23:57:59.769Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-04T23:57:59.770Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:57:59.770Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T23:58:06.979Z"}
{"confidence":0.3,"decision":"BUY","indicators":{"bollinger":{"lower":2.0629088518370953,"middle":2.06844,"upper":2.0739711481629044},"ema":{"ema21":2.067994930068396,"ema50":2.0664346091261314,"ema9":2.0677184024125603},"macd":{"histogram":-0.0000010622895485035134,"macd":-0.000010622895485035144,"signal":-0.00000956060593653163},"rsi":53.31950207468883,"volume":{"avg":89924.48,"current":117552,"ratio":1.307230244756489}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"{\n  \"decision\": \"BUY\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La RSI está por debajo del 30, indicando una posible oportunidad de compra. Además, el MACD está en un signal bullish y el Bollinger Band es","symbol":"ASTERUSDT","timestamp":1759622286980}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759622286980","module":"BybitClient","timestamp":"2025-10-04T23:58:06.981Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-04T23:58:06.980Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-04T23:58:06.980Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:58:06.981Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759621954001%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0636\",\"liqPrice\":\"1.9504\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.092\",\"positionValue\":\"21927.8136\",\"isReduceOnly\":false,\"positionIMByMp\":\"1473.11073693\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9487\",\"unrealisedPnl\":\"45.6918\",\"markPrice\":\"2.0679\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"241.4421349\",\"positionMM\":\"269.32415832\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1473.11073693\",\"positionMMByMp\":\"269.97755105\",\"seq\":140697266517976,\"updatedTime\":\"1759621954001\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1473.11073693\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"7.86591421\",\"size\":\"10626\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.056\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759622288989}","module":"BybitClient","timestamp":"2025-10-04T23:58:08.630Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 10626 ASTERUSDT | PnL: 0.21%","module":"TradingStrategy","timestamp":"2025-10-04T23:58:08.631Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T23:58:08.631Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición ASTERUSDT...","module":"TradingStrategy","timestamp":"2025-10-04T23:58:09.395Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-04T23:58:09.396Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La tendencia actual es favorable y no hay señales de reversión. Mantener la posición para s...","module":"OllamaClient","timestamp":"2025-10-04T23:58:38.260Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La tendencia actual es favorable y no hay señales de reversión. Mantener la posición para seguir apr...","module":"TradingStrategy","timestamp":"2025-10-04T23:58:38.261Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759622318280","module":"BybitClient","timestamp":"2025-10-04T23:58:38.281Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-04T23:58:38.261Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-04T23:58:38.261Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:58:38.283Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759621954001%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0636\",\"liqPrice\":\"1.9504\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.092\",\"positionValue\":\"21927.8136\",\"isReduceOnly\":false,\"positionIMByMp\":\"1473.11073693\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9487\",\"unrealisedPnl\":\"4.2504\",\"markPrice\":\"2.064\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"241.4421349\",\"positionMM\":\"269.32415832\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1473.11073693\",\"positionMMByMp\":\"269.38493903\",\"seq\":140697266517976,\"updatedTime\":\"1759621954001\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1473.11073693\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"7.86591421\",\"size\":\"10626\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.056\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759622319765}","module":"BybitClient","timestamp":"2025-10-04T23:58:39.400Z"}
{"level":"info","message":"Ya existe una posición abierta, no se abrirá nueva posición","module":"TradingStrategy","timestamp":"2025-10-04T23:58:39.400Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-04T23:58:39.400Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-04T23:58:39.400Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-04T23:58:58.167Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T23:58:59.278Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-04T23:58:59.279Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:58:59.278Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T23:59:39.404Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0886","module":"KalmanFilter","timestamp":"2025-10-04T23:59:39.405Z"}
{"level":"debug","message":"Predicción Kalman: 2.0669517837957767 (Confianza: 0.886)","module":"KalmanFilter","timestamp":"2025-10-04T23:59:39.406Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T23:59:40.262Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-04T23:59:58.165Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T23:59:59.603Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-04T23:59:59.604Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-04T23:59:59.603Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T00:00:31.898Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":2.061869388522833,"middle":2.0674300000000003,"upper":2.0729906114771675},"ema":{"ema21":2.0671787189979725,"ema50":2.066229795624429,"ema9":2.0666628067228237},"macd":{"histogram":-0.00003951388354797022,"macd":-0.0003951388354797025,"signal":-0.0003556249519317323},"rsi":39.06250000000061,"volume":{"avg":90528.2,"current":112068,"ratio":1.2379346988010367}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La RSI está por debajo del 30 y el MACD es bullish, lo que sugiere una posible tendencia ascendente. Además, el Kalman predice un aumento en el precio con alta confianza. Considerando el leverage alto (10-50x) y la volatilidad alta, es recomendable realizar una compra aggressiva.","symbol":"ASTERUSDT","timestamp":1759622431900}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759622431900","module":"BybitClient","timestamp":"2025-10-05T00:00:31.901Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:00:31.901Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759622400099%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0636\",\"liqPrice\":\"1.9504\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.092\",\"positionValue\":\"21927.8136\",\"isReduceOnly\":false,\"positionIMByMp\":\"1473.11073693\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9487\",\"unrealisedPnl\":\"-39.3162\",\"markPrice\":\"2.0599\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"240.34675369\",\"positionMM\":\"269.32415832\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1473.11073693\",\"positionMMByMp\":\"268.76193665\",\"seq\":140697266530160,\"updatedTime\":\"1759622400099\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1473.11073693\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"6.770533\",\"size\":\"10626\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.056\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759622433665}","module":"BybitClient","timestamp":"2025-10-05T00:00:33.303Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 10626 ASTERUSDT | PnL: -0.18%","module":"TradingStrategy","timestamp":"2025-10-05T00:00:33.303Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T00:00:33.303Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición ASTERUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T00:00:33.710Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T00:00:33.711Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:00:58.167Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:00:59.048Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:00:59.049Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:00:59.048Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La tendencia actual es favorable y no hay señales de reversión. Mantener la posición para a...","module":"OllamaClient","timestamp":"2025-10-05T00:01:04.464Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La tendencia actual es favorable y no hay señales de reversión. Mantener la posición para aprovechar...","module":"TradingStrategy","timestamp":"2025-10-05T00:01:04.465Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759622464466","module":"BybitClient","timestamp":"2025-10-05T00:01:04.467Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T00:01:04.465Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T00:01:04.466Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:01:04.467Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759622400099%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0636\",\"liqPrice\":\"1.9504\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.092\",\"positionValue\":\"21927.8136\",\"isReduceOnly\":false,\"positionIMByMp\":\"1473.11073693\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9487\",\"unrealisedPnl\":\"-38.2536\",\"markPrice\":\"2.06\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"240.34675369\",\"positionMM\":\"269.32415832\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1473.11073693\",\"positionMMByMp\":\"268.77713183\",\"seq\":140697266530160,\"updatedTime\":\"1759622400099\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1473.11073693\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"6.770533\",\"size\":\"10626\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.056\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759622465709}","module":"BybitClient","timestamp":"2025-10-05T00:01:05.420Z"}
{"level":"info","message":"Ya existe una posición abierta, no se abrirá nueva posición","module":"TradingStrategy","timestamp":"2025-10-05T00:01:05.421Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T00:01:05.421Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T00:01:05.421Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:01:58.172Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:01:59.590Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:01:59.590Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:01:59.590Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T00:02:05.422Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1280","module":"KalmanFilter","timestamp":"2025-10-05T00:02:05.422Z"}
{"level":"debug","message":"Predicción Kalman: 2.06277825548682 (Confianza: 0.860)","module":"KalmanFilter","timestamp":"2025-10-05T00:02:05.423Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T00:02:06.270Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T00:02:31.720Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759622551722","module":"BybitClient","timestamp":"2025-10-05T00:02:31.722Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":2.0580840255584363,"middle":2.0647550000000003,"upper":2.0714259744415644},"ema":{"ema21":2.064408721361888,"ema50":2.065396721119342,"ema9":2.0627850529327008},"macd":{"histogram":-0.00014798781718536867,"macd":-0.001479878171853688,"signal":-0.0013318903546683193},"rsi":45.03464203233289,"volume":{"avg":80577.44,"current":54997,"ratio":0.6825359554733931}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está debajo de 30 y MACD es bullish, indicando una posible recuperación del mercado.","symbol":"ASTERUSDT","timestamp":1759622551721}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:02:31.722Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759622539092%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"2.056\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"140.1391639\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266534573,\"updatedTime\":\"1759622539092\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759622552954}","module":"BybitClient","timestamp":"2025-10-05T00:02:32.584Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T00:02:32.584Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759622552584","module":"BybitClient","timestamp":"2025-10-05T00:02:32.584Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:02:32.584Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759622539092%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"2.0559\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"140.1391639\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266534573,\"updatedTime\":\"1759622539092\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759622553344}","module":"BybitClient","timestamp":"2025-10-05T00:02:32.985Z"}
{"level":"info","message":"AI sugiere BUY con confianza 0.8","module":"TradingStrategy","timestamp":"2025-10-05T00:02:32.986Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T00:02:32.986Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759622552986","module":"BybitClient","timestamp":"2025-10-05T00:02:32.986Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T00:02:32.986Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"214569.89673527\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"214569.89673527\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49990.07375165\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121084.70324396\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4491.605523\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38983.51567312\",\"totalPositionMM\":\"0\",\"usdValue\":\"39003.51421666\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"38983.51567312\",\"cumRealisedPnl\":\"-11924.08721688\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759622553747}","module":"BybitClient","timestamp":"2025-10-05T00:02:33.390Z"}
{"level":"info","message":"Balance disponible: $38983.52, Precio: $2.0572","module":"TradingStrategy","timestamp":"2025-10-05T00:02:33.391Z"}
{"level":"info","message":"Balance obtenido - Total: $214569.90, Disponible: $38983.52","module":"BybitClient","timestamp":"2025-10-05T00:02:33.390Z"}
{"level":"debug","message":"Símbolo info - Min: 1, Step: 1","module":"TradingStrategy","timestamp":"2025-10-05T00:02:33.778Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759622553779","module":"BybitClient","timestamp":"2025-10-05T00:02:33.779Z"}
{"level":"info","message":"Riesgo: 5%, Capital a arriesgar: $1949.18","module":"TradingStrategy","timestamp":"2025-10-05T00:02:33.778Z"}
{"level":"info","message":"Position value: $29237.64, Quantity raw: 14212.345302","module":"TradingStrategy","timestamp":"2025-10-05T00:02:33.779Z"}
{"level":"info","message":"Cantidad final calculada: 14212 ASTER (valor: $29236.93)","module":"TradingStrategy","timestamp":"2025-10-05T00:02:33.779Z"}
{"level":"info","message":"Parámetros calculados - Leverage: 15x, Quantity: 14212","module":"TradingStrategy","timestamp":"2025-10-05T00:02:33.779Z"}
{"level":"info","message":"Generando señal de trading: BUY 14212 ASTERUSDT @ 2.0572 (SL: 2.0448568, TP: 2.08065208)","module":"TradingStrategy","timestamp":"2025-10-05T00:02:33.779Z"}
{"level":"info","message":"EJECUTANDO TRADE: BUY 14212 ASTERUSDT","module":"TradingStrategy","timestamp":"2025-10-05T00:02:33.779Z"}
{"level":"info","message":"=== INICIO EJECUCIÓN DE TRADE ===","module":"TradingStrategy","timestamp":"2025-10-05T00:02:33.779Z"}
{"level":"info","message":"Señal: {\"symbol\":\"ASTERUSDT\",\"action\":\"BUY\",\"leverage\":15,\"quantity\":14212,\"stopLoss\":2.0448568,\"takeProfit\":2.08065208,\"timestamp\":1759622553779,\"aiAnalysis\":{\"decision\":\"BUY\",\"confidence\":0.8,\"reasoning\":\"RSI está debajo de 30 y MACD es bullish, indicando una posible recuperación del mercado.\",\"indicators\":{},\"kalman\":{},\"marketSentiment\":\"bullish\",\"riskLevel\":\"low\",\"suggestedLeverage\":10}}","module":"TradingStrategy","timestamp":"2025-10-05T00:02:33.779Z"}
{"level":"info","message":"Validando con Risk Manager...","module":"TradingStrategy","timestamp":"2025-10-05T00:02:33.779Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T00:02:33.780Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"214569.89673527\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"214569.89673527\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49990.07375165\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121084.70324396\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4491.605523\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38983.51567312\",\"totalPositionMM\":\"0\",\"usdValue\":\"39003.51421666\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"38983.51567312\",\"cumRealisedPnl\":\"-11924.08721688\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759622554542}","module":"BybitClient","timestamp":"2025-10-05T00:02:34.172Z"}
{"level":"info","message":"Balance obtenido - Total: $214569.90, Disponible: $38983.52","module":"BybitClient","timestamp":"2025-10-05T00:02:34.173Z"}
{"level":"info","message":"Validando posición: Cantidad=14212, Precio=2.06, Valor=$29224.14","module":"RiskManager","timestamp":"2025-10-05T00:02:34.611Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759622554611","module":"BybitClient","timestamp":"2025-10-05T00:02:34.611Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:02:34.611Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759622539092%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"2.056\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"140.1391639\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266534573,\"updatedTime\":\"1759622539092\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759622555372}","module":"BybitClient","timestamp":"2025-10-05T00:02:35.001Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T00:02:35.002Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 5m, límite: 20","module":"BybitClient","timestamp":"2025-10-05T00:02:35.388Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:02:35.776Z"}
{"level":"info","message":"Velas obtenidas: 20 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:02:35.777Z"}
{"level":"info","message":"Trade aprobado - Risk Score: 0.30","module":"RiskManager","timestamp":"2025-10-05T00:02:36.167Z"}
{"level":"info","message":"Resultado validación: {\"approved\":true,\"reason\":\"Trade aprobado por gestión de riesgo\",\"riskScore\":0.3012141713997023}","module":"TradingStrategy","timestamp":"2025-10-05T00:02:36.187Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759622556187","module":"BybitClient","timestamp":"2025-10-05T00:02:36.188Z"}
{"level":"info","message":"Trade aprobado por Risk Manager, ejecutando...","module":"TradingStrategy","timestamp":"2025-10-05T00:02:36.187Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"buyLeverage\":\"15\",\"sellLeverage\":\"15\"}","module":"BybitClient","timestamp":"2025-10-05T00:02:36.188Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":110043,\"retMsg\":\"leverage not modified\",\"result\":{},\"retExtInfo\":{},\"time\":1759622556949}","module":"BybitClient","timestamp":"2025-10-05T00:02:36.578Z"}
{"level":"warn","message":"Bybit warning (ignorado): leverage not modified (Code: 110043)","module":"BybitClient","timestamp":"2025-10-05T00:02:36.578Z"}
{"level":"info","message":"Leverage establecido a 15x para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:02:36.578Z"}
{"level":"info","message":"Ejecutando orden: Buy 14212 ASTERUSDT | SL: 2.0448568 | TP: 2.08065208","module":"BybitClient","timestamp":"2025-10-05T00:02:36.578Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759622556578","module":"BybitClient","timestamp":"2025-10-05T00:02:36.578Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"side\":\"Buy\",\"orderType\":\"Market\",\"qty\":\"14212\",\"timeInForce\":\"IOC\",\"stopLoss\":\"2.0448568\",\"slTriggerBy\":\"LastPrice\",\"takeProfit\":\"2.08065208\",\"tpTriggerBy\":\"LastPrice\"}","module":"BybitClient","timestamp":"2025-10-05T00:02:36.579Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"orderId\":\"68fe4013-bdea-44c0-8a8a-f587392d0626\",\"orderLinkId\":\"\"},\"retExtInfo\":{},\"time\":1759622557338}","module":"BybitClient","timestamp":"2025-10-05T00:02:36.967Z"}
{"level":"info","message":"TRADE_OPEN","module":"TradingStrategy","pnl":0,"price":0,"quantity":14212,"side":"BUY","symbol":"ASTERUSDT","timestamp":1759622556968}
{"level":"debug","message":"Trades ejecutados hoy: 2/20","module":"RiskManager","timestamp":"2025-10-05T00:02:36.968Z"}
{"level":"info","message":"Orden ejecutada exitosamente: 68fe4013-bdea-44c0-8a8a-f587392d0626","module":"BybitClient","timestamp":"2025-10-05T00:02:36.968Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:02:58.173Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:02:59.068Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:02:59.069Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:02:59.068Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T00:03:36.970Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.2000","module":"KalmanFilter","timestamp":"2025-10-05T00:03:36.971Z"}
{"level":"debug","message":"Predicción Kalman: 2.0603659102042284 (Confianza: 0.841)","module":"KalmanFilter","timestamp":"2025-10-05T00:03:36.971Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T00:03:38.676Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:03:58.173Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:03:59.500Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:03:59.501Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:03:59.501Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T00:04:20.101Z"}
{"confidence":0.3,"decision":"BUY","indicators":{"bollinger":{"lower":2.0520989603535384,"middle":2.0626800000000003,"upper":2.073261039646462},"ema":{"ema21":2.061665096993963,"ema50":2.063996438738642,"ema9":2.058312318145166},"macd":{"histogram":-0.0002898314570499495,"macd":-0.002898314570499494,"signal":-0.0026084831134495444},"rsi":21.658986175115032,"volume":{"avg":86464.31,"current":403458,"ratio":4.666179606360127}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"{\n  \"decision\": \"BUY\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"RSI is oversold and MACD is bearish, indicating a potential bottom. Additionally, the Bollinger Bands are contracting, which suggests high v","symbol":"ASTERUSDT","timestamp":1759622660105}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759622660105","module":"BybitClient","timestamp":"2025-10-05T00:04:20.106Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-05T00:04:20.104Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-05T00:04:20.104Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:04:20.106Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759622573482%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"2.031\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-25.51889262\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266535506,\"updatedTime\":\"1759622573482\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759622661584}","module":"BybitClient","timestamp":"2025-10-05T00:04:21.213Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T00:04:21.214Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759622661214","module":"BybitClient","timestamp":"2025-10-05T00:04:21.214Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:04:21.214Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759622573482%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"2.031\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-25.51889262\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266535506,\"updatedTime\":\"1759622573482\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759622661977}","module":"BybitClient","timestamp":"2025-10-05T00:04:21.606Z"}
{"level":"info","message":"AI sugiere BUY con confianza 0.3","module":"TradingStrategy","timestamp":"2025-10-05T00:04:21.606Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T00:04:21.606Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759622661606","module":"BybitClient","timestamp":"2025-10-05T00:04:21.606Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T00:04:21.606Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"214404.04565381\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"214404.04565381\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49990.02375162\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121084.56857776\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4491.371604\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38817.8576166\",\"totalPositionMM\":\"0\",\"usdValue\":\"38838.08172041\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"38817.8576166\",\"cumRealisedPnl\":\"-12089.7452734\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759622662370}","module":"BybitClient","timestamp":"2025-10-05T00:04:22.001Z"}
{"level":"info","message":"Balance disponible: $38817.86, Precio: $2.0422","module":"TradingStrategy","timestamp":"2025-10-05T00:04:22.001Z"}
{"level":"info","message":"Balance obtenido - Total: $214404.05, Disponible: $38817.86","module":"BybitClient","timestamp":"2025-10-05T00:04:22.001Z"}
{"level":"debug","message":"Símbolo info - Min: 1, Step: 1","module":"TradingStrategy","timestamp":"2025-10-05T00:04:22.389Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759622662390","module":"BybitClient","timestamp":"2025-10-05T00:04:22.390Z"}
{"level":"info","message":"Riesgo: 5%, Capital a arriesgar: $1940.89","module":"TradingStrategy","timestamp":"2025-10-05T00:04:22.389Z"}
{"level":"info","message":"Position value: $29113.39, Quantity raw: 14255.897176","module":"TradingStrategy","timestamp":"2025-10-05T00:04:22.389Z"}
{"level":"info","message":"Cantidad final calculada: 14255 ASTER (valor: $29111.56)","module":"TradingStrategy","timestamp":"2025-10-05T00:04:22.389Z"}
{"level":"info","message":"Parámetros calculados - Leverage: 15x, Quantity: 14255","module":"TradingStrategy","timestamp":"2025-10-05T00:04:22.389Z"}
{"level":"info","message":"Generando señal de trading: BUY 14255 ASTERUSDT @ 2.0422 (SL: 2.0299468, TP: 2.0624177799999996)","module":"TradingStrategy","timestamp":"2025-10-05T00:04:22.389Z"}
{"level":"info","message":"EJECUTANDO TRADE: BUY 14255 ASTERUSDT","module":"TradingStrategy","timestamp":"2025-10-05T00:04:22.390Z"}
{"level":"info","message":"=== INICIO EJECUCIÓN DE TRADE ===","module":"TradingStrategy","timestamp":"2025-10-05T00:04:22.390Z"}
{"level":"info","message":"Señal: {\"symbol\":\"ASTERUSDT\",\"action\":\"BUY\",\"leverage\":15,\"quantity\":14255,\"stopLoss\":2.0299468,\"takeProfit\":2.0624177799999996,\"timestamp\":1759622662390,\"aiAnalysis\":{\"decision\":\"BUY\",\"confidence\":0.3,\"reasoning\":\"{\\n  \\\"decision\\\": \\\"BUY\\\",\\n  \\\"confidence\\\": 0.8,\\n  \\\"reasoning\\\": \\\"RSI is oversold and MACD is bearish, indicating a potential bottom. Additionally, the Bollinger Bands are contracting, which suggests high v\",\"indicators\":{},\"kalman\":{},\"marketSentiment\":\"neutral\",\"riskLevel\":\"medium\",\"suggestedLeverage\":2}}","module":"TradingStrategy","timestamp":"2025-10-05T00:04:22.390Z"}
{"level":"info","message":"Validando con Risk Manager...","module":"TradingStrategy","timestamp":"2025-10-05T00:04:22.390Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T00:04:22.390Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"214404.04565381\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"214404.04565381\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49990.02375162\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121084.56857776\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4491.371604\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38817.8576166\",\"totalPositionMM\":\"0\",\"usdValue\":\"38838.08172041\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"38817.8576166\",\"cumRealisedPnl\":\"-12089.7452734\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759622663153}","module":"BybitClient","timestamp":"2025-10-05T00:04:22.783Z"}
{"level":"info","message":"Balance obtenido - Total: $214404.05, Disponible: $38817.86","module":"BybitClient","timestamp":"2025-10-05T00:04:22.784Z"}
{"level":"info","message":"Validando posición: Cantidad=14255, Precio=2.03, Valor=$28959.03","module":"RiskManager","timestamp":"2025-10-05T00:04:23.171Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759622663171","module":"BybitClient","timestamp":"2025-10-05T00:04:23.171Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:04:23.172Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759622573482%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"2.0309\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-25.51889262\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266535506,\"updatedTime\":\"1759622573482\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759622663935}","module":"BybitClient","timestamp":"2025-10-05T00:04:23.564Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T00:04:23.564Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 5m, límite: 20","module":"BybitClient","timestamp":"2025-10-05T00:04:23.958Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:04:24.380Z"}
{"level":"info","message":"Velas obtenidas: 20 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:04:24.381Z"}
{"level":"info","message":"Trade aprobado - Risk Score: 0.30","module":"RiskManager","timestamp":"2025-10-05T00:04:24.783Z"}
{"level":"info","message":"Resultado validación: {\"approved\":true,\"reason\":\"Trade aprobado por gestión de riesgo\",\"riskScore\":0.3049939749194785}","module":"TradingStrategy","timestamp":"2025-10-05T00:04:24.783Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759622664783","module":"BybitClient","timestamp":"2025-10-05T00:04:24.783Z"}
{"level":"info","message":"Trade aprobado por Risk Manager, ejecutando...","module":"TradingStrategy","timestamp":"2025-10-05T00:04:24.783Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"buyLeverage\":\"15\",\"sellLeverage\":\"15\"}","module":"BybitClient","timestamp":"2025-10-05T00:04:24.783Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":110043,\"retMsg\":\"leverage not modified\",\"result\":{},\"retExtInfo\":{},\"time\":1759622665544}","module":"BybitClient","timestamp":"2025-10-05T00:04:25.173Z"}
{"level":"warn","message":"Bybit warning (ignorado): leverage not modified (Code: 110043)","module":"BybitClient","timestamp":"2025-10-05T00:04:25.173Z"}
{"level":"info","message":"Leverage establecido a 15x para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:04:25.173Z"}
{"level":"info","message":"Ejecutando orden: Buy 14255 ASTERUSDT | SL: 2.0299468 | TP: 2.0624177799999996","module":"BybitClient","timestamp":"2025-10-05T00:04:25.173Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759622665173","module":"BybitClient","timestamp":"2025-10-05T00:04:25.173Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"side\":\"Buy\",\"orderType\":\"Market\",\"qty\":\"14255\",\"timeInForce\":\"IOC\",\"stopLoss\":\"2.0299468\",\"slTriggerBy\":\"LastPrice\",\"takeProfit\":\"2.0624177799999996\",\"tpTriggerBy\":\"LastPrice\"}","module":"BybitClient","timestamp":"2025-10-05T00:04:25.173Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"orderId\":\"68d33220-7ad8-4c2a-8bd4-136dc63e1cc3\",\"orderLinkId\":\"\"},\"retExtInfo\":{},\"time\":1759622665936}","module":"BybitClient","timestamp":"2025-10-05T00:04:25.565Z"}
{"level":"info","message":"TRADE_OPEN","module":"TradingStrategy","pnl":0,"price":0,"quantity":14255,"side":"BUY","symbol":"ASTERUSDT","timestamp":1759622665565}
{"level":"debug","message":"Trades ejecutados hoy: 3/20","module":"RiskManager","timestamp":"2025-10-05T00:04:25.565Z"}
{"level":"info","message":"Orden ejecutada exitosamente: 68d33220-7ad8-4c2a-8bd4-136dc63e1cc3","module":"BybitClient","timestamp":"2025-10-05T00:04:25.565Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:04:58.172Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:04:59.336Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:04:59.336Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:04:59.336Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T00:05:25.569Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.2000","module":"KalmanFilter","timestamp":"2025-10-05T00:05:25.570Z"}
{"level":"debug","message":"Predicción Kalman: 2.050396697960747 (Confianza: 0.875)","module":"KalmanFilter","timestamp":"2025-10-05T00:05:25.570Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T00:05:26.447Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T00:05:53.188Z"}
{"confidence":0.3,"decision":"BUY","indicators":{"bollinger":{"lower":2.0352048967353613,"middle":2.05542,"upper":2.0756351032646383},"ema":{"ema21":2.0534777255675043,"ema50":2.0594245553841732,"ema9":2.0468566487681716},"macd":{"histogram":-0.0005963828264214039,"macd":-0.005963828264214044,"signal":-0.00536744543779264},"rsi":35.157699443413605,"volume":{"avg":98123.3,"current":453208,"ratio":4.618760274063347}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"{\n  \"decision\": \"BUY\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"RSI está por debajo de 30 y MACD es bullish, indicando una posible inflexión en la tendencia actual.\",\n  \"suggestedLeverage\": 20-30,\n  \"risk","symbol":"ASTERUSDT","timestamp":1759622753195}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759622753196","module":"BybitClient","timestamp":"2025-10-05T00:05:53.197Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-05T00:05:53.194Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-05T00:05:53.194Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:05:53.197Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759622695384%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"2.0319\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-80.16771592\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266538855,\"updatedTime\":\"1759622695384\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759622754701}","module":"BybitClient","timestamp":"2025-10-05T00:05:54.328Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T00:05:54.328Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759622754328","module":"BybitClient","timestamp":"2025-10-05T00:05:54.328Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:05:54.328Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759622695384%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"2.0319\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-80.16771592\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266538855,\"updatedTime\":\"1759622695384\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759622755097}","module":"BybitClient","timestamp":"2025-10-05T00:05:54.724Z"}
{"level":"info","message":"AI sugiere BUY con confianza 0.3","module":"TradingStrategy","timestamp":"2025-10-05T00:05:54.724Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T00:05:54.724Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759622754726","module":"BybitClient","timestamp":"2025-10-05T00:05:54.726Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T00:05:54.726Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"214320.8684322\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"214320.8684322\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49994.22375362\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121051.1808249\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4491.206638\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38763.2087933\",\"totalPositionMM\":\"0\",\"usdValue\":\"38784.25721567\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"38763.2087933\",\"cumRealisedPnl\":\"-12144.3940967\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759622755496}","module":"BybitClient","timestamp":"2025-10-05T00:05:55.134Z"}
{"level":"info","message":"Balance disponible: $38763.21, Precio: $2.0322","module":"TradingStrategy","timestamp":"2025-10-05T00:05:55.135Z"}
{"level":"info","message":"Balance obtenido - Total: $214320.87, Disponible: $38763.21","module":"BybitClient","timestamp":"2025-10-05T00:05:55.134Z"}
{"level":"debug","message":"Símbolo info - Min: 1, Step: 1","module":"TradingStrategy","timestamp":"2025-10-05T00:05:55.527Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759622755528","module":"BybitClient","timestamp":"2025-10-05T00:05:55.528Z"}
{"level":"info","message":"Riesgo: 4%, Capital a arriesgar: $1550.53","module":"TradingStrategy","timestamp":"2025-10-05T00:05:55.527Z"}
{"level":"info","message":"Position value: $18606.34, Quantity raw: 9155.762337","module":"TradingStrategy","timestamp":"2025-10-05T00:05:55.527Z"}
{"level":"info","message":"Cantidad final calculada: 9155 ASTER (valor: $18604.79)","module":"TradingStrategy","timestamp":"2025-10-05T00:05:55.527Z"}
{"level":"info","message":"Parámetros calculados - Leverage: 12x, Quantity: 9155","module":"TradingStrategy","timestamp":"2025-10-05T00:05:55.527Z"}
{"level":"info","message":"Generando señal de trading: BUY 9155 ASTERUSDT @ 2.0322 (SL: 2.0200068, TP: 2.0523187800000002)","module":"TradingStrategy","timestamp":"2025-10-05T00:05:55.527Z"}
{"level":"info","message":"EJECUTANDO TRADE: BUY 9155 ASTERUSDT","module":"TradingStrategy","timestamp":"2025-10-05T00:05:55.527Z"}
{"level":"info","message":"=== INICIO EJECUCIÓN DE TRADE ===","module":"TradingStrategy","timestamp":"2025-10-05T00:05:55.528Z"}
{"level":"info","message":"Señal: {\"symbol\":\"ASTERUSDT\",\"action\":\"BUY\",\"leverage\":12,\"quantity\":9155,\"stopLoss\":2.0200068,\"takeProfit\":2.0523187800000002,\"timestamp\":1759622755527,\"aiAnalysis\":{\"decision\":\"BUY\",\"confidence\":0.3,\"reasoning\":\"{\\n  \\\"decision\\\": \\\"BUY\\\",\\n  \\\"confidence\\\": 0.8,\\n  \\\"reasoning\\\": \\\"RSI está por debajo de 30 y MACD es bullish, indicando una posible inflexión en la tendencia actual.\\\",\\n  \\\"suggestedLeverage\\\": 20-30,\\n  \\\"risk\",\"indicators\":{},\"kalman\":{},\"marketSentiment\":\"neutral\",\"riskLevel\":\"medium\",\"suggestedLeverage\":2}}","module":"TradingStrategy","timestamp":"2025-10-05T00:05:55.528Z"}
{"level":"info","message":"Validando con Risk Manager...","module":"TradingStrategy","timestamp":"2025-10-05T00:05:55.528Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T00:05:55.528Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"214320.8684322\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"214320.8684322\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49994.22375362\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121051.1808249\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4491.206638\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38763.2087933\",\"totalPositionMM\":\"0\",\"usdValue\":\"38784.25721567\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"38763.2087933\",\"cumRealisedPnl\":\"-12144.3940967\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759622756297}","module":"BybitClient","timestamp":"2025-10-05T00:05:55.924Z"}
{"level":"info","message":"Balance obtenido - Total: $214320.87, Disponible: $38763.21","module":"BybitClient","timestamp":"2025-10-05T00:05:55.925Z"}
{"level":"info","message":"Validando posición: Cantidad=9155, Precio=2.03, Valor=$18591.06","module":"RiskManager","timestamp":"2025-10-05T00:05:56.321Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759622756321","module":"BybitClient","timestamp":"2025-10-05T00:05:56.322Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:05:56.322Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759622695384%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"2.0305\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-80.16771592\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266538855,\"updatedTime\":\"1759622695384\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759622757091}","module":"BybitClient","timestamp":"2025-10-05T00:05:56.718Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T00:05:56.718Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 5m, límite: 20","module":"BybitClient","timestamp":"2025-10-05T00:05:57.111Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:05:57.506Z"}
{"level":"info","message":"Velas obtenidas: 20 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:05:57.507Z"}
{"level":"info","message":"Trade aprobado - Risk Score: 0.26","module":"RiskManager","timestamp":"2025-10-05T00:05:57.898Z"}
{"level":"info","message":"Resultado validación: {\"approved\":true,\"reason\":\"Trade aprobado por gestión de riesgo\",\"riskScore\":0.2608003332603218}","module":"TradingStrategy","timestamp":"2025-10-05T00:05:57.899Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759622757908","module":"BybitClient","timestamp":"2025-10-05T00:05:57.908Z"}
{"level":"info","message":"Trade aprobado por Risk Manager, ejecutando...","module":"TradingStrategy","timestamp":"2025-10-05T00:05:57.908Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"buyLeverage\":\"12\",\"sellLeverage\":\"12\"}","module":"BybitClient","timestamp":"2025-10-05T00:05:57.908Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:05:58.173Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{},\"retExtInfo\":{},\"time\":1759622758676}","module":"BybitClient","timestamp":"2025-10-05T00:05:58.304Z"}
{"level":"info","message":"Leverage establecido a 12x para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:05:58.304Z"}
{"level":"info","message":"Ejecutando orden: Buy 9155 ASTERUSDT | SL: 2.0200068 | TP: 2.0523187800000002","module":"BybitClient","timestamp":"2025-10-05T00:05:58.304Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759622758304","module":"BybitClient","timestamp":"2025-10-05T00:05:58.304Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"side\":\"Buy\",\"orderType\":\"Market\",\"qty\":\"9155\",\"timeInForce\":\"IOC\",\"stopLoss\":\"2.0200068\",\"slTriggerBy\":\"LastPrice\",\"takeProfit\":\"2.0523187800000002\",\"tpTriggerBy\":\"LastPrice\"}","module":"BybitClient","timestamp":"2025-10-05T00:05:58.304Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"orderId\":\"4887d12d-41c9-4140-ae91-598be11ae27e\",\"orderLinkId\":\"\"},\"retExtInfo\":{},\"time\":1759622759072}","module":"BybitClient","timestamp":"2025-10-05T00:05:58.699Z"}
{"level":"info","message":"TRADE_OPEN","module":"TradingStrategy","pnl":0,"price":0,"quantity":9155,"side":"BUY","symbol":"ASTERUSDT","timestamp":1759622758700}
{"level":"debug","message":"Trades ejecutados hoy: 4/20","module":"RiskManager","timestamp":"2025-10-05T00:05:58.700Z"}
{"level":"info","message":"Orden ejecutada exitosamente: 4887d12d-41c9-4140-ae91-598be11ae27e","module":"BybitClient","timestamp":"2025-10-05T00:05:58.700Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:05:59.340Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:05:59.340Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:05:59.340Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:06:58.173Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T00:06:58.701Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.2000","module":"KalmanFilter","timestamp":"2025-10-05T00:06:58.702Z"}
{"level":"debug","message":"Predicción Kalman: 2.044873867514962 (Confianza: 0.851)","module":"KalmanFilter","timestamp":"2025-10-05T00:06:58.702Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:06:59.908Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:06:59.909Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:06:59.909Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T00:06:59.912Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T00:07:47.925Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":2.0266520201812983,"middle":2.05004,"upper":2.073427979818702},"ema":{"ema21":2.0483422914210156,"ema50":2.0560471545489496,"ema9":2.0410714266682697},"macd":{"histogram":-0.0006955049267679311,"macd":-0.006955049267679314,"signal":-0.006259544340911383},"rsi":38.73605947955387,"volume":{"avg":106737.11,"current":258093,"ratio":2.4180249961798665}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La RSI está por debajo de 30 y el MACD es bullish, lo que sugiere una posible tendencia ascendente. Además, el Kalman predice un aumento en el precio con alta confianza. Considerando el alto volumen y el leverage alto, es apropiado tomar una posición de compra con una confianza del 85%","symbol":"ASTERUSDT","timestamp":1759622868559}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759622868560","module":"BybitClient","timestamp":"2025-10-05T00:07:48.560Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:07:48.561Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759622790482%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"12\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"2.0181\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-204.0195313\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266541486,\"updatedTime\":\"1759622790482\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759622870041}","module":"BybitClient","timestamp":"2025-10-05T00:07:49.667Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T00:07:49.714Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759622869714","module":"BybitClient","timestamp":"2025-10-05T00:07:49.714Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:07:49.714Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759622790482%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"12\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"2.0181\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-204.0195313\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266541486,\"updatedTime\":\"1759622790482\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759622870486}","module":"BybitClient","timestamp":"2025-10-05T00:07:50.106Z"}
{"level":"info","message":"AI sugiere BUY con confianza 0.8","module":"TradingStrategy","timestamp":"2025-10-05T00:07:50.106Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T00:07:50.106Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759622870106","module":"BybitClient","timestamp":"2025-10-05T00:07:50.106Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T00:07:50.107Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"214180.70463021\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"214180.70463021\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49996.97375493\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121032.20995646\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4488.903048\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38639.35697792\",\"totalPositionMM\":\"0\",\"usdValue\":\"38662.61787082\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"38639.35697792\",\"cumRealisedPnl\":\"-12268.24591208\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759622870879}","module":"BybitClient","timestamp":"2025-10-05T00:07:50.501Z"}
{"level":"info","message":"Balance disponible: $38639.36, Precio: $2.0209","module":"TradingStrategy","timestamp":"2025-10-05T00:07:50.501Z"}
{"level":"info","message":"Balance obtenido - Total: $214180.70, Disponible: $38639.36","module":"BybitClient","timestamp":"2025-10-05T00:07:50.501Z"}
{"level":"debug","message":"Símbolo info - Min: 1, Step: 1","module":"TradingStrategy","timestamp":"2025-10-05T00:07:50.891Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759622870893","module":"BybitClient","timestamp":"2025-10-05T00:07:50.893Z"}
{"level":"info","message":"Riesgo: 5.666666666666667%, Capital a arriesgar: $2189.56","module":"TradingStrategy","timestamp":"2025-10-05T00:07:50.892Z"}
{"level":"info","message":"Position value: $37222.58, Quantity raw: 18418.813675","module":"TradingStrategy","timestamp":"2025-10-05T00:07:50.892Z"}
{"level":"info","message":"Cantidad final calculada: 18418 ASTER (valor: $37220.94)","module":"TradingStrategy","timestamp":"2025-10-05T00:07:50.892Z"}
{"level":"info","message":"Parámetros calculados - Leverage: 17x, Quantity: 18418","module":"TradingStrategy","timestamp":"2025-10-05T00:07:50.892Z"}
{"level":"info","message":"Generando señal de trading: BUY 18418 ASTERUSDT @ 2.0209 (SL: 2.0087746, TP: 2.04393826)","module":"TradingStrategy","timestamp":"2025-10-05T00:07:50.892Z"}
{"level":"info","message":"EJECUTANDO TRADE: BUY 18418 ASTERUSDT","module":"TradingStrategy","timestamp":"2025-10-05T00:07:50.892Z"}
{"level":"info","message":"=== INICIO EJECUCIÓN DE TRADE ===","module":"TradingStrategy","timestamp":"2025-10-05T00:07:50.892Z"}
{"level":"info","message":"Señal: {\"symbol\":\"ASTERUSDT\",\"action\":\"BUY\",\"leverage\":17,\"quantity\":18418,\"stopLoss\":2.0087746,\"takeProfit\":2.04393826,\"timestamp\":1759622870892,\"aiAnalysis\":{\"decision\":\"BUY\",\"confidence\":0.8,\"reasoning\":\"La RSI está por debajo de 30 y el MACD es bullish, lo que sugiere una posible tendencia ascendente. Además, el Kalman predice un aumento en el precio con alta confianza. Considerando el alto volumen y el leverage alto, es apropiado tomar una posición de compra con una confianza del 85%\",\"indicators\":{},\"kalman\":{},\"marketSentiment\":\"bullish\",\"riskLevel\":\"medium\",\"suggestedLeverage\":10}}","module":"TradingStrategy","timestamp":"2025-10-05T00:07:50.892Z"}
{"level":"info","message":"Validando con Risk Manager...","module":"TradingStrategy","timestamp":"2025-10-05T00:07:50.892Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T00:07:50.893Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"214180.70463021\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"214180.70463021\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49996.97375493\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121032.20995646\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4488.903048\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38639.35697792\",\"totalPositionMM\":\"0\",\"usdValue\":\"38662.61787082\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"38639.35697792\",\"cumRealisedPnl\":\"-12268.24591208\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759622871666}","module":"BybitClient","timestamp":"2025-10-05T00:07:51.287Z"}
{"level":"info","message":"Balance obtenido - Total: $214180.70, Disponible: $38639.36","module":"BybitClient","timestamp":"2025-10-05T00:07:51.372Z"}
{"level":"info","message":"Validando posición: Cantidad=18418, Precio=2.02, Valor=$37173.05","module":"RiskManager","timestamp":"2025-10-05T00:07:51.765Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759622871765","module":"BybitClient","timestamp":"2025-10-05T00:07:51.765Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:07:51.765Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759622790482%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"12\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"2.0179\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-204.0195313\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266541486,\"updatedTime\":\"1759622790482\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759622872537}","module":"BybitClient","timestamp":"2025-10-05T00:07:52.157Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T00:07:52.157Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 5m, límite: 20","module":"BybitClient","timestamp":"2025-10-05T00:07:52.552Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:07:52.952Z"}
{"level":"info","message":"Velas obtenidas: 20 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:07:52.952Z"}
{"level":"info","message":"Trade aprobado - Risk Score: 0.32","module":"RiskManager","timestamp":"2025-10-05T00:07:53.341Z"}
{"level":"info","message":"Resultado validación: {\"approved\":true,\"reason\":\"Trade aprobado por gestión de riesgo\",\"riskScore\":0.31780696500890987}","module":"TradingStrategy","timestamp":"2025-10-05T00:07:53.341Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759622873355","module":"BybitClient","timestamp":"2025-10-05T00:07:53.355Z"}
{"level":"info","message":"Trade aprobado por Risk Manager, ejecutando...","module":"TradingStrategy","timestamp":"2025-10-05T00:07:53.354Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"buyLeverage\":\"17\",\"sellLeverage\":\"17\"}","module":"BybitClient","timestamp":"2025-10-05T00:07:53.355Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{},\"retExtInfo\":{},\"time\":1759622874127}","module":"BybitClient","timestamp":"2025-10-05T00:07:53.755Z"}
{"level":"info","message":"Leverage establecido a 17x para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:07:53.755Z"}
{"level":"info","message":"Ejecutando orden: Buy 18418 ASTERUSDT | SL: 2.0087746 | TP: 2.04393826","module":"BybitClient","timestamp":"2025-10-05T00:07:53.767Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759622873767","module":"BybitClient","timestamp":"2025-10-05T00:07:53.767Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"side\":\"Buy\",\"orderType\":\"Market\",\"qty\":\"18418\",\"timeInForce\":\"IOC\",\"stopLoss\":\"2.0087746\",\"slTriggerBy\":\"LastPrice\",\"takeProfit\":\"2.04393826\",\"tpTriggerBy\":\"LastPrice\"}","module":"BybitClient","timestamp":"2025-10-05T00:07:53.767Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"orderId\":\"7d21240f-afc4-460e-a701-c15205d6ec9e\",\"orderLinkId\":\"\"},\"retExtInfo\":{},\"time\":1759622874539}","module":"BybitClient","timestamp":"2025-10-05T00:07:54.159Z"}
{"level":"info","message":"TRADE_OPEN","module":"TradingStrategy","pnl":0,"price":0,"quantity":18418,"side":"BUY","symbol":"ASTERUSDT","timestamp":1759622874159}
{"level":"debug","message":"Trades ejecutados hoy: 5/20","module":"RiskManager","timestamp":"2025-10-05T00:07:54.159Z"}
{"level":"info","message":"Orden ejecutada exitosamente: 7d21240f-afc4-460e-a701-c15205d6ec9e","module":"BybitClient","timestamp":"2025-10-05T00:07:54.159Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:07:58.173Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:07:58.564Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:07:58.564Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:07:58.564Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T00:08:54.162Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.2000","module":"KalmanFilter","timestamp":"2025-10-05T00:08:54.164Z"}
{"level":"debug","message":"Predicción Kalman: 2.033805554968641 (Confianza: 0.851)","module":"KalmanFilter","timestamp":"2025-10-05T00:08:54.165Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T00:08:55.553Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:08:58.174Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:08:58.580Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:08:58.580Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:08:58.580Z"}
{"level":"info","message":"Recibida señal SIGINT, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-05T00:09:39.586Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759622979592}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-05T00:09:39.594Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-05T00:09:39.598Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759623005795}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T00:10:05.777Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T00:10:05.775Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T00:10:05.767Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"ASTERUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T00:10:05.776Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T00:10:05.776Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T00:10:05.787Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"ASTERUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T00:10:05.792Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T00:10:05.792Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T00:10:05.792Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"ASTERUSDT","timestamp":1759623005796}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T00:10:05.795Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T00:10:05.795Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T00:10:05.795Z"}
{"level":"info","message":"Iniciando estrategia de trading para ASTERUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T00:10:05.795Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T00:10:05.778Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T00:10:05.778Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T00:10:05.778Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T00:10:05.778Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T00:10:05.785Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T00:10:05.785Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T00:10:05.785Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T00:10:05.785Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T00:10:05.786Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T00:10:05.786Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T00:10:05.786Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T00:10:05.840Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-05T00:10:06.491Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-05T00:10:07.669Z"}
{"level":"info","message":"Iniciando recopilación de datos para ASTERUSDT (1m)","module":"DataManager","timestamp":"2025-10-05T00:10:07.669Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 200","module":"BybitClient","timestamp":"2025-10-05T00:10:07.674Z"}
{"level":"info","message":"Recopilando datos históricos para ASTERUSDT...","module":"DataManager","timestamp":"2025-10-05T00:10:07.669Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:10:08.258Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para ASTERUSDT","module":"DataManager","timestamp":"2025-10-05T00:10:08.259Z"}
{"level":"info","message":"Datos suficientes recopilados para ASTERUSDT","module":"TradingStrategy","timestamp":"2025-10-05T00:10:08.259Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T00:10:08.260Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.2000","module":"KalmanFilter","timestamp":"2025-10-05T00:10:08.261Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-05T00:10:08.261Z"}
{"level":"info","message":"Velas obtenidas: 200 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:10:08.259Z"}
{"level":"info","message":"Recopilación de datos iniciada para ASTERUSDT","module":"DataManager","timestamp":"2025-10-05T00:10:08.259Z"}
{"level":"debug","message":"Predicción Kalman: 2.0323673635334587 (Confianza: 0.814)","module":"KalmanFilter","timestamp":"2025-10-05T00:10:08.261Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T00:10:08.675Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T00:10:57.566Z"}
{"confidence":0.3,"decision":"BUY","indicators":{"bollinger":{"lower":2.004572222955844,"middle":2.047695,"upper":2.090817777044156},"ema":{"ema21":2.04014086598516,"ema50":2.0491620207112424,"ema9":2.0261440844154657},"macd":{"histogram":-0.001213497832282506,"macd":-0.012134978322825063,"signal":-0.010921480490542557},"rsi":5.454545454545894,"volume":{"avg":129192.94,"current":38973,"ratio":0.30166509098717004}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"{\n  \"decision\": \"BUY\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La señal de RSI es un buy con un valor de 5.45, indicando que el precio actual está bajo y puede haber una oportunidad de compra. Además, la","symbol":"ASTERUSDT","timestamp":1759623057568}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759623057574","module":"BybitClient","timestamp":"2025-10-05T00:10:57.576Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-05T00:10:57.567Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-05T00:10:57.567Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:10:57.576Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759622995423%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"2.0172\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-335.10439717\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266547069,\"updatedTime\":\"1759622995423\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759623059101}","module":"BybitClient","timestamp":"2025-10-05T00:10:58.731Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T00:10:58.731Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759623058732","module":"BybitClient","timestamp":"2025-10-05T00:10:58.732Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:10:58.732Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759622995423%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"2.0172\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-335.10439717\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266547069,\"updatedTime\":\"1759622995423\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759623059840}","module":"BybitClient","timestamp":"2025-10-05T00:10:59.544Z"}
{"level":"info","message":"AI sugiere BUY con confianza 0.3","module":"TradingStrategy","timestamp":"2025-10-05T00:10:59.545Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T00:10:59.544Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759623059545","module":"BybitClient","timestamp":"2025-10-05T00:10:59.545Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T00:10:59.545Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"214018.65506915\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"214018.65506915\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49993.87375345\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121009.11419154\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4485.445297\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38508.27211205\",\"totalPositionMM\":\"0\",\"usdValue\":\"38530.22182715\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"38508.27211205\",\"cumRealisedPnl\":\"-12399.33077795\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759623060655}","module":"BybitClient","timestamp":"2025-10-05T00:11:00.286Z"}
{"level":"info","message":"Balance disponible: $38508.27, Precio: $2.0152","module":"TradingStrategy","timestamp":"2025-10-05T00:11:00.286Z"}
{"level":"info","message":"Balance obtenido - Total: $214018.66, Disponible: $38508.27","module":"BybitClient","timestamp":"2025-10-05T00:11:00.286Z"}
{"level":"debug","message":"Símbolo info - Min: 1, Step: 1","module":"TradingStrategy","timestamp":"2025-10-05T00:11:01.020Z"}
{"level":"info","message":"Contador diario de trades reseteado","module":"RiskManager","timestamp":"2025-10-05T00:11:01.022Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759623061022","module":"BybitClient","timestamp":"2025-10-05T00:11:01.022Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T00:11:01.022Z"}
{"level":"info","message":"Riesgo: 5%, Capital a arriesgar: $1925.41","module":"TradingStrategy","timestamp":"2025-10-05T00:11:01.021Z"}
{"level":"info","message":"Position value: $28881.20, Quantity raw: 14331.681264","module":"TradingStrategy","timestamp":"2025-10-05T00:11:01.021Z"}
{"level":"info","message":"Cantidad final calculada: 14331 ASTER (valor: $28879.83)","module":"TradingStrategy","timestamp":"2025-10-05T00:11:01.021Z"}
{"level":"info","message":"Parámetros calculados - Leverage: 15x, Quantity: 14331","module":"TradingStrategy","timestamp":"2025-10-05T00:11:01.021Z"}
{"level":"info","message":"Generando señal de trading: BUY 14331 ASTERUSDT @ 2.0152 (SL: 2.0031088, TP: 2.03515048)","module":"TradingStrategy","timestamp":"2025-10-05T00:11:01.021Z"}
{"level":"info","message":"EJECUTANDO TRADE: BUY 14331 ASTERUSDT","module":"TradingStrategy","timestamp":"2025-10-05T00:11:01.021Z"}
{"level":"info","message":"=== INICIO EJECUCIÓN DE TRADE ===","module":"TradingStrategy","timestamp":"2025-10-05T00:11:01.022Z"}
{"level":"info","message":"Señal: {\"symbol\":\"ASTERUSDT\",\"action\":\"BUY\",\"leverage\":15,\"quantity\":14331,\"stopLoss\":2.0031088,\"takeProfit\":2.03515048,\"timestamp\":1759623061021,\"aiAnalysis\":{\"decision\":\"BUY\",\"confidence\":0.3,\"reasoning\":\"{\\n  \\\"decision\\\": \\\"BUY\\\",\\n  \\\"confidence\\\": 0.8,\\n  \\\"reasoning\\\": \\\"La señal de RSI es un buy con un valor de 5.45, indicando que el precio actual está bajo y puede haber una oportunidad de compra. Además, la\",\"indicators\":{},\"kalman\":{},\"marketSentiment\":\"neutral\",\"riskLevel\":\"medium\",\"suggestedLeverage\":2}}","module":"TradingStrategy","timestamp":"2025-10-05T00:11:01.022Z"}
{"level":"info","message":"Validando con Risk Manager...","module":"TradingStrategy","timestamp":"2025-10-05T00:11:01.022Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"214018.65506915\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"214018.65506915\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49993.87375345\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121009.11419154\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4485.445297\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38508.27211205\",\"totalPositionMM\":\"0\",\"usdValue\":\"38530.22182715\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"38508.27211205\",\"cumRealisedPnl\":\"-12399.33077795\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759623061802}","module":"BybitClient","timestamp":"2025-10-05T00:11:01.432Z"}
{"level":"info","message":"Balance obtenido - Total: $214018.66, Disponible: $38508.27","module":"BybitClient","timestamp":"2025-10-05T00:11:01.433Z"}
{"level":"info","message":"Validando posición: Cantidad=14331, Precio=2.02, Valor=$28931.42","module":"RiskManager","timestamp":"2025-10-05T00:11:01.839Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759623061839","module":"BybitClient","timestamp":"2025-10-05T00:11:01.840Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:11:01.840Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759622995423%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"2.0177\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-335.10439717\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266547069,\"updatedTime\":\"1759622995423\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759623062947}","module":"BybitClient","timestamp":"2025-10-05T00:11:02.615Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T00:11:02.615Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 5m, límite: 20","module":"BybitClient","timestamp":"2025-10-05T00:11:03.021Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:11:03.429Z"}
{"level":"info","message":"Velas obtenidas: 20 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:11:03.429Z"}
{"level":"info","message":"Trade aprobado - Risk Score: 0.31","module":"RiskManager","timestamp":"2025-10-05T00:11:03.834Z"}
{"level":"info","message":"Resultado validación: {\"approved\":true,\"reason\":\"Trade aprobado por gestión de riesgo\",\"riskScore\":0.30637443437007617}","module":"TradingStrategy","timestamp":"2025-10-05T00:11:03.835Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759623063835","module":"BybitClient","timestamp":"2025-10-05T00:11:03.835Z"}
{"level":"info","message":"Trade aprobado por Risk Manager, ejecutando...","module":"TradingStrategy","timestamp":"2025-10-05T00:11:03.835Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"buyLeverage\":\"15\",\"sellLeverage\":\"15\"}","module":"BybitClient","timestamp":"2025-10-05T00:11:03.835Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{},\"retExtInfo\":{},\"time\":1759623064941}","module":"BybitClient","timestamp":"2025-10-05T00:11:04.570Z"}
{"level":"info","message":"Leverage establecido a 15x para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:11:04.581Z"}
{"level":"info","message":"Ejecutando orden: Buy 14331 ASTERUSDT | SL: 2.0031088 | TP: 2.03515048","module":"BybitClient","timestamp":"2025-10-05T00:11:04.582Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759623064582","module":"BybitClient","timestamp":"2025-10-05T00:11:04.582Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"side\":\"Buy\",\"orderType\":\"Market\",\"qty\":\"14331\",\"timeInForce\":\"IOC\",\"stopLoss\":\"2.0031088\",\"slTriggerBy\":\"LastPrice\",\"takeProfit\":\"2.03515048\",\"tpTriggerBy\":\"LastPrice\"}","module":"BybitClient","timestamp":"2025-10-05T00:11:04.582Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"orderId\":\"2ae62dea-8604-4c51-98e4-d202e21eb05b\",\"orderLinkId\":\"\"},\"retExtInfo\":{},\"time\":1759623065360}","module":"BybitClient","timestamp":"2025-10-05T00:11:04.989Z"}
{"level":"info","message":"TRADE_OPEN","module":"TradingStrategy","pnl":0,"price":0,"quantity":14331,"side":"BUY","symbol":"ASTERUSDT","timestamp":1759623064989}
{"level":"debug","message":"Trades ejecutados hoy: 1/20","module":"RiskManager","timestamp":"2025-10-05T00:11:04.990Z"}
{"level":"info","message":"Orden ejecutada exitosamente: 2ae62dea-8604-4c51-98e4-d202e21eb05b","module":"BybitClient","timestamp":"2025-10-05T00:11:04.989Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:11:08.260Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:11:08.666Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:11:08.667Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:11:08.667Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T00:12:05.053Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1811","module":"KalmanFilter","timestamp":"2025-10-05T00:12:05.091Z"}
{"level":"debug","message":"Predicción Kalman: 2.0271882763676974 (Confianza: 0.799)","module":"KalmanFilter","timestamp":"2025-10-05T00:12:05.094Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T00:12:06.341Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:12:08.261Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:12:08.665Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:12:08.666Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:12:08.666Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:13:08.262Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:13:09.650Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:13:09.651Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:13:09.650Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T00:13:10.227Z"}
{"confidence":0.3,"decision":"BUY","indicators":{"bollinger":{"lower":1.9933040094003522,"middle":2.034845,"upper":2.0763859905996473},"ema":{"ema21":2.0313450055621334,"ema50":2.0434554319133444,"ema9":2.020078957582702},"macd":{"histogram":-0.0011647742080479698,"macd":-0.011647742080479695,"signal":-0.010482967872431725},"rsi":18.138801261829954,"volume":{"avg":123890.55,"current":19221,"ratio":0.1551450050064351}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"{\n  \"decision\": \"BUY\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"RSI está en el rango más bajo (18.14) y MACD está en un signal bullish (-0.0105). Además, el cambio reciente fue de -0.06% y el volumen es s","symbol":"ASTERUSDT","timestamp":1759623190235}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759623190237","module":"BybitClient","timestamp":"2025-10-05T00:13:10.242Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-05T00:13:10.234Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-05T00:13:10.234Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:13:10.243Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759623065360%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0199\",\"liqPrice\":\"1.9103\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.0351\",\"positionValue\":\"28947.1869\",\"isReduceOnly\":false,\"positionIMByMp\":\"1944.67230542\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9087\",\"unrealisedPnl\":\"11.4648\",\"markPrice\":\"2.0207\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-351.02534997\",\"positionMM\":\"373.3045216\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1944.67230542\",\"positionMMByMp\":\"373.46846823\",\"seq\":140697266549181,\"updatedTime\":\"1759623065360\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1944.67230542\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.9209528\",\"size\":\"14331\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.0031\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759623191020}","module":"BybitClient","timestamp":"2025-10-05T00:13:10.640Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 14331 ASTERUSDT | PnL: 0.04%","module":"TradingStrategy","timestamp":"2025-10-05T00:13:10.646Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T00:13:10.646Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición ASTERUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T00:13:11.052Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T00:13:11.072Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.79,\n  \"reasoning\": \"La tendencia actual es bearish, pero no hay señales de reversión fuerte. Mantener posición...","module":"OllamaClient","timestamp":"2025-10-05T00:13:52.258Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La tendencia actual es bearish, pero no hay señales de reversión fuerte. Mantener posición y esperar...","module":"TradingStrategy","timestamp":"2025-10-05T00:13:52.260Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759623232360","module":"BybitClient","timestamp":"2025-10-05T00:13:52.366Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 79%)","module":"OllamaClient","timestamp":"2025-10-05T00:13:52.260Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:13:52.461Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T00:13:52.261Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759623065360%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0199\",\"liqPrice\":\"1.9103\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.0351\",\"positionValue\":\"28947.1869\",\"isReduceOnly\":false,\"positionIMByMp\":\"1944.67230542\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9087\",\"unrealisedPnl\":\"-7.1655\",\"markPrice\":\"2.0194\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-351.02534997\",\"positionMM\":\"373.3045216\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1944.67230542\",\"positionMMByMp\":\"373.20205494\",\"seq\":140697266549181,\"updatedTime\":\"1759623065360\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1944.67230542\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.9209528\",\"size\":\"14331\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.0031\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759623233689}","module":"BybitClient","timestamp":"2025-10-05T00:13:53.304Z"}
{"level":"info","message":"Ya existe una posición abierta, no se abrirá nueva posición","module":"TradingStrategy","timestamp":"2025-10-05T00:13:53.305Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T00:13:53.305Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T00:13:53.305Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:14:08.267Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:14:09.148Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:14:09.155Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:14:09.150Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T00:14:53.316Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0661","module":"KalmanFilter","timestamp":"2025-10-05T00:14:53.330Z"}
{"level":"debug","message":"Predicción Kalman: 2.0205505539601205 (Confianza: 0.837)","module":"KalmanFilter","timestamp":"2025-10-05T00:14:53.331Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T00:14:54.718Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:15:08.266Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:15:09.124Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:15:09.124Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:15:09.124Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T00:15:53.456Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":2.0128059734778394,"middle":2.01816,"upper":2.0235140265221605},"ema":{"ema21":2.0220973277971277,"ema50":2.032296254264208,"ema9":2.0197074350679975},"macd":{"histogram":-0.00042061777063939765,"macd":-0.0042061777063939765,"signal":-0.003785559935754579},"rsi":53.284671532846616,"volume":{"avg":126524.06,"current":17591,"ratio":0.13903284482018677}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La señal de RSI < 30 y MACD bullish es muy fuerte y sugiere una posible inversión en el mercado. Además, la predicción de Kalman también indica un aumento en el precio del activo. Considerando el leverage alto (10-50x) y el nivel de confianza alto (83.7%), es apropiado tomar una posición de compra con una confianza moderada (medium).","symbol":"ASTERUSDT","timestamp":1759623353459}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759623353460","module":"BybitClient","timestamp":"2025-10-05T00:15:53.473Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:15:53.474Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759623065360%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0199\",\"liqPrice\":\"1.9103\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.0351\",\"positionValue\":\"28947.1869\",\"isReduceOnly\":false,\"positionIMByMp\":\"1944.67230542\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9087\",\"unrealisedPnl\":\"-18.6303\",\"markPrice\":\"2.0186\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-351.02534997\",\"positionMM\":\"373.3045216\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1944.67230542\",\"positionMMByMp\":\"373.0381083\",\"seq\":140697266549181,\"updatedTime\":\"1759623065360\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1944.67230542\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.9209528\",\"size\":\"14331\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.0031\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759623354728}","module":"BybitClient","timestamp":"2025-10-05T00:15:54.350Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 14331 ASTERUSDT | PnL: -0.06%","module":"TradingStrategy","timestamp":"2025-10-05T00:15:54.353Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T00:15:54.352Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición ASTERUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T00:15:54.744Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T00:15:54.744Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:16:08.267Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:16:09.154Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:16:09.161Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:16:09.161Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La tendencia actual es favorable y no hay señales de reversión. Mantener la posición para s...","module":"OllamaClient","timestamp":"2025-10-05T00:16:28.252Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La tendencia actual es favorable y no hay señales de reversión. Mantener la posición para seguir exp...","module":"TradingStrategy","timestamp":"2025-10-05T00:16:28.254Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759623388254","module":"BybitClient","timestamp":"2025-10-05T00:16:28.255Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T00:16:28.254Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T00:16:28.254Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:16:28.255Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759623065360%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0199\",\"liqPrice\":\"1.9103\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.0351\",\"positionValue\":\"28947.1869\",\"isReduceOnly\":false,\"positionIMByMp\":\"1944.67230542\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9087\",\"unrealisedPnl\":\"28.662\",\"markPrice\":\"2.0219\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-351.02534997\",\"positionMM\":\"373.3045216\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1944.67230542\",\"positionMMByMp\":\"373.71438819\",\"seq\":140697266549181,\"updatedTime\":\"1759623065360\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1944.67230542\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.9209528\",\"size\":\"14331\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.0031\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759623389756}","module":"BybitClient","timestamp":"2025-10-05T00:16:29.379Z"}
{"level":"info","message":"Ya existe una posición abierta, no se abrirá nueva posición","module":"TradingStrategy","timestamp":"2025-10-05T00:16:29.379Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T00:16:29.379Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T00:16:29.379Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:17:08.266Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:17:09.145Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:17:09.147Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:17:09.145Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T00:17:29.382Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0816","module":"KalmanFilter","timestamp":"2025-10-05T00:17:29.384Z"}
{"level":"debug","message":"Predicción Kalman: 2.0213233450933514 (Confianza: 0.832)","module":"KalmanFilter","timestamp":"2025-10-05T00:17:29.385Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T00:17:30.270Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:18:08.266Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T00:18:08.294Z"}
{"confidence":0.3,"decision":"BUY","indicators":{"bollinger":{"lower":2.016480617696934,"middle":2.0203049999999996,"upper":2.024129382303065},"ema":{"ema21":2.0209911433437298,"ema50":2.026923540909092,"ema9":2.0209530211588844},"macd":{"histogram":-0.0000920642618238432,"macd":-0.000920642618238432,"signal":-0.0008285783564145888},"rsi":53.5714285714289,"volume":{"avg":126484.18,"current":11887,"ratio":0.09398013253515183}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"{\n  \"decision\": \"BUY\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"RSI is below 30 and MACD is bullish, indicating a potential buying opportunity. The Kalman prediction also suggests a slight upward trend, w","symbol":"ASTERUSDT","timestamp":1759623488430}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759623488431","module":"BybitClient","timestamp":"2025-10-05T00:18:08.431Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-05T00:18:08.297Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-05T00:18:08.430Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:18:08.431Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759623065360%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0199\",\"liqPrice\":\"1.9103\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.0351\",\"positionValue\":\"28947.1869\",\"isReduceOnly\":false,\"positionIMByMp\":\"1944.67230542\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9087\",\"unrealisedPnl\":\"32.9613\",\"markPrice\":\"2.0222\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-351.02534997\",\"positionMM\":\"373.3045216\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1944.67230542\",\"positionMMByMp\":\"373.77586818\",\"seq\":140697266549181,\"updatedTime\":\"1759623065360\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1944.67230542\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.9209528\",\"size\":\"14331\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.0031\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759623489780}","module":"BybitClient","timestamp":"2025-10-05T00:18:09.390Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 14331 ASTERUSDT | PnL: 0.11%","module":"TradingStrategy","timestamp":"2025-10-05T00:18:09.391Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T00:18:09.391Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:18:09.393Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:18:09.394Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:18:09.393Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición ASTERUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T00:18:09.780Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T00:18:09.794Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La tendencia actual es favorable y no hay señales de reversión. Mantener la posición para a...","module":"OllamaClient","timestamp":"2025-10-05T00:18:39.245Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La tendencia actual es favorable y no hay señales de reversión. Mantener la posición para aprovechar...","module":"TradingStrategy","timestamp":"2025-10-05T00:18:39.256Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759623519405","module":"BybitClient","timestamp":"2025-10-05T00:18:39.407Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T00:18:39.247Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T00:18:39.404Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:18:39.407Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759623065360%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0199\",\"liqPrice\":\"1.9103\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.0351\",\"positionValue\":\"28947.1869\",\"isReduceOnly\":false,\"positionIMByMp\":\"1944.67230542\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9087\",\"unrealisedPnl\":\"1.4331\",\"markPrice\":\"2.02\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-351.02534997\",\"positionMM\":\"373.3045216\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1944.67230542\",\"positionMMByMp\":\"373.32501492\",\"seq\":140697266549181,\"updatedTime\":\"1759623065360\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1944.67230542\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.9209528\",\"size\":\"14331\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.0031\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759623520652}","module":"BybitClient","timestamp":"2025-10-05T00:18:40.270Z"}
{"level":"info","message":"Ya existe una posición abierta, no se abrirá nueva posición","module":"TradingStrategy","timestamp":"2025-10-05T00:18:40.270Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T00:18:40.270Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T00:18:40.271Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:19:08.268Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:19:09.141Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:19:09.161Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:19:09.143Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T00:19:40.278Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0632","module":"KalmanFilter","timestamp":"2025-10-05T00:19:40.279Z"}
{"level":"debug","message":"Predicción Kalman: 2.0217594223870705 (Confianza: 0.850)","module":"KalmanFilter","timestamp":"2025-10-05T00:19:40.279Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T00:19:42.152Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:20:08.268Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:20:09.133Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:20:09.133Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:20:09.133Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T00:20:25.295Z"}
{"confidence":0.3,"decision":"BUY","indicators":{"bollinger":{"lower":2.017570730412009,"middle":2.0211300000000003,"upper":2.0246892695879914},"ema":{"ema21":2.0214191557846717,"ema50":2.0249905112645417,"ema9":2.0216566450294944},"macd":{"histogram":-0.000012363865035913685,"macd":-0.0001236386503591369,"signal":-0.00011127478532322322},"rsi":53.26633165829161,"volume":{"avg":120653.6,"current":5385,"ratio":0.0446319048913584}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"{\n  \"decision\": \"BUY\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La RSI está por debajo del 30, indicando una posible oportunidad de compra. Además, el MACD está en un signal bullish y el Bollinger Band es","symbol":"ASTERUSDT","timestamp":1759623625298}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759623625298","module":"BybitClient","timestamp":"2025-10-05T00:20:25.299Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-05T00:20:25.297Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-05T00:20:25.297Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:20:25.299Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759623065360%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0199\",\"liqPrice\":\"1.9103\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.0351\",\"positionValue\":\"28947.1869\",\"isReduceOnly\":false,\"positionIMByMp\":\"1944.67230542\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9087\",\"unrealisedPnl\":\"-68.7888\",\"markPrice\":\"2.0151\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-351.02534997\",\"positionMM\":\"373.3045216\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1944.67230542\",\"positionMMByMp\":\"372.32084175\",\"seq\":140697266549181,\"updatedTime\":\"1759623065360\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1944.67230542\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.9209528\",\"size\":\"14331\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.0031\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759623626560}","module":"BybitClient","timestamp":"2025-10-05T00:20:26.174Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 14331 ASTERUSDT | PnL: -0.24%","module":"TradingStrategy","timestamp":"2025-10-05T00:20:26.175Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T00:20:26.175Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición ASTERUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T00:20:26.569Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T00:20:26.569Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La tendencia actual es favorable y no hay señales de reversión. Mantener la posición para a...","module":"OllamaClient","timestamp":"2025-10-05T00:20:56.931Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La tendencia actual es favorable y no hay señales de reversión. Mantener la posición para aprovechar...","module":"TradingStrategy","timestamp":"2025-10-05T00:20:56.932Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759623656933","module":"BybitClient","timestamp":"2025-10-05T00:20:56.933Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T00:20:56.932Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:20:56.933Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T00:20:56.932Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759623065360%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0199\",\"liqPrice\":\"1.9103\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.0351\",\"positionValue\":\"28947.1869\",\"isReduceOnly\":false,\"positionIMByMp\":\"1944.67230542\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9087\",\"unrealisedPnl\":\"-100.317\",\"markPrice\":\"2.0129\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-351.02534997\",\"positionMM\":\"373.3045216\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1944.67230542\",\"positionMMByMp\":\"371.86998849\",\"seq\":140697266549181,\"updatedTime\":\"1759623065360\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1944.67230542\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.9209528\",\"size\":\"14331\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.0031\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759623658189}","module":"BybitClient","timestamp":"2025-10-05T00:20:57.805Z"}
{"level":"info","message":"Ya existe una posición abierta, no se abrirá nueva posición","module":"TradingStrategy","timestamp":"2025-10-05T00:20:57.806Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T00:20:57.805Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T00:20:57.806Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:21:08.268Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:21:09.408Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:21:09.409Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:21:09.408Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T00:21:57.809Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0712","module":"KalmanFilter","timestamp":"2025-10-05T00:21:57.811Z"}
{"level":"debug","message":"Predicción Kalman: 2.0165683570785804 (Confianza: 0.847)","module":"KalmanFilter","timestamp":"2025-10-05T00:21:57.812Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T00:21:58.963Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:22:08.268Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:22:09.167Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:22:09.168Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:22:09.167Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T00:22:44.714Z"}
{"confidence":0.3,"decision":"BUY","indicators":{"bollinger":{"lower":2.0132296961291827,"middle":2.0199350000000003,"upper":2.026640303870818},"ema":{"ema21":2.0191375343384115,"ema50":2.0228613333563974,"ema9":2.0175066537912425},"macd":{"histogram":-0.00015065794464410578,"macd":-0.0015065794464410587,"signal":-0.001355921501796953},"rsi":38.25503355704689,"volume":{"avg":115816.44,"current":7034,"ratio":0.06073403741299594}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"{\n  \"decision\": \"BUY\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La RSI está por debajo de 30 y el MACD es bullish, señalando una posible recuperación del mercado. Además, la Kalman predice un aumento en e","symbol":"ASTERUSDT","timestamp":1759623764760}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759623764844","module":"BybitClient","timestamp":"2025-10-05T00:22:44.844Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-05T00:22:44.754Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-05T00:22:44.760Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:22:44.845Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759623065360%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0199\",\"liqPrice\":\"1.9103\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.0351\",\"positionValue\":\"28947.1869\",\"isReduceOnly\":false,\"positionIMByMp\":\"1944.67230542\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9087\",\"unrealisedPnl\":\"-63.0564\",\"markPrice\":\"2.0155\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-351.02534997\",\"positionMM\":\"373.3045216\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1944.67230542\",\"positionMMByMp\":\"372.40281507\",\"seq\":140697266549181,\"updatedTime\":\"1759623065360\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1944.67230542\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.9209528\",\"size\":\"14331\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.0031\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759623766361}","module":"BybitClient","timestamp":"2025-10-05T00:22:45.970Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 14331 ASTERUSDT | PnL: -0.22%","module":"TradingStrategy","timestamp":"2025-10-05T00:22:45.972Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T00:22:45.972Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición ASTERUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T00:22:46.369Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T00:22:46.370Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:23:08.276Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:23:09.150Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:23:09.151Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:23:09.150Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La tendencia actual es favorable y no hay señales de reversión. Mantener la posición para s...","module":"OllamaClient","timestamp":"2025-10-05T00:23:18.253Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La tendencia actual es favorable y no hay señales de reversión. Mantener la posición para seguir apr...","module":"TradingStrategy","timestamp":"2025-10-05T00:23:18.255Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759623798256","module":"BybitClient","timestamp":"2025-10-05T00:23:18.256Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T00:23:18.255Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T00:23:18.255Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:23:18.272Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759623065360%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0199\",\"liqPrice\":\"1.9103\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.0351\",\"positionValue\":\"28947.1869\",\"isReduceOnly\":false,\"positionIMByMp\":\"1944.67230542\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9087\",\"unrealisedPnl\":\"-47.2923\",\"markPrice\":\"2.0166\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-351.02534997\",\"positionMM\":\"373.3045216\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1944.67230542\",\"positionMMByMp\":\"372.6282417\",\"seq\":140697266549181,\"updatedTime\":\"1759623065360\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1944.67230542\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.9209528\",\"size\":\"14331\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.0031\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759623799521}","module":"BybitClient","timestamp":"2025-10-05T00:23:19.134Z"}
{"level":"info","message":"Ya existe una posición abierta, no se abrirá nueva posición","module":"TradingStrategy","timestamp":"2025-10-05T00:23:19.134Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T00:23:19.134Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T00:23:19.135Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:24:08.304Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:24:09.650Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:24:09.723Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:24:09.723Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T00:24:19.137Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0661","module":"KalmanFilter","timestamp":"2025-10-05T00:24:19.138Z"}
{"level":"debug","message":"Predicción Kalman: 2.0145786433506823 (Confianza: 0.861)","module":"KalmanFilter","timestamp":"2025-10-05T00:24:19.139Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T00:24:19.990Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T00:25:05.449Z"}
{"confidence":0.3,"decision":"BUY","indicators":{"bollinger":{"lower":2.0095737660447974,"middle":2.0158550000000006,"upper":2.022136233955204},"ema":{"ema21":2.0158923071348016,"ema50":2.0195324421498664,"ema9":2.014697970630335},"macd":{"histogram":-0.00014455278281997317,"macd":-0.001445527828199733,"signal":-0.0013009750453797599},"rsi":42.20779220779207,"volume":{"avg":115835.53,"current":5341,"ratio":0.046108478115479766}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"{\n\"decision\": \"BUY\",\n\"confidence\": 0.8,\n\"reasoning\": \"RSI is below 30 and MACD is bullish, indicating a potential buying opportunity. Additionally, the Kalman prediction of a price increase with high ","symbol":"ASTERUSDT","timestamp":1759623905453}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759623905454","module":"BybitClient","timestamp":"2025-10-05T00:25:05.456Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-05T00:25:05.453Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-05T00:25:05.453Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:25:05.457Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759623065360%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0199\",\"liqPrice\":\"1.9103\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.0351\",\"positionValue\":\"28947.1869\",\"isReduceOnly\":false,\"positionIMByMp\":\"1944.67230542\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9087\",\"unrealisedPnl\":\"-44.4261\",\"markPrice\":\"2.0168\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-351.02534997\",\"positionMM\":\"373.3045216\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1944.67230542\",\"positionMMByMp\":\"372.66922836\",\"seq\":140697266549181,\"updatedTime\":\"1759623065360\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1944.67230542\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.9209528\",\"size\":\"14331\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.0031\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759623906710}","module":"BybitClient","timestamp":"2025-10-05T00:25:06.320Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 14331 ASTERUSDT | PnL: -0.15%","module":"TradingStrategy","timestamp":"2025-10-05T00:25:06.321Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T00:25:06.321Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición ASTERUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T00:25:06.719Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T00:25:06.719Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:25:08.268Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:25:08.662Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:25:08.668Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:25:08.667Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La tendencia actual es favorable y no hay señales de reversión. Mantener la posición para a...","module":"OllamaClient","timestamp":"2025-10-05T00:25:32.209Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La tendencia actual es favorable y no hay señales de reversión. Mantener la posición para aprovechar...","module":"TradingStrategy","timestamp":"2025-10-05T00:25:32.286Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759623932286","module":"BybitClient","timestamp":"2025-10-05T00:25:32.287Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T00:25:32.223Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T00:25:32.286Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:25:32.338Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759623065360%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0199\",\"liqPrice\":\"1.9103\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.0351\",\"positionValue\":\"28947.1869\",\"isReduceOnly\":false,\"positionIMByMp\":\"1944.67230542\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9087\",\"unrealisedPnl\":\"-31.5282\",\"markPrice\":\"2.0177\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-351.02534997\",\"positionMM\":\"373.3045216\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1944.67230542\",\"positionMMByMp\":\"372.85366833\",\"seq\":140697266549181,\"updatedTime\":\"1759623065360\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1944.67230542\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.9209528\",\"size\":\"14331\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.0031\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759623933884}","module":"BybitClient","timestamp":"2025-10-05T00:25:33.499Z"}
{"level":"info","message":"Ya existe una posición abierta, no se abrirá nueva posición","module":"TradingStrategy","timestamp":"2025-10-05T00:25:33.500Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T00:25:33.500Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T00:25:33.500Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:26:08.267Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:26:09.155Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:26:09.155Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:26:09.155Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T00:26:33.501Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0678","module":"KalmanFilter","timestamp":"2025-10-05T00:26:33.501Z"}
{"level":"debug","message":"Predicción Kalman: 2.015907646763802 (Confianza: 0.863)","module":"KalmanFilter","timestamp":"2025-10-05T00:26:33.505Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T00:26:34.679Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T00:27:05.792Z"}
{"confidence":0.3,"decision":"BUY","indicators":{"bollinger":{"lower":2.0097635311865845,"middle":2.01493,"upper":2.0200964688134158},"ema":{"ema21":2.0156248460865065,"ema50":2.018308797327138,"ema9":2.015393268455587},"macd":{"histogram":-0.00005229656485408182,"macd":-0.0005229656485408185,"signal":-0.0004706690836867367},"rsi":50.976909413854465,"volume":{"avg":114281.42,"current":13006,"ratio":0.11380677628961909}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"{\n  \"decision\": \"BUY\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La RSI está por debajo del 30, indicando una posible oportunidad de compra. Además, el MACD está en un signal bullish y el Bollinger Band es","symbol":"ASTERUSDT","timestamp":1759624025826}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759624025827","module":"BybitClient","timestamp":"2025-10-05T00:27:05.827Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-05T00:27:05.821Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-05T00:27:05.826Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:27:05.827Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759623065360%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0199\",\"liqPrice\":\"1.9103\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.0351\",\"positionValue\":\"28947.1869\",\"isReduceOnly\":false,\"positionIMByMp\":\"1944.67230542\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9087\",\"unrealisedPnl\":\"0\",\"markPrice\":\"2.0199\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-351.02534997\",\"positionMM\":\"373.3045216\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1944.67230542\",\"positionMMByMp\":\"373.30452159\",\"seq\":140697266549181,\"updatedTime\":\"1759623065360\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1944.67230542\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.9209528\",\"size\":\"14331\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.0031\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759624027385}","module":"BybitClient","timestamp":"2025-10-05T00:27:06.998Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 14331 ASTERUSDT | PnL: 0.00%","module":"TradingStrategy","timestamp":"2025-10-05T00:27:06.999Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T00:27:06.999Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición ASTERUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T00:27:07.734Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T00:27:07.734Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:27:08.269Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:27:09.005Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:27:09.006Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:27:09.006Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La tendencia actual es favorable y no hay señales de reversión. Mantener la posición para a...","module":"OllamaClient","timestamp":"2025-10-05T00:27:29.230Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La tendencia actual es favorable y no hay señales de reversión. Mantener la posición para aprovechar...","module":"TradingStrategy","timestamp":"2025-10-05T00:27:29.233Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759624049233","module":"BybitClient","timestamp":"2025-10-05T00:27:29.234Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:27:29.236Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T00:27:29.233Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T00:27:29.233Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759623065360%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0199\",\"liqPrice\":\"1.9103\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.0351\",\"positionValue\":\"28947.1869\",\"isReduceOnly\":false,\"positionIMByMp\":\"1944.67230542\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9087\",\"unrealisedPnl\":\"5.7324\",\"markPrice\":\"2.0203\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-351.02534997\",\"positionMM\":\"373.3045216\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1944.67230542\",\"positionMMByMp\":\"373.38649491\",\"seq\":140697266549181,\"updatedTime\":\"1759623065360\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1944.67230542\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.9209528\",\"size\":\"14331\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.0031\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759624050478}","module":"BybitClient","timestamp":"2025-10-05T00:27:30.086Z"}
{"level":"info","message":"Ya existe una posición abierta, no se abrirá nueva posición","module":"TradingStrategy","timestamp":"2025-10-05T00:27:30.087Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T00:27:30.087Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T00:27:30.087Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:28:08.270Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:28:09.138Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:28:09.138Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:28:09.138Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T00:28:30.090Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0617","module":"KalmanFilter","timestamp":"2025-10-05T00:28:30.091Z"}
{"level":"debug","message":"Predicción Kalman: 2.018325775183825 (Confianza: 0.902)","module":"KalmanFilter","timestamp":"2025-10-05T00:28:30.091Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T00:28:31.208Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:29:08.275Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:29:09.147Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:29:09.147Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:29:09.147Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T00:29:13.015Z"}
{"confidence":0.3,"decision":"BUY","indicators":{"bollinger":{"lower":2.010913744823744,"middle":2.0168,"upper":2.022686255176256},"ema":{"ema21":2.0172990338718173,"ema50":2.018120970209908,"ema9":2.018217229020541},"macd":{"histogram":0.00006955495493090604,"macd":0.0006955495493090602,"signal":0.0006259945943781542},"rsi":60.25917926565873,"volume":{"avg":112548.35,"current":5449,"ratio":0.04841474797276015}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"{\n  \"decision\": \"BUY\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La combinación de un precio actual por debajo del cambio reciente y un RSI por debajo de 30, junto con el MACD en señal bullish y un Bolling","symbol":"ASTERUSDT","timestamp":1759624153017}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759624153018","module":"BybitClient","timestamp":"2025-10-05T00:29:13.019Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-05T00:29:13.017Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-05T00:29:13.017Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:29:13.019Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759623065360%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0199\",\"liqPrice\":\"1.9103\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.0351\",\"positionValue\":\"28947.1869\",\"isReduceOnly\":false,\"positionIMByMp\":\"1944.67230542\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9087\",\"unrealisedPnl\":\"30.0951\",\"markPrice\":\"2.022\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-351.02534997\",\"positionMM\":\"373.3045216\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1944.67230542\",\"positionMMByMp\":\"373.73488152\",\"seq\":140697266549181,\"updatedTime\":\"1759623065360\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1944.67230542\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.9209528\",\"size\":\"14331\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.0031\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759624153807}","module":"BybitClient","timestamp":"2025-10-05T00:29:13.417Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 14331 ASTERUSDT | PnL: 0.10%","module":"TradingStrategy","timestamp":"2025-10-05T00:29:13.419Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T00:29:13.418Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición ASTERUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T00:29:13.817Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T00:29:13.817Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La tendencia actual es favorable y no hay señales de reversión. Mantener la posición para a...","module":"OllamaClient","timestamp":"2025-10-05T00:29:35.758Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La tendencia actual es favorable y no hay señales de reversión. Mantener la posición para aprovechar...","module":"TradingStrategy","timestamp":"2025-10-05T00:29:35.761Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759624175761","module":"BybitClient","timestamp":"2025-10-05T00:29:35.762Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T00:29:35.760Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T00:29:35.761Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:29:35.763Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759623065360%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0199\",\"liqPrice\":\"1.9103\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.0351\",\"positionValue\":\"28947.1869\",\"isReduceOnly\":false,\"positionIMByMp\":\"1944.67230542\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9087\",\"unrealisedPnl\":\"27.2289\",\"markPrice\":\"2.0218\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-351.02534997\",\"positionMM\":\"373.3045216\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1944.67230542\",\"positionMMByMp\":\"373.69389486\",\"seq\":140697266549181,\"updatedTime\":\"1759623065360\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1944.67230542\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.9209528\",\"size\":\"14331\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.0031\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759624177023}","module":"BybitClient","timestamp":"2025-10-05T00:29:36.632Z"}
{"level":"info","message":"Ya existe una posición abierta, no se abrirá nueva posición","module":"TradingStrategy","timestamp":"2025-10-05T00:29:36.634Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T00:29:36.634Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T00:29:36.635Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:30:08.273Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:30:09.399Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:30:09.403Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:30:09.402Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T00:30:36.636Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0857","module":"KalmanFilter","timestamp":"2025-10-05T00:30:36.638Z"}
{"level":"debug","message":"Predicción Kalman: 2.0190227014063966 (Confianza: 0.789)","module":"KalmanFilter","timestamp":"2025-10-05T00:30:36.638Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T00:30:37.795Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:31:08.274Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:31:09.171Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:31:09.172Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:31:09.172Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T00:31:15.883Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":2.0139949387650424,"middle":2.01869,"upper":2.0233850612349573},"ema":{"ema21":2.0185432244237793,"ema50":2.0179126903061633,"ema9":2.019241697302593},"macd":{"histogram":0.00007664237015019275,"macd":0.0007664237015019282,"signal":0.0006897813313517354},"rsi":49.7826086956522,"volume":{"avg":90079.34,"current":12475,"ratio":0.1384890253414379}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La señal de RSI < 30 y MACD bullish es muy fuerte, indicando un posible inicio de una tendencia ascendente. Además, la predicción de Kalman también apoya esta idea con una confianza del 78.9%. Sugiero comprar con un leverage alto (10-50x) para aprovechar al máximo la oportunidad de ganancia.","symbol":"ASTERUSDT","timestamp":1759624275884}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759624275884","module":"BybitClient","timestamp":"2025-10-05T00:31:15.884Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:31:15.885Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759623065360%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0199\",\"liqPrice\":\"1.9103\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.0351\",\"positionValue\":\"28947.1869\",\"isReduceOnly\":false,\"positionIMByMp\":\"1944.67230542\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9087\",\"unrealisedPnl\":\"22.9296\",\"markPrice\":\"2.0215\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-351.02534997\",\"positionMM\":\"373.3045216\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1944.67230542\",\"positionMMByMp\":\"373.63241487\",\"seq\":140697266549181,\"updatedTime\":\"1759623065360\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1944.67230542\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.9209528\",\"size\":\"14331\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.0031\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759624277199}","module":"BybitClient","timestamp":"2025-10-05T00:31:16.811Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 14331 ASTERUSDT | PnL: 0.08%","module":"TradingStrategy","timestamp":"2025-10-05T00:31:16.812Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T00:31:16.812Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición ASTERUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T00:31:17.224Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T00:31:17.224Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.789,\n  \"reasoning\": \"La tendencia actual es favorable y no hay señales de reversión. Mantener la posición y es...","module":"OllamaClient","timestamp":"2025-10-05T00:31:43.356Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La tendencia actual es favorable y no hay señales de reversión. Mantener la posición y esperar a ver...","module":"TradingStrategy","timestamp":"2025-10-05T00:31:43.367Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759624303368","module":"BybitClient","timestamp":"2025-10-05T00:31:43.369Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 79%)","module":"OllamaClient","timestamp":"2025-10-05T00:31:43.366Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:31:43.369Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T00:31:43.367Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759623065360%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0199\",\"liqPrice\":\"1.9103\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.0351\",\"positionValue\":\"28947.1869\",\"isReduceOnly\":false,\"positionIMByMp\":\"1944.67230542\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9087\",\"unrealisedPnl\":\"-11.4648\",\"markPrice\":\"2.0191\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-351.02534997\",\"positionMM\":\"373.3045216\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1944.67230542\",\"positionMMByMp\":\"373.14057495\",\"seq\":140697266549181,\"updatedTime\":\"1759623065360\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1944.67230542\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.9209528\",\"size\":\"14331\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.0031\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759624304947}","module":"BybitClient","timestamp":"2025-10-05T00:31:44.560Z"}
{"level":"info","message":"Ya existe una posición abierta, no se abrirá nueva posición","module":"TradingStrategy","timestamp":"2025-10-05T00:31:44.560Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T00:31:44.560Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T00:31:44.560Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:32:08.279Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:32:09.236Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:32:09.237Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:32:09.237Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T00:32:44.580Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0744","module":"KalmanFilter","timestamp":"2025-10-05T00:32:44.591Z"}
{"level":"debug","message":"Predicción Kalman: 2.02003236776883 (Confianza: 0.799)","module":"KalmanFilter","timestamp":"2025-10-05T00:32:44.592Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T00:32:45.983Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:33:08.303Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:33:09.851Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:33:09.862Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:33:09.861Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T00:33:45.666Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":2.015907319439303,"middle":2.0194900000000002,"upper":2.0230726805606976},"ema":{"ema21":2.0193982413705056,"ema50":2.018479282211905,"ema9":2.0200447527918244},"macd":{"histogram":0.00007037127006017665,"macd":0.0007037127006017663,"signal":0.0006333414305415896},"rsi":51.1111111111105,"volume":{"avg":80995.53,"current":3962,"ratio":0.04891627970086744}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La señal de RSI < 30 y MACD bullish es muy fuerte y sugiere una posible tendencia ascendente. Además, la predicción de Kalman también indica un aumento en el precio. Considerando que el volumen es bajo y no hay señales de alta volatilidad, es apropiado tomar una posición corta con un alto nivel de leverage (10-50x) para maximizar los beneficios.","symbol":"ASTERUSDT","timestamp":1759624425672}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759624425674","module":"BybitClient","timestamp":"2025-10-05T00:33:45.682Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:33:45.683Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759623065360%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0199\",\"liqPrice\":\"1.9103\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.0351\",\"positionValue\":\"28947.1869\",\"isReduceOnly\":false,\"positionIMByMp\":\"1944.67230542\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9087\",\"unrealisedPnl\":\"28.662\",\"markPrice\":\"2.0219\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-351.02534997\",\"positionMM\":\"373.3045216\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1944.67230542\",\"positionMMByMp\":\"373.71438819\",\"seq\":140697266549181,\"updatedTime\":\"1759623065360\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1944.67230542\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.9209528\",\"size\":\"14331\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.0031\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759624427321}","module":"BybitClient","timestamp":"2025-10-05T00:33:46.929Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 14331 ASTERUSDT | PnL: 0.10%","module":"TradingStrategy","timestamp":"2025-10-05T00:33:46.930Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T00:33:46.929Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición ASTERUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T00:33:47.335Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T00:33:47.336Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:34:08.296Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:34:09.781Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:34:09.797Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:34:09.783Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.79,\n  \"reasoning\": \"La tendencia actual es favorable y no hay señales de reversión. Mantener la posición para ...","module":"OllamaClient","timestamp":"2025-10-05T00:34:22.230Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La tendencia actual es favorable y no hay señales de reversión. Mantener la posición para aprovechar...","module":"TradingStrategy","timestamp":"2025-10-05T00:34:22.231Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759624462232","module":"BybitClient","timestamp":"2025-10-05T00:34:22.235Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 79%)","module":"OllamaClient","timestamp":"2025-10-05T00:34:22.231Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T00:34:22.231Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:34:22.235Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759623065360%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0199\",\"liqPrice\":\"1.9103\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.0351\",\"positionValue\":\"28947.1869\",\"isReduceOnly\":false,\"positionIMByMp\":\"1944.67230542\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9087\",\"unrealisedPnl\":\"-121.8135\",\"markPrice\":\"2.0114\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-351.02534997\",\"positionMM\":\"373.3045216\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1944.67230542\",\"positionMMByMp\":\"371.56258854\",\"seq\":140697266549181,\"updatedTime\":\"1759623065360\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1944.67230542\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.9209528\",\"size\":\"14331\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.0031\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759624463860}","module":"BybitClient","timestamp":"2025-10-05T00:34:23.469Z"}
{"level":"info","message":"Ya existe una posición abierta, no se abrirá nueva posición","module":"TradingStrategy","timestamp":"2025-10-05T00:34:23.471Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T00:34:23.470Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T00:34:23.471Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:35:08.292Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:35:09.182Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:35:09.182Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:35:09.182Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T00:35:23.484Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1247","module":"KalmanFilter","timestamp":"2025-10-05T00:35:23.486Z"}
{"level":"debug","message":"Predicción Kalman: 2.0142209026149125 (Confianza: 0.793)","module":"KalmanFilter","timestamp":"2025-10-05T00:35:23.487Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T00:35:24.459Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T00:36:04.568Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":2.009920346461941,"middle":2.0176049999999996,"upper":2.0252896535380582},"ema":{"ema21":2.016499355108436,"ema50":2.0176020845011946,"ema9":2.0142893693918524},"macd":{"histogram":-0.0001736647899063914,"macd":-0.0017366478990639145,"signal":-0.001562983109157523},"rsi":38.92617449664421,"volume":{"avg":80264.03,"current":19336,"ratio":0.24090492341338954}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is below 30 and MACD is bearish, indicating a potential sell signal. However, the Bollinger Bands are expanding, which could indicate an increase in volatility and potential for a bounce. The Kalman prediction also suggests a slight upward trend, with high confidence. Given these factors, I recommend a buying position with a leverage of 20-30x","symbol":"ASTERUSDT","timestamp":1759624564571}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759624564572","module":"BybitClient","timestamp":"2025-10-05T00:36:04.572Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:36:04.572Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759623065360%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"2.0199\",\"liqPrice\":\"1.9103\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.0351\",\"positionValue\":\"28947.1869\",\"isReduceOnly\":false,\"positionIMByMp\":\"1944.67230542\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.9087\",\"unrealisedPnl\":\"-184.8699\",\"markPrice\":\"2.007\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-351.02534997\",\"positionMM\":\"373.3045216\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1944.67230542\",\"positionMMByMp\":\"370.66088202\",\"seq\":140697266549181,\"updatedTime\":\"1759623065360\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1944.67230542\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.9209528\",\"size\":\"14331\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"2.0031\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759624566448}","module":"BybitClient","timestamp":"2025-10-05T00:36:06.055Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 14331 ASTERUSDT | PnL: -0.64%","module":"TradingStrategy","timestamp":"2025-10-05T00:36:06.056Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T00:36:06.056Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición ASTERUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T00:36:06.466Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T00:36:06.466Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:36:08.292Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:36:09.024Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:36:09.025Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:36:09.025Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.79,\n  \"reasoning\": \"La posición actual tiene un PnL del -184.87 USDT (-0.639%), que es dentro de los límites a...","module":"OllamaClient","timestamp":"2025-10-05T00:36:41.492Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene un PnL del -184.87 USDT (-0.639%), que es dentro de los límites aceptables ...","module":"TradingStrategy","timestamp":"2025-10-05T00:36:42.826Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759624602827","module":"BybitClient","timestamp":"2025-10-05T00:36:42.828Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 79%)","module":"OllamaClient","timestamp":"2025-10-05T00:36:42.826Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T00:36:42.827Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:36:42.828Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759624583832%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"2.0017\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-611.87161971\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266590853,\"updatedTime\":\"1759624583832\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759624604355}","module":"BybitClient","timestamp":"2025-10-05T00:36:43.956Z"}
{"level":"info","message":"AI sugiere BUY con confianza 0.8","module":"TradingStrategy","timestamp":"2025-10-05T00:36:43.957Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T00:36:43.957Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759624603957","module":"BybitClient","timestamp":"2025-10-05T00:36:43.957Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T00:36:43.964Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"213833.05632523\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"213833.05632523\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49996.32375462\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121088.37202353\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4492.808041\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38231.50488951\",\"totalPositionMM\":\"0\",\"usdValue\":\"38255.55250608\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"38231.50488951\",\"cumRealisedPnl\":\"-12676.09800049\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759624604763}","module":"BybitClient","timestamp":"2025-10-05T00:36:44.373Z"}
{"level":"info","message":"Balance disponible: $38231.50, Precio: $2.0081","module":"TradingStrategy","timestamp":"2025-10-05T00:36:44.374Z"}
{"level":"info","message":"Balance obtenido - Total: $213833.06, Disponible: $38231.50","module":"BybitClient","timestamp":"2025-10-05T00:36:44.373Z"}
{"level":"debug","message":"Símbolo info - Min: 1, Step: 1","module":"TradingStrategy","timestamp":"2025-10-05T00:36:44.770Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759624604771","module":"BybitClient","timestamp":"2025-10-05T00:36:44.771Z"}
{"level":"info","message":"Riesgo: 4.333333333333333%, Capital a arriesgar: $1656.70","module":"TradingStrategy","timestamp":"2025-10-05T00:36:44.770Z"}
{"level":"info","message":"Position value: $21537.08, Quantity raw: 10725.103873","module":"TradingStrategy","timestamp":"2025-10-05T00:36:44.770Z"}
{"level":"info","message":"Cantidad final calculada: 10725 ASTER (valor: $21536.87)","module":"TradingStrategy","timestamp":"2025-10-05T00:36:44.770Z"}
{"level":"info","message":"Parámetros calculados - Leverage: 13x, Quantity: 10725","module":"TradingStrategy","timestamp":"2025-10-05T00:36:44.770Z"}
{"level":"info","message":"Generando señal de trading: BUY 10725 ASTERUSDT @ 2.0081 (SL: 1.9960514000000003, TP: 2.03099234)","module":"TradingStrategy","timestamp":"2025-10-05T00:36:44.770Z"}
{"level":"info","message":"EJECUTANDO TRADE: BUY 10725 ASTERUSDT","module":"TradingStrategy","timestamp":"2025-10-05T00:36:44.770Z"}
{"level":"info","message":"=== INICIO EJECUCIÓN DE TRADE ===","module":"TradingStrategy","timestamp":"2025-10-05T00:36:44.770Z"}
{"level":"info","message":"Señal: {\"symbol\":\"ASTERUSDT\",\"action\":\"BUY\",\"leverage\":13,\"quantity\":10725,\"stopLoss\":1.9960514000000003,\"takeProfit\":2.03099234,\"timestamp\":1759624604770,\"aiAnalysis\":{\"decision\":\"BUY\",\"confidence\":0.8,\"reasoning\":\"RSI is below 30 and MACD is bearish, indicating a potential sell signal. However, the Bollinger Bands are expanding, which could indicate an increase in volatility and potential for a bounce. The Kalman prediction also suggests a slight upward trend, with high confidence. Given these factors, I recommend a buying position with a leverage of 20-30x\",\"indicators\":{},\"kalman\":{},\"marketSentiment\":\"bullish\",\"riskLevel\":\"medium\",\"suggestedLeverage\":10}}","module":"TradingStrategy","timestamp":"2025-10-05T00:36:44.770Z"}
{"level":"info","message":"Validando con Risk Manager...","module":"TradingStrategy","timestamp":"2025-10-05T00:36:44.770Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T00:36:44.772Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"213833.05632523\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"213833.05632523\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49996.32375462\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121088.37202353\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4492.808041\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38231.50488951\",\"totalPositionMM\":\"0\",\"usdValue\":\"38255.55250608\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"38231.50488951\",\"cumRealisedPnl\":\"-12676.09800049\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759624605570}","module":"BybitClient","timestamp":"2025-10-05T00:36:45.173Z"}
{"level":"info","message":"Balance obtenido - Total: $213833.06, Disponible: $38231.50","module":"BybitClient","timestamp":"2025-10-05T00:36:45.176Z"}
{"level":"info","message":"Validando posición: Cantidad=10725, Precio=2.00, Valor=$21463.94","module":"RiskManager","timestamp":"2025-10-05T00:36:45.573Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759624605573","module":"BybitClient","timestamp":"2025-10-05T00:36:45.573Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:36:45.573Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759624583832%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"2.0014\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-611.87161971\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266590853,\"updatedTime\":\"1759624583832\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759624606373}","module":"BybitClient","timestamp":"2025-10-05T00:36:46.052Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T00:36:46.053Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 5m, límite: 20","module":"BybitClient","timestamp":"2025-10-05T00:36:46.462Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:36:46.862Z"}
{"level":"info","message":"Velas obtenidas: 20 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:36:46.863Z"}
{"level":"info","message":"Trade aprobado - Risk Score: 0.29","module":"RiskManager","timestamp":"2025-10-05T00:36:47.258Z"}
{"level":"info","message":"Resultado validación: {\"approved\":true,\"reason\":\"Trade aprobado por gestión de riesgo\",\"riskScore\":0.29416781967154576}","module":"TradingStrategy","timestamp":"2025-10-05T00:36:47.270Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759624607270","module":"BybitClient","timestamp":"2025-10-05T00:36:47.270Z"}
{"level":"info","message":"Trade aprobado por Risk Manager, ejecutando...","module":"TradingStrategy","timestamp":"2025-10-05T00:36:47.270Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"buyLeverage\":\"13\",\"sellLeverage\":\"13\"}","module":"BybitClient","timestamp":"2025-10-05T00:36:47.270Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{},\"retExtInfo\":{},\"time\":1759624608066}","module":"BybitClient","timestamp":"2025-10-05T00:36:47.667Z"}
{"level":"info","message":"Leverage establecido a 13x para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:36:47.667Z"}
{"level":"info","message":"Ejecutando orden: Buy 10725 ASTERUSDT | SL: 1.9960514000000003 | TP: 2.03099234","module":"BybitClient","timestamp":"2025-10-05T00:36:47.667Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759624607667","module":"BybitClient","timestamp":"2025-10-05T00:36:47.667Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"side\":\"Buy\",\"orderType\":\"Market\",\"qty\":\"10725\",\"timeInForce\":\"IOC\",\"stopLoss\":\"1.9960514000000003\",\"slTriggerBy\":\"LastPrice\",\"takeProfit\":\"2.03099234\",\"tpTriggerBy\":\"LastPrice\"}","module":"BybitClient","timestamp":"2025-10-05T00:36:47.668Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"orderId\":\"1f2dda62-c72c-40c4-b199-d652ff7079eb\",\"orderLinkId\":\"\"},\"retExtInfo\":{},\"time\":1759624608465}","module":"BybitClient","timestamp":"2025-10-05T00:36:48.069Z"}
{"level":"info","message":"TRADE_OPEN","module":"TradingStrategy","pnl":0,"price":0,"quantity":10725,"side":"BUY","symbol":"ASTERUSDT","timestamp":1759624608071}
{"level":"debug","message":"Trades ejecutados hoy: 2/20","module":"RiskManager","timestamp":"2025-10-05T00:36:48.072Z"}
{"level":"info","message":"Orden ejecutada exitosamente: 1f2dda62-c72c-40c4-b199-d652ff7079eb","module":"BybitClient","timestamp":"2025-10-05T00:36:48.071Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:37:08.293Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:37:09.125Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:37:09.127Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:37:09.125Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T00:37:48.073Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.2000","module":"KalmanFilter","timestamp":"2025-10-05T00:37:48.075Z"}
{"level":"debug","message":"Predicción Kalman: 2.010527234481437 (Confianza: 0.808)","module":"KalmanFilter","timestamp":"2025-10-05T00:37:48.075Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T00:37:48.917Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:38:08.295Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:38:09.453Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:38:09.518Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:38:09.517Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T00:38:46.668Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":2.002464487935373,"middle":2.0128150000000002,"upper":2.0231655120646277},"ema":{"ema21":2.0119615797406616,"ema50":2.014875438760143,"ema9":2.008780760974529},"macd":{"histogram":-0.0003013607341882719,"macd":-0.003013607341882718,"signal":-0.002712246607694446},"rsi":32.32323232323262,"volume":{"avg":89495.55,"current":41672,"ratio":0.4656320900871607}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La RSI está por debajo del 30, indicando una posible oportunidad de compra. Además, el MACD está en un signal bullish y el Bollinger Band está en un rango amplio, lo que sugiere una mayor volatilidad y un mayor margen de error. Considerando la posición actual del mercado con un cambio récent de -6.65% y un volume de 299264750, es probable que el precio continúe subiendo. Utilizaremos un leverage alto (10-50x) para aprovechar esta oportunidad.","symbol":"ASTERUSDT","timestamp":1759624726691}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759624726691","module":"BybitClient","timestamp":"2025-10-05T00:38:46.692Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:38:46.696Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759624638982%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"1.9773\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-719.12633872\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266592340,\"updatedTime\":\"1759624638982\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759624728230}","module":"BybitClient","timestamp":"2025-10-05T00:38:47.832Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T00:38:47.833Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759624727833","module":"BybitClient","timestamp":"2025-10-05T00:38:47.833Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:38:47.833Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759624638982%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"1.9773\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-719.12633872\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266592340,\"updatedTime\":\"1759624638982\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759624728630}","module":"BybitClient","timestamp":"2025-10-05T00:38:48.228Z"}
{"level":"info","message":"AI sugiere BUY con confianza 0.8","module":"TradingStrategy","timestamp":"2025-10-05T00:38:48.228Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T00:38:48.228Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759624728228","module":"BybitClient","timestamp":"2025-10-05T00:38:48.228Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T00:38:48.228Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"213728.05407987\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"213728.05407987\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49996.77375483\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121089.90660043\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4492.724034\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38124.2501705\",\"totalPositionMM\":\"0\",\"usdValue\":\"38148.6496906\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"38124.2501705\",\"cumRealisedPnl\":\"-12783.3527195\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759624729025}","module":"BybitClient","timestamp":"2025-10-05T00:38:48.631Z"}
{"level":"info","message":"Balance disponible: $38124.25, Precio: $1.9861","module":"TradingStrategy","timestamp":"2025-10-05T00:38:48.633Z"}
{"level":"info","message":"Balance obtenido - Total: $213728.05, Disponible: $38124.25","module":"BybitClient","timestamp":"2025-10-05T00:38:48.633Z"}
{"level":"debug","message":"Símbolo info - Min: 1, Step: 1","module":"TradingStrategy","timestamp":"2025-10-05T00:38:49.035Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759624729045","module":"BybitClient","timestamp":"2025-10-05T00:38:49.045Z"}
{"level":"info","message":"Riesgo: 4.333333333333333%, Capital a arriesgar: $1652.05","module":"TradingStrategy","timestamp":"2025-10-05T00:38:49.036Z"}
{"level":"info","message":"Position value: $21476.66, Quantity raw: 10813.484180","module":"TradingStrategy","timestamp":"2025-10-05T00:38:49.036Z"}
{"level":"info","message":"Cantidad final calculada: 10813 ASTER (valor: $21475.70)","module":"TradingStrategy","timestamp":"2025-10-05T00:38:49.036Z"}
{"level":"info","message":"Parámetros calculados - Leverage: 13x, Quantity: 10813","module":"TradingStrategy","timestamp":"2025-10-05T00:38:49.036Z"}
{"level":"info","message":"Generando señal de trading: BUY 10813 ASTERUSDT @ 1.9861 (SL: 1.9741834, TP: 2.00874154)","module":"TradingStrategy","timestamp":"2025-10-05T00:38:49.036Z"}
{"level":"info","message":"EJECUTANDO TRADE: BUY 10813 ASTERUSDT","module":"TradingStrategy","timestamp":"2025-10-05T00:38:49.036Z"}
{"level":"info","message":"=== INICIO EJECUCIÓN DE TRADE ===","module":"TradingStrategy","timestamp":"2025-10-05T00:38:49.036Z"}
{"level":"info","message":"Señal: {\"symbol\":\"ASTERUSDT\",\"action\":\"BUY\",\"leverage\":13,\"quantity\":10813,\"stopLoss\":1.9741834,\"takeProfit\":2.00874154,\"timestamp\":1759624729036,\"aiAnalysis\":{\"decision\":\"BUY\",\"confidence\":0.8,\"reasoning\":\"La RSI está por debajo del 30, indicando una posible oportunidad de compra. Además, el MACD está en un signal bullish y el Bollinger Band está en un rango amplio, lo que sugiere una mayor volatilidad y un mayor margen de error. Considerando la posición actual del mercado con un cambio récent de -6.65% y un volume de 299264750, es probable que el precio continúe subiendo. Utilizaremos un leverage alto (10-50x) para aprovechar esta oportunidad.\",\"indicators\":{},\"kalman\":{},\"marketSentiment\":\"bullish\",\"riskLevel\":\"medium\",\"suggestedLeverage\":10}}","module":"TradingStrategy","timestamp":"2025-10-05T00:38:49.040Z"}
{"level":"info","message":"Validando con Risk Manager...","module":"TradingStrategy","timestamp":"2025-10-05T00:38:49.040Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T00:38:49.045Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"213728.05407987\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"213728.05407987\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49996.77375483\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121089.90660043\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4492.724034\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38124.2501705\",\"totalPositionMM\":\"0\",\"usdValue\":\"38148.6496906\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"38124.2501705\",\"cumRealisedPnl\":\"-12783.3527195\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759624729842}","module":"BybitClient","timestamp":"2025-10-05T00:38:49.463Z"}
{"level":"info","message":"Balance obtenido - Total: $213728.05, Disponible: $38124.25","module":"BybitClient","timestamp":"2025-10-05T00:38:49.475Z"}
{"level":"info","message":"Validando posición: Cantidad=10813, Precio=1.98, Valor=$21366.49","module":"RiskManager","timestamp":"2025-10-05T00:38:49.871Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759624729871","module":"BybitClient","timestamp":"2025-10-05T00:38:49.871Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:38:49.872Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759624638982%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"1.9758\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-719.12633872\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266592340,\"updatedTime\":\"1759624638982\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759624730668}","module":"BybitClient","timestamp":"2025-10-05T00:38:50.268Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T00:38:50.269Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 5m, límite: 20","module":"BybitClient","timestamp":"2025-10-05T00:38:50.664Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:38:51.060Z"}
{"level":"info","message":"Velas obtenidas: 20 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:38:51.060Z"}
{"level":"info","message":"Trade aprobado - Risk Score: 0.30","module":"RiskManager","timestamp":"2025-10-05T00:38:51.452Z"}
{"level":"info","message":"Resultado validación: {\"approved\":true,\"reason\":\"Trade aprobado por gestión de riesgo\",\"riskScore\":0.2975532341647652}","module":"TradingStrategy","timestamp":"2025-10-05T00:38:51.452Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759624731452","module":"BybitClient","timestamp":"2025-10-05T00:38:51.452Z"}
{"level":"info","message":"Trade aprobado por Risk Manager, ejecutando...","module":"TradingStrategy","timestamp":"2025-10-05T00:38:51.452Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"buyLeverage\":\"13\",\"sellLeverage\":\"13\"}","module":"BybitClient","timestamp":"2025-10-05T00:38:51.453Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":110043,\"retMsg\":\"leverage not modified\",\"result\":{},\"retExtInfo\":{},\"time\":1759624732249}","module":"BybitClient","timestamp":"2025-10-05T00:38:51.848Z"}
{"level":"warn","message":"Bybit warning (ignorado): leverage not modified (Code: 110043)","module":"BybitClient","timestamp":"2025-10-05T00:38:51.848Z"}
{"level":"info","message":"Leverage establecido a 13x para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:38:51.848Z"}
{"level":"info","message":"Ejecutando orden: Buy 10813 ASTERUSDT | SL: 1.9741834 | TP: 2.00874154","module":"BybitClient","timestamp":"2025-10-05T00:38:51.848Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759624731848","module":"BybitClient","timestamp":"2025-10-05T00:38:51.849Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"side\":\"Buy\",\"orderType\":\"Market\",\"qty\":\"10813\",\"timeInForce\":\"IOC\",\"stopLoss\":\"1.9741834\",\"slTriggerBy\":\"LastPrice\",\"takeProfit\":\"2.00874154\",\"tpTriggerBy\":\"LastPrice\"}","module":"BybitClient","timestamp":"2025-10-05T00:38:51.849Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"orderId\":\"5ca128cf-2996-4485-9ea2-22848e56920f\",\"orderLinkId\":\"\"},\"retExtInfo\":{},\"time\":1759624732644}","module":"BybitClient","timestamp":"2025-10-05T00:38:52.264Z"}
{"level":"info","message":"TRADE_OPEN","module":"TradingStrategy","pnl":0,"price":0,"quantity":10813,"side":"BUY","symbol":"ASTERUSDT","timestamp":1759624732266}
{"level":"debug","message":"Trades ejecutados hoy: 3/20","module":"RiskManager","timestamp":"2025-10-05T00:38:52.266Z"}
{"level":"info","message":"Orden ejecutada exitosamente: 5ca128cf-2996-4485-9ea2-22848e56920f","module":"BybitClient","timestamp":"2025-10-05T00:38:52.266Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:39:08.295Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:39:09.147Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:39:09.148Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:39:09.147Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T00:39:52.268Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.2000","module":"KalmanFilter","timestamp":"2025-10-05T00:39:52.269Z"}
{"level":"debug","message":"Predicción Kalman: 1.995932245625818 (Confianza: 0.857)","module":"KalmanFilter","timestamp":"2025-10-05T00:39:52.269Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T00:39:53.374Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:40:08.296Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:40:09.415Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:40:09.415Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:40:09.415Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T00:40:32.243Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":1.9775675021354635,"middle":2.002445,"upper":2.027322497864536},"ema":{"ema21":1.9999981911254818,"ema50":2.00802654126048,"ema9":1.9914413520610967},"macd":{"histogram":-0.0007863665741454362,"macd":-0.007863665741454362,"signal":-0.007077299167308926},"rsi":32.839962997224845,"volume":{"avg":148831.84,"current":34957,"ratio":0.23487581689509449}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is below 30 and MACD is bearish, indicating a potential buying opportunity. Additionally, the Kalman prediction for a price increase with high confidence suggests that now is a good time to buy. With leverage of 10-50x, we can take advantage of this opportunity and potentially profit from it.","symbol":"ASTERUSDT","timestamp":1759624832244}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759624832571","module":"BybitClient","timestamp":"2025-10-05T00:40:32.572Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:40:32.572Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759624732644%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"1.9769\",\"liqPrice\":\"1.848\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.0087\",\"positionValue\":\"21376.2197\",\"isReduceOnly\":false,\"positionIMByMp\":\"1655.17736483\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.8462\",\"unrealisedPnl\":\"-10.813\",\"markPrice\":\"1.9759\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-730.88325956\",\"positionMM\":\"261.03264846\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1655.17736483\",\"positionMMByMp\":\"260.87802255\",\"seq\":140697266595063,\"updatedTime\":\"1759624732644\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1655.17736483\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.75692084\",\"size\":\"10813\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"1.9741\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759624833840}","module":"BybitClient","timestamp":"2025-10-05T00:40:33.431Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 10813 ASTERUSDT | PnL: -0.05%","module":"TradingStrategy","timestamp":"2025-10-05T00:40:33.432Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T00:40:33.432Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición ASTERUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T00:40:33.814Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T00:40:33.814Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:41:08.298Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:41:09.475Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:41:10.029Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:41:10.029Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La tendencia actual es bearish, pero el precio no ha alcanzado un nivel crítico para una re...","module":"OllamaClient","timestamp":"2025-10-05T00:41:16.982Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La tendencia actual es bearish, pero el precio no ha alcanzado un nivel crítico para una reversión. ...","module":"TradingStrategy","timestamp":"2025-10-05T00:41:16.985Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759624876985","module":"BybitClient","timestamp":"2025-10-05T00:41:16.986Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T00:41:16.984Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T00:41:16.985Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:41:16.987Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759624732644%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"1.9769\",\"liqPrice\":\"1.848\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"2.0087\",\"positionValue\":\"21376.2197\",\"isReduceOnly\":false,\"positionIMByMp\":\"1655.17736483\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.8462\",\"unrealisedPnl\":\"-12.9756\",\"markPrice\":\"1.9757\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-730.88325956\",\"positionMM\":\"261.03264846\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1655.17736483\",\"positionMMByMp\":\"260.84709737\",\"seq\":140697266595063,\"updatedTime\":\"1759624732644\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1655.17736483\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.75692084\",\"size\":\"10813\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"1.9741\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759624878911}","module":"BybitClient","timestamp":"2025-10-05T00:41:18.527Z"}
{"level":"info","message":"Ya existe una posición abierta, no se abrirá nueva posición","module":"TradingStrategy","timestamp":"2025-10-05T00:41:18.603Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T00:41:18.603Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T00:41:18.603Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:42:08.299Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:42:09.462Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:42:09.462Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:42:09.462Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T00:42:18.605Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.2000","module":"KalmanFilter","timestamp":"2025-10-05T00:42:18.606Z"}
{"level":"debug","message":"Predicción Kalman: 1.9781262374165933 (Confianza: 0.854)","module":"KalmanFilter","timestamp":"2025-10-05T00:42:18.607Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T00:42:19.503Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T00:42:56.702Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":1.9556825443211672,"middle":1.9816999999999996,"upper":2.007717455678832},"ema":{"ema21":1.9810279345469235,"ema50":1.9939166610697159,"ema9":1.9718877995891722},"macd":{"histogram":-0.0009501546030649781,"macd":-0.009501546030649788,"signal":-0.00855139142758481},"rsi":21.511627906976685,"volume":{"avg":230830.29,"current":601392,"ratio":2.6053426523876047}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is oversold and MACD is bearish, indicating a potential bottom. Additionally, the Kalman prediction of a price increase with high confidence suggests that this is a strong buying opportunity. With high leverage (10-50x), we can take advantage of this signal and potentially profit from it.","symbol":"ASTERUSDT","timestamp":1759624976704}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759624977044","module":"BybitClient","timestamp":"2025-10-05T00:42:57.054Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:42:57.118Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759624901312%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"1.9571\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-779.38416009\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266599553,\"updatedTime\":\"1759624901312\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759624978662}","module":"BybitClient","timestamp":"2025-10-05T00:42:58.266Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T00:42:58.267Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759624978267","module":"BybitClient","timestamp":"2025-10-05T00:42:58.267Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:42:58.267Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759624901312%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"1.9571\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-779.38416009\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266599553,\"updatedTime\":\"1759624901312\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759624979068}","module":"BybitClient","timestamp":"2025-10-05T00:42:58.661Z"}
{"level":"info","message":"AI sugiere BUY con confianza 0.8","module":"TradingStrategy","timestamp":"2025-10-05T00:42:58.662Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T00:42:58.662Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759624978663","module":"BybitClient","timestamp":"2025-10-05T00:42:58.663Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T00:42:58.663Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"213614.0106868\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"213614.0106868\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49994.72375386\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121044.65275139\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4487.879565\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38063.99234913\",\"totalPositionMM\":\"0\",\"usdValue\":\"38086.75461655\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"38063.99234913\",\"cumRealisedPnl\":\"-12843.61054087\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759624979464}","module":"BybitClient","timestamp":"2025-10-05T00:42:59.060Z"}
{"level":"info","message":"Balance disponible: $38063.99, Precio: $1.9533","module":"TradingStrategy","timestamp":"2025-10-05T00:42:59.061Z"}
{"level":"info","message":"Balance obtenido - Total: $213614.01, Disponible: $38063.99","module":"BybitClient","timestamp":"2025-10-05T00:42:59.061Z"}
{"level":"debug","message":"Símbolo info - Min: 1, Step: 1","module":"TradingStrategy","timestamp":"2025-10-05T00:42:59.453Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759624979455","module":"BybitClient","timestamp":"2025-10-05T00:42:59.455Z"}
{"level":"info","message":"Riesgo: 6.666666666666667%, Capital a arriesgar: $2537.60","module":"TradingStrategy","timestamp":"2025-10-05T00:42:59.454Z"}
{"level":"info","message":"Position value: $50751.99, Quantity raw: 25982.690728","module":"TradingStrategy","timestamp":"2025-10-05T00:42:59.454Z"}
{"level":"info","message":"Cantidad final calculada: 25982 ASTER (valor: $50750.64)","module":"TradingStrategy","timestamp":"2025-10-05T00:42:59.454Z"}
{"level":"info","message":"Parámetros calculados - Leverage: 20x, Quantity: 25982","module":"TradingStrategy","timestamp":"2025-10-05T00:42:59.454Z"}
{"level":"info","message":"Generando señal de trading: BUY 25982 ASTERUSDT @ 1.9533 (SL: 1.9415802, TP: 1.97556762)","module":"TradingStrategy","timestamp":"2025-10-05T00:42:59.454Z"}
{"level":"info","message":"EJECUTANDO TRADE: BUY 25982 ASTERUSDT","module":"TradingStrategy","timestamp":"2025-10-05T00:42:59.454Z"}
{"level":"info","message":"=== INICIO EJECUCIÓN DE TRADE ===","module":"TradingStrategy","timestamp":"2025-10-05T00:42:59.454Z"}
{"level":"info","message":"Señal: {\"symbol\":\"ASTERUSDT\",\"action\":\"BUY\",\"leverage\":20,\"quantity\":25982,\"stopLoss\":1.9415802,\"takeProfit\":1.97556762,\"timestamp\":1759624979454,\"aiAnalysis\":{\"decision\":\"BUY\",\"confidence\":0.8,\"reasoning\":\"RSI is oversold and MACD is bearish, indicating a potential bottom. Additionally, the Kalman prediction of a price increase with high confidence suggests that this is a strong buying opportunity. With high leverage (10-50x), we can take advantage of this signal and potentially profit from it.\",\"indicators\":{},\"kalman\":{},\"marketSentiment\":\"bullish\",\"riskLevel\":\"medium\",\"suggestedLeverage\":10}}","module":"TradingStrategy","timestamp":"2025-10-05T00:42:59.454Z"}
{"level":"info","message":"Validando con Risk Manager...","module":"TradingStrategy","timestamp":"2025-10-05T00:42:59.454Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T00:42:59.455Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"213614.0106868\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"213614.0106868\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49994.72375386\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121044.65275139\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4487.879565\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38063.99234913\",\"totalPositionMM\":\"0\",\"usdValue\":\"38086.75461655\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"38063.99234913\",\"cumRealisedPnl\":\"-12843.61054087\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759624980256}","module":"BybitClient","timestamp":"2025-10-05T00:42:59.851Z"}
{"level":"info","message":"Balance obtenido - Total: $213614.01, Disponible: $38063.99","module":"BybitClient","timestamp":"2025-10-05T00:42:59.886Z"}
{"level":"info","message":"Validando posición: Cantidad=25982, Precio=1.96, Valor=$50883.15","module":"RiskManager","timestamp":"2025-10-05T00:43:00.279Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759624980279","module":"BybitClient","timestamp":"2025-10-05T00:43:00.279Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:43:00.280Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759624901312%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"1.9573\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-779.38416009\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266599553,\"updatedTime\":\"1759624901312\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759624981081}","module":"BybitClient","timestamp":"2025-10-05T00:43:00.675Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T00:43:00.675Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 5m, límite: 20","module":"BybitClient","timestamp":"2025-10-05T00:43:01.068Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:43:01.461Z"}
{"level":"info","message":"Velas obtenidas: 20 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:43:01.461Z"}
{"level":"info","message":"Trade aprobado - Risk Score: 0.34","module":"RiskManager","timestamp":"2025-10-05T00:43:01.858Z"}
{"level":"info","message":"Resultado validación: {\"approved\":true,\"reason\":\"Trade aprobado por gestión de riesgo\",\"riskScore\":0.3402792877306379}","module":"TradingStrategy","timestamp":"2025-10-05T00:43:01.858Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759624981859","module":"BybitClient","timestamp":"2025-10-05T00:43:01.859Z"}
{"level":"info","message":"Trade aprobado por Risk Manager, ejecutando...","module":"TradingStrategy","timestamp":"2025-10-05T00:43:01.858Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"buyLeverage\":\"20\",\"sellLeverage\":\"20\"}","module":"BybitClient","timestamp":"2025-10-05T00:43:01.859Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{},\"retExtInfo\":{},\"time\":1759624982660}","module":"BybitClient","timestamp":"2025-10-05T00:43:02.254Z"}
{"level":"info","message":"Leverage establecido a 20x para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:43:02.306Z"}
{"level":"info","message":"Ejecutando orden: Buy 25982 ASTERUSDT | SL: 1.9415802 | TP: 1.97556762","module":"BybitClient","timestamp":"2025-10-05T00:43:02.306Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759624982306","module":"BybitClient","timestamp":"2025-10-05T00:43:02.306Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"side\":\"Buy\",\"orderType\":\"Market\",\"qty\":\"25982\",\"timeInForce\":\"IOC\",\"stopLoss\":\"1.9415802\",\"slTriggerBy\":\"LastPrice\",\"takeProfit\":\"1.97556762\",\"tpTriggerBy\":\"LastPrice\"}","module":"BybitClient","timestamp":"2025-10-05T00:43:02.306Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10001,\"retMsg\":\"The number of contracts exceeds maximum limit allowed: too large, order_qty:2598200000000 > max_qty:2500000000000\",\"result\":{},\"retExtInfo\":{},\"time\":1759624983109}","module":"BybitClient","timestamp":"2025-10-05T00:43:02.702Z"}
{"error":"Error: Error ejecutando trade: Error API Bybit: The number of contracts exceeds maximum limit allowed: too large, order_qty:2598200000000 > max_qty:2500000000000 (Code: 10001)\n    at BybitClient.executeTrade (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:203:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.executeTradingAction (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:246:24)\n    at async TradingStrategy.tradingLoop (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:98:11)","level":"error","message":"Error ejecutando acción de trading:","module":"TradingStrategy","timestamp":"2025-10-05T00:43:02.788Z"}
{"error":{"endpoint":"/v5/order/create","error":"Error API Bybit: The number of contracts exceeds maximum limit allowed: too large, order_qty:2598200000000 > max_qty:2500000000000 (Code: 10001)","method":"POST","params":{"category":"linear","orderType":"Market","qty":"25982","side":"Buy","slTriggerBy":"LastPrice","stopLoss":"1.9415802","symbol":"ASTERUSDT","takeProfit":"1.97556762","timeInForce":"IOC","tpTriggerBy":"LastPrice"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T00:43:02.709Z"}
{"error":"Error: Error API Bybit: The number of contracts exceeds maximum limit allowed: too large, order_qty:2598200000000 > max_qty:2500000000000 (Code: 10001)\n    at BybitClient.makeAuthenticatedRequest (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:464:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.executeTrade (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:187:24)\n    at async TradingStrategy.executeTradingAction (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:246:24)\n    at async TradingStrategy.tradingLoop (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:98:11)","level":"error","message":"Error ejecutando trade:","module":"BybitClient","timestamp":"2025-10-05T00:43:02.776Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:43:08.299Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:43:09.159Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:43:09.161Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:43:09.161Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T00:44:02.792Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.2000","module":"KalmanFilter","timestamp":"2025-10-05T00:44:02.794Z"}
{"level":"debug","message":"Predicción Kalman: 1.9728618295713205 (Confianza: 0.843)","module":"KalmanFilter","timestamp":"2025-10-05T00:44:02.800Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T00:44:03.912Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:44:08.300Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:44:08.703Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:44:08.705Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:44:08.705Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T00:44:48.426Z"}
{"confidence":0.3,"decision":"BUY","indicators":{"bollinger":{"lower":1.952548310432949,"middle":1.9755949999999998,"upper":1.9986416895670505},"ema":{"ema21":1.9753915208025477,"ema50":1.9889767434764265,"ema9":1.967226434169327},"macd":{"histogram":-0.0008982699045236402,"macd":-0.008982699045236409,"signal":-0.008084429140712768},"rsi":33.56807511737087,"volume":{"avg":255297.65,"current":136702,"ratio":0.535461254735404}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"{\n  \"decision\": \"BUY\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La RSI está por debajo del 30, indicando una posible oportunidad de compra. Además, el MACD está en un signal bullish y el Bollinger Band es","symbol":"ASTERUSDT","timestamp":1759625088428}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759625088429","module":"BybitClient","timestamp":"2025-10-05T00:44:48.429Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-05T00:44:48.428Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-05T00:44:48.428Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:44:48.429Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759624982659%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"20\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"1.9636\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-779.38416009\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266599553,\"updatedTime\":\"1759624982659\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759625089958}","module":"BybitClient","timestamp":"2025-10-05T00:44:49.559Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T00:44:49.559Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759625089559","module":"BybitClient","timestamp":"2025-10-05T00:44:49.559Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:44:49.559Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759624982659%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"20\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"1.9636\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-779.38416009\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266599553,\"updatedTime\":\"1759624982659\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759625090359}","module":"BybitClient","timestamp":"2025-10-05T00:44:49.952Z"}
{"level":"info","message":"AI sugiere BUY con confianza 0.3","module":"TradingStrategy","timestamp":"2025-10-05T00:44:49.952Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T00:44:49.952Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759625089952","module":"BybitClient","timestamp":"2025-10-05T00:44:49.952Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T00:44:49.952Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"213579.45346905\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"213579.45346905\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49998.12375547\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121008.51901035\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4484.419335\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38063.99234913\",\"totalPositionMM\":\"0\",\"usdValue\":\"38088.39136822\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"38063.99234913\",\"cumRealisedPnl\":\"-12843.61054087\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759625090752}","module":"BybitClient","timestamp":"2025-10-05T00:44:50.348Z"}
{"level":"info","message":"Balance disponible: $38063.99, Precio: $1.9602","module":"TradingStrategy","timestamp":"2025-10-05T00:44:50.350Z"}
{"level":"info","message":"Balance obtenido - Total: $213579.45, Disponible: $38063.99","module":"BybitClient","timestamp":"2025-10-05T00:44:50.350Z"}
{"level":"debug","message":"Símbolo info - Min: 1, Step: 1","module":"TradingStrategy","timestamp":"2025-10-05T00:44:50.743Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759625090747","module":"BybitClient","timestamp":"2025-10-05T00:44:50.747Z"}
{"level":"info","message":"Riesgo: 2.6666666666666665%, Capital a arriesgar: $1015.04","module":"TradingStrategy","timestamp":"2025-10-05T00:44:50.743Z"}
{"level":"info","message":"Position value: $8120.32, Quantity raw: 4142.596861","module":"TradingStrategy","timestamp":"2025-10-05T00:44:50.745Z"}
{"level":"info","message":"Cantidad final calculada: 4142 ASTER (valor: $8119.15)","module":"TradingStrategy","timestamp":"2025-10-05T00:44:50.745Z"}
{"level":"info","message":"Parámetros calculados - Leverage: 8x, Quantity: 4142","module":"TradingStrategy","timestamp":"2025-10-05T00:44:50.745Z"}
{"level":"info","message":"Generando señal de trading: BUY 4142 ASTERUSDT @ 1.9602 (SL: 1.9484388, TP: 1.97960598)","module":"TradingStrategy","timestamp":"2025-10-05T00:44:50.745Z"}
{"level":"info","message":"EJECUTANDO TRADE: BUY 4142 ASTERUSDT","module":"TradingStrategy","timestamp":"2025-10-05T00:44:50.745Z"}
{"level":"info","message":"=== INICIO EJECUCIÓN DE TRADE ===","module":"TradingStrategy","timestamp":"2025-10-05T00:44:50.745Z"}
{"level":"info","message":"Señal: {\"symbol\":\"ASTERUSDT\",\"action\":\"BUY\",\"leverage\":8,\"quantity\":4142,\"stopLoss\":1.9484388,\"takeProfit\":1.97960598,\"timestamp\":1759625090745,\"aiAnalysis\":{\"decision\":\"BUY\",\"confidence\":0.3,\"reasoning\":\"{\\n  \\\"decision\\\": \\\"BUY\\\",\\n  \\\"confidence\\\": 0.8,\\n  \\\"reasoning\\\": \\\"La RSI está por debajo del 30, indicando una posible oportunidad de compra. Además, el MACD está en un signal bullish y el Bollinger Band es\",\"indicators\":{},\"kalman\":{},\"marketSentiment\":\"neutral\",\"riskLevel\":\"medium\",\"suggestedLeverage\":2}}","module":"TradingStrategy","timestamp":"2025-10-05T00:44:50.745Z"}
{"level":"info","message":"Validando con Risk Manager...","module":"TradingStrategy","timestamp":"2025-10-05T00:44:50.747Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T00:44:50.747Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"213579.45346905\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"213579.45346905\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49998.12375547\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121008.51901035\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4484.419335\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38063.99234913\",\"totalPositionMM\":\"0\",\"usdValue\":\"38088.39136822\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"38063.99234913\",\"cumRealisedPnl\":\"-12843.61054087\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759625091549}","module":"BybitClient","timestamp":"2025-10-05T00:44:51.149Z"}
{"level":"info","message":"Balance obtenido - Total: $213579.45, Disponible: $38063.99","module":"BybitClient","timestamp":"2025-10-05T00:44:51.152Z"}
{"level":"info","message":"Validando posición: Cantidad=4142, Precio=1.96, Valor=$8134.47","module":"RiskManager","timestamp":"2025-10-05T00:44:51.545Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759625091561","module":"BybitClient","timestamp":"2025-10-05T00:44:51.561Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:44:51.561Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759624982659%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"20\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"1.9639\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-779.38416009\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266599553,\"updatedTime\":\"1759624982659\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759625092361}","module":"BybitClient","timestamp":"2025-10-05T00:44:51.955Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T00:44:51.955Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 5m, límite: 20","module":"BybitClient","timestamp":"2025-10-05T00:44:52.346Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:44:52.737Z"}
{"level":"info","message":"Velas obtenidas: 20 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:44:52.737Z"}
{"level":"info","message":"Trade aprobado - Risk Score: 0.14","module":"RiskManager","timestamp":"2025-10-05T00:44:53.126Z"}
{"level":"info","message":"Resultado validación: {\"approved\":true,\"reason\":\"Trade aprobado por gestión de riesgo\",\"riskScore\":0.14383323453993782}","module":"TradingStrategy","timestamp":"2025-10-05T00:44:53.127Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759625093127","module":"BybitClient","timestamp":"2025-10-05T00:44:53.127Z"}
{"level":"info","message":"Trade aprobado por Risk Manager, ejecutando...","module":"TradingStrategy","timestamp":"2025-10-05T00:44:53.127Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"buyLeverage\":\"8\",\"sellLeverage\":\"8\"}","module":"BybitClient","timestamp":"2025-10-05T00:44:53.127Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{},\"retExtInfo\":{},\"time\":1759625093926}","module":"BybitClient","timestamp":"2025-10-05T00:44:53.532Z"}
{"level":"info","message":"Leverage establecido a 8x para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:44:53.618Z"}
{"level":"info","message":"Ejecutando orden: Buy 4142 ASTERUSDT | SL: 1.9484388 | TP: 1.97960598","module":"BybitClient","timestamp":"2025-10-05T00:44:53.619Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759625093619","module":"BybitClient","timestamp":"2025-10-05T00:44:53.619Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"side\":\"Buy\",\"orderType\":\"Market\",\"qty\":\"4142\",\"timeInForce\":\"IOC\",\"stopLoss\":\"1.9484388\",\"slTriggerBy\":\"LastPrice\",\"takeProfit\":\"1.97960598\",\"tpTriggerBy\":\"LastPrice\"}","module":"BybitClient","timestamp":"2025-10-05T00:44:53.619Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"orderId\":\"6707415b-7d1f-4c09-99fd-5960796f1327\",\"orderLinkId\":\"\"},\"retExtInfo\":{},\"time\":1759625094419}","module":"BybitClient","timestamp":"2025-10-05T00:44:54.013Z"}
{"level":"info","message":"TRADE_OPEN","module":"TradingStrategy","pnl":0,"price":0,"quantity":4142,"side":"BUY","symbol":"ASTERUSDT","timestamp":1759625094241}
{"level":"debug","message":"Trades ejecutados hoy: 4/20","module":"RiskManager","timestamp":"2025-10-05T00:44:54.241Z"}
{"level":"info","message":"Orden ejecutada exitosamente: 6707415b-7d1f-4c09-99fd-5960796f1327","module":"BybitClient","timestamp":"2025-10-05T00:44:54.241Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:45:08.301Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:45:09.155Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:45:09.158Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:45:09.155Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T00:45:54.242Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.2000","module":"KalmanFilter","timestamp":"2025-10-05T00:45:54.244Z"}
{"level":"debug","message":"Predicción Kalman: 1.9683350521825014 (Confianza: 0.833)","module":"KalmanFilter","timestamp":"2025-10-05T00:45:54.244Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T00:45:55.337Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:46:08.301Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:46:09.495Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:46:09.496Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:46:09.495Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T00:46:42.184Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":1.9507665117778108,"middle":1.9661449999999996,"upper":1.9815234882221884},"ema":{"ema21":1.9681002044863136,"ema50":1.9805382591337932,"ema9":1.9639858287744558},"macd":{"histogram":-0.0005778826741319239,"macd":-0.005778826741319243,"signal":-0.005200944067187319},"rsi":42.90780141843972,"volume":{"avg":312096.16,"current":83068,"ratio":0.26616155738667213}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La RSI está por debajo del 30, indicando una posible oportunidad de compra. Además, el MACD está en un signal bullish y el Bollinger Band está en un área inferior, lo que sugiere una posibilidad de movimiento hacia arriba. La predicción de Kalman también indica una posibilidad de subida con alta confianza. Considerando todo esto, es recomendable tomar una posición de compra con un alto nivel de leverage","symbol":"ASTERUSDT","timestamp":1759625202185}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759625202186","module":"BybitClient","timestamp":"2025-10-05T00:46:42.187Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:46:42.187Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759625094418%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"8\",\"autoAddMargin\":0,\"avgPrice\":\"1.9638\",\"liqPrice\":\"1.7388\",\"riskLimitValue\":\"10000\",\"takeProfit\":\"1.9796\",\"positionValue\":\"8134.0596\",\"isReduceOnly\":false,\"positionIMByMp\":\"1020.67196619\",\"tpslMode\":\"Full\",\"riskId\":2,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.7363\",\"unrealisedPnl\":\"-6.213\",\"markPrice\":\"1.9623\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-783.85789287\",\"positionMM\":\"88.70257775\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1020.67196619\",\"positionMMByMp\":\"88.63361344\",\"seq\":140697266605199,\"updatedTime\":\"1759625094418\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1020.67196619\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-4.47373278\",\"size\":\"4142\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"1.9484\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759625203462}","module":"BybitClient","timestamp":"2025-10-05T00:46:43.053Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 4142 ASTERUSDT | PnL: -0.08%","module":"TradingStrategy","timestamp":"2025-10-05T00:46:43.054Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T00:46:43.053Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición ASTERUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T00:46:43.445Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T00:46:43.446Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:47:08.315Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:47:09.162Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:47:09.166Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:47:09.162Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La tendencia actual es favorable y no hay señales de reversión. Mantener la posición para a...","module":"OllamaClient","timestamp":"2025-10-05T00:47:17.485Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La tendencia actual es favorable y no hay señales de reversión. Mantener la posición para aprovechar...","module":"TradingStrategy","timestamp":"2025-10-05T00:47:17.497Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759625237507","module":"BybitClient","timestamp":"2025-10-05T00:47:17.523Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T00:47:17.496Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T00:47:17.497Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:47:17.524Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759625094418%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"8\",\"autoAddMargin\":0,\"avgPrice\":\"1.9638\",\"liqPrice\":\"1.7388\",\"riskLimitValue\":\"10000\",\"takeProfit\":\"1.9796\",\"positionValue\":\"8134.0596\",\"isReduceOnly\":false,\"positionIMByMp\":\"1020.67196619\",\"tpslMode\":\"Full\",\"riskId\":2,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.7363\",\"unrealisedPnl\":\"-12.426\",\"markPrice\":\"1.9608\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-783.85789287\",\"positionMM\":\"88.70257775\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1020.67196619\",\"positionMMByMp\":\"88.56464914\",\"seq\":140697266605199,\"updatedTime\":\"1759625094418\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1020.67196619\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-4.47373278\",\"size\":\"4142\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"1.9484\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759625239458}","module":"BybitClient","timestamp":"2025-10-05T00:47:19.071Z"}
{"level":"info","message":"Ya existe una posición abierta, no se abrirá nueva posición","module":"TradingStrategy","timestamp":"2025-10-05T00:47:19.080Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T00:47:19.079Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T00:47:19.080Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:48:08.312Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:48:09.566Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:48:09.583Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:48:09.566Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T00:48:19.092Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.2000","module":"KalmanFilter","timestamp":"2025-10-05T00:48:19.094Z"}
{"level":"debug","message":"Predicción Kalman: 1.9581275714722801 (Confianza: 0.864)","module":"KalmanFilter","timestamp":"2025-10-05T00:48:19.111Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T00:48:20.100Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:49:08.327Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:49:09.572Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:49:09.631Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:49:09.630Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T00:49:42.735Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":1.9449623518964054,"middle":1.9613150000000001,"upper":1.9776676481035949},"ema":{"ema21":1.9607184528338748,"ema50":1.9712264913100586,"ema9":1.954971235452841},"macd":{"histogram":-0.000555365001035057,"macd":-0.005553650010350575,"signal":-0.004998285009315518},"rsi":36.7977528089888,"volume":{"avg":381345.32,"current":187234,"ratio":0.4909828184072116}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La RSI está por debajo del 30, indicando una posible oscilación hacia abajo. Además, el MACD es negativo y está aumentando, lo que sugiere una posible inversión. La Kalman predice un aumento en el precio con una confianza del 86.4%, lo que justifica la decisión de invertir. Utilizar un leverage alto (10-50x) para maximizar los beneficios.","symbol":"ASTERUSDT","timestamp":1759625382789}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759625382800","module":"BybitClient","timestamp":"2025-10-05T00:49:42.816Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:49:42.817Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759625250492%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"8\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"1.9284\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-852.08334291\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266609622,\"updatedTime\":\"1759625250492\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759625384465}","module":"BybitClient","timestamp":"2025-10-05T00:49:44.061Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T00:49:44.062Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759625384062","module":"BybitClient","timestamp":"2025-10-05T00:49:44.062Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:49:44.062Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759625250492%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"8\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"1.9284\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-852.08334291\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266609622,\"updatedTime\":\"1759625250492\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759625384875}","module":"BybitClient","timestamp":"2025-10-05T00:49:44.473Z"}
{"level":"info","message":"AI sugiere BUY con confianza 0.8","module":"TradingStrategy","timestamp":"2025-10-05T00:49:44.475Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T00:49:44.474Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759625384475","module":"BybitClient","timestamp":"2025-10-05T00:49:44.475Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T00:49:44.475Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"213490.03934568\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"213490.03934568\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49995.67375431\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"120999.43788675\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4480.915745\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37991.29316631\",\"totalPositionMM\":\"0\",\"usdValue\":\"38014.01195962\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"37991.29316631\",\"cumRealisedPnl\":\"-12916.30972369\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759625385617}","module":"BybitClient","timestamp":"2025-10-05T00:49:45.219Z"}
{"level":"info","message":"Balance disponible: $37991.29, Precio: $1.9384","module":"TradingStrategy","timestamp":"2025-10-05T00:49:45.221Z"}
{"level":"info","message":"Balance obtenido - Total: $213490.04, Disponible: $37991.29","module":"BybitClient","timestamp":"2025-10-05T00:49:45.221Z"}
{"level":"debug","message":"Símbolo info - Min: 1, Step: 1","module":"TradingStrategy","timestamp":"2025-10-05T00:49:45.633Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759625385635","module":"BybitClient","timestamp":"2025-10-05T00:49:45.635Z"}
{"level":"info","message":"Riesgo: 5%, Capital a arriesgar: $1899.56","module":"TradingStrategy","timestamp":"2025-10-05T00:49:45.633Z"}
{"level":"info","message":"Position value: $28493.47, Quantity raw: 14699.478887","module":"TradingStrategy","timestamp":"2025-10-05T00:49:45.633Z"}
{"level":"info","message":"Cantidad final calculada: 14699 ASTER (valor: $28492.54)","module":"TradingStrategy","timestamp":"2025-10-05T00:49:45.633Z"}
{"level":"info","message":"Parámetros calculados - Leverage: 15x, Quantity: 14699","module":"TradingStrategy","timestamp":"2025-10-05T00:49:45.633Z"}
{"level":"info","message":"Generando señal de trading: BUY 14699 ASTERUSDT @ 1.9384 (SL: 1.9267695999999999, TP: 1.96049776)","module":"TradingStrategy","timestamp":"2025-10-05T00:49:45.633Z"}
{"level":"info","message":"EJECUTANDO TRADE: BUY 14699 ASTERUSDT","module":"TradingStrategy","timestamp":"2025-10-05T00:49:45.634Z"}
{"level":"info","message":"=== INICIO EJECUCIÓN DE TRADE ===","module":"TradingStrategy","timestamp":"2025-10-05T00:49:45.634Z"}
{"level":"info","message":"Señal: {\"symbol\":\"ASTERUSDT\",\"action\":\"BUY\",\"leverage\":15,\"quantity\":14699,\"stopLoss\":1.9267695999999999,\"takeProfit\":1.96049776,\"timestamp\":1759625385633,\"aiAnalysis\":{\"decision\":\"BUY\",\"confidence\":0.8,\"reasoning\":\"La RSI está por debajo del 30, indicando una posible oscilación hacia abajo. Además, el MACD es negativo y está aumentando, lo que sugiere una posible inversión. La Kalman predice un aumento en el precio con una confianza del 86.4%, lo que justifica la decisión de invertir. Utilizar un leverage alto (10-50x) para maximizar los beneficios.\",\"indicators\":{},\"kalman\":{},\"marketSentiment\":\"bullish\",\"riskLevel\":\"medium\",\"suggestedLeverage\":10}}","module":"TradingStrategy","timestamp":"2025-10-05T00:49:45.634Z"}
{"level":"info","message":"Validando con Risk Manager...","module":"TradingStrategy","timestamp":"2025-10-05T00:49:45.634Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T00:49:45.635Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"213490.03934568\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"213490.03934568\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49995.67375431\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"120999.43788675\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4480.915745\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37991.29316631\",\"totalPositionMM\":\"0\",\"usdValue\":\"38014.01195962\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"37991.29316631\",\"cumRealisedPnl\":\"-12916.30972369\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759625386450}","module":"BybitClient","timestamp":"2025-10-05T00:49:46.048Z"}
{"level":"info","message":"Balance obtenido - Total: $213490.04, Disponible: $37991.29","module":"BybitClient","timestamp":"2025-10-05T00:49:46.059Z"}
{"level":"info","message":"Validando posición: Cantidad=14699, Precio=1.92, Valor=$28282.35","module":"RiskManager","timestamp":"2025-10-05T00:49:46.468Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759625386468","module":"BybitClient","timestamp":"2025-10-05T00:49:46.468Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:49:46.468Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759625250492%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"8\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"1.9233\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-852.08334291\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266609622,\"updatedTime\":\"1759625250492\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759625387282}","module":"BybitClient","timestamp":"2025-10-05T00:49:46.895Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T00:49:46.895Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 5m, límite: 20","module":"BybitClient","timestamp":"2025-10-05T00:49:47.314Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:49:48.064Z"}
{"level":"info","message":"Velas obtenidas: 20 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:49:48.068Z"}
{"level":"info","message":"Trade aprobado - Risk Score: 0.31","module":"RiskManager","timestamp":"2025-10-05T00:49:48.834Z"}
{"level":"info","message":"Resultado validación: {\"approved\":true,\"reason\":\"Trade aprobado por gestión de riesgo\",\"riskScore\":0.3135866973092483}","module":"TradingStrategy","timestamp":"2025-10-05T00:49:48.834Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759625388834","module":"BybitClient","timestamp":"2025-10-05T00:49:48.834Z"}
{"level":"info","message":"Trade aprobado por Risk Manager, ejecutando...","module":"TradingStrategy","timestamp":"2025-10-05T00:49:48.834Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"buyLeverage\":\"15\",\"sellLeverage\":\"15\"}","module":"BybitClient","timestamp":"2025-10-05T00:49:48.834Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{},\"retExtInfo\":{},\"time\":1759625389647}","module":"BybitClient","timestamp":"2025-10-05T00:49:49.243Z"}
{"level":"info","message":"Leverage establecido a 15x para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:49:49.244Z"}
{"level":"info","message":"Ejecutando orden: Buy 14699 ASTERUSDT | SL: 1.9267695999999999 | TP: 1.96049776","module":"BybitClient","timestamp":"2025-10-05T00:49:49.244Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759625389244","module":"BybitClient","timestamp":"2025-10-05T00:49:49.244Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"side\":\"Buy\",\"orderType\":\"Market\",\"qty\":\"14699\",\"timeInForce\":\"IOC\",\"stopLoss\":\"1.9267695999999999\",\"slTriggerBy\":\"LastPrice\",\"takeProfit\":\"1.96049776\",\"tpTriggerBy\":\"LastPrice\"}","module":"BybitClient","timestamp":"2025-10-05T00:49:49.244Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10001,\"retMsg\":\"StopLoss:192670000 set for Buy position should lower than base_price:192050000??LastPrice\",\"result\":{},\"retExtInfo\":{},\"time\":1759625390387}","module":"BybitClient","timestamp":"2025-10-05T00:49:49.984Z"}
{"error":"Error: Error ejecutando trade: Error API Bybit: StopLoss:192670000 set for Buy position should lower than base_price:192050000??LastPrice (Code: 10001)\n    at BybitClient.executeTrade (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:203:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.executeTradingAction (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:246:24)\n    at async TradingStrategy.tradingLoop (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:98:11)","level":"error","message":"Error ejecutando acción de trading:","module":"TradingStrategy","timestamp":"2025-10-05T00:49:50.004Z"}
{"error":{"endpoint":"/v5/order/create","error":"Error API Bybit: StopLoss:192670000 set for Buy position should lower than base_price:192050000??LastPrice (Code: 10001)","method":"POST","params":{"category":"linear","orderType":"Market","qty":"14699","side":"Buy","slTriggerBy":"LastPrice","stopLoss":"1.9267695999999999","symbol":"ASTERUSDT","takeProfit":"1.96049776","timeInForce":"IOC","tpTriggerBy":"LastPrice"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T00:49:50.000Z"}
{"error":"Error: Error API Bybit: StopLoss:192670000 set for Buy position should lower than base_price:192050000??LastPrice (Code: 10001)\n    at BybitClient.makeAuthenticatedRequest (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:464:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.executeTrade (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:187:24)\n    at async TradingStrategy.executeTradingAction (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:246:24)\n    at async TradingStrategy.tradingLoop (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:98:11)","level":"error","message":"Error ejecutando trade:","module":"BybitClient","timestamp":"2025-10-05T00:49:50.004Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:50:08.305Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:50:09.206Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:50:09.207Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:50:09.206Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T00:50:50.033Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.2000","module":"KalmanFilter","timestamp":"2025-10-05T00:50:50.054Z"}
{"level":"debug","message":"Predicción Kalman: 1.9410267278648308 (Confianza: 0.867)","module":"KalmanFilter","timestamp":"2025-10-05T00:50:50.057Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T00:50:51.253Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:51:08.307Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:51:09.872Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:51:09.873Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:51:09.872Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T00:51:41.921Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":1.9164993490036482,"middle":1.9499099999999996,"upper":1.983320650996351},"ema":{"ema21":1.9464123110749443,"ema50":1.9607341084254013,"ema9":1.9357762641391159},"macd":{"histogram":-0.001015242705602092,"macd":-0.01015242705602093,"signal":-0.009137184350418838},"rsi":37.831733483907406,"volume":{"avg":474997.14,"current":154021,"ratio":0.3242566892086971}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La señal de RSI < 30 y MACD bullish es muy fuerte, Además el cambio reciente de -2.42% es un buen indicio de que el mercado está bajo y puede haber una oportunidad de comprar en este momento.","symbol":"ASTERUSDT","timestamp":1759625502039}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759625502042","module":"BybitClient","timestamp":"2025-10-05T00:51:42.045Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:51:42.045Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759625389646%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"1.9305\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-852.08334291\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266609622,\"updatedTime\":\"1759625389646\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759625503432}","module":"BybitClient","timestamp":"2025-10-05T00:51:43.042Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T00:51:43.044Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759625503055","module":"BybitClient","timestamp":"2025-10-05T00:51:43.072Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:51:43.072Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759625389646%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"1.9305\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-852.08334291\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266609622,\"updatedTime\":\"1759625389646\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759625503918}","module":"BybitClient","timestamp":"2025-10-05T00:51:43.517Z"}
{"level":"info","message":"AI sugiere BUY con confianza 0.8","module":"TradingStrategy","timestamp":"2025-10-05T00:51:43.839Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T00:51:43.518Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759625503841","module":"BybitClient","timestamp":"2025-10-05T00:51:43.841Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T00:51:43.841Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"213471.69238993\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"213471.69238993\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49992.87375298\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"120988.77627686\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4478.043939\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37991.29316631\",\"totalPositionMM\":\"0\",\"usdValue\":\"38011.99842108\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"37991.29316631\",\"cumRealisedPnl\":\"-12916.30972369\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759625504987}","module":"BybitClient","timestamp":"2025-10-05T00:51:44.595Z"}
{"level":"info","message":"Balance disponible: $37991.29, Precio: $1.9286","module":"TradingStrategy","timestamp":"2025-10-05T00:51:44.679Z"}
{"level":"info","message":"Balance obtenido - Total: $213471.69, Disponible: $37991.29","module":"BybitClient","timestamp":"2025-10-05T00:51:44.601Z"}
{"level":"debug","message":"Símbolo info - Min: 1, Step: 1","module":"TradingStrategy","timestamp":"2025-10-05T00:51:45.438Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759625506360","module":"BybitClient","timestamp":"2025-10-05T00:51:46.361Z"}
{"level":"info","message":"Riesgo: 5.666666666666667%, Capital a arriesgar: $2152.84","module":"TradingStrategy","timestamp":"2025-10-05T00:51:46.331Z"}
{"level":"info","message":"Position value: $36598.28, Quantity raw: 18976.604316","module":"TradingStrategy","timestamp":"2025-10-05T00:51:46.358Z"}
{"level":"info","message":"Cantidad final calculada: 18976 ASTER (valor: $36597.11)","module":"TradingStrategy","timestamp":"2025-10-05T00:51:46.358Z"}
{"level":"info","message":"Parámetros calculados - Leverage: 17x, Quantity: 18976","module":"TradingStrategy","timestamp":"2025-10-05T00:51:46.359Z"}
{"level":"info","message":"Generando señal de trading: BUY 18976 ASTERUSDT @ 1.9286 (SL: 1.9170284000000002, TP: 1.95058604)","module":"TradingStrategy","timestamp":"2025-10-05T00:51:46.359Z"}
{"level":"info","message":"EJECUTANDO TRADE: BUY 18976 ASTERUSDT","module":"TradingStrategy","timestamp":"2025-10-05T00:51:46.359Z"}
{"level":"info","message":"=== INICIO EJECUCIÓN DE TRADE ===","module":"TradingStrategy","timestamp":"2025-10-05T00:51:46.359Z"}
{"level":"info","message":"Señal: {\"symbol\":\"ASTERUSDT\",\"action\":\"BUY\",\"leverage\":17,\"quantity\":18976,\"stopLoss\":1.9170284000000002,\"takeProfit\":1.95058604,\"timestamp\":1759625506359,\"aiAnalysis\":{\"decision\":\"BUY\",\"confidence\":0.8,\"reasoning\":\"La señal de RSI < 30 y MACD bullish es muy fuerte, Además el cambio reciente de -2.42% es un buen indicio de que el mercado está bajo y puede haber una oportunidad de comprar en este momento.\",\"indicators\":{},\"kalman\":{},\"marketSentiment\":\"bullish\",\"riskLevel\":\"medium\",\"suggestedLeverage\":10}}","module":"TradingStrategy","timestamp":"2025-10-05T00:51:46.359Z"}
{"level":"info","message":"Validando con Risk Manager...","module":"TradingStrategy","timestamp":"2025-10-05T00:51:46.359Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T00:51:46.361Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"213471.69238993\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"213471.69238993\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49992.87375298\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"120988.77627686\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4478.043939\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37991.29316631\",\"totalPositionMM\":\"0\",\"usdValue\":\"38011.99842108\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"37991.29316631\",\"cumRealisedPnl\":\"-12916.30972369\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759625507181}","module":"BybitClient","timestamp":"2025-10-05T00:51:46.775Z"}
{"level":"info","message":"Balance obtenido - Total: $213471.69, Disponible: $37991.29","module":"BybitClient","timestamp":"2025-10-05T00:51:46.775Z"}
{"level":"info","message":"Validando posición: Cantidad=18976, Precio=1.93, Valor=$36631.27","module":"RiskManager","timestamp":"2025-10-05T00:51:47.181Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759625507181","module":"BybitClient","timestamp":"2025-10-05T00:51:47.181Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:51:47.181Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759625389646%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"1.9297\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-852.08334291\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266609622,\"updatedTime\":\"1759625389646\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759625508041}","module":"BybitClient","timestamp":"2025-10-05T00:51:47.736Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T00:51:47.736Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 5m, límite: 20","module":"BybitClient","timestamp":"2025-10-05T00:51:48.547Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:51:48.955Z"}
{"level":"info","message":"Velas obtenidas: 20 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:51:48.956Z"}
{"level":"info","message":"Trade aprobado - Risk Score: 0.33","module":"RiskManager","timestamp":"2025-10-05T00:51:49.419Z"}
{"level":"info","message":"Resultado validación: {\"approved\":true,\"reason\":\"Trade aprobado por gestión de riesgo\",\"riskScore\":0.32589013025725916}","module":"TradingStrategy","timestamp":"2025-10-05T00:51:49.618Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759625509618","module":"BybitClient","timestamp":"2025-10-05T00:51:49.619Z"}
{"level":"info","message":"Trade aprobado por Risk Manager, ejecutando...","module":"TradingStrategy","timestamp":"2025-10-05T00:51:49.618Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"buyLeverage\":\"17\",\"sellLeverage\":\"17\"}","module":"BybitClient","timestamp":"2025-10-05T00:51:49.619Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{},\"retExtInfo\":{},\"time\":1759625510435}","module":"BybitClient","timestamp":"2025-10-05T00:51:50.034Z"}
{"level":"info","message":"Leverage establecido a 17x para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:51:50.035Z"}
{"level":"info","message":"Ejecutando orden: Buy 18976 ASTERUSDT | SL: 1.9170284000000002 | TP: 1.95058604","module":"BybitClient","timestamp":"2025-10-05T00:51:50.035Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759625510035","module":"BybitClient","timestamp":"2025-10-05T00:51:50.035Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"side\":\"Buy\",\"orderType\":\"Market\",\"qty\":\"18976\",\"timeInForce\":\"IOC\",\"stopLoss\":\"1.9170284000000002\",\"slTriggerBy\":\"LastPrice\",\"takeProfit\":\"1.95058604\",\"tpTriggerBy\":\"LastPrice\"}","module":"BybitClient","timestamp":"2025-10-05T00:51:50.036Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"orderId\":\"4493e786-02b2-47fa-859e-42b2db682b3b\",\"orderLinkId\":\"\"},\"retExtInfo\":{},\"time\":1759625510850}","module":"BybitClient","timestamp":"2025-10-05T00:51:50.450Z"}
{"level":"info","message":"TRADE_OPEN","module":"TradingStrategy","pnl":0,"price":0,"quantity":18976,"side":"BUY","symbol":"ASTERUSDT","timestamp":1759625510450}
{"level":"debug","message":"Trades ejecutados hoy: 5/20","module":"RiskManager","timestamp":"2025-10-05T00:51:50.451Z"}
{"level":"info","message":"Orden ejecutada exitosamente: 4493e786-02b2-47fa-859e-42b2db682b3b","module":"BybitClient","timestamp":"2025-10-05T00:51:50.450Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:52:08.306Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:52:09.765Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:52:09.766Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:52:09.766Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T00:52:50.456Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1070","module":"KalmanFilter","timestamp":"2025-10-05T00:52:50.463Z"}
{"level":"debug","message":"Predicción Kalman: 1.9324513202417033 (Confianza: 0.883)","module":"KalmanFilter","timestamp":"2025-10-05T00:52:50.464Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T00:52:51.585Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:53:08.308Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:53:09.193Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:53:09.194Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:53:09.193Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T00:53:41.256Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":1.9085518600865674,"middle":1.935465,"upper":1.9623781399134326},"ema":{"ema21":1.9363870842790483,"ema50":1.950661450646396,"ema9":1.9307569605984498},"macd":{"histogram":-0.0007217241544223317,"macd":-0.007217241544223318,"signal":-0.006495517389800987},"rsi":38.48484848484852,"volume":{"avg":556503.56,"current":37499,"ratio":0.06738321673988931}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La RSI está por debajo de 30 y el MACD es bullish, lo que sugiere una posible recuperación del mercado. Además, el Kalman predice un aumento en el precio con alta confianza. Considerando el leverage alto (10-50x) y la volatilidad alta, es recomendable realizar una operación de compra con una confianza del 88.3%","symbol":"ASTERUSDT","timestamp":1759625621257}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759625621258","module":"BybitClient","timestamp":"2025-10-05T00:53:41.258Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:53:41.258Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759625510849%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"1.9298\",\"liqPrice\":\"1.8418\",\"riskLimitValue\":\"40000\",\"takeProfit\":\"1.9505\",\"positionValue\":\"36619.8848\",\"isReduceOnly\":false,\"positionIMByMp\":\"2173.0671755\",\"tpslMode\":\"Full\",\"riskId\":5,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.8403\",\"unrealisedPnl\":\"-92.9824\",\"markPrice\":\"1.9249\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-872.22427955\",\"positionMM\":\"503.00835953\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"2173.0671755\",\"positionMMByMp\":\"501.45555344\",\"seq\":140697266617154,\"updatedTime\":\"1759625510849\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2173.0671755\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.14093664\",\"size\":\"18976\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"1.917\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759625622843}","module":"BybitClient","timestamp":"2025-10-05T00:53:42.432Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 18976 ASTERUSDT | PnL: -0.25%","module":"TradingStrategy","timestamp":"2025-10-05T00:53:42.433Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T00:53:42.433Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición ASTERUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T00:53:42.866Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T00:53:42.899Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:54:08.309Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:54:09.476Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:54:09.478Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:54:09.477Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La tendencia actual es favorable y no hay señales de reversión. Mantener la posición para a...","module":"OllamaClient","timestamp":"2025-10-05T00:54:13.481Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La tendencia actual es favorable y no hay señales de reversión. Mantener la posición para aprovechar...","module":"TradingStrategy","timestamp":"2025-10-05T00:54:13.506Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759625653506","module":"BybitClient","timestamp":"2025-10-05T00:54:13.507Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T00:54:13.504Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T00:54:13.506Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:54:13.508Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759625510849%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"1.9298\",\"liqPrice\":\"1.8418\",\"riskLimitValue\":\"40000\",\"takeProfit\":\"1.9505\",\"positionValue\":\"36619.8848\",\"isReduceOnly\":false,\"positionIMByMp\":\"2173.0671755\",\"tpslMode\":\"Full\",\"riskId\":5,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.8403\",\"unrealisedPnl\":\"-111.9584\",\"markPrice\":\"1.9239\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-872.22427955\",\"positionMM\":\"503.00835953\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"2173.0671755\",\"positionMMByMp\":\"501.13865424\",\"seq\":140697266617154,\"updatedTime\":\"1759625510849\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2173.0671755\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.14093664\",\"size\":\"18976\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"1.917\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759625654462}","module":"BybitClient","timestamp":"2025-10-05T00:54:14.041Z"}
{"level":"info","message":"Ya existe una posición abierta, no se abrirá nueva posición","module":"TradingStrategy","timestamp":"2025-10-05T00:54:14.042Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T00:54:14.042Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T00:54:14.042Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:55:08.309Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:55:09.728Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:55:09.729Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:55:09.729Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T00:55:14.046Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T00:55:14.048Z"}
{"level":"debug","message":"Predicción Kalman: 1.927086662044527 (Confianza: 0.902)","module":"KalmanFilter","timestamp":"2025-10-05T00:55:14.049Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T00:55:14.452Z"}
{"level":"info","message":"Recibida señal SIGINT, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-05T00:55:24.364Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759625724379}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-05T00:55:24.380Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-05T00:55:24.387Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759625740942}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T00:55:40.910Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T00:55:40.868Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T00:55:40.902Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"ASTERUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T00:55:40.908Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T00:55:40.908Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"ASTERUSDT","timestamp":1759625740945}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T00:55:40.924Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"ASTERUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T00:55:40.937Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T00:55:40.932Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T00:55:40.942Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T00:55:40.940Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T00:55:40.942Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T00:55:40.942Z"}
{"level":"info","message":"Iniciando estrategia de trading para ASTERUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T00:55:40.945Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T00:55:40.910Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T00:55:40.911Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T00:55:40.911Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T00:55:40.911Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T00:55:40.912Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T00:55:40.912Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T00:55:40.913Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T00:55:40.913Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T00:55:40.914Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T00:55:40.915Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T00:55:40.915Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T00:55:40.976Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-05T00:55:41.430Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-05T00:55:42.590Z"}
{"level":"info","message":"Iniciando recopilación de datos para ASTERUSDT (1m)","module":"DataManager","timestamp":"2025-10-05T00:55:42.590Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 200","module":"BybitClient","timestamp":"2025-10-05T00:55:42.608Z"}
{"level":"info","message":"Recopilando datos históricos para ASTERUSDT...","module":"DataManager","timestamp":"2025-10-05T00:55:42.591Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:55:43.088Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para ASTERUSDT","module":"DataManager","timestamp":"2025-10-05T00:55:43.089Z"}
{"level":"info","message":"Datos suficientes recopilados para ASTERUSDT","module":"TradingStrategy","timestamp":"2025-10-05T00:55:43.090Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T00:55:43.091Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1815","module":"KalmanFilter","timestamp":"2025-10-05T00:55:43.092Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-05T00:55:43.093Z"}
{"level":"info","message":"Velas obtenidas: 200 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:55:43.089Z"}
{"level":"info","message":"Recopilación de datos iniciada para ASTERUSDT","module":"DataManager","timestamp":"2025-10-05T00:55:43.089Z"}
{"level":"debug","message":"Predicción Kalman: 1.9460434338763375 (Confianza: 0.863)","module":"KalmanFilter","timestamp":"2025-10-05T00:55:43.093Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T00:55:43.486Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:56:43.092Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:56:44.259Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:56:44.260Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:56:44.259Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T00:56:44.608Z"}
{"confidence":0.3,"decision":"BUY","indicators":{"bollinger":{"lower":1.9037297496978465,"middle":1.9532699999999998,"upper":2.002810250302153},"ema":{"ema21":1.9530115822592302,"ema50":1.9841611378134538,"ema9":1.9326242871570163},"macd":{"histogram":-0.002207119393269185,"macd":-0.022071193932691857,"signal":-0.019864074539422672},"rsi":28.056112224448896,"volume":{"avg":256308.76,"current":1167571,"ratio":4.555330063631067}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"{\n  \"decision\": \"BUY\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La señal de RSI es una oversold con un cambio reciente del -2.32%, lo que sugiere un posible aliento en el precio. Además, el indicador MACD","symbol":"ASTERUSDT","timestamp":1759625805019}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759625805315","module":"BybitClient","timestamp":"2025-10-05T00:56:45.317Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-05T00:56:44.615Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-05T00:56:44.616Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:56:45.318Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759625734152%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"1.9134\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-1146.50376307\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266623207,\"updatedTime\":\"1759625734152\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759625806133}","module":"BybitClient","timestamp":"2025-10-05T00:56:45.731Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T00:56:45.731Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759625805731","module":"BybitClient","timestamp":"2025-10-05T00:56:45.732Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:56:45.732Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759625734152%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"1.9131\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-1146.50376307\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266623207,\"updatedTime\":\"1759625734152\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759625806546}","module":"BybitClient","timestamp":"2025-10-05T00:56:46.132Z"}
{"level":"info","message":"AI sugiere BUY con confianza 0.3","module":"TradingStrategy","timestamp":"2025-10-05T00:56:46.141Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T00:56:46.140Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759625806142","module":"BybitClient","timestamp":"2025-10-05T00:56:46.142Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T00:56:46.142Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"213092.44834047\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"213092.44834047\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49993.42375324\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"120906.34046348\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4474.361857\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37696.87274615\",\"totalPositionMM\":\"0\",\"usdValue\":\"37718.32226674\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"37696.87274615\",\"cumRealisedPnl\":\"-13210.73014385\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759625806959}","module":"BybitClient","timestamp":"2025-10-05T00:56:46.548Z"}
{"level":"info","message":"Balance disponible: $37696.87, Precio: $1.9119","module":"TradingStrategy","timestamp":"2025-10-05T00:56:46.550Z"}
{"level":"info","message":"Balance obtenido - Total: $213092.45, Disponible: $37696.87","module":"BybitClient","timestamp":"2025-10-05T00:56:46.549Z"}
{"level":"debug","message":"Símbolo info - Min: 1, Step: 1","module":"TradingStrategy","timestamp":"2025-10-05T00:56:46.952Z"}
{"level":"info","message":"Contador diario de trades reseteado","module":"RiskManager","timestamp":"2025-10-05T00:56:46.962Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759625806971","module":"BybitClient","timestamp":"2025-10-05T00:56:46.972Z"}
{"level":"info","message":"Riesgo: 5.333333333333333%, Capital a arriesgar: $2010.50","module":"TradingStrategy","timestamp":"2025-10-05T00:56:46.953Z"}
{"level":"info","message":"Position value: $32168.00, Quantity raw: 16825.146753","module":"TradingStrategy","timestamp":"2025-10-05T00:56:46.953Z"}
{"level":"info","message":"Cantidad final calculada: 16825 ASTER (valor: $32167.72)","module":"TradingStrategy","timestamp":"2025-10-05T00:56:46.953Z"}
{"level":"info","message":"Parámetros calculados - Leverage: 16x, Quantity: 16825","module":"TradingStrategy","timestamp":"2025-10-05T00:56:46.953Z"}
{"level":"info","message":"Generando señal de trading: BUY 16825 ASTERUSDT @ 1.9119 (SL: 1.9004286, TP: 1.93082781)","module":"TradingStrategy","timestamp":"2025-10-05T00:56:46.953Z"}
{"level":"info","message":"EJECUTANDO TRADE: BUY 16825 ASTERUSDT","module":"TradingStrategy","timestamp":"2025-10-05T00:56:46.953Z"}
{"level":"info","message":"=== INICIO EJECUCIÓN DE TRADE ===","module":"TradingStrategy","timestamp":"2025-10-05T00:56:46.953Z"}
{"level":"info","message":"Señal: {\"symbol\":\"ASTERUSDT\",\"action\":\"BUY\",\"leverage\":16,\"quantity\":16825,\"stopLoss\":1.9004286,\"takeProfit\":1.93082781,\"timestamp\":1759625806953,\"aiAnalysis\":{\"decision\":\"BUY\",\"confidence\":0.3,\"reasoning\":\"{\\n  \\\"decision\\\": \\\"BUY\\\",\\n  \\\"confidence\\\": 0.8,\\n  \\\"reasoning\\\": \\\"La señal de RSI es una oversold con un cambio reciente del -2.32%, lo que sugiere un posible aliento en el precio. Además, el indicador MACD\",\"indicators\":{},\"kalman\":{},\"marketSentiment\":\"neutral\",\"riskLevel\":\"medium\",\"suggestedLeverage\":2}}","module":"TradingStrategy","timestamp":"2025-10-05T00:56:46.961Z"}
{"level":"info","message":"Validando con Risk Manager...","module":"TradingStrategy","timestamp":"2025-10-05T00:56:46.961Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T00:56:46.982Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"213092.44834047\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"213092.44834047\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49993.42375324\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"120906.34046348\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4474.361857\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37696.87274615\",\"totalPositionMM\":\"0\",\"usdValue\":\"37718.32226674\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"37696.87274615\",\"cumRealisedPnl\":\"-13210.73014385\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759625807863}","module":"BybitClient","timestamp":"2025-10-05T00:56:47.450Z"}
{"level":"info","message":"Balance obtenido - Total: $213092.45, Disponible: $37696.87","module":"BybitClient","timestamp":"2025-10-05T00:56:47.455Z"}
{"level":"info","message":"Validando posición: Cantidad=16825, Precio=1.91, Valor=$32198.00","module":"RiskManager","timestamp":"2025-10-05T00:56:47.851Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759625807851","module":"BybitClient","timestamp":"2025-10-05T00:56:47.851Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:56:47.851Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759625734152%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"1.9131\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-1146.50376307\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266623207,\"updatedTime\":\"1759625734152\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759625808663}","module":"BybitClient","timestamp":"2025-10-05T00:56:48.248Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T00:56:48.248Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 5m, límite: 20","module":"BybitClient","timestamp":"2025-10-05T00:56:48.647Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:56:49.044Z"}
{"level":"info","message":"Velas obtenidas: 20 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:56:49.044Z"}
{"level":"info","message":"Trade aprobado - Risk Score: 0.32","module":"RiskManager","timestamp":"2025-10-05T00:56:49.439Z"}
{"level":"info","message":"Resultado validación: {\"approved\":true,\"reason\":\"Trade aprobado por gestión de riesgo\",\"riskScore\":0.32024505524848684}","module":"TradingStrategy","timestamp":"2025-10-05T00:56:49.440Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759625809440","module":"BybitClient","timestamp":"2025-10-05T00:56:49.440Z"}
{"level":"info","message":"Trade aprobado por Risk Manager, ejecutando...","module":"TradingStrategy","timestamp":"2025-10-05T00:56:49.440Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"buyLeverage\":\"16\",\"sellLeverage\":\"16\"}","module":"BybitClient","timestamp":"2025-10-05T00:56:49.440Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{},\"retExtInfo\":{},\"time\":1759625810253}","module":"BybitClient","timestamp":"2025-10-05T00:56:49.846Z"}
{"level":"info","message":"Leverage establecido a 16x para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:56:49.851Z"}
{"level":"info","message":"Ejecutando orden: Buy 16825 ASTERUSDT | SL: 1.9004286 | TP: 1.93082781","module":"BybitClient","timestamp":"2025-10-05T00:56:49.881Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759625809882","module":"BybitClient","timestamp":"2025-10-05T00:56:49.882Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"side\":\"Buy\",\"orderType\":\"Market\",\"qty\":\"16825\",\"timeInForce\":\"IOC\",\"stopLoss\":\"1.9004286\",\"slTriggerBy\":\"LastPrice\",\"takeProfit\":\"1.93082781\",\"tpTriggerBy\":\"LastPrice\"}","module":"BybitClient","timestamp":"2025-10-05T00:56:49.882Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"orderId\":\"59b777d6-c42f-4686-9502-6eed1cbbeed5\",\"orderLinkId\":\"\"},\"retExtInfo\":{},\"time\":1759625810694}","module":"BybitClient","timestamp":"2025-10-05T00:56:50.279Z"}
{"level":"info","message":"TRADE_OPEN","module":"TradingStrategy","pnl":0,"price":0,"quantity":16825,"side":"BUY","symbol":"ASTERUSDT","timestamp":1759625810316}
{"level":"debug","message":"Trades ejecutados hoy: 1/20","module":"RiskManager","timestamp":"2025-10-05T00:56:50.316Z"}
{"level":"info","message":"Orden ejecutada exitosamente: 59b777d6-c42f-4686-9502-6eed1cbbeed5","module":"BybitClient","timestamp":"2025-10-05T00:56:50.316Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:57:43.091Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:57:44.268Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:57:44.275Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:57:44.274Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T00:57:50.320Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.2000","module":"KalmanFilter","timestamp":"2025-10-05T00:57:50.326Z"}
{"level":"debug","message":"Predicción Kalman: 1.9315497968117399 (Confianza: 0.853)","module":"KalmanFilter","timestamp":"2025-10-05T00:57:50.327Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T00:57:51.187Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T00:58:42.850Z"}
{"confidence":0.3,"decision":"BUY","indicators":{"bollinger":{"lower":1.9039129266556454,"middle":1.9266549999999998,"upper":1.9493970733443542},"ema":{"ema21":1.9327887959397203,"ema50":1.9633971215398727,"ema9":1.9204003798365805},"macd":{"histogram":-0.001581713754954417,"macd":-0.01581713754954417,"signal":-0.014235423794589752},"rsi":42.77456647398842,"volume":{"avg":302440.4,"current":295972,"ratio":0.9786126456650632}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"{\n  \"decision\": \"BUY\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La RSI está por debajo del 30, indicando una posible oportunidad de compra. Además, el MACD está en un signal bullish y el Bollinger Band es","symbol":"ASTERUSDT","timestamp":1759625922852}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759625922852","module":"BybitClient","timestamp":"2025-10-05T00:58:42.854Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-05T00:58:42.852Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-05T00:58:42.852Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:58:42.854Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:58:43.091Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759625810693%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"16\",\"autoAddMargin\":0,\"avgPrice\":\"1.9159\",\"liqPrice\":\"1.8206\",\"riskLimitValue\":\"40000\",\"takeProfit\":\"1.9308\",\"positionValue\":\"32235.0175\",\"isReduceOnly\":false,\"positionIMByMp\":\"2031.30993583\",\"tpslMode\":\"Full\",\"riskId\":5,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.819\",\"unrealisedPnl\":\"111.045\",\"markPrice\":\"1.9225\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-1164.2330227\",\"positionMM\":\"427.44613433\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"2031.30993583\",\"positionMMByMp\":\"429.30058582\",\"seq\":140697266625316,\"updatedTime\":\"1759625810693\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2031.30993583\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-17.72925963\",\"size\":\"16825\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"1.9004\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759625924378}","module":"BybitClient","timestamp":"2025-10-05T00:58:43.956Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 16825 ASTERUSDT | PnL: 0.34%","module":"TradingStrategy","timestamp":"2025-10-05T00:58:43.967Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T00:58:43.967Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:58:43.970Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:58:43.971Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:58:43.970Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición ASTERUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T00:58:44.355Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T00:58:44.357Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una ganancia del 0.34% y no hay señales claras de reversión. La te...","module":"OllamaClient","timestamp":"2025-10-05T00:59:37.231Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una ganancia del 0.34% y no hay señales claras de reversión. La tendencia e...","module":"TradingStrategy","timestamp":"2025-10-05T00:59:37.237Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759625978192","module":"BybitClient","timestamp":"2025-10-05T00:59:38.194Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T00:59:37.237Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T00:59:37.237Z"}
{"level":"info","message":"⚠️  Estrategia activada: PROFIT_LADDER_30 - PnL 0.34% - scalping: asegurar ganancia mínima","module":"TradingStrategy","timestamp":"2025-10-05T00:59:37.250Z"}
{"level":"info","message":"🟢 CERRANDO 25% DE POSICIÓN: PnL 0.34% - scalping: asegurar ganancia mínima","module":"TradingStrategy","timestamp":"2025-10-05T00:59:38.190Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:59:38.194Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759625810693%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"16\",\"autoAddMargin\":0,\"avgPrice\":\"1.9159\",\"liqPrice\":\"1.8206\",\"riskLimitValue\":\"40000\",\"takeProfit\":\"1.9308\",\"positionValue\":\"32235.0175\",\"isReduceOnly\":false,\"positionIMByMp\":\"2031.30993583\",\"tpslMode\":\"Full\",\"riskId\":5,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.819\",\"unrealisedPnl\":\"48.7925\",\"markPrice\":\"1.9188\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-1164.2330227\",\"positionMM\":\"427.44613433\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"2031.30993583\",\"positionMMByMp\":\"428.26096907\",\"seq\":140697266625316,\"updatedTime\":\"1759625810693\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2031.30993583\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-17.72925963\",\"size\":\"16825\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"1.9004\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759625980104}","module":"BybitClient","timestamp":"2025-10-05T00:59:39.689Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T00:59:39.690Z"}
{"level":"info","message":"Cerrando 25% de posición Buy ASTERUSDT: 4206 unidades (raw: 4206.2500, stepSize: 1)","module":"BybitClient","timestamp":"2025-10-05T00:59:40.101Z"}
{"level":"info","message":"Ejecutando orden: Sell 4206 ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:59:40.166Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759625980167","module":"BybitClient","timestamp":"2025-10-05T00:59:40.167Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"side\":\"Sell\",\"orderType\":\"Market\",\"qty\":\"4206\",\"timeInForce\":\"IOC\"}","module":"BybitClient","timestamp":"2025-10-05T00:59:40.174Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"orderId\":\"41e1d00c-f136-4f62-8193-fa0c0adde264\",\"orderLinkId\":\"\"},\"retExtInfo\":{},\"time\":1759625981008}","module":"BybitClient","timestamp":"2025-10-05T00:59:40.592Z"}
{"level":"info","message":"💰 25% cerrado. PnL parcial: 27.76 USDT","module":"TradingStrategy","timestamp":"2025-10-05T00:59:40.593Z"}
{"level":"info","message":"Orden ejecutada exitosamente: 41e1d00c-f136-4f62-8193-fa0c0adde264","module":"BybitClient","timestamp":"2025-10-05T00:59:40.593Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759625980593","module":"BybitClient","timestamp":"2025-10-05T00:59:40.594Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:59:40.594Z"}
{"level":"info","message":"✅ Acción ejecutada exitosamente","module":"TradingStrategy","timestamp":"2025-10-05T00:59:40.593Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759625981007%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"16\",\"autoAddMargin\":0,\"avgPrice\":\"1.9159\",\"liqPrice\":\"1.8192\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"1.9308\",\"positionValue\":\"24176.7421\",\"isReduceOnly\":false,\"positionIMByMp\":\"1523.51263478\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.8178\",\"unrealisedPnl\":\"30.2856\",\"markPrice\":\"1.9183\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-1159.8373321\",\"positionMM\":\"302.69366556\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1523.51263478\",\"positionMMByMp\":\"303.12674963\",\"seq\":140697266629979,\"updatedTime\":\"1759625981007\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1523.51263478\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-13.33356903\",\"size\":\"12619\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"1.9004\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759625981751}","module":"BybitClient","timestamp":"2025-10-05T00:59:41.338Z"}
{"level":"info","message":"Ya existe una posición abierta, no se abrirá nueva posición","module":"TradingStrategy","timestamp":"2025-10-05T00:59:41.339Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T00:59:41.339Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T00:59:41.339Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T00:59:43.092Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T00:59:43.832Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T00:59:43.833Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T00:59:43.832Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T01:00:41.349Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1741","module":"KalmanFilter","timestamp":"2025-10-05T01:00:41.357Z"}
{"level":"debug","message":"Predicción Kalman: 1.9246051388368002 (Confianza: 0.857)","module":"KalmanFilter","timestamp":"2025-10-05T01:00:41.358Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T01:00:42.719Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:00:43.092Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:00:43.482Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:00:43.484Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T01:00:43.483Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T01:01:29.056Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":1.906105983119917,"middle":1.9198499999999996,"upper":1.9335940168800823},"ema":{"ema21":1.924092290986006,"ema50":1.9486902646536286,"ema9":1.9190644616910957},"macd":{"histogram":-0.0008378906580987387,"macd":-0.008378906580987389,"signal":-0.00754101592288865},"rsi":46.46716541978388,"volume":{"avg":356587.91,"current":155944,"ratio":0.437322734806124}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is below 30 and MACD is bullish, indicating a potential buying opportunity. Additionally, the Kalman prediction for a price increase with high confidence suggests that this may be a good time to buy. With leverage of 10-50x, we can take advantage of this opportunity and potentially maximize our profits.","symbol":"ASTERUSDT","timestamp":1759626089060}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759626089061","module":"BybitClient","timestamp":"2025-10-05T01:01:29.061Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T01:01:29.062Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759625981007%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"16\",\"autoAddMargin\":0,\"avgPrice\":\"1.9159\",\"liqPrice\":\"1.8192\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"1.9308\",\"positionValue\":\"24176.7421\",\"isReduceOnly\":false,\"positionIMByMp\":\"1523.51263478\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.8178\",\"unrealisedPnl\":\"135.0233\",\"markPrice\":\"1.9266\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-1159.8373321\",\"positionMM\":\"302.69366556\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1523.51263478\",\"positionMMByMp\":\"304.62449874\",\"seq\":140697266629979,\"updatedTime\":\"1759625981007\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1523.51263478\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-13.33356903\",\"size\":\"12619\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"1.9004\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759626090613}","module":"BybitClient","timestamp":"2025-10-05T01:01:30.223Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 12619 ASTERUSDT | PnL: 0.56%","module":"TradingStrategy","timestamp":"2025-10-05T01:01:30.330Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T01:01:30.325Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759626090331","module":"BybitClient","timestamp":"2025-10-05T01:01:30.332Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"stopLoss\":\"1.9208202\",\"slTriggerBy\":\"LastPrice\",\"positionIdx\":0}","module":"BybitClient","timestamp":"2025-10-05T01:01:30.332Z"}
{"level":"info","message":"🎯 Trailing stop ACTIVADO para ASTERUSDT (PnL: 0.56%)","module":"TradingStrategy","timestamp":"2025-10-05T01:01:30.331Z"}
{"level":"info","message":"📈 Actualizando trailing SL: 1.92 (Max alcanzado: 1.93)","module":"TradingStrategy","timestamp":"2025-10-05T01:01:30.331Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{},\"retExtInfo\":{},\"time\":1759626091162}","module":"BybitClient","timestamp":"2025-10-05T01:01:30.740Z"}
{"level":"info","message":"Stop Loss actualizado para ASTERUSDT: SL=1.9208202","module":"BybitClient","timestamp":"2025-10-05T01:01:30.764Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición ASTERUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T01:01:31.271Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T01:01:31.367Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:01:43.097Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:01:44.025Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:01:44.025Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T01:01:44.025Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:02:43.104Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:02:44.306Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:02:44.307Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T01:02:44.306Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una ganancia del 0.56%, con un RSI en el rango alto (46.47), un MA...","module":"OllamaClient","timestamp":"2025-10-05T01:02:50.917Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una ganancia del 0.56%, con un RSI en el rango alto (46.47), un MACD histog...","module":"TradingStrategy","timestamp":"2025-10-05T01:02:50.920Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759626170921","module":"BybitClient","timestamp":"2025-10-05T01:02:50.923Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T01:02:50.919Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T01:02:50.920Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T01:02:50.923Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759626103622%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"16\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"1.9201\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-1111.33544846\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266633480,\"updatedTime\":\"1759626103622\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759626172471}","module":"BybitClient","timestamp":"2025-10-05T01:02:52.050Z"}
{"level":"info","message":"AI sugiere BUY con confianza 0.8","module":"TradingStrategy","timestamp":"2025-10-05T01:02:52.061Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T01:02:52.061Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759626172061","module":"BybitClient","timestamp":"2025-10-05T01:02:52.061Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T01:02:52.061Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"213127.7713249\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"213127.7713249\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49999.42375609\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"120897.80031497\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4474.546347\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37732.04106076\",\"totalPositionMM\":\"0\",\"usdValue\":\"37756.00090683\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"37732.04106076\",\"cumRealisedPnl\":\"-13175.56182924\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759626173214}","module":"BybitClient","timestamp":"2025-10-05T01:02:52.800Z"}
{"level":"info","message":"Balance disponible: $37732.04, Precio: $1.926","module":"TradingStrategy","timestamp":"2025-10-05T01:02:52.893Z"}
{"level":"info","message":"Balance obtenido - Total: $213127.77, Disponible: $37732.04","module":"BybitClient","timestamp":"2025-10-05T01:02:52.893Z"}
{"level":"debug","message":"Símbolo info - Min: 1, Step: 1","module":"TradingStrategy","timestamp":"2025-10-05T01:02:53.625Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759626173632","module":"BybitClient","timestamp":"2025-10-05T01:02:53.632Z"}
{"level":"info","message":"Riesgo: 5%, Capital a arriesgar: $1886.60","module":"TradingStrategy","timestamp":"2025-10-05T01:02:53.625Z"}
{"level":"info","message":"Position value: $28299.03, Quantity raw: 14693.162407","module":"TradingStrategy","timestamp":"2025-10-05T01:02:53.625Z"}
{"level":"info","message":"Cantidad final calculada: 14693 ASTER (valor: $28298.72)","module":"TradingStrategy","timestamp":"2025-10-05T01:02:53.625Z"}
{"level":"info","message":"Parámetros calculados - Leverage: 15x, Quantity: 14693","module":"TradingStrategy","timestamp":"2025-10-05T01:02:53.628Z"}
{"level":"info","message":"Generando señal de trading: BUY 14693 ASTERUSDT @ 1.926 (SL: 1.914444, TP: 1.9479563999999998)","module":"TradingStrategy","timestamp":"2025-10-05T01:02:53.629Z"}
{"level":"info","message":"EJECUTANDO TRADE: BUY 14693 ASTERUSDT","module":"TradingStrategy","timestamp":"2025-10-05T01:02:53.629Z"}
{"level":"info","message":"=== INICIO EJECUCIÓN DE TRADE ===","module":"TradingStrategy","timestamp":"2025-10-05T01:02:53.629Z"}
{"level":"info","message":"Señal: {\"symbol\":\"ASTERUSDT\",\"action\":\"BUY\",\"leverage\":15,\"quantity\":14693,\"stopLoss\":1.914444,\"takeProfit\":1.9479563999999998,\"timestamp\":1759626173629,\"aiAnalysis\":{\"decision\":\"BUY\",\"confidence\":0.8,\"reasoning\":\"RSI is below 30 and MACD is bullish, indicating a potential buying opportunity. Additionally, the Kalman prediction for a price increase with high confidence suggests that this may be a good time to buy. With leverage of 10-50x, we can take advantage of this opportunity and potentially maximize our profits.\",\"indicators\":{},\"kalman\":{},\"marketSentiment\":\"bullish\",\"riskLevel\":\"medium\",\"suggestedLeverage\":10}}","module":"TradingStrategy","timestamp":"2025-10-05T01:02:53.629Z"}
{"level":"info","message":"Validando con Risk Manager...","module":"TradingStrategy","timestamp":"2025-10-05T01:02:53.631Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T01:02:53.632Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"213127.7713249\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"213127.7713249\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49999.42375609\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"120897.80031497\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4474.546347\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37732.04106076\",\"totalPositionMM\":\"0\",\"usdValue\":\"37756.00090683\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"37732.04106076\",\"cumRealisedPnl\":\"-13175.56182924\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759626174457}","module":"BybitClient","timestamp":"2025-10-05T01:02:54.039Z"}
{"level":"info","message":"Balance obtenido - Total: $213127.77, Disponible: $37732.04","module":"BybitClient","timestamp":"2025-10-05T01:02:54.039Z"}
{"level":"info","message":"Validando posición: Cantidad=14693, Precio=1.92, Valor=$28198.81","module":"RiskManager","timestamp":"2025-10-05T01:02:54.444Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759626174444","module":"BybitClient","timestamp":"2025-10-05T01:02:54.444Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T01:02:54.444Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759626103622%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"16\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"1.9192\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-1111.33544846\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266633480,\"updatedTime\":\"1759626103622\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759626175270}","module":"BybitClient","timestamp":"2025-10-05T01:02:54.848Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T01:02:54.849Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 5m, límite: 20","module":"BybitClient","timestamp":"2025-10-05T01:02:55.250Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:02:55.654Z"}
{"level":"info","message":"Velas obtenidas: 20 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T01:02:55.654Z"}
{"level":"info","message":"Trade aprobado - Risk Score: 0.31","module":"RiskManager","timestamp":"2025-10-05T01:02:56.055Z"}
{"level":"info","message":"Resultado validación: {\"approved\":true,\"reason\":\"Trade aprobado por gestión de riesgo\",\"riskScore\":0.3138880811415666}","module":"TradingStrategy","timestamp":"2025-10-05T01:02:56.056Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759626176056","module":"BybitClient","timestamp":"2025-10-05T01:02:56.056Z"}
{"level":"info","message":"Trade aprobado por Risk Manager, ejecutando...","module":"TradingStrategy","timestamp":"2025-10-05T01:02:56.056Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"buyLeverage\":\"15\",\"sellLeverage\":\"15\"}","module":"BybitClient","timestamp":"2025-10-05T01:02:56.056Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{},\"retExtInfo\":{},\"time\":1759626177207}","module":"BybitClient","timestamp":"2025-10-05T01:02:56.791Z"}
{"level":"info","message":"Leverage establecido a 15x para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T01:02:56.791Z"}
{"level":"info","message":"Ejecutando orden: Buy 14693 ASTERUSDT | SL: 1.914444 | TP: 1.9479563999999998","module":"BybitClient","timestamp":"2025-10-05T01:02:56.792Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759626176792","module":"BybitClient","timestamp":"2025-10-05T01:02:56.792Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"side\":\"Buy\",\"orderType\":\"Market\",\"qty\":\"14693\",\"timeInForce\":\"IOC\",\"stopLoss\":\"1.914444\",\"slTriggerBy\":\"LastPrice\",\"takeProfit\":\"1.9479563999999998\",\"tpTriggerBy\":\"LastPrice\"}","module":"BybitClient","timestamp":"2025-10-05T01:02:56.792Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"orderId\":\"0bd22123-8724-4f96-a123-12b6ea367d8c\",\"orderLinkId\":\"\"},\"retExtInfo\":{},\"time\":1759626177616}","module":"BybitClient","timestamp":"2025-10-05T01:02:57.196Z"}
{"level":"info","message":"TRADE_OPEN","module":"TradingStrategy","pnl":0,"price":0,"quantity":14693,"side":"BUY","symbol":"ASTERUSDT","timestamp":1759626177196}
{"level":"debug","message":"Trades ejecutados hoy: 2/20","module":"RiskManager","timestamp":"2025-10-05T01:02:57.196Z"}
{"level":"info","message":"Orden ejecutada exitosamente: 0bd22123-8724-4f96-a123-12b6ea367d8c","module":"BybitClient","timestamp":"2025-10-05T01:02:57.196Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:03:43.132Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:03:44.585Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:03:44.588Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T01:03:44.586Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T01:03:57.199Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0766","module":"KalmanFilter","timestamp":"2025-10-05T01:03:57.201Z"}
{"level":"debug","message":"Predicción Kalman: 1.9194693771448643 (Confianza: 0.896)","module":"KalmanFilter","timestamp":"2025-10-05T01:03:57.202Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T01:03:58.424Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:04:43.123Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:04:44.532Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:04:44.535Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T01:04:44.534Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T01:05:10.821Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":1.9129085084607191,"middle":1.9213149999999999,"upper":1.9297214915392806},"ema":{"ema21":1.9213043665357306,"ema50":1.9336834994021697,"ema9":1.9196523621436716},"macd":{"histogram":-0.00022762314976505467,"macd":-0.0022762314976505493,"signal":-0.0020486083478854947},"rsi":47.07446808510638,"volume":{"avg":407164.32,"current":386511,"ratio":0.9492752213651726}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La RSI está por debajo del 30 y el MACD está en un signal bullish, lo que indica una posible tendencia ascendente. Además, el precio actual está por debajo de la línea de soporte del Bollinger Band Superior, lo que puede indicar un posible rebuque. Considerando todo esto, es probable que el precio siga subiendo en los próximos horas o intradías.","symbol":"ASTERUSDT","timestamp":1759626310894}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759626310898","module":"BybitClient","timestamp":"2025-10-05T01:05:10.935Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T01:05:10.943Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759626210632%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"1.9154\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-1251.02415035\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266636356,\"updatedTime\":\"1759626210632\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759626312597}","module":"BybitClient","timestamp":"2025-10-05T01:05:12.267Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T01:05:12.279Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759626312279","module":"BybitClient","timestamp":"2025-10-05T01:05:12.284Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T01:05:12.378Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759626210632%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"1.9154\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-1251.02415035\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266636356,\"updatedTime\":\"1759626210632\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759626313201}","module":"BybitClient","timestamp":"2025-10-05T01:05:12.776Z"}
{"level":"info","message":"AI sugiere BUY con confianza 0.8","module":"TradingStrategy","timestamp":"2025-10-05T01:05:12.777Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T01:05:12.777Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759626312777","module":"BybitClient","timestamp":"2025-10-05T01:05:12.777Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T01:05:12.778Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"213001.62868437\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"213001.62868437\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49999.37375607\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"120908.84409621\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4476.924183\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37592.35235887\",\"totalPositionMM\":\"0\",\"usdValue\":\"37616.48664908\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"37592.35235887\",\"cumRealisedPnl\":\"-13315.25053113\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759626313599}","module":"BybitClient","timestamp":"2025-10-05T01:05:13.196Z"}
{"level":"info","message":"Balance disponible: $37592.35, Precio: $1.9112","module":"TradingStrategy","timestamp":"2025-10-05T01:05:13.210Z"}
{"level":"info","message":"Balance obtenido - Total: $213001.63, Disponible: $37592.35","module":"BybitClient","timestamp":"2025-10-05T01:05:13.196Z"}
{"level":"debug","message":"Símbolo info - Min: 1, Step: 1","module":"TradingStrategy","timestamp":"2025-10-05T01:05:13.614Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759626313618","module":"BybitClient","timestamp":"2025-10-05T01:05:13.618Z"}
{"level":"info","message":"Riesgo: 5%, Capital a arriesgar: $1879.62","module":"TradingStrategy","timestamp":"2025-10-05T01:05:13.614Z"}
{"level":"info","message":"Position value: $28194.26, Quantity raw: 14752.126554","module":"TradingStrategy","timestamp":"2025-10-05T01:05:13.614Z"}
{"level":"info","message":"Cantidad final calculada: 14752 ASTER (valor: $28194.02)","module":"TradingStrategy","timestamp":"2025-10-05T01:05:13.614Z"}
{"level":"info","message":"Parámetros calculados - Leverage: 15x, Quantity: 14752","module":"TradingStrategy","timestamp":"2025-10-05T01:05:13.615Z"}
{"level":"info","message":"Generando señal de trading: BUY 14752 ASTERUSDT @ 1.9112 (SL: 1.8997328, TP: 1.93298768)","module":"TradingStrategy","timestamp":"2025-10-05T01:05:13.615Z"}
{"level":"info","message":"EJECUTANDO TRADE: BUY 14752 ASTERUSDT","module":"TradingStrategy","timestamp":"2025-10-05T01:05:13.615Z"}
{"level":"info","message":"=== INICIO EJECUCIÓN DE TRADE ===","module":"TradingStrategy","timestamp":"2025-10-05T01:05:13.615Z"}
{"level":"info","message":"Señal: {\"symbol\":\"ASTERUSDT\",\"action\":\"BUY\",\"leverage\":15,\"quantity\":14752,\"stopLoss\":1.8997328,\"takeProfit\":1.93298768,\"timestamp\":1759626313615,\"aiAnalysis\":{\"decision\":\"BUY\",\"confidence\":0.8,\"reasoning\":\"La RSI está por debajo del 30 y el MACD está en un signal bullish, lo que indica una posible tendencia ascendente. Además, el precio actual está por debajo de la línea de soporte del Bollinger Band Superior, lo que puede indicar un posible rebuque. Considerando todo esto, es probable que el precio siga subiendo en los próximos horas o intradías.\",\"indicators\":{},\"kalman\":{},\"marketSentiment\":\"bullish\",\"riskLevel\":\"medium\",\"suggestedLeverage\":10}}","module":"TradingStrategy","timestamp":"2025-10-05T01:05:13.615Z"}
{"level":"info","message":"Validando con Risk Manager...","module":"TradingStrategy","timestamp":"2025-10-05T01:05:13.616Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T01:05:13.618Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"213001.62868437\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"213001.62868437\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49999.37375607\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"120908.84409621\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4476.924183\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37592.35235887\",\"totalPositionMM\":\"0\",\"usdValue\":\"37616.48664908\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"37592.35235887\",\"cumRealisedPnl\":\"-13315.25053113\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759626314439}","module":"BybitClient","timestamp":"2025-10-05T01:05:14.015Z"}
{"level":"info","message":"Balance obtenido - Total: $213001.63, Disponible: $37592.35","module":"BybitClient","timestamp":"2025-10-05T01:05:14.029Z"}
{"level":"info","message":"Validando posición: Cantidad=14752, Precio=1.92, Valor=$28255.98","module":"RiskManager","timestamp":"2025-10-05T01:05:14.421Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759626314422","module":"BybitClient","timestamp":"2025-10-05T01:05:14.422Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T01:05:14.422Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759626210632%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"1.9154\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-1251.02415035\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266636356,\"updatedTime\":\"1759626210632\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759626315241}","module":"BybitClient","timestamp":"2025-10-05T01:05:14.816Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T01:05:14.816Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 5m, límite: 20","module":"BybitClient","timestamp":"2025-10-05T01:05:15.235Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:05:15.637Z"}
{"level":"info","message":"Velas obtenidas: 20 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T01:05:15.637Z"}
{"level":"info","message":"Trade aprobado - Risk Score: 0.31","module":"RiskManager","timestamp":"2025-10-05T01:05:16.029Z"}
{"level":"info","message":"Resultado validación: {\"approved\":true,\"reason\":\"Trade aprobado por gestión de riesgo\",\"riskScore\":0.31389329723207515}","module":"TradingStrategy","timestamp":"2025-10-05T01:05:16.029Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759626316030","module":"BybitClient","timestamp":"2025-10-05T01:05:16.031Z"}
{"level":"info","message":"Trade aprobado por Risk Manager, ejecutando...","module":"TradingStrategy","timestamp":"2025-10-05T01:05:16.030Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"buyLeverage\":\"15\",\"sellLeverage\":\"15\"}","module":"BybitClient","timestamp":"2025-10-05T01:05:16.032Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":110043,\"retMsg\":\"leverage not modified\",\"result\":{},\"retExtInfo\":{},\"time\":1759626316851}","module":"BybitClient","timestamp":"2025-10-05T01:05:16.425Z"}
{"level":"warn","message":"Bybit warning (ignorado): leverage not modified (Code: 110043)","module":"BybitClient","timestamp":"2025-10-05T01:05:16.426Z"}
{"level":"info","message":"Leverage establecido a 15x para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T01:05:16.426Z"}
{"level":"info","message":"Ejecutando orden: Buy 14752 ASTERUSDT | SL: 1.8997328 | TP: 1.93298768","module":"BybitClient","timestamp":"2025-10-05T01:05:16.431Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759626316431","module":"BybitClient","timestamp":"2025-10-05T01:05:16.431Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"side\":\"Buy\",\"orderType\":\"Market\",\"qty\":\"14752\",\"timeInForce\":\"IOC\",\"stopLoss\":\"1.8997328\",\"slTriggerBy\":\"LastPrice\",\"takeProfit\":\"1.93298768\",\"tpTriggerBy\":\"LastPrice\"}","module":"BybitClient","timestamp":"2025-10-05T01:05:16.431Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"orderId\":\"c1bc552c-3b43-4ffd-99a5-96ebb5bdd4d3\",\"orderLinkId\":\"\"},\"retExtInfo\":{},\"time\":1759626317251}","module":"BybitClient","timestamp":"2025-10-05T01:05:16.834Z"}
{"level":"info","message":"TRADE_OPEN","module":"TradingStrategy","pnl":0,"price":0,"quantity":14752,"side":"BUY","symbol":"ASTERUSDT","timestamp":1759626316835}
{"level":"debug","message":"Trades ejecutados hoy: 3/20","module":"RiskManager","timestamp":"2025-10-05T01:05:16.835Z"}
{"level":"info","message":"Orden ejecutada exitosamente: c1bc552c-3b43-4ffd-99a5-96ebb5bdd4d3","module":"BybitClient","timestamp":"2025-10-05T01:05:16.834Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:05:43.123Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:05:43.986Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:05:43.986Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T01:05:43.986Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T01:06:16.845Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0638","module":"KalmanFilter","timestamp":"2025-10-05T01:06:16.847Z"}
{"level":"debug","message":"Predicción Kalman: 1.917035240183316 (Confianza: 0.877)","module":"KalmanFilter","timestamp":"2025-10-05T01:06:16.848Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T01:06:18.248Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:06:43.124Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:06:44.632Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:06:44.633Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T01:06:44.632Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T01:07:04.002Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":1.9104803878688317,"middle":1.9196649999999997,"upper":1.9288496121311678},"ema":{"ema21":1.919150242587686,"ema50":1.9277395741827297,"ema9":1.9177580181334972},"macd":{"histogram":-0.0001873054270555175,"macd":-0.0018730542705551745,"signal":-0.001685748843499657},"rsi":49.937106918239,"volume":{"avg":414879.81,"current":213197,"ratio":0.5138765369180053}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La RSI está por debajo de 30 y el MACD es bullish, lo que sugiere una posible oportunidad de compra. Además, la Kalman predice un aumento en el precio con alta confianza. Considerando el leverage alto (10-50x) y la volatilidad alta, es recomendable tomar una posición de compra aguda.","symbol":"ASTERUSDT","timestamp":1759626424005}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759626424007","module":"BybitClient","timestamp":"2025-10-05T01:07:04.007Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T01:07:04.007Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759626317251%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"1.9153\",\"liqPrice\":\"1.8113\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"1.9329\",\"positionValue\":\"28254.5056\",\"isReduceOnly\":false,\"positionIMByMp\":\"1898.13796876\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.8098\",\"unrealisedPnl\":\"-17.7024\",\"markPrice\":\"1.9141\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-1266.56412843\",\"positionMM\":\"363.04359799\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1898.13796876\",\"positionMMByMp\":\"362.79045366\",\"seq\":140697266639229,\"updatedTime\":\"1759626317251\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1898.13796876\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.53997808\",\"size\":\"14752\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"1.8997\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759626425712}","module":"BybitClient","timestamp":"2025-10-05T01:07:05.294Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 14752 ASTERUSDT | PnL: -0.06%","module":"TradingStrategy","timestamp":"2025-10-05T01:07:05.333Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T01:07:05.333Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759626425334","module":"BybitClient","timestamp":"2025-10-05T01:07:05.334Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"stopLoss\":\"1.9208202\",\"slTriggerBy\":\"LastPrice\",\"positionIdx\":0}","module":"BybitClient","timestamp":"2025-10-05T01:07:05.334Z"}
{"level":"info","message":"📈 Actualizando trailing SL: 1.92 (Max alcanzado: 1.93)","module":"TradingStrategy","timestamp":"2025-10-05T01:07:05.333Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10001,\"retMsg\":\"StopLoss:192080000 set for Buy position should lower than base_price:191670000??LastPrice\",\"result\":{},\"retExtInfo\":{},\"time\":1759626426167}","module":"BybitClient","timestamp":"2025-10-05T01:07:05.749Z"}
{"error":"Error: Error actualizando SL para ASTERUSDT\n    at BybitClient.updatePositionStopLoss (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:359:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.updateTrailingStop (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:400:13)\n    at async TradingStrategy.manageExistingPositions (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:311:9)\n    at async TradingStrategy.tradingLoop (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:90:9)","level":"error","message":"Error actualizando trailing stop:","module":"TradingStrategy","timestamp":"2025-10-05T01:07:05.912Z"}
{"error":{"endpoint":"/v5/position/trading-stop","error":"Error API Bybit: StopLoss:192080000 set for Buy position should lower than base_price:191670000??LastPrice (Code: 10001)","method":"POST","params":{"category":"linear","positionIdx":0,"slTriggerBy":"LastPrice","stopLoss":"1.9208202","symbol":"ASTERUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T01:07:05.769Z"}
{"error":"Error: Error API Bybit: StopLoss:192080000 set for Buy position should lower than base_price:191670000??LastPrice (Code: 10001)\n    at BybitClient.makeAuthenticatedRequest (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:464:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.updatePositionStopLoss (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:354:7)\n    at async TradingStrategy.updateTrailingStop (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:400:13)\n    at async TradingStrategy.manageExistingPositions (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:311:9)\n    at async TradingStrategy.tradingLoop (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:90:9)","level":"error","message":"Error actualizando stop loss:","module":"BybitClient","timestamp":"2025-10-05T01:07:05.829Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición ASTERUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T01:07:06.325Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T01:07:06.325Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:07:43.150Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:07:44.624Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:07:44.625Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T01:07:44.625Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual está ganando dinero, pero hay señales de reversión débiles (MACD bajista...","module":"OllamaClient","timestamp":"2025-10-05T01:08:00.419Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual está ganando dinero, pero hay señales de reversión débiles (MACD bajista, EMA9 cr...","module":"TradingStrategy","timestamp":"2025-10-05T01:08:00.420Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759626480421","module":"BybitClient","timestamp":"2025-10-05T01:08:00.421Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T01:08:00.420Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T01:08:00.421Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T01:08:00.422Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759626317251%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"1.9153\",\"liqPrice\":\"1.8113\",\"riskLimitValue\":\"30000\",\"takeProfit\":\"1.9329\",\"positionValue\":\"28254.5056\",\"isReduceOnly\":false,\"positionIMByMp\":\"1898.13796876\",\"tpslMode\":\"Full\",\"riskId\":4,\"trailingStop\":\"0\",\"liqPriceByMp\":\"1.8098\",\"unrealisedPnl\":\"163.7472\",\"markPrice\":\"1.9264\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-1266.56412843\",\"positionMM\":\"363.04359799\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"1898.13796876\",\"positionMMByMp\":\"365.38518294\",\"seq\":140697266639229,\"updatedTime\":\"1759626317251\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1898.13796876\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.53997808\",\"size\":\"14752\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"1.8997\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759626481718}","module":"BybitClient","timestamp":"2025-10-05T01:08:01.301Z"}
{"level":"info","message":"Ya existe una posición abierta, no se abrirá nueva posición","module":"TradingStrategy","timestamp":"2025-10-05T01:08:01.302Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T01:08:01.302Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T01:08:01.302Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:08:43.162Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:08:44.090Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:08:44.091Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T01:08:44.090Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T01:09:01.310Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0673","module":"KalmanFilter","timestamp":"2025-10-05T01:09:01.312Z"}
{"level":"debug","message":"Predicción Kalman: 1.9231860520233879 (Confianza: 0.873)","module":"KalmanFilter","timestamp":"2025-10-05T01:09:01.313Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T01:09:02.804Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:09:43.152Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:09:44.315Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:09:44.317Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T01:09:44.315Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T01:09:51.235Z"}
{"confidence":0.3,"decision":"BUY","indicators":{"bollinger":{"lower":1.9074923262551038,"middle":1.9184100000000002,"upper":1.9293276737448966},"ema":{"ema21":1.9198773962014117,"ema50":1.9238475428616042,"ema9":1.9221220572759534},"macd":{"histogram":0.00012121463263847776,"macd":0.0012121463263847776,"signal":0.0010909316937462998},"rsi":58.96226415094346,"volume":{"avg":424277.52,"current":683037,"ratio":1.6098826070257033}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"{\n  \"decision\": \"BUY\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La RSI está por debajo del 30, MACD es bullish y el volumen es alto, lo que sugiere una posible oportunidad de compra. Además, la predicción","symbol":"ASTERUSDT","timestamp":1759626592007}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759626592012","module":"BybitClient","timestamp":"2025-10-05T01:09:52.016Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T01:09:52.016Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-05T01:09:51.259Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-05T01:09:51.267Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759626498402%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"1.926\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-1012.29098539\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266644122,\"updatedTime\":\"1759626498402\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759626593715}","module":"BybitClient","timestamp":"2025-10-05T01:09:53.833Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T01:09:53.948Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759626593953","module":"BybitClient","timestamp":"2025-10-05T01:09:53.954Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T01:09:53.954Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759626498402%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"1.9259\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-1012.29098539\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266644122,\"updatedTime\":\"1759626498402\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759626594801}","module":"BybitClient","timestamp":"2025-10-05T01:09:54.384Z"}
{"level":"info","message":"AI sugiere BUY con confianza 0.3","module":"TradingStrategy","timestamp":"2025-10-05T01:09:54.460Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T01:09:54.385Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759626594482","module":"BybitClient","timestamp":"2025-10-05T01:09:54.517Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T01:09:54.603Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"213331.1808036\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"213331.1808036\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49996.67375478\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"120997.04529201\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4482.504818\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37831.08552383\",\"totalPositionMM\":\"0\",\"usdValue\":\"37854.95693879\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"37831.08552383\",\"cumRealisedPnl\":\"-13076.51736617\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759626595442}","module":"BybitClient","timestamp":"2025-10-05T01:09:55.026Z"}
{"level":"info","message":"Balance disponible: $37831.09, Precio: $1.9318","module":"TradingStrategy","timestamp":"2025-10-05T01:09:55.027Z"}
{"level":"info","message":"Balance obtenido - Total: $213331.18, Disponible: $37831.09","module":"BybitClient","timestamp":"2025-10-05T01:09:55.027Z"}
{"level":"debug","message":"Símbolo info - Min: 1, Step: 1","module":"TradingStrategy","timestamp":"2025-10-05T01:09:55.792Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759626595886","module":"BybitClient","timestamp":"2025-10-05T01:09:55.887Z"}
{"level":"info","message":"Riesgo: 3.3333333333333335%, Capital a arriesgar: $1261.04","module":"TradingStrategy","timestamp":"2025-10-05T01:09:55.792Z"}
{"level":"info","message":"Position value: $12610.36, Quantity raw: 6527.778156","module":"TradingStrategy","timestamp":"2025-10-05T01:09:55.792Z"}
{"level":"info","message":"Cantidad final calculada: 6527 ASTER (valor: $12608.86)","module":"TradingStrategy","timestamp":"2025-10-05T01:09:55.792Z"}
{"level":"info","message":"Parámetros calculados - Leverage: 10x, Quantity: 6527","module":"TradingStrategy","timestamp":"2025-10-05T01:09:55.792Z"}
{"level":"info","message":"Generando señal de trading: BUY 6527 ASTERUSDT @ 1.9318 (SL: 1.9202092, TP: 1.95092482)","module":"TradingStrategy","timestamp":"2025-10-05T01:09:55.792Z"}
{"level":"info","message":"EJECUTANDO TRADE: BUY 6527 ASTERUSDT","module":"TradingStrategy","timestamp":"2025-10-05T01:09:55.792Z"}
{"level":"info","message":"=== INICIO EJECUCIÓN DE TRADE ===","module":"TradingStrategy","timestamp":"2025-10-05T01:09:55.792Z"}
{"level":"info","message":"Señal: {\"symbol\":\"ASTERUSDT\",\"action\":\"BUY\",\"leverage\":10,\"quantity\":6527,\"stopLoss\":1.9202092,\"takeProfit\":1.95092482,\"timestamp\":1759626595792,\"aiAnalysis\":{\"decision\":\"BUY\",\"confidence\":0.3,\"reasoning\":\"{\\n  \\\"decision\\\": \\\"BUY\\\",\\n  \\\"confidence\\\": 0.8,\\n  \\\"reasoning\\\": \\\"La RSI está por debajo del 30, MACD es bullish y el volumen es alto, lo que sugiere una posible oportunidad de compra. Además, la predicción\",\"indicators\":{},\"kalman\":{},\"marketSentiment\":\"neutral\",\"riskLevel\":\"medium\",\"suggestedLeverage\":2}}","module":"TradingStrategy","timestamp":"2025-10-05T01:09:55.817Z"}
{"level":"info","message":"Validando con Risk Manager...","module":"TradingStrategy","timestamp":"2025-10-05T01:09:55.883Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T01:09:55.887Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"213331.1808036\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"213331.1808036\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49996.67375478\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"120997.04529201\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4482.504818\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37831.08552383\",\"totalPositionMM\":\"0\",\"usdValue\":\"37854.95693879\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"37831.08552383\",\"cumRealisedPnl\":\"-13076.51736617\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759626598352}","module":"BybitClient","timestamp":"2025-10-05T01:09:57.933Z"}
{"level":"info","message":"Balance obtenido - Total: $213331.18, Disponible: $37831.09","module":"BybitClient","timestamp":"2025-10-05T01:09:57.935Z"}
{"level":"info","message":"Validando posición: Cantidad=6527, Precio=1.93, Valor=$12566.43","module":"RiskManager","timestamp":"2025-10-05T01:09:58.435Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759626598435","module":"BybitClient","timestamp":"2025-10-05T01:09:58.435Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T01:09:58.436Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ASTERUSDT%2C1759626498402%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"ASTERUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"5000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"1.925\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-1012.29098539\",\"positionMM\":\"0\",\"createdTime\":\"1759620804427\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266644122,\"updatedTime\":\"1759626498402\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759626599600}","module":"BybitClient","timestamp":"2025-10-05T01:09:59.179Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T01:09:59.179Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 5m, límite: 20","module":"BybitClient","timestamp":"2025-10-05T01:09:59.609Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:10:00.354Z"}
{"level":"info","message":"Velas obtenidas: 20 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T01:10:00.355Z"}
{"level":"info","message":"Trade aprobado - Risk Score: 0.20","module":"RiskManager","timestamp":"2025-10-05T01:10:00.768Z"}
{"level":"info","message":"Resultado validación: {\"approved\":true,\"reason\":\"Trade aprobado por gestión de riesgo\",\"riskScore\":0.2015386933799099}","module":"TradingStrategy","timestamp":"2025-10-05T01:10:00.768Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759626600769","module":"BybitClient","timestamp":"2025-10-05T01:10:00.769Z"}
{"level":"info","message":"Trade aprobado por Risk Manager, ejecutando...","module":"TradingStrategy","timestamp":"2025-10-05T01:10:00.769Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"buyLeverage\":\"10\",\"sellLeverage\":\"10\"}","module":"BybitClient","timestamp":"2025-10-05T01:10:00.769Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{},\"retExtInfo\":{},\"time\":1759626601937}","module":"BybitClient","timestamp":"2025-10-05T01:10:01.517Z"}
{"level":"info","message":"Leverage establecido a 10x para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T01:10:01.517Z"}
{"level":"info","message":"Ejecutando orden: Buy 6527 ASTERUSDT | SL: 1.9202092 | TP: 1.95092482","module":"BybitClient","timestamp":"2025-10-05T01:10:01.517Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759626601517","module":"BybitClient","timestamp":"2025-10-05T01:10:01.517Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"ASTERUSDT\",\"side\":\"Buy\",\"orderType\":\"Market\",\"qty\":\"6527\",\"timeInForce\":\"IOC\",\"stopLoss\":\"1.9202092\",\"slTriggerBy\":\"LastPrice\",\"takeProfit\":\"1.95092482\",\"tpTriggerBy\":\"LastPrice\"}","module":"BybitClient","timestamp":"2025-10-05T01:10:01.518Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"orderId\":\"5768e285-d9b4-4b25-93e5-5273913919ba\",\"orderLinkId\":\"\"},\"retExtInfo\":{},\"time\":1759626602684}","module":"BybitClient","timestamp":"2025-10-05T01:10:02.263Z"}
{"level":"info","message":"TRADE_OPEN","module":"TradingStrategy","pnl":0,"price":0,"quantity":6527,"side":"BUY","symbol":"ASTERUSDT","timestamp":1759626602264}
{"level":"debug","message":"Trades ejecutados hoy: 4/20","module":"RiskManager","timestamp":"2025-10-05T01:10:02.264Z"}
{"level":"info","message":"Orden ejecutada exitosamente: 5768e285-d9b4-4b25-93e5-5273913919ba","module":"BybitClient","timestamp":"2025-10-05T01:10:02.263Z"}
{"level":"debug","message":"Obteniendo velas para ASTERUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:10:43.152Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:10:44.543Z"}
{"level":"debug","message":"Buffer actualizado para ASTERUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:10:44.544Z"}
{"level":"info","message":"Velas obtenidas: 5 para ASTERUSDT","module":"BybitClient","timestamp":"2025-10-05T01:10:44.543Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T01:11:02.269Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0644","module":"KalmanFilter","timestamp":"2025-10-05T01:11:02.273Z"}
{"level":"debug","message":"Predicción Kalman: 1.925974411347859 (Confianza: 0.884)","module":"KalmanFilter","timestamp":"2025-10-05T01:11:02.274Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T01:11:03.183Z"}
{"level":"info","message":"Recibida señal SIGINT, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-05T01:11:31.955Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759626691965}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-05T01:11:31.966Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-05T01:11:31.974Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759626755163}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T01:12:35.148Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T01:12:35.135Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T01:12:34.926Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T01:12:35.146Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T01:12:35.139Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759626755164}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T01:12:35.153Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T01:12:35.156Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T01:12:35.156Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T01:12:35.158Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T01:12:35.163Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T01:12:35.164Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T01:12:35.164Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T01:12:35.164Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T01:12:35.149Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T01:12:35.149Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T01:12:35.149Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T01:12:35.149Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T01:12:35.150Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T01:12:35.150Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T01:12:35.150Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T01:12:35.150Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T01:12:35.150Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T01:12:35.150Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T01:12:35.151Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T01:12:35.189Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-05T01:12:37.472Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-05T01:12:38.923Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (1m)","module":"DataManager","timestamp":"2025-10-05T01:12:38.948Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 200","module":"BybitClient","timestamp":"2025-10-05T01:12:38.969Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-05T01:12:38.968Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:12:39.566Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-05T01:12:39.572Z"}
{"level":"info","message":"Datos suficientes recopilados para BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-05T01:12:39.573Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T01:12:39.575Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1783","module":"KalmanFilter","timestamp":"2025-10-05T01:12:39.576Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-05T01:12:39.577Z"}
{"level":"info","message":"Velas obtenidas: 200 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:12:39.572Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-05T01:12:39.572Z"}
{"level":"debug","message":"Predicción Kalman: 122221.84167659408 (Confianza: 0.808)","module":"KalmanFilter","timestamp":"2025-10-05T01:12:39.577Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T01:12:40.317Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:13:39.602Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:13:40.875Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:13:40.876Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:13:40.876Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T01:14:03.176Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":122067.79560015004,"middle":122172.29,"upper":122276.78439984994},"ema":{"ema21":122202.56104978004,"ema50":122219.2678066346,"ema9":122221.72061106209},"macd":{"histogram":0.9358207010940536,"macd":9.358207010940532,"signal":8.422386309846479},"rsi":83.56382978723067,"volume":{"avg":12.408389999999999,"current":6.055,"ratio":0.4879762805650048}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está sobrecompra (83.56) y MACD es bullish (0.935821). Además, el precio actual está por encima del Bollinger superior (122276.78) y el EMA9 cruza por encima de la EMA21. La Kalman predice una subida con confianza del 80.8%. Si detectas señales bajistas claras, sugeriré un SHORT, pero por ahora, la dirección actual es LONG.","symbol":"BTCUSDT","timestamp":1759626843179}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759626843184","module":"BybitClient","timestamp":"2025-10-05T01:14:03.188Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:14:03.189Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759620729849%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"122269.75\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-12069.1745359\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266483832,\"updatedTime\":\"1759620729849\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759626844993}","module":"BybitClient","timestamp":"2025-10-05T01:14:04.574Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T01:14:04.575Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759626844577","module":"BybitClient","timestamp":"2025-10-05T01:14:04.578Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:14:04.578Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759620729849%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"122269.71\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-12069.1745359\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266483832,\"updatedTime\":\"1759620729849\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759626845411}","module":"BybitClient","timestamp":"2025-10-05T01:14:04.990Z"}
{"level":"info","message":"AI sugiere BUY con confianza 0.8","module":"TradingStrategy","timestamp":"2025-10-05T01:14:04.990Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T01:14:04.990Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759626844991","module":"BybitClient","timestamp":"2025-10-05T01:14:04.991Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T01:14:04.991Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"213314.5964592\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"213314.5964592\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49996.87375488\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121022.04318678\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4483.881119\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37787.91643535\",\"totalPositionMM\":\"0\",\"usdValue\":\"37811.79839853\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"37787.91643535\",\"cumRealisedPnl\":\"-13119.68645465\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759626845823}","module":"BybitClient","timestamp":"2025-10-05T01:14:05.393Z"}
{"level":"info","message":"Balance disponible: $37787.92, Precio: $122239.9","module":"TradingStrategy","timestamp":"2025-10-05T01:14:05.394Z"}
{"level":"info","message":"Balance obtenido - Total: $213314.60, Disponible: $37787.92","module":"BybitClient","timestamp":"2025-10-05T01:14:05.393Z"}
{"level":"debug","message":"Símbolo info - Min: 0.001, Step: 0.001","module":"TradingStrategy","timestamp":"2025-10-05T01:14:05.800Z"}
{"level":"info","message":"Contador diario de trades reseteado","module":"RiskManager","timestamp":"2025-10-05T01:14:05.802Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759626845802","module":"BybitClient","timestamp":"2025-10-05T01:14:05.803Z"}
{"level":"info","message":"Riesgo: 6.666666666666667%, Capital a arriesgar: $2519.19","module":"TradingStrategy","timestamp":"2025-10-05T01:14:05.800Z"}
{"level":"info","message":"Position value: $50383.89, Quantity raw: 0.412172","module":"TradingStrategy","timestamp":"2025-10-05T01:14:05.800Z"}
{"level":"info","message":"Cantidad final calculada: 0.41200000000000003 BTC (valor: $50362.84)","module":"TradingStrategy","timestamp":"2025-10-05T01:14:05.800Z"}
{"level":"info","message":"Parámetros calculados - Leverage: 20x, Quantity: 0.41200000000000003","module":"TradingStrategy","timestamp":"2025-10-05T01:14:05.801Z"}
{"level":"info","message":"Generando señal de trading: BUY 0.41200000000000003 BTCUSDT @ 122239.9 (SL: 121506.46059999999, TP: 123633.43486)","module":"TradingStrategy","timestamp":"2025-10-05T01:14:05.801Z"}
{"level":"info","message":"EJECUTANDO TRADE: BUY 0.41200000000000003 BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-05T01:14:05.801Z"}
{"level":"info","message":"=== INICIO EJECUCIÓN DE TRADE ===","module":"TradingStrategy","timestamp":"2025-10-05T01:14:05.801Z"}
{"level":"info","message":"Señal: {\"symbol\":\"BTCUSDT\",\"action\":\"BUY\",\"leverage\":20,\"quantity\":0.41200000000000003,\"stopLoss\":121506.46059999999,\"takeProfit\":123633.43486,\"timestamp\":1759626845801,\"aiAnalysis\":{\"decision\":\"BUY\",\"confidence\":0.8,\"reasoning\":\"RSI está sobrecompra (83.56) y MACD es bullish (0.935821). Además, el precio actual está por encima del Bollinger superior (122276.78) y el EMA9 cruza por encima de la EMA21. La Kalman predice una subida con confianza del 80.8%. Si detectas señales bajistas claras, sugeriré un SHORT, pero por ahora, la dirección actual es LONG.\",\"indicators\":{},\"kalman\":{},\"marketSentiment\":\"bullish\",\"riskLevel\":\"low\",\"suggestedLeverage\":10}}","module":"TradingStrategy","timestamp":"2025-10-05T01:14:05.801Z"}
{"level":"info","message":"Validando con Risk Manager...","module":"TradingStrategy","timestamp":"2025-10-05T01:14:05.802Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T01:14:05.803Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"213314.5964592\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"213314.5964592\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49996.87375488\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121022.04318678\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4483.881119\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37787.91643535\",\"totalPositionMM\":\"0\",\"usdValue\":\"37811.79839853\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"37787.91643535\",\"cumRealisedPnl\":\"-13119.68645465\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759626846634}","module":"BybitClient","timestamp":"2025-10-05T01:14:06.203Z"}
{"level":"info","message":"Balance obtenido - Total: $213314.60, Disponible: $37787.92","module":"BybitClient","timestamp":"2025-10-05T01:14:06.440Z"}
{"level":"info","message":"Validando posición: Cantidad=0.41200000000000003, Precio=122268.90, Valor=$50374.79","module":"RiskManager","timestamp":"2025-10-05T01:14:06.844Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759626846845","module":"BybitClient","timestamp":"2025-10-05T01:14:06.845Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:14:06.845Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759620729849%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"122269.58\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-12069.1745359\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266483832,\"updatedTime\":\"1759620729849\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759626847676}","module":"BybitClient","timestamp":"2025-10-05T01:14:07.253Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T01:14:07.346Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 20","module":"BybitClient","timestamp":"2025-10-05T01:14:07.752Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:14:08.158Z"}
{"level":"info","message":"Velas obtenidas: 20 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:14:08.159Z"}
{"level":"info","message":"Trade aprobado - Risk Score: 0.32","module":"RiskManager","timestamp":"2025-10-05T01:14:08.590Z"}
{"level":"info","message":"Resultado validación: {\"approved\":true,\"reason\":\"Trade aprobado por gestión de riesgo\",\"riskScore\":0.3212044075608327}","module":"TradingStrategy","timestamp":"2025-10-05T01:14:08.590Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759626848591","module":"BybitClient","timestamp":"2025-10-05T01:14:08.591Z"}
{"level":"info","message":"Trade aprobado por Risk Manager, ejecutando...","module":"TradingStrategy","timestamp":"2025-10-05T01:14:08.590Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"buyLeverage\":\"20\",\"sellLeverage\":\"20\"}","module":"BybitClient","timestamp":"2025-10-05T01:14:08.591Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{},\"retExtInfo\":{},\"time\":1759626849422}","module":"BybitClient","timestamp":"2025-10-05T01:14:08.989Z"}
{"level":"info","message":"Leverage establecido a 20x para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:14:09.100Z"}
{"level":"info","message":"Ejecutando orden: Buy 0.41200000000000003 BTCUSDT | SL: 121506.46059999999 | TP: 123633.43486","module":"BybitClient","timestamp":"2025-10-05T01:14:09.100Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759626849100","module":"BybitClient","timestamp":"2025-10-05T01:14:09.100Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"side\":\"Buy\",\"orderType\":\"Market\",\"qty\":\"0.41200000000000003\",\"timeInForce\":\"IOC\",\"stopLoss\":\"121506.46059999999\",\"slTriggerBy\":\"LastPrice\",\"takeProfit\":\"123633.43486\",\"tpTriggerBy\":\"LastPrice\"}","module":"BybitClient","timestamp":"2025-10-05T01:14:09.101Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10001,\"retMsg\":\"Qty invalid\",\"result\":{},\"retExtInfo\":{},\"time\":1759626849934}","module":"BybitClient","timestamp":"2025-10-05T01:14:09.512Z"}
{"error":"Error: Error ejecutando trade: Error API Bybit: Qty invalid (Code: 10001)\n    at BybitClient.executeTrade (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:203:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.executeTradingAction (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:271:24)\n    at async TradingStrategy.tradingLoop (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:98:11)","level":"error","message":"Error ejecutando acción de trading:","module":"TradingStrategy","timestamp":"2025-10-05T01:14:09.530Z"}
{"error":{"endpoint":"/v5/order/create","error":"Error API Bybit: Qty invalid (Code: 10001)","method":"POST","params":{"category":"linear","orderType":"Market","qty":"0.41200000000000003","side":"Buy","slTriggerBy":"LastPrice","stopLoss":"121506.46059999999","symbol":"BTCUSDT","takeProfit":"123633.43486","timeInForce":"IOC","tpTriggerBy":"LastPrice"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T01:14:09.513Z"}
{"error":"Error: Error API Bybit: Qty invalid (Code: 10001)\n    at BybitClient.makeAuthenticatedRequest (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:464:15)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.executeTrade (/Users/x3at/Documents/ai-trading-system/src/exchange/bybit-client.ts:187:24)\n    at async TradingStrategy.executeTradingAction (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:271:24)\n    at async TradingStrategy.tradingLoop (/Users/x3at/Documents/ai-trading-system/src/strategy/trading-strategy.ts:98:11)","level":"error","message":"Error ejecutando trade:","module":"BybitClient","timestamp":"2025-10-05T01:14:09.529Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:14:39.580Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:14:40.449Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:14:40.450Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:14:40.450Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T01:15:09.534Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T01:15:09.535Z"}
{"level":"debug","message":"Predicción Kalman: 122258.4842963399 (Confianza: 0.851)","module":"KalmanFilter","timestamp":"2025-10-05T01:15:09.535Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T01:15:10.416Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:15:39.593Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:15:41.614Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:15:41.615Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:15:41.615Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T01:16:16.092Z"}
{"confidence":0.3,"decision":"BUY","indicators":{"bollinger":{"lower":122175.3132415125,"middle":122236.10499999998,"upper":122296.89675848746},"ema":{"ema21":122235.245593206,"ema50":122231.77715229467,"ema9":122254.14853214394},"macd":{"histogram":1.741853802572587,"macd":17.418538025725866,"signal":15.676684223153279},"rsi":61.88655194391006,"volume":{"avg":12.423459999999999,"current":0.894,"ratio":0.07196062932548583}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"{\n\"decision\": \"BUY\",\n\"confidence\": 0.8,\n\"reasoning\": \"RSI is at 61.89, which is considered high and may indicate a potential short opportunity. However, MACD histogram is bullish and EMAs are crossed ","symbol":"BTCUSDT","timestamp":1759626976288}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759626976290","module":"BybitClient","timestamp":"2025-10-05T01:16:16.300Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-05T01:16:16.286Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-05T01:16:16.287Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:16:16.808Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759626849421%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"20\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"122282.1\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-12069.1745359\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266483832,\"updatedTime\":\"1759626849421\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759626978484}","module":"BybitClient","timestamp":"2025-10-05T01:16:18.059Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T01:16:18.059Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759626978059","module":"BybitClient","timestamp":"2025-10-05T01:16:18.059Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:16:18.060Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759626849421%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"20\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"122273.16\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-12069.1745359\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266483832,\"updatedTime\":\"1759626849421\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759626979227}","module":"BybitClient","timestamp":"2025-10-05T01:16:18.805Z"}
{"level":"info","message":"AI sugiere BUY con confianza 0.3","module":"TradingStrategy","timestamp":"2025-10-05T01:16:18.807Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T01:16:18.806Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759626978807","module":"BybitClient","timestamp":"2025-10-05T01:16:18.807Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T01:16:18.807Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"213335.59666694\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"213335.59666694\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49997.32375509\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121041.62297264\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4484.700389\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37787.91643535\",\"totalPositionMM\":\"0\",\"usdValue\":\"37811.9495502\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"37787.91643535\",\"cumRealisedPnl\":\"-13119.68645465\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759626979650}","module":"BybitClient","timestamp":"2025-10-05T01:16:19.225Z"}
{"level":"info","message":"Balance disponible: $37787.92, Precio: $122268.9","module":"TradingStrategy","timestamp":"2025-10-05T01:16:19.326Z"}
{"level":"info","message":"Balance obtenido - Total: $213335.60, Disponible: $37787.92","module":"BybitClient","timestamp":"2025-10-05T01:16:19.225Z"}
{"level":"debug","message":"Símbolo info - Min: 0.001, Step: 0.001","module":"TradingStrategy","timestamp":"2025-10-05T01:16:19.744Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759626979745","module":"BybitClient","timestamp":"2025-10-05T01:16:19.745Z"}
{"level":"info","message":"Riesgo: 4%, Capital a arriesgar: $1511.52","module":"TradingStrategy","timestamp":"2025-10-05T01:16:19.744Z"}
{"level":"info","message":"Position value: $18138.20, Quantity raw: 0.148347","module":"TradingStrategy","timestamp":"2025-10-05T01:16:19.744Z"}
{"level":"info","message":"Cantidad final calculada: 0.148 BTC (valor: $18095.80)","module":"TradingStrategy","timestamp":"2025-10-05T01:16:19.744Z"}
{"level":"info","message":"Parámetros calculados - Leverage: 12x, Quantity: 0.148","module":"TradingStrategy","timestamp":"2025-10-05T01:16:19.745Z"}
{"level":"info","message":"Generando señal de trading: BUY 0.148 BTCUSDT @ 122268.9 (SL: 121535.28659999999, TP: 123479.36211)","module":"TradingStrategy","timestamp":"2025-10-05T01:16:19.745Z"}
{"level":"info","message":"EJECUTANDO TRADE: BUY 0.148 BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-05T01:16:19.745Z"}
{"level":"info","message":"=== INICIO EJECUCIÓN DE TRADE ===","module":"TradingStrategy","timestamp":"2025-10-05T01:16:19.745Z"}
{"level":"info","message":"Señal: {\"symbol\":\"BTCUSDT\",\"action\":\"BUY\",\"leverage\":12,\"quantity\":0.148,\"stopLoss\":121535.28659999999,\"takeProfit\":123479.36211,\"timestamp\":1759626979745,\"aiAnalysis\":{\"decision\":\"BUY\",\"confidence\":0.3,\"reasoning\":\"{\\n\\\"decision\\\": \\\"BUY\\\",\\n\\\"confidence\\\": 0.8,\\n\\\"reasoning\\\": \\\"RSI is at 61.89, which is considered high and may indicate a potential short opportunity. However, MACD histogram is bullish and EMAs are crossed \",\"indicators\":{},\"kalman\":{},\"marketSentiment\":\"neutral\",\"riskLevel\":\"medium\",\"suggestedLeverage\":2}}","module":"TradingStrategy","timestamp":"2025-10-05T01:16:19.745Z"}
{"level":"info","message":"Validando con Risk Manager...","module":"TradingStrategy","timestamp":"2025-10-05T01:16:19.745Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T01:16:19.745Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"213335.59666694\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"213335.59666694\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49997.32375509\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"121041.62297264\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4484.700389\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37787.91643535\",\"totalPositionMM\":\"0\",\"usdValue\":\"37811.9495502\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"37787.91643535\",\"cumRealisedPnl\":\"-13119.68645465\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759626980586}","module":"BybitClient","timestamp":"2025-10-05T01:16:20.160Z"}
{"level":"info","message":"Balance obtenido - Total: $213335.60, Disponible: $37787.92","module":"BybitClient","timestamp":"2025-10-05T01:16:20.162Z"}
{"level":"info","message":"Validando posición: Cantidad=0.148, Precio=122265.70, Valor=$18095.32","module":"RiskManager","timestamp":"2025-10-05T01:16:20.904Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759626980904","module":"BybitClient","timestamp":"2025-10-05T01:16:20.904Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:16:20.904Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759626849421%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"20\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"122272.43\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-12069.1745359\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266483832,\"updatedTime\":\"1759626849421\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759626982074}","module":"BybitClient","timestamp":"2025-10-05T01:16:21.647Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T01:16:21.649Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 20","module":"BybitClient","timestamp":"2025-10-05T01:16:22.061Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:16:22.482Z"}
{"level":"info","message":"Velas obtenidas: 20 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:16:22.484Z"}
{"level":"info","message":"Trade aprobado - Risk Score: 0.24","module":"RiskManager","timestamp":"2025-10-05T01:16:22.900Z"}
{"level":"info","message":"Resultado validación: {\"approved\":true,\"reason\":\"Trade aprobado por gestión de riesgo\",\"riskScore\":0.2428319764395072}","module":"TradingStrategy","timestamp":"2025-10-05T01:16:22.906Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759626982907","module":"BybitClient","timestamp":"2025-10-05T01:16:22.907Z"}
{"level":"info","message":"Trade aprobado por Risk Manager, ejecutando...","module":"TradingStrategy","timestamp":"2025-10-05T01:16:22.907Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"buyLeverage\":\"12\",\"sellLeverage\":\"12\"}","module":"BybitClient","timestamp":"2025-10-05T01:16:22.907Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{},\"retExtInfo\":{},\"time\":1759626984077}","module":"BybitClient","timestamp":"2025-10-05T01:16:23.651Z"}
{"level":"info","message":"Leverage establecido a 12x para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:16:23.652Z"}
{"level":"info","message":"Ejecutando orden: Buy 0.148 BTCUSDT | SL: 121535.28659999999 | TP: 123479.36211","module":"BybitClient","timestamp":"2025-10-05T01:16:23.652Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759626983652","module":"BybitClient","timestamp":"2025-10-05T01:16:23.652Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"side\":\"Buy\",\"orderType\":\"Market\",\"qty\":\"0.148\",\"timeInForce\":\"IOC\",\"stopLoss\":\"121535.28659999999\",\"slTriggerBy\":\"LastPrice\",\"takeProfit\":\"123479.36211\",\"tpTriggerBy\":\"LastPrice\"}","module":"BybitClient","timestamp":"2025-10-05T01:16:23.652Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"orderId\":\"f220410a-cf85-4183-ae3b-65de31cb4e4f\",\"orderLinkId\":\"\"},\"retExtInfo\":{},\"time\":1759626984495}","module":"BybitClient","timestamp":"2025-10-05T01:16:24.069Z"}
{"level":"info","message":"TRADE_OPEN","module":"TradingStrategy","pnl":0,"price":0,"quantity":0.148,"side":"BUY","symbol":"BTCUSDT","timestamp":1759626984072}
{"level":"debug","message":"Trades ejecutados hoy: 1/20","module":"RiskManager","timestamp":"2025-10-05T01:16:24.072Z"}
{"level":"info","message":"Orden ejecutada exitosamente: f220410a-cf85-4183-ae3b-65de31cb4e4f","module":"BybitClient","timestamp":"2025-10-05T01:16:24.070Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:16:39.582Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:16:40.707Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:16:40.707Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:16:40.707Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T01:17:24.084Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T01:17:24.092Z"}
{"level":"debug","message":"Predicción Kalman: 122271.51945777122 (Confianza: 0.854)","module":"KalmanFilter","timestamp":"2025-10-05T01:17:24.097Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T01:17:25.535Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:17:39.587Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:17:40.739Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:17:40.740Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:17:40.740Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T01:18:13.960Z"}
{"confidence":0.75,"decision":"BUY","indicators":{"bollinger":{"lower":122232.24502414562,"middle":122259.165,"upper":122286.08497585436},"ema":{"ema21":122254.24250462405,"ema50":122242.85579038592,"ema9":122266.4688691025},"macd":{"histogram":1.3913733764915381,"macd":13.913733764915378,"signal":12.52236038842384},"rsi":52.26404800872962,"volume":{"avg":11.167329999999994,"current":5.763,"ratio":0.5160588967998619}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI < 30, MACD bearish, Bollinger inferior, EMA9 cruza por debajo de EMA21, Kalman predice subida con confianza > 75%","symbol":"BTCUSDT","timestamp":1759627093963}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759627093963","module":"BybitClient","timestamp":"2025-10-05T01:18:13.966Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:18:13.966Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759626984495%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"12\",\"autoAddMargin\":0,\"avgPrice\":\"122265.7\",\"liqPrice\":\"112688.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123479.3\",\"positionValue\":\"18095.3236\",\"isReduceOnly\":false,\"positionIMByMp\":\"1517.06687327\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"112640.1\",\"unrealisedPnl\":\"-7.18096\",\"markPrice\":\"122217.18\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12079.12696388\",\"positionMM\":\"99.5997373\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1517.06687327\",\"positionMMByMp\":\"99.56383249\",\"seq\":140697266657242,\"updatedTime\":\"1759626984495\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1517.06687327\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-9.95242798\",\"size\":\"0.148\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121535.2\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759627095294}","module":"BybitClient","timestamp":"2025-10-05T01:18:14.872Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.148 BTCUSDT | PnL: -0.04%","module":"TradingStrategy","timestamp":"2025-10-05T01:18:14.880Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T01:18:14.880Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T01:18:15.293Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T01:18:15.306Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:18:39.591Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:18:40.792Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:18:40.793Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:18:40.792Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual es LONG con pérdida pequeña (0.04%). Sin señales de reversión detectadas...","module":"OllamaClient","timestamp":"2025-10-05T01:19:03.027Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual es LONG con pérdida pequeña (0.04%). Sin señales de reversión detectadas y indica...","module":"TradingStrategy","timestamp":"2025-10-05T01:19:03.029Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759627143030","module":"BybitClient","timestamp":"2025-10-05T01:19:03.031Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T01:19:03.029Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T01:19:03.029Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:19:03.031Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759626984495%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"12\",\"autoAddMargin\":0,\"avgPrice\":\"122265.7\",\"liqPrice\":\"112688.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123479.3\",\"positionValue\":\"18095.3236\",\"isReduceOnly\":false,\"positionIMByMp\":\"1517.06687327\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"112640.1\",\"unrealisedPnl\":\"-8.7616\",\"markPrice\":\"122206.5\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12079.12696388\",\"positionMM\":\"99.5997373\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1517.06687327\",\"positionMMByMp\":\"99.55592929\",\"seq\":140697266657242,\"updatedTime\":\"1759626984495\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1517.06687327\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-9.95242798\",\"size\":\"0.148\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121535.2\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759627144583}","module":"BybitClient","timestamp":"2025-10-05T01:19:04.149Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T01:19:04.150Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T01:19:04.150Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T01:19:04.150Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:19:39.592Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:19:40.727Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:19:40.728Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:19:40.727Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T01:20:04.152Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0783","module":"KalmanFilter","timestamp":"2025-10-05T01:20:04.154Z"}
{"level":"debug","message":"Predicción Kalman: 122219.53798185386 (Confianza: 0.838)","module":"KalmanFilter","timestamp":"2025-10-05T01:20:04.154Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T01:20:05.030Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:20:39.615Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:20:40.503Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:20:40.504Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:20:40.503Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T01:20:58.051Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":122184.24570141234,"middle":122249.56000000001,"upper":122314.87429858769},"ema":{"ema21":122240.1632500138,"ema50":122240.7109180245,"ema9":122227.48098230269},"macd":{"histogram":-0.8461442113315565,"macd":-8.46144211331557,"signal":-7.615297901984014},"rsi":43.1007751937979,"volume":{"avg":11.04016,"current":1.947,"ratio":0.17635613976609035}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is at 43, which is a neutral level. MACD histogram is bullish and the recent price movement is upward. Bollinger bands are expanding, indicating high volatility. Kalman prediction is for a slight increase in price with 75% confidence. Signals for a long position are more clear-cut than for a short position.","symbol":"BTCUSDT","timestamp":1759627258659}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759627258659","module":"BybitClient","timestamp":"2025-10-05T01:20:58.660Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:20:58.660Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759626984495%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"12\",\"autoAddMargin\":0,\"avgPrice\":\"122265.7\",\"liqPrice\":\"112688.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123479.3\",\"positionValue\":\"18095.3236\",\"isReduceOnly\":false,\"positionIMByMp\":\"1517.06687327\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"112640.1\",\"unrealisedPnl\":\"-16.2356\",\"markPrice\":\"122156\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12079.12696388\",\"positionMM\":\"99.5997373\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1517.06687327\",\"positionMMByMp\":\"99.51855929\",\"seq\":140697266657242,\"updatedTime\":\"1759626984495\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1517.06687327\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-9.95242798\",\"size\":\"0.148\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121535.2\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759627260217}","module":"BybitClient","timestamp":"2025-10-05T01:20:59.791Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.148 BTCUSDT | PnL: -0.09%","module":"TradingStrategy","timestamp":"2025-10-05T01:20:59.795Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T01:20:59.792Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T01:21:00.191Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T01:21:00.200Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:21:39.621Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una pérdida del 0.09%, pero hay señales de reversión débiles (MACD...","module":"OllamaClient","timestamp":"2025-10-05T01:21:40.490Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una pérdida del 0.09%, pero hay señales de reversión débiles (MACD bajista,...","module":"TradingStrategy","timestamp":"2025-10-05T01:21:40.619Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759627300619","module":"BybitClient","timestamp":"2025-10-05T01:21:40.620Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:21:40.623Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:21:40.623Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T01:21:40.619Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T01:21:40.619Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:21:40.620Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:21:40.623Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759626984495%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"12\",\"autoAddMargin\":0,\"avgPrice\":\"122265.7\",\"liqPrice\":\"112688.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123479.3\",\"positionValue\":\"18095.3236\",\"isReduceOnly\":false,\"positionIMByMp\":\"1517.06687327\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"112640.1\",\"unrealisedPnl\":\"-22.32432\",\"markPrice\":\"122114.86\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12079.12696388\",\"positionMM\":\"99.5997373\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1517.06687327\",\"positionMMByMp\":\"99.48811569\",\"seq\":140697266657242,\"updatedTime\":\"1759626984495\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1517.06687327\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-9.95242798\",\"size\":\"0.148\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121535.2\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759627301910}","module":"BybitClient","timestamp":"2025-10-05T01:21:41.493Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T01:21:41.498Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T01:21:41.498Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T01:21:41.498Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:22:39.634Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:22:41.315Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:22:41.316Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:22:41.316Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T01:22:41.501Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0970","module":"KalmanFilter","timestamp":"2025-10-05T01:22:41.513Z"}
{"level":"debug","message":"Predicción Kalman: 122146.1967988306 (Confianza: 0.839)","module":"KalmanFilter","timestamp":"2025-10-05T01:22:41.514Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T01:22:42.243Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:23:39.632Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:23:40.595Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:23:40.629Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:23:40.628Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T01:23:43.413Z"}
{"confidence":0.3,"decision":"BUY","indicators":{"bollinger":{"lower":122087.7806877932,"middle":122185.575,"upper":122283.36931220679},"ema":{"ema21":122177.36934556623,"ema50":122208.22560900329,"ema9":122145.71785248755},"macd":{"histogram":-3.0012629963821382,"macd":-30.012629963821382,"signal":-27.011366967439244},"rsi":30.434782608695656,"volume":{"avg":11.21513000000001,"current":12.941,"ratio":1.1538876499871147}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"{\n\"decision\": \"BUY\",\n\"confidence\": 0.7,\n\"reasoning\": \"RSI is below 30 and MACD is bearish, indicating a potential sell signal. However, the Bollinger bands are expanding and the EMA9 is crossing above","symbol":"BTCUSDT","timestamp":1759627423417}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759627423417","module":"BybitClient","timestamp":"2025-10-05T01:23:43.425Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-05T01:23:43.416Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-05T01:23:43.416Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:23:43.425Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759626984495%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"12\",\"autoAddMargin\":0,\"avgPrice\":\"122265.7\",\"liqPrice\":\"112688.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123479.3\",\"positionValue\":\"18095.3236\",\"isReduceOnly\":false,\"positionIMByMp\":\"1517.06687327\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"112640.1\",\"unrealisedPnl\":\"-20.646\",\"markPrice\":\"122126.2\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12079.12696388\",\"positionMM\":\"99.5997373\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1517.06687327\",\"positionMMByMp\":\"99.49650729\",\"seq\":140697266657242,\"updatedTime\":\"1759626984495\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1517.06687327\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-9.95242798\",\"size\":\"0.148\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121535.2\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759627424275}","module":"BybitClient","timestamp":"2025-10-05T01:23:43.841Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.148 BTCUSDT | PnL: -0.11%","module":"TradingStrategy","timestamp":"2025-10-05T01:23:43.842Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T01:23:43.842Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T01:23:44.260Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T01:23:44.260Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"CLOSE_25\",\n  \"confidence\": 0.6,\n  \"reasoning\": \"Pérdida del 0.11% es pequeña pero hay 3 señales de reversión débiles (RSI < 60, MACD < ...","module":"OllamaClient","timestamp":"2025-10-05T01:24:30.151Z"}
{"level":"info","message":"📊 IA: CLOSE_25 | Razón: Pérdida del 0.11% es pequeña pero hay 3 señales de reversión débiles (RSI < 60, MACD < 0, EMA9 < EMA...","module":"TradingStrategy","timestamp":"2025-10-05T01:24:30.170Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759627470182","module":"BybitClient","timestamp":"2025-10-05T01:24:30.183Z"}
{"level":"info","message":"🤖 IA decide: CLOSE_25 (Confianza: 60%)","module":"OllamaClient","timestamp":"2025-10-05T01:24:30.169Z"}
{"level":"info","message":"🟢 CERRANDO 25% DE POSICIÓN: Pérdida del 0.11% es pequeña pero hay 3 señales de reversión débiles (RSI < 60, MACD < 0, EMA9 < EMA21). Cerrar 25% de la posición para asegurar parte de los beneficios y evitar mayores pérdidas.","module":"TradingStrategy","timestamp":"2025-10-05T01:24:30.181Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:24:30.184Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759626984495%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"12\",\"autoAddMargin\":0,\"avgPrice\":\"122265.7\",\"liqPrice\":\"112688.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123479.3\",\"positionValue\":\"18095.3236\",\"isReduceOnly\":false,\"positionIMByMp\":\"1517.06687327\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"112640.1\",\"unrealisedPnl\":\"-9.43796\",\"markPrice\":\"122201.93\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12079.12696388\",\"positionMM\":\"99.5997373\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1517.06687327\",\"positionMMByMp\":\"99.55254749\",\"seq\":140697266657242,\"updatedTime\":\"1759626984495\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1517.06687327\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-9.95242798\",\"size\":\"0.148\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121535.2\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759627472100}","module":"BybitClient","timestamp":"2025-10-05T01:24:31.667Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T01:24:31.667Z"}
{"level":"info","message":"Cerrando 25% de posición Buy BTCUSDT: 0.037 unidades (raw: 0.0370, stepSize: 0.001)","module":"BybitClient","timestamp":"2025-10-05T01:24:32.406Z"}
{"level":"info","message":"Ejecutando orden: Sell 0.037 BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:24:32.450Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759627472450","module":"BybitClient","timestamp":"2025-10-05T01:24:32.451Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"side\":\"Sell\",\"orderType\":\"Market\",\"qty\":\"0.037\",\"timeInForce\":\"IOC\"}","module":"BybitClient","timestamp":"2025-10-05T01:24:32.451Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"orderId\":\"a1f8524c-ec36-471d-8ad5-cc2512544abe\",\"orderLinkId\":\"\"},\"retExtInfo\":{},\"time\":1759627473300}","module":"BybitClient","timestamp":"2025-10-05T01:24:32.867Z"}
{"level":"info","message":"💰 25% cerrado. PnL parcial: -5.16 USDT","module":"TradingStrategy","timestamp":"2025-10-05T01:24:32.896Z"}
{"level":"info","message":"Orden ejecutada exitosamente: a1f8524c-ec36-471d-8ad5-cc2512544abe","module":"BybitClient","timestamp":"2025-10-05T01:24:32.896Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759627472896","module":"BybitClient","timestamp":"2025-10-05T01:24:32.896Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:24:32.896Z"}
{"level":"info","message":"✅ Acción ejecutada exitosamente","module":"TradingStrategy","timestamp":"2025-10-05T01:24:32.896Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759627473299%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"12\",\"autoAddMargin\":0,\"avgPrice\":\"122265.7\",\"liqPrice\":\"112688.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123479.3\",\"positionValue\":\"13571.4927\",\"isReduceOnly\":false,\"positionIMByMp\":\"1137.80015496\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"112640.1\",\"unrealisedPnl\":\"-7.06959\",\"markPrice\":\"122202.01\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12084.05942574\",\"positionMM\":\"74.69980298\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1137.80015496\",\"positionMMByMp\":\"74.66445502\",\"seq\":140697266670739,\"updatedTime\":\"1759627473299\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1137.80015496\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-14.88488984\",\"size\":\"0.111\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121535.2\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759627474072}","module":"BybitClient","timestamp":"2025-10-05T01:24:33.639Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T01:24:33.640Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T01:24:33.640Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T01:24:33.640Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:24:39.634Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:24:40.531Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:24:40.532Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:24:40.531Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T01:25:33.644Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0775","module":"KalmanFilter","timestamp":"2025-10-05T01:25:33.645Z"}
{"level":"debug","message":"Predicción Kalman: 122143.91734377133 (Confianza: 0.827)","module":"KalmanFilter","timestamp":"2025-10-05T01:25:33.645Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T01:25:34.814Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:25:39.637Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:25:40.056Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:25:40.057Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:25:40.057Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T01:26:22.678Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":122073.01819958394,"middle":122147.24499999997,"upper":122221.471800416},"ema":{"ema21":122154.08538507069,"ema50":122184.3384160508,"ema9":122143.95992132765},"macd":{"histogram":-1.635690788965439,"macd":-16.356907889654394,"signal":-14.721217100688955},"rsi":50.80147965474753,"volume":{"avg":11.202820000000006,"current":4.219,"ratio":0.37660160566714435}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima del 50%, MACD histogram es positivo y creciente, Bollinger bands están en el lado superior, EMA9 cruza por encima de EMA21, Kalman predice una subida con confianza del 82.7%. Se sugiera apostar a la subida.","symbol":"BTCUSDT","timestamp":1759627582703}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759627582704","module":"BybitClient","timestamp":"2025-10-05T01:26:22.704Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:26:22.705Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759627473299%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"12\",\"autoAddMargin\":0,\"avgPrice\":\"122265.7\",\"liqPrice\":\"112688.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123479.3\",\"positionValue\":\"13571.4927\",\"isReduceOnly\":false,\"positionIMByMp\":\"1137.80015496\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"112640.1\",\"unrealisedPnl\":\"-12.6318\",\"markPrice\":\"122151.9\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12084.05942574\",\"positionMM\":\"74.69980298\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1137.80015496\",\"positionMMByMp\":\"74.63664397\",\"seq\":140697266670739,\"updatedTime\":\"1759627473299\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1137.80015496\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-14.88488984\",\"size\":\"0.111\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121535.2\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759627584526}","module":"BybitClient","timestamp":"2025-10-05T01:26:24.101Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.111 BTCUSDT | PnL: -0.09%","module":"TradingStrategy","timestamp":"2025-10-05T01:26:24.104Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T01:26:24.104Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T01:26:24.502Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T01:26:24.502Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:26:39.644Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:26:40.640Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:26:40.740Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:26:40.654Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una tendencia alcista (RSI<50, MACD>0, EMA9>EMA21) y no hay señale...","module":"OllamaClient","timestamp":"2025-10-05T01:26:58.384Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una tendencia alcista (RSI<50, MACD>0, EMA9>EMA21) y no hay señales claras ...","module":"TradingStrategy","timestamp":"2025-10-05T01:26:58.386Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759627618387","module":"BybitClient","timestamp":"2025-10-05T01:26:58.387Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T01:26:58.386Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:26:58.387Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T01:26:58.387Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759627473299%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"12\",\"autoAddMargin\":0,\"avgPrice\":\"122265.7\",\"liqPrice\":\"112688.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123479.3\",\"positionValue\":\"13571.4927\",\"isReduceOnly\":false,\"positionIMByMp\":\"1137.80015496\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"112640.1\",\"unrealisedPnl\":\"-12.6429\",\"markPrice\":\"122151.8\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12084.05942574\",\"positionMM\":\"74.69980298\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1137.80015496\",\"positionMMByMp\":\"74.63658847\",\"seq\":140697266670739,\"updatedTime\":\"1759627473299\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1137.80015496\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-14.88488984\",\"size\":\"0.111\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121535.2\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759627619696}","module":"BybitClient","timestamp":"2025-10-05T01:26:59.252Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T01:26:59.275Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T01:26:59.275Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T01:26:59.275Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:27:39.643Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:27:40.536Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:27:40.705Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:27:40.705Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T01:27:59.280Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1096","module":"KalmanFilter","timestamp":"2025-10-05T01:27:59.283Z"}
{"level":"debug","message":"Predicción Kalman: 122172.22149704685 (Confianza: 0.795)","module":"KalmanFilter","timestamp":"2025-10-05T01:27:59.284Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T01:28:00.410Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:28:39.647Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:28:40.536Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:28:40.538Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:28:40.537Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T01:28:53.144Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":122079.0396034916,"middle":122152.52500000002,"upper":122226.01039650844},"ema":{"ema21":122161.60225505546,"ema50":122171.99308193164,"ema9":122172.88081017401},"macd":{"histogram":0.5820119951604283,"macd":5.820119951604283,"signal":5.238107956443855},"rsi":64.5217391304354,"volume":{"avg":12.068130000000004,"current":29.528,"ratio":2.446775101030565}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is above 64, MACD histogram is bullish, Bollinger bands are above the price, EMA9 is above EMA21 and EMA50, Kalman prediction is bullish with high confidence (79.5%). Signals are aligned for a potential buying opportunity.","symbol":"BTCUSDT","timestamp":1759627733146}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759627733146","module":"BybitClient","timestamp":"2025-10-05T01:28:53.147Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:28:53.147Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759627473299%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"12\",\"autoAddMargin\":0,\"avgPrice\":\"122265.7\",\"liqPrice\":\"112688.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123479.3\",\"positionValue\":\"13571.4927\",\"isReduceOnly\":false,\"positionIMByMp\":\"1137.80015496\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"112640.1\",\"unrealisedPnl\":\"-4.22355\",\"markPrice\":\"122227.65\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12084.05942574\",\"positionMM\":\"74.69980298\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1137.80015496\",\"positionMMByMp\":\"74.67868522\",\"seq\":140697266670739,\"updatedTime\":\"1759627473299\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1137.80015496\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-14.88488984\",\"size\":\"0.111\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121535.2\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759627734444}","module":"BybitClient","timestamp":"2025-10-05T01:28:53.994Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.111 BTCUSDT | PnL: -0.03%","module":"TradingStrategy","timestamp":"2025-10-05T01:28:54.014Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T01:28:53.995Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T01:28:54.412Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T01:28:54.412Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.7,\n  \"reasoning\": \"Tienes una posición LONG sólida con pérdida de 0.03%. Sin señales de reversión detectadas y...","module":"OllamaClient","timestamp":"2025-10-05T01:29:33.878Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: Tienes una posición LONG sólida con pérdida de 0.03%. Sin señales de reversión detectadas y indicado...","module":"TradingStrategy","timestamp":"2025-10-05T01:29:33.886Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759627773887","module":"BybitClient","timestamp":"2025-10-05T01:29:33.888Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 70%)","module":"OllamaClient","timestamp":"2025-10-05T01:29:33.885Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T01:29:33.886Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:29:33.888Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759627473299%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"12\",\"autoAddMargin\":0,\"avgPrice\":\"122265.7\",\"liqPrice\":\"112688.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123479.3\",\"positionValue\":\"13571.4927\",\"isReduceOnly\":false,\"positionIMByMp\":\"1137.80015496\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"112640.1\",\"unrealisedPnl\":\"-6.81207\",\"markPrice\":\"122204.33\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12084.05942574\",\"positionMM\":\"74.69980298\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1137.80015496\",\"positionMMByMp\":\"74.66574262\",\"seq\":140697266670739,\"updatedTime\":\"1759627473299\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1137.80015496\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-14.88488984\",\"size\":\"0.111\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121535.2\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759627775440}","module":"BybitClient","timestamp":"2025-10-05T01:29:34.993Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T01:29:34.996Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T01:29:34.996Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T01:29:34.996Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:29:39.648Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:29:40.057Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:29:40.057Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:29:40.057Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T01:30:34.999Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.2000","module":"KalmanFilter","timestamp":"2025-10-05T01:30:35.002Z"}
{"level":"debug","message":"Predicción Kalman: 122191.07746362404 (Confianza: 0.774)","module":"KalmanFilter","timestamp":"2025-10-05T01:30:35.002Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T01:30:35.854Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:30:39.650Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:30:40.064Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:30:40.081Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:30:40.081Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T01:31:19.786Z"}
{"confidence":0.3,"decision":"BUY","indicators":{"bollinger":{"lower":122097.27354539967,"middle":122177.36500000002,"upper":122257.45645460037},"ema":{"ema21":122183.00625888607,"ema50":122177.86050604253,"ema9":122197.09066990006},"macd":{"histogram":1.2668335255701084,"macd":12.668335255701095,"signal":11.401501730130986},"rsi":54.57765185053987,"volume":{"avg":11.48506,"current":12.097,"ratio":1.0532813933928076}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"{\n\"decision\": \"BUY\",\n\"confidence\": 0.7,\n\"reasoning\": \"RSI está por encima del 50%, MACD histogram es positivo y creciente, Bollinger superiors y medio, EMAs cruzan por encima, Kalman predice subida co","symbol":"BTCUSDT","timestamp":1759627879799}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759627879800","module":"BybitClient","timestamp":"2025-10-05T01:31:19.800Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-05T01:31:19.789Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-05T01:31:19.799Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:31:19.800Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759627473299%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"12\",\"autoAddMargin\":0,\"avgPrice\":\"122265.7\",\"liqPrice\":\"112688.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123479.3\",\"positionValue\":\"13571.4927\",\"isReduceOnly\":false,\"positionIMByMp\":\"1137.80015496\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"112640.1\",\"unrealisedPnl\":\"-5.24808\",\"markPrice\":\"122218.42\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12084.05942574\",\"positionMM\":\"74.69980298\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1137.80015496\",\"positionMMByMp\":\"74.67356257\",\"seq\":140697266670739,\"updatedTime\":\"1759627473299\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1137.80015496\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-14.88488984\",\"size\":\"0.111\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121535.2\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759627881668}","module":"BybitClient","timestamp":"2025-10-05T01:31:21.229Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.111 BTCUSDT | PnL: -0.04%","module":"TradingStrategy","timestamp":"2025-10-05T01:31:21.232Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T01:31:21.231Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T01:31:21.642Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T01:31:21.643Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:31:39.657Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:31:40.583Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:31:40.584Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:31:40.584Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.7,\n  \"reasoning\": \"La posición actual tiene una tendencia alcista (RSI<60, MACD>0, EMA9>EMA21), y no hay señal...","module":"OllamaClient","timestamp":"2025-10-05T01:32:02.335Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una tendencia alcista (RSI<60, MACD>0, EMA9>EMA21), y no hay señales de rev...","module":"TradingStrategy","timestamp":"2025-10-05T01:32:02.401Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759627922402","module":"BybitClient","timestamp":"2025-10-05T01:32:02.402Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 70%)","module":"OllamaClient","timestamp":"2025-10-05T01:32:02.401Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T01:32:02.401Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:32:02.402Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759627473299%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"12\",\"autoAddMargin\":0,\"avgPrice\":\"122265.7\",\"liqPrice\":\"112688.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123479.3\",\"positionValue\":\"13571.4927\",\"isReduceOnly\":false,\"positionIMByMp\":\"1137.80015496\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"112640.1\",\"unrealisedPnl\":\"-6.18936\",\"markPrice\":\"122209.94\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12084.05942574\",\"positionMM\":\"74.69980298\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1137.80015496\",\"positionMMByMp\":\"74.66885617\",\"seq\":140697266670739,\"updatedTime\":\"1759627473299\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1137.80015496\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-14.88488984\",\"size\":\"0.111\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121535.2\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759627923988}","module":"BybitClient","timestamp":"2025-10-05T01:32:03.540Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T01:32:03.540Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T01:32:03.540Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T01:32:03.540Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:32:39.655Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:32:40.759Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:32:40.759Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:32:40.759Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T01:33:03.543Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1741","module":"KalmanFilter","timestamp":"2025-10-05T01:33:03.547Z"}
{"level":"debug","message":"Predicción Kalman: 122207.69504949464 (Confianza: 0.804)","module":"KalmanFilter","timestamp":"2025-10-05T01:33:03.549Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T01:33:04.414Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:33:39.663Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:33:40.821Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:33:40.822Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:33:40.822Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T01:33:59.750Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":122152.5105392883,"middle":122208.50999999998,"upper":122264.50946071166},"ema":{"ema21":122206.89100677666,"ema50":122195.76124957266,"ema9":122214.24304306885},"macd":{"histogram":0.9290811236380243,"macd":9.29081123638025,"signal":8.361730112742226},"rsi":62.92682926829146,"volume":{"avg":12.448780000000001,"current":3.646,"ratio":0.2928801055203803}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está dentro de su rango alto (62.93), MACD histogram es bullish y el precio actual está a 122231.2. Además, los indicadores técnicos sugieren una posible subida. La posición actual es neutral, pero la tendencia es alcista. Se sugiere apostar a la subida.","symbol":"BTCUSDT","timestamp":1759628039752}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759628039753","module":"BybitClient","timestamp":"2025-10-05T01:33:59.755Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:33:59.755Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759627473299%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"12\",\"autoAddMargin\":0,\"avgPrice\":\"122265.7\",\"liqPrice\":\"112688.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123479.3\",\"positionValue\":\"13571.4927\",\"isReduceOnly\":false,\"positionIMByMp\":\"1137.80015496\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"112640.1\",\"unrealisedPnl\":\"-2.3199\",\"markPrice\":\"122244.8\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12084.05942574\",\"positionMM\":\"74.69980298\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1137.80015496\",\"positionMMByMp\":\"74.68820347\",\"seq\":140697266670739,\"updatedTime\":\"1759627473299\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1137.80015496\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-14.88488984\",\"size\":\"0.111\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121535.2\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759628041336}","module":"BybitClient","timestamp":"2025-10-05T01:34:00.886Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.111 BTCUSDT | PnL: -0.02%","module":"TradingStrategy","timestamp":"2025-10-05T01:34:00.944Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T01:34:00.944Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T01:34:01.346Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T01:34:01.347Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"No hay señales de reversión detectadas, y la tendencia es alçista según RSI, MACD y EMA. Ma...","module":"OllamaClient","timestamp":"2025-10-05T01:34:38.525Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: No hay señales de reversión detectadas, y la tendencia es alçista según RSI, MACD y EMA. Mantener po...","module":"TradingStrategy","timestamp":"2025-10-05T01:34:38.530Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759628078530","module":"BybitClient","timestamp":"2025-10-05T01:34:38.535Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T01:34:38.530Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T01:34:38.530Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:34:38.536Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759627473299%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"12\",\"autoAddMargin\":0,\"avgPrice\":\"122265.7\",\"liqPrice\":\"112688.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123479.3\",\"positionValue\":\"13571.4927\",\"isReduceOnly\":false,\"positionIMByMp\":\"1137.80015496\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"112640.1\",\"unrealisedPnl\":\"-1.59174\",\"markPrice\":\"122251.36\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12084.05942574\",\"positionMM\":\"74.69980298\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1137.80015496\",\"positionMMByMp\":\"74.69184427\",\"seq\":140697266670739,\"updatedTime\":\"1759627473299\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1137.80015496\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-14.88488984\",\"size\":\"0.111\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121535.2\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759628080092}","module":"BybitClient","timestamp":"2025-10-05T01:34:39.644Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T01:34:39.646Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T01:34:39.644Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T01:34:39.646Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:34:39.661Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:34:40.051Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:34:40.145Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:34:40.144Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T01:35:39.649Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0955","module":"KalmanFilter","timestamp":"2025-10-05T01:35:39.651Z"}
{"level":"debug","message":"Predicción Kalman: 122227.4732300847 (Confianza: 0.821)","module":"KalmanFilter","timestamp":"2025-10-05T01:35:39.651Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:35:39.666Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:35:41.005Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:35:41.005Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:35:41.005Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T01:35:41.005Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T01:36:26.136Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":122188.8407365305,"middle":122218.795,"upper":122248.7492634695},"ema":{"ema21":122218.31046495937,"ema50":122205.16544974592,"ema9":122227.08341902432},"macd":{"histogram":0.9516043473049649,"macd":9.516043473049649,"signal":8.564439125744684},"rsi":55.01686340640815,"volume":{"avg":12.52969,"current":6.985,"ratio":0.5574758832820286}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima del 50, MACD histogram es positivo y creciente, Bollinger bander superior, EMA9 cruza por encima de EMA21, Kalman predice subida con confianza del 75%","symbol":"BTCUSDT","timestamp":1759628186138}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759628186138","module":"BybitClient","timestamp":"2025-10-05T01:36:26.142Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:36:26.144Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759627473299%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"12\",\"autoAddMargin\":0,\"avgPrice\":\"122265.7\",\"liqPrice\":\"112688.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123479.3\",\"positionValue\":\"13571.4927\",\"isReduceOnly\":false,\"positionIMByMp\":\"1137.80015496\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"112640.1\",\"unrealisedPnl\":\"2.37207\",\"markPrice\":\"122287.07\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12084.05942574\",\"positionMM\":\"74.69980298\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1137.80015496\",\"positionMMByMp\":\"74.71166332\",\"seq\":140697266670739,\"updatedTime\":\"1759627473299\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1137.80015496\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-14.88488984\",\"size\":\"0.111\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121535.2\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759628187530}","module":"BybitClient","timestamp":"2025-10-05T01:36:27.079Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.111 BTCUSDT | PnL: 0.02%","module":"TradingStrategy","timestamp":"2025-10-05T01:36:27.080Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T01:36:27.080Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T01:36:27.480Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T01:36:27.481Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:36:39.669Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:36:41.482Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:36:41.501Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:36:41.500Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una tendencia alcista (RSI<55, MACD histogramo bullish), un aument...","module":"OllamaClient","timestamp":"2025-10-05T01:37:04.098Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una tendencia alcista (RSI<55, MACD histogramo bullish), un aumento en el v...","module":"TradingStrategy","timestamp":"2025-10-05T01:37:04.120Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759628224148","module":"BybitClient","timestamp":"2025-10-05T01:37:04.149Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T01:37:04.105Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T01:37:04.148Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:37:04.150Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759627473299%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"12\",\"autoAddMargin\":0,\"avgPrice\":\"122265.7\",\"liqPrice\":\"112688.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123479.3\",\"positionValue\":\"13571.4927\",\"isReduceOnly\":false,\"positionIMByMp\":\"1137.80015496\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"112640.1\",\"unrealisedPnl\":\"3.2301\",\"markPrice\":\"122294.8\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12084.05942574\",\"positionMM\":\"74.69980298\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1137.80015496\",\"positionMMByMp\":\"74.71595347\",\"seq\":140697266670739,\"updatedTime\":\"1759627473299\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1137.80015496\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-14.88488984\",\"size\":\"0.111\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121535.2\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759628226395}","module":"BybitClient","timestamp":"2025-10-05T01:37:05.951Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T01:37:05.952Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T01:37:05.952Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T01:37:05.953Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:37:39.672Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:37:41.158Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:37:41.159Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:37:41.159Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T01:38:05.955Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0722","module":"KalmanFilter","timestamp":"2025-10-05T01:38:05.957Z"}
{"level":"debug","message":"Predicción Kalman: 122276.91710305907 (Confianza: 0.838)","module":"KalmanFilter","timestamp":"2025-10-05T01:38:05.958Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T01:38:07.189Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:38:39.675Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:38:41.029Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:38:41.030Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:38:41.030Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T01:39:02.312Z"}
{"confidence":0.3,"decision":"BUY","indicators":{"bollinger":{"lower":122190.60307963671,"middle":122249.39499999997,"upper":122308.18692036324},"ema":{"ema21":122253.73143468598,"ema50":122230.40398435925,"ema9":122271.78398886415},"macd":{"histogram":1.8088686105737004,"macd":18.088686105736997,"signal":16.279817495163297},"rsi":63.37822014051571,"volume":{"avg":13.294520000000002,"current":2.888,"ratio":0.21723236340988614}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"{\n  \"decision\": \"BUY\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"RSI está por encima del 60%, MACD está cruzando a positivo y el precio está superando su rango de Bollinger superior. Además, la predicción ","symbol":"BTCUSDT","timestamp":1759628342317}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759628342322","module":"BybitClient","timestamp":"2025-10-05T01:39:02.328Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-05T01:39:02.317Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-05T01:39:02.317Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:39:02.329Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759627473299%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"12\",\"autoAddMargin\":0,\"avgPrice\":\"122265.7\",\"liqPrice\":\"112688.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123479.3\",\"positionValue\":\"13571.4927\",\"isReduceOnly\":false,\"positionIMByMp\":\"1137.80015496\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"112640.1\",\"unrealisedPnl\":\"5.6943\",\"markPrice\":\"122317\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12084.05942574\",\"positionMM\":\"74.69980298\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1137.80015496\",\"positionMMByMp\":\"74.72827447\",\"seq\":140697266670739,\"updatedTime\":\"1759627473299\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1137.80015496\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-14.88488984\",\"size\":\"0.111\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121535.2\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759628343636}","module":"BybitClient","timestamp":"2025-10-05T01:39:03.186Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.111 BTCUSDT | PnL: 0.04%","module":"TradingStrategy","timestamp":"2025-10-05T01:39:03.187Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T01:39:03.187Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T01:39:03.586Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T01:39:03.587Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:39:39.686Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:39:40.587Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:39:40.588Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:39:40.588Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual es saludable con un pequeño ganancia de 0.04%. No hay señales de reversi...","module":"OllamaClient","timestamp":"2025-10-05T01:39:42.474Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual es saludable con un pequeño ganancia de 0.04%. No hay señales de reversión detect...","module":"TradingStrategy","timestamp":"2025-10-05T01:39:42.483Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759628382484","module":"BybitClient","timestamp":"2025-10-05T01:39:42.488Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T01:39:42.478Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T01:39:42.483Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:39:42.488Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759627473299%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"12\",\"autoAddMargin\":0,\"avgPrice\":\"122265.7\",\"liqPrice\":\"112688.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123479.3\",\"positionValue\":\"13571.4927\",\"isReduceOnly\":false,\"positionIMByMp\":\"1137.80015496\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"112640.1\",\"unrealisedPnl\":\"5.8608\",\"markPrice\":\"122318.5\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12084.05942574\",\"positionMM\":\"74.69980298\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1137.80015496\",\"positionMMByMp\":\"74.72910697\",\"seq\":140697266670739,\"updatedTime\":\"1759627473299\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1137.80015496\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-14.88488984\",\"size\":\"0.111\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121535.2\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759628383348}","module":"BybitClient","timestamp":"2025-10-05T01:39:42.904Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T01:39:42.957Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T01:39:42.957Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T01:39:42.957Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:40:39.688Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:40:41.116Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:40:41.259Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:40:41.258Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T01:40:42.959Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0744","module":"KalmanFilter","timestamp":"2025-10-05T01:40:42.960Z"}
{"level":"debug","message":"Predicción Kalman: 122310.1582452466 (Confianza: 0.871)","module":"KalmanFilter","timestamp":"2025-10-05T01:40:42.960Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T01:40:43.373Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T01:41:34.763Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":122242.83569319706,"middle":122292.19000000002,"upper":122341.54430680297},"ema":{"ema21":122292.23229168287,"ema50":122261.70620023392,"ema9":122308.19011900254},"macd":{"histogram":1.8165149125692537,"macd":18.16514912569255,"signal":16.348634213123297},"rsi":72.44565217391462,"volume":{"avg":13.717120000000001,"current":7.217,"ratio":0.5261308496244109}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está sobrecompra (72.45) y MACD es bullish (1.816515). Además, el precio actual es superior a los 30 días de Bollinger (122341.54), lo que sugiere una posible subida. Kalman predice una tendencia alcista con confianza del 76.8%.","symbol":"BTCUSDT","timestamp":1759628494766}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759628494767","module":"BybitClient","timestamp":"2025-10-05T01:41:34.770Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:41:34.771Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759627473299%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"12\",\"autoAddMargin\":0,\"avgPrice\":\"122265.7\",\"liqPrice\":\"112688.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123479.3\",\"positionValue\":\"13571.4927\",\"isReduceOnly\":false,\"positionIMByMp\":\"1137.80015496\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"112640.1\",\"unrealisedPnl\":\"8.78343\",\"markPrice\":\"122344.83\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12084.05942574\",\"positionMM\":\"74.69980298\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1137.80015496\",\"positionMMByMp\":\"74.74372012\",\"seq\":140697266670739,\"updatedTime\":\"1759627473299\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1137.80015496\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-14.88488984\",\"size\":\"0.111\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121535.2\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759628496739}","module":"BybitClient","timestamp":"2025-10-05T01:41:36.290Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.111 BTCUSDT | PnL: 0.06%","module":"TradingStrategy","timestamp":"2025-10-05T01:41:36.290Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T01:41:36.290Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T01:41:37.026Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T01:41:37.027Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:41:39.689Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:41:40.426Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:41:40.447Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:41:40.443Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una ganancia del 0.065% y los indicadores técnicos sugieren una te...","module":"OllamaClient","timestamp":"2025-10-05T01:42:32.471Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una ganancia del 0.065% y los indicadores técnicos sugieren una tendencia a...","module":"TradingStrategy","timestamp":"2025-10-05T01:42:32.485Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759628552489","module":"BybitClient","timestamp":"2025-10-05T01:42:32.494Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T01:42:32.485Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T01:42:32.485Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:42:32.494Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759627473299%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"12\",\"autoAddMargin\":0,\"avgPrice\":\"122265.7\",\"liqPrice\":\"112688.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123479.3\",\"positionValue\":\"13571.4927\",\"isReduceOnly\":false,\"positionIMByMp\":\"1137.80015496\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"112640.1\",\"unrealisedPnl\":\"8.30169\",\"markPrice\":\"122340.49\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12084.05942574\",\"positionMM\":\"74.69980298\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1137.80015496\",\"positionMMByMp\":\"74.74131142\",\"seq\":140697266670739,\"updatedTime\":\"1759627473299\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1137.80015496\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-14.88488984\",\"size\":\"0.111\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121535.2\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759628554369}","module":"BybitClient","timestamp":"2025-10-05T01:42:33.918Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T01:42:33.918Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T01:42:33.918Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T01:42:33.918Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:42:39.690Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:42:40.940Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:42:40.946Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:42:40.945Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T01:43:33.922Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0824","module":"KalmanFilter","timestamp":"2025-10-05T01:43:33.924Z"}
{"level":"debug","message":"Predicción Kalman: 122329.65253768422 (Confianza: 0.883)","module":"KalmanFilter","timestamp":"2025-10-05T01:43:33.925Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T01:43:35.052Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:43:39.691Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:43:40.094Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:43:40.095Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:43:40.094Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T01:44:37.690Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":122281.85630187155,"middle":122315.97000000002,"upper":122350.08369812848},"ema":{"ema21":122314.4715933961,"ema50":122283.07018497966,"ema9":122328.4511833995},"macd":{"histogram":1.6508750519555182,"macd":16.50875051955518,"signal":14.85787546759966},"rsi":62.655086848634085,"volume":{"avg":13.869110000000001,"current":4.477,"ratio":0.32280369829066174}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está en un nivel alto (62.66) indicando una posible sobrecompra. Además, el MACD histogram es bullish y el precio actual está dentro del rango de Bollinger superior. La Kalman predice una subida con confianza del 75%","symbol":"BTCUSDT","timestamp":1759628677861}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759628677873","module":"BybitClient","timestamp":"2025-10-05T01:44:37.899Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:44:37.901Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759627473299%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"12\",\"autoAddMargin\":0,\"avgPrice\":\"122265.7\",\"liqPrice\":\"112688.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123479.3\",\"positionValue\":\"13571.4927\",\"isReduceOnly\":false,\"positionIMByMp\":\"1137.80015496\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"112640.1\",\"unrealisedPnl\":\"11.68386\",\"markPrice\":\"122370.96\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12084.05942574\",\"positionMM\":\"74.69980298\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1137.80015496\",\"positionMMByMp\":\"74.75822227\",\"seq\":140697266670739,\"updatedTime\":\"1759627473299\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1137.80015496\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-14.88488984\",\"size\":\"0.111\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121535.2\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759628679909}","module":"BybitClient","timestamp":"2025-10-05T01:44:39.461Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.111 BTCUSDT | PnL: 0.09%","module":"TradingStrategy","timestamp":"2025-10-05T01:44:39.462Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T01:44:39.462Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:44:39.690Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T01:44:39.860Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T01:44:39.860Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:44:40.533Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:44:40.534Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:44:40.533Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una tendencia alcista (RSI>60, MACD>0, EMA9>EMA21), y no hay señal...","module":"OllamaClient","timestamp":"2025-10-05T01:45:24.888Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una tendencia alcista (RSI>60, MACD>0, EMA9>EMA21), y no hay señales de rev...","module":"TradingStrategy","timestamp":"2025-10-05T01:45:24.889Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759628724890","module":"BybitClient","timestamp":"2025-10-05T01:45:24.891Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T01:45:24.889Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T01:45:24.890Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:45:24.894Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759627473299%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"12\",\"autoAddMargin\":0,\"avgPrice\":\"122265.7\",\"liqPrice\":\"112688.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123479.3\",\"positionValue\":\"13571.4927\",\"isReduceOnly\":false,\"positionIMByMp\":\"1137.80015496\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"112640.1\",\"unrealisedPnl\":\"6.17382\",\"markPrice\":\"122321.32\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12084.05942574\",\"positionMM\":\"74.69980298\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1137.80015496\",\"positionMMByMp\":\"74.73067207\",\"seq\":140697266670739,\"updatedTime\":\"1759627473299\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1137.80015496\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-14.88488984\",\"size\":\"0.111\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121535.2\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759628726231}","module":"BybitClient","timestamp":"2025-10-05T01:45:25.773Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T01:45:25.773Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T01:45:25.773Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T01:45:25.774Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:45:39.695Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:45:40.553Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:45:40.554Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:45:40.553Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T01:46:25.781Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0823","module":"KalmanFilter","timestamp":"2025-10-05T01:46:25.783Z"}
{"level":"debug","message":"Predicción Kalman: 122338.47538422006 (Confianza: 0.898)","module":"KalmanFilter","timestamp":"2025-10-05T01:46:25.784Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T01:46:27.557Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:46:39.697Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:46:40.589Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:46:40.639Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:46:40.638Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T01:47:16.053Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":122314.8016934685,"middle":122337.23999999996,"upper":122359.67830653142},"ema":{"ema21":122333.79247934339,"ema50":122307.51762446531,"ema9":122338.67037392582},"macd":{"histogram":0.8375800228968728,"macd":8.375800228968728,"signal":7.5382202060718555},"rsi":49.754385964908145,"volume":{"avg":13.908569999999997,"current":9.549,"ratio":0.6865551239271903}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is below 40, MACD histogram is bullish and the stock is trading above its Bollinger bands. These indicators suggest that the stock has potential to move higher. Additionally, Kalman predicts a positive price movement with high confidence. Therefore, I suggest buying the stock.","symbol":"BTCUSDT","timestamp":1759628836103}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759628836103","module":"BybitClient","timestamp":"2025-10-05T01:47:16.104Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:47:16.104Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759627473299%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"12\",\"autoAddMargin\":0,\"avgPrice\":\"122265.7\",\"liqPrice\":\"112688.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123479.3\",\"positionValue\":\"13571.4927\",\"isReduceOnly\":false,\"positionIMByMp\":\"1137.80015496\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"112640.1\",\"unrealisedPnl\":\"4.52991\",\"markPrice\":\"122306.51\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12084.05942574\",\"positionMM\":\"74.69980298\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1137.80015496\",\"positionMMByMp\":\"74.72245252\",\"seq\":140697266670739,\"updatedTime\":\"1759627473299\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1137.80015496\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-14.88488984\",\"size\":\"0.111\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121535.2\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759628837708}","module":"BybitClient","timestamp":"2025-10-05T01:47:17.261Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.111 BTCUSDT | PnL: 0.03%","module":"TradingStrategy","timestamp":"2025-10-05T01:47:17.312Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T01:47:17.312Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T01:47:17.708Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T01:47:17.708Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:47:39.702Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:47:40.573Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:47:40.577Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:47:40.576Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una ganancia del 0.03%, y los indicadores técnicos sugieren que la...","module":"OllamaClient","timestamp":"2025-10-05T01:48:04.286Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una ganancia del 0.03%, y los indicadores técnicos sugieren que la tendenci...","module":"TradingStrategy","timestamp":"2025-10-05T01:48:04.291Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759628884291","module":"BybitClient","timestamp":"2025-10-05T01:48:04.292Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T01:48:04.291Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T01:48:04.291Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:48:04.292Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759627473299%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"12\",\"autoAddMargin\":0,\"avgPrice\":\"122265.7\",\"liqPrice\":\"112688.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123479.3\",\"positionValue\":\"13571.4927\",\"isReduceOnly\":false,\"positionIMByMp\":\"1137.80015496\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"112640.1\",\"unrealisedPnl\":\"2.34654\",\"markPrice\":\"122286.84\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12084.05942574\",\"positionMM\":\"74.69980298\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1137.80015496\",\"positionMMByMp\":\"74.71153567\",\"seq\":140697266670739,\"updatedTime\":\"1759627473299\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1137.80015496\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-14.88488984\",\"size\":\"0.111\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121535.2\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759628886156}","module":"BybitClient","timestamp":"2025-10-05T01:48:05.700Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T01:48:05.700Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T01:48:05.700Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T01:48:05.700Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:48:39.700Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:48:40.595Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:48:40.595Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:48:40.595Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T01:49:05.704Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1081","module":"KalmanFilter","timestamp":"2025-10-05T01:49:05.707Z"}
{"level":"debug","message":"Predicción Kalman: 122314.01737157792 (Confianza: 0.880)","module":"KalmanFilter","timestamp":"2025-10-05T01:49:05.708Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T01:49:06.935Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:49:39.741Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:49:42.160Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:49:42.161Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:49:42.160Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T01:49:55.221Z"}
{"confidence":0.75,"decision":"BUY","indicators":{"bollinger":{"lower":122287.59981634562,"middle":122331.15999999996,"upper":122374.7201836543},"ema":{"ema21":122325.44042995301,"ema50":122316.36724790126,"ema9":122315.46752457615},"macd":{"histogram":-0.6120004087351845,"macd":-6.120004087351845,"signal":-5.50800367861666},"rsi":41.75595238095182,"volume":{"avg":13.770490000000004,"current":3.932,"ratio":0.28553813262999345}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is above 41, MACD histogram is bullish and crossed above zero, Bollinger bands are expanding and the price is above the upper band, EMA9 crossed above EMA21 and EMA50, Kalman prediction is bullish with high confidence (88%)","symbol":"BTCUSDT","timestamp":1759628995919}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759628995920","module":"BybitClient","timestamp":"2025-10-05T01:49:55.928Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:49:55.928Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759627473299%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"12\",\"autoAddMargin\":0,\"avgPrice\":\"122265.7\",\"liqPrice\":\"112688.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123479.3\",\"positionValue\":\"13571.4927\",\"isReduceOnly\":false,\"positionIMByMp\":\"1137.80015496\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"112640.1\",\"unrealisedPnl\":\"6.6267\",\"markPrice\":\"122325.4\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12084.05942574\",\"positionMM\":\"74.69980298\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1137.80015496\",\"positionMMByMp\":\"74.73293647\",\"seq\":140697266670739,\"updatedTime\":\"1759627473299\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1137.80015496\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-14.88488984\",\"size\":\"0.111\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121535.2\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759628997530}","module":"BybitClient","timestamp":"2025-10-05T01:49:57.069Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.111 BTCUSDT | PnL: 0.05%","module":"TradingStrategy","timestamp":"2025-10-05T01:49:57.070Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T01:49:57.070Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T01:49:57.464Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T01:49:57.464Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:50:39.728Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:50:40.891Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:50:40.891Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:50:40.891Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una ganancia del 0.05%, y aunque hay señales de reversión (MACD ba...","module":"OllamaClient","timestamp":"2025-10-05T01:50:49.778Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una ganancia del 0.05%, y aunque hay señales de reversión (MACD bajista, EM...","module":"TradingStrategy","timestamp":"2025-10-05T01:50:49.780Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759629049781","module":"BybitClient","timestamp":"2025-10-05T01:50:49.781Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T01:50:49.780Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T01:50:49.780Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:50:49.781Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759627473299%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"12\",\"autoAddMargin\":0,\"avgPrice\":\"122265.7\",\"liqPrice\":\"112688.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123479.3\",\"positionValue\":\"13571.4927\",\"isReduceOnly\":false,\"positionIMByMp\":\"1137.80015496\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"112640.1\",\"unrealisedPnl\":\"8.3028\",\"markPrice\":\"122340.5\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12084.05942574\",\"positionMM\":\"74.69980298\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1137.80015496\",\"positionMMByMp\":\"74.74131697\",\"seq\":140697266670739,\"updatedTime\":\"1759627473299\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1137.80015496\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-14.88488984\",\"size\":\"0.111\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121535.2\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759629051090}","module":"BybitClient","timestamp":"2025-10-05T01:50:50.622Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T01:50:50.623Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T01:50:50.622Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T01:50:50.623Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:51:39.729Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:51:40.862Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:51:40.863Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:51:40.862Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T01:51:50.635Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0794","module":"KalmanFilter","timestamp":"2025-10-05T01:51:50.640Z"}
{"level":"debug","message":"Predicción Kalman: 122329.12224686256 (Confianza: 0.855)","module":"KalmanFilter","timestamp":"2025-10-05T01:51:50.642Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T01:51:52.519Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:52:39.738Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:52:41.041Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:52:41.042Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:52:41.041Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T01:53:03.346Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":122263.59411693217,"middle":122316.53499999999,"upper":122369.4758830678},"ema":{"ema21":122320.97162667694,"ema50":122317.65384258646,"ema9":122324.51631235595},"macd":{"histogram":0.1085295011638664,"macd":1.0852950116386637,"signal":0.9767655104747973},"rsi":54.245754245754,"volume":{"avg":11.757739999999998,"current":1.831,"ratio":0.15572720607871923}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima de 50, MACD histogram es positivo y creciente, Bollinger bands están en el interior, EMA9 cruza por encima de EMA21, Kalman predice una subida con confianza del 85.5%, volumen alto y cambio reciente del 0.02% en las últimas 10 velas. Se detectan señales bajistas claras, pero no tan claras como para sugerir un SELL/SHORT sin miedo. Sugiero una posición LONG con un leverage alto (10-50x) y un riesgo bajo (low).","symbol":"BTCUSDT","timestamp":1759629183350}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759629183365","module":"BybitClient","timestamp":"2025-10-05T01:53:03.368Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:53:03.368Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759627473299%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"12\",\"autoAddMargin\":0,\"avgPrice\":\"122265.7\",\"liqPrice\":\"112688.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123479.3\",\"positionValue\":\"13571.4927\",\"isReduceOnly\":false,\"positionIMByMp\":\"1137.80015496\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"112640.1\",\"unrealisedPnl\":\"11.4663\",\"markPrice\":\"122369\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12084.05942574\",\"positionMM\":\"74.69980298\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1137.80015496\",\"positionMMByMp\":\"74.75713447\",\"seq\":140697266670739,\"updatedTime\":\"1759627473299\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1137.80015496\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-14.88488984\",\"size\":\"0.111\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121535.2\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759629185449}","module":"BybitClient","timestamp":"2025-10-05T01:53:04.985Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.111 BTCUSDT | PnL: 0.08%","module":"TradingStrategy","timestamp":"2025-10-05T01:53:04.986Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T01:53:04.986Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T01:53:05.380Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T01:53:05.381Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:53:39.742Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:53:40.613Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:53:40.618Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:53:40.613Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual es saludable con una ganancia del 0.08% y sin señales de reversión. Mant...","module":"OllamaClient","timestamp":"2025-10-05T01:53:41.013Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual es saludable con una ganancia del 0.08% y sin señales de reversión. Mantener la p...","module":"TradingStrategy","timestamp":"2025-10-05T01:53:41.013Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759629221014","module":"BybitClient","timestamp":"2025-10-05T01:53:41.014Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T01:53:41.013Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T01:53:41.013Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:53:41.014Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759627473299%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"12\",\"autoAddMargin\":0,\"avgPrice\":\"122265.7\",\"liqPrice\":\"112688.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123479.3\",\"positionValue\":\"13571.4927\",\"isReduceOnly\":false,\"positionIMByMp\":\"1137.80015496\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"112640.1\",\"unrealisedPnl\":\"8.67243\",\"markPrice\":\"122343.83\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12084.05942574\",\"positionMM\":\"74.69980298\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1137.80015496\",\"positionMMByMp\":\"74.74316512\",\"seq\":140697266670739,\"updatedTime\":\"1759627473299\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1137.80015496\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-14.88488984\",\"size\":\"0.111\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121535.2\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759629221877}","module":"BybitClient","timestamp":"2025-10-05T01:53:41.410Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T01:53:41.410Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T01:53:41.410Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T01:53:41.411Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:54:39.741Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T01:54:41.412Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0781","module":"KalmanFilter","timestamp":"2025-10-05T01:54:41.413Z"}
{"level":"debug","message":"Predicción Kalman: 122345.89704227711 (Confianza: 0.865)","module":"KalmanFilter","timestamp":"2025-10-05T01:54:41.414Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:54:41.461Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:54:41.461Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:54:41.461Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T01:54:42.674Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:55:39.749Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:55:40.892Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:55:40.893Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:55:40.893Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T01:55:43.129Z"}
{"confidence":0.3,"decision":"BUY","indicators":{"bollinger":{"lower":122275.67326161757,"middle":122329.27999999998,"upper":122382.8867383824},"ema":{"ema21":122334.27958540487,"ema50":122325.44800457213,"ema9":122342.30169154884},"macd":{"histogram":0.7309723582278815,"macd":7.309723582278821,"signal":6.578751224050939},"rsi":56.618726152040544,"volume":{"avg":10.892199999999997,"current":21.56,"ratio":1.9793981013936581}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"{\n\"decision\": \"BUY\",\n\"confidence\": 0.7,\n\"reasoning\": \"RSI está por encima de 56, MACD histogram es positivo y creciente, Bollinger bands están en el área superior, EMA9 cruza por encima de EMA21, Kalm","symbol":"BTCUSDT","timestamp":1759629343139}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759629343140","module":"BybitClient","timestamp":"2025-10-05T01:55:43.140Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-05T01:55:43.137Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-05T01:55:43.139Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:55:43.141Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759627473299%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"12\",\"autoAddMargin\":0,\"avgPrice\":\"122265.7\",\"liqPrice\":\"112688.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123479.3\",\"positionValue\":\"13571.4927\",\"isReduceOnly\":false,\"positionIMByMp\":\"1137.80015496\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"112640.1\",\"unrealisedPnl\":\"8.436\",\"markPrice\":\"122341.7\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12084.05942574\",\"positionMM\":\"74.69980298\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1137.80015496\",\"positionMMByMp\":\"74.74198297\",\"seq\":140697266670739,\"updatedTime\":\"1759627473299\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1137.80015496\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-14.88488984\",\"size\":\"0.111\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121535.2\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759629344004}","module":"BybitClient","timestamp":"2025-10-05T01:55:43.538Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.111 BTCUSDT | PnL: 0.06%","module":"TradingStrategy","timestamp":"2025-10-05T01:55:43.540Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T01:55:43.540Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T01:55:43.928Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T01:55:43.928Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual es saludable con una ganancia del 0.06% y sin señales de reversión. Mant...","module":"OllamaClient","timestamp":"2025-10-05T01:56:26.774Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual es saludable con una ganancia del 0.06% y sin señales de reversión. Mantener la p...","module":"TradingStrategy","timestamp":"2025-10-05T01:56:26.840Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759629386845","module":"BybitClient","timestamp":"2025-10-05T01:56:26.861Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T01:56:26.839Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T01:56:26.840Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:56:26.861Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759627473299%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"12\",\"autoAddMargin\":0,\"avgPrice\":\"122265.7\",\"liqPrice\":\"112688.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123479.3\",\"positionValue\":\"13571.4927\",\"isReduceOnly\":false,\"positionIMByMp\":\"1137.80015496\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"112640.1\",\"unrealisedPnl\":\"8.4471\",\"markPrice\":\"122341.8\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12084.05942574\",\"positionMM\":\"74.69980298\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1137.80015496\",\"positionMMByMp\":\"74.74203847\",\"seq\":140697266670739,\"updatedTime\":\"1759627473299\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1137.80015496\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-14.88488984\",\"size\":\"0.111\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121535.2\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759629388457}","module":"BybitClient","timestamp":"2025-10-05T01:56:27.988Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T01:56:27.988Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T01:56:27.988Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T01:56:27.989Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:56:39.751Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:56:40.617Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:56:41.580Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:56:41.579Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T01:57:28.003Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1026","module":"KalmanFilter","timestamp":"2025-10-05T01:57:28.020Z"}
{"level":"debug","message":"Predicción Kalman: 122334.86575493963 (Confianza: 0.842)","module":"KalmanFilter","timestamp":"2025-10-05T01:57:28.049Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T01:57:29.443Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:57:39.754Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:57:40.684Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:57:40.999Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:57:40.998Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:58:39.756Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:58:43.161Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:58:43.164Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:58:43.162Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T01:58:52.953Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":122307.45604290547,"middle":122342.37000000002,"upper":122377.28395709458},"ema":{"ema21":122338.74128841206,"ema50":122332.84003019996,"ema9":122338.62538425664},"macd":{"histogram":0.11956438124907431,"macd":1.1956438124907436,"signal":1.0760794312416693},"rsi":50.20380434782559,"volume":{"avg":11.00621,"current":0.207,"ratio":0.018807564093361838}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima del 50%, MACD histogram es positivo y creciente, Bollinger Bandas están en el inferior, EMA9 cruza por encima de EMA21 y Kalman predice una subida con confianza del 84.2%. Además, el cambio reciente ha sido positivo pero no muy alto (0.54% en 24 horas), lo que indica una tendencia alcista pero no excesivamente alta. Sugiero comprar con un leverage de 10-20 y un riesgo bajo.","symbol":"BTCUSDT","timestamp":1759629532954}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759629532954","module":"BybitClient","timestamp":"2025-10-05T01:58:52.957Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:58:52.957Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759627473299%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"12\",\"autoAddMargin\":0,\"avgPrice\":\"122265.7\",\"liqPrice\":\"112688.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123479.3\",\"positionValue\":\"13571.4927\",\"isReduceOnly\":false,\"positionIMByMp\":\"1137.80015496\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"112640.1\",\"unrealisedPnl\":\"7.46475\",\"markPrice\":\"122332.95\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12084.05942574\",\"positionMM\":\"74.69980298\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1137.80015496\",\"positionMMByMp\":\"74.73712672\",\"seq\":140697266670739,\"updatedTime\":\"1759627473299\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1137.80015496\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-14.88488984\",\"size\":\"0.111\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121535.2\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759629534330}","module":"BybitClient","timestamp":"2025-10-05T01:58:53.864Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.111 BTCUSDT | PnL: 0.06%","module":"TradingStrategy","timestamp":"2025-10-05T01:58:53.906Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T01:58:53.906Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T01:58:54.319Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T01:58:54.319Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T01:59:39.761Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T01:59:41.057Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T01:59:41.059Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:59:41.058Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una ganancia del 0.06%, con un RSI en el rango alto (50), MACD en ...","module":"OllamaClient","timestamp":"2025-10-05T01:59:57.354Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una ganancia del...","module":"TradingStrategy","timestamp":"2025-10-05T01:59:57.359Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759629597359","module":"BybitClient","timestamp":"2025-10-05T01:59:57.362Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-05T01:59:57.357Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-05T01:59:57.357Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 30%)","module":"OllamaClient","timestamp":"2025-10-05T01:59:57.359Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T01:59:57.359Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T01:59:57.362Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759627473299%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"12\",\"autoAddMargin\":0,\"avgPrice\":\"122265.7\",\"liqPrice\":\"112688.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123479.3\",\"positionValue\":\"13571.4927\",\"isReduceOnly\":false,\"positionIMByMp\":\"1137.80015496\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"112640.1\",\"unrealisedPnl\":\"9.0909\",\"markPrice\":\"122347.6\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12084.05942574\",\"positionMM\":\"74.69980298\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1137.80015496\",\"positionMMByMp\":\"74.74525747\",\"seq\":140697266670739,\"updatedTime\":\"1759627473299\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1137.80015496\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-14.88488984\",\"size\":\"0.111\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121535.2\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759629599533}","module":"BybitClient","timestamp":"2025-10-05T01:59:59.068Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T01:59:59.068Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T01:59:59.068Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T01:59:59.069Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T02:00:39.757Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T02:00:40.874Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T02:00:40.875Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T02:00:40.875Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T02:00:59.072Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0985","module":"KalmanFilter","timestamp":"2025-10-05T02:00:59.073Z"}
{"level":"debug","message":"Predicción Kalman: 122335.17986854735 (Confianza: 0.797)","module":"KalmanFilter","timestamp":"2025-10-05T02:00:59.073Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T02:01:01.055Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T02:01:39.758Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T02:01:41.255Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T02:01:41.257Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T02:01:41.256Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T02:01:57.166Z"}
{"confidence":0.6,"decision":"HOLD","indicators":{"bollinger":{"lower":122315.75108945067,"middle":122333.42,"upper":122351.08891054933},"ema":{"ema21":122335.30158488345,"ema50":122333.8735833471,"ema9":122336.21957442157},"macd":{"histogram":0.047461109521100275,"macd":0.474611095211003,"signal":0.4271499856899027},"rsi":63.855421686746084,"volume":{"avg":11.03446000000001,"current":8.707,"ratio":0.7890735024640982}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"No enough clear selling signals detected to justify a sell position. The RSI is high but not overbought, MACD histogram is bullish but not conclusive, and the Bollinger bands are contracting but not significantly so. The Kalman forecast also indicates a neutral market sentiment. Given the current price action and indicators, it's better to hold rather than take a position against the market.","symbol":"BTCUSDT","timestamp":1759629717168}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759629717179","module":"BybitClient","timestamp":"2025-10-05T02:01:57.187Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T02:01:57.188Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759627473299%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"12\",\"autoAddMargin\":0,\"avgPrice\":\"122265.7\",\"liqPrice\":\"112688.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123479.3\",\"positionValue\":\"13571.4927\",\"isReduceOnly\":false,\"positionIMByMp\":\"1137.80015496\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"112640.1\",\"unrealisedPnl\":\"4.5732\",\"markPrice\":\"122306.9\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12084.05942574\",\"positionMM\":\"74.69980298\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1137.80015496\",\"positionMMByMp\":\"74.72266897\",\"seq\":140697266670739,\"updatedTime\":\"1759627473299\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1137.80015496\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-14.88488984\",\"size\":\"0.111\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121535.2\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759629718525}","module":"BybitClient","timestamp":"2025-10-05T02:01:58.054Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.111 BTCUSDT | PnL: 0.03%","module":"TradingStrategy","timestamp":"2025-10-05T02:01:58.058Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T02:01:58.058Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T02:01:58.456Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T02:01:58.456Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.79,\n  \"reasoning\": \"La posición actual es alicista, con un pequeño gananche de 0.03%. No hay señales de revers...","module":"OllamaClient","timestamp":"2025-10-05T02:02:34.970Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual es alicista, con un pequeño gananche de 0.03%. No hay señales de reversión detect...","module":"TradingStrategy","timestamp":"2025-10-05T02:02:34.972Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759629754972","module":"BybitClient","timestamp":"2025-10-05T02:02:34.972Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 79%)","module":"OllamaClient","timestamp":"2025-10-05T02:02:34.972Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T02:02:34.972Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T02:02:34.973Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759627473299%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"12\",\"autoAddMargin\":0,\"avgPrice\":\"122265.7\",\"liqPrice\":\"112688.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"123479.3\",\"positionValue\":\"13571.4927\",\"isReduceOnly\":false,\"positionIMByMp\":\"1137.80015496\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"112640.1\",\"unrealisedPnl\":\"5.34798\",\"markPrice\":\"122313.88\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-12084.05942574\",\"positionMM\":\"74.69980298\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1137.80015496\",\"positionMMByMp\":\"74.72654287\",\"seq\":140697266670739,\"updatedTime\":\"1759627473299\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1137.80015496\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-14.88488984\",\"size\":\"0.111\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"121535.2\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759629756943}","module":"BybitClient","timestamp":"2025-10-05T02:02:36.478Z"}
{"level":"info","message":"Ya existe una posición abierta, no se abrirá nueva posición","module":"TradingStrategy","timestamp":"2025-10-05T02:02:36.479Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T02:02:36.478Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T02:02:36.479Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T02:02:39.760Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T02:02:40.498Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T02:02:40.548Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T02:02:40.542Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T02:03:36.481Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1060","module":"KalmanFilter","timestamp":"2025-10-05T02:03:36.482Z"}
{"level":"debug","message":"Predicción Kalman: 122323.552266195 (Confianza: 0.797)","module":"KalmanFilter","timestamp":"2025-10-05T02:03:36.483Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T02:03:38.160Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T02:03:39.761Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T02:03:40.499Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T02:03:40.507Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T02:03:40.507Z"}
{"level":"info","message":"Recibida señal SIGINT, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-05T02:04:15.763Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759629855768}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-05T02:04:15.769Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-05T02:04:15.793Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:31:06.732Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:31:06.725Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:31:06.744Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:31:06.736Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:06.738Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:31:06.742Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:06.741Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759631466756}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:31:06.749Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:31:06.752Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:06.751Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:06.753Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:06.755Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759631466755}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:31:06.756Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:31:06.756Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:31:06.756Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:31:06.793Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:31:06.793Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:31:06.744Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:31:06.744Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:31:06.745Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:31:06.745Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:31:06.745Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:31:06.746Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:31:06.746Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:31:06.746Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:31:06.746Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:31:06.747Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:31:06.747Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:31:06.795Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:348:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:31:06.825Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:31:07.365Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:31:07.366Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:31:08.261Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:31:08.256Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:31:08.269Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:31:08.263Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:08.264Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:31:08.267Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:08.267Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759631468278}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:31:08.272Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:31:08.275Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:08.274Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:08.275Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:08.277Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759631468277}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:31:08.277Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:31:08.277Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:31:08.277Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:31:08.303Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:31:08.304Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:31:08.269Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:31:08.269Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:31:08.269Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:31:08.270Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:31:08.270Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:31:08.270Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:31:08.270Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:31:08.270Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:31:08.271Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:31:08.271Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:31:08.271Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:31:08.305Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:348:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:31:08.327Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:31:08.853Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:31:08.854Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:31:09.724Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:31:09.718Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:31:09.734Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:31:09.727Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:09.728Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:31:09.732Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:09.732Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759631469745}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:31:09.738Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:31:09.741Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:09.741Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:09.742Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:09.743Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759631469744}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:31:09.744Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:31:09.744Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:31:09.744Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:31:09.779Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:31:09.779Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:31:09.734Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:31:09.734Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:31:09.735Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:31:09.735Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:31:09.735Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:31:09.735Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:31:09.736Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:31:09.736Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:31:09.736Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:31:09.736Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:31:09.737Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:31:09.780Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:348:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:31:09.805Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:31:10.331Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:31:10.332Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:31:11.274Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:31:11.267Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:31:11.285Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:31:11.278Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:11.279Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:31:11.283Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:11.283Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759631471294}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:31:11.289Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:31:11.291Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:11.291Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:11.292Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:11.293Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759631471294}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:31:11.294Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:31:11.294Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:31:11.294Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:31:11.322Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:31:11.322Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:31:11.285Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:31:11.285Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:31:11.285Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:31:11.286Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:31:11.286Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:31:11.286Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:31:11.286Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:31:11.286Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:31:11.287Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:31:11.287Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:31:11.287Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:31:11.323Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:348:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:31:11.345Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:31:11.891Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:31:11.892Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:31:13.253Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:31:13.247Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:31:13.262Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:31:13.256Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:13.257Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:31:13.261Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:13.260Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759631473272}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:31:13.266Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:31:13.269Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:13.268Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:13.269Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:13.271Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759631473271}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:31:13.272Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:31:13.272Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:31:13.272Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:31:13.301Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:31:13.301Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:31:13.262Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:31:13.263Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:31:13.263Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:31:13.263Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:31:13.264Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:31:13.264Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:31:13.264Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:31:13.264Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:31:13.264Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:31:13.265Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:31:13.265Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:31:13.302Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:348:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:31:13.324Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:31:13.795Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:31:13.796Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:31:15.917Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:31:15.911Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:31:15.928Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:31:15.920Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:15.922Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:31:15.926Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:15.926Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759631475939}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:31:15.933Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:31:15.935Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:15.935Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:15.936Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:15.938Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759631475938}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:31:15.939Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:31:15.939Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:31:15.939Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:31:15.969Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:31:15.969Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:31:15.928Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:31:15.928Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:31:15.929Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:31:15.929Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:31:15.929Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:31:15.930Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:31:15.930Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:31:15.930Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:31:15.930Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:31:15.931Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:31:15.931Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:31:15.970Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:348:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:31:15.993Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:31:16.518Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:31:16.518Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:31:20.273Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:31:20.268Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:31:20.282Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:31:20.276Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:20.277Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:31:20.281Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:20.280Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759631480293}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:31:20.286Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:31:20.289Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:20.289Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:20.290Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:20.291Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759631480292}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:31:20.292Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:31:20.292Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:31:20.292Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:31:20.322Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:31:20.322Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:31:20.282Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:31:20.283Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:31:20.283Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:31:20.283Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:31:20.284Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:31:20.284Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:31:20.284Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:31:20.284Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:31:20.285Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:31:20.285Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:31:20.285Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:31:20.323Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:348:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:31:20.346Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:31:20.823Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:31:20.823Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:31:27.761Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:31:27.756Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:31:27.769Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:31:27.763Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:27.765Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:31:27.768Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:27.767Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759631487778}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:31:27.773Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:31:27.775Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:27.775Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:27.776Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:27.777Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759631487777}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:31:27.778Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:31:27.778Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:31:27.778Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:31:27.804Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:31:27.804Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:31:27.769Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:31:27.769Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:31:27.770Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:31:27.770Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:31:27.770Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:31:27.770Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:31:27.771Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:31:27.771Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:31:27.771Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:31:27.771Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:31:27.771Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:31:27.805Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:348:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:31:27.827Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:31:28.999Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:31:29.000Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:31:42.362Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:31:42.357Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:31:42.370Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:31:42.365Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:42.366Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:31:42.369Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:42.369Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759631502380}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:31:42.375Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:31:42.377Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:42.377Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:42.378Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:31:42.379Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759631502380}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:31:42.380Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:31:42.380Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:31:42.380Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:31:42.407Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:31:42.408Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:31:42.371Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:31:42.371Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:31:42.371Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:31:42.372Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:31:42.372Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:31:42.372Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:31:42.372Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:31:42.372Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:31:42.373Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:31:42.373Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:31:42.373Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:31:42.409Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:348:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:31:42.430Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:31:42.890Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:31:42.891Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:32:09.008Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:32:09.003Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:32:09.016Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:32:09.010Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:32:09.012Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:32:09.015Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:32:09.014Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759631529025}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:32:09.019Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:32:09.022Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:32:09.021Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:32:09.022Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:32:09.024Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759631529024}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:32:09.024Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:32:09.025Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:32:09.025Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:32:09.046Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:32:09.046Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:32:09.016Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:32:09.016Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:32:09.016Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:32:09.017Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:32:09.017Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:32:09.017Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:32:09.017Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:32:09.017Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:32:09.018Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:32:09.018Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:32:09.018Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:32:09.047Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:348:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:32:09.065Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:32:09.561Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:32:09.562Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:33:01.285Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:33:01.280Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:33:01.294Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:33:01.288Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:33:01.289Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:33:01.293Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:33:01.292Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759631581303}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:33:01.298Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:33:01.300Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:33:01.300Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:33:01.301Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:33:01.302Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759631581303}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:33:01.303Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:33:01.303Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:33:01.303Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:33:01.330Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:33:01.330Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:33:01.294Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:33:01.294Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:33:01.295Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:33:01.295Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:33:01.295Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:33:01.295Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:33:01.296Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:33:01.296Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:33:01.296Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:33:01.296Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:33:01.296Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:33:01.331Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:348:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:33:01.355Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:33:04.771Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:33:04.772Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:34:05.290Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:34:05.285Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:34:05.299Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:34:05.293Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:34:05.294Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:34:05.297Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:34:05.297Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759631645309}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:34:05.303Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:34:05.305Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:34:05.305Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:34:05.306Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:34:05.308Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759631645308}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:34:05.309Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:34:05.309Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:34:05.309Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:34:05.337Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:34:05.337Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:34:05.299Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:34:05.299Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:34:05.300Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:34:05.300Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:34:05.300Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:34:05.300Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:34:05.301Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:34:05.301Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:34:05.301Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:34:05.301Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:34:05.301Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:34:05.338Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:348:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:34:05.361Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:34:09.110Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:34:09.111Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:35:09.641Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:35:09.636Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:35:09.649Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:35:09.643Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:35:09.645Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:35:09.648Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:35:09.647Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759631709658}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:35:09.653Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:35:09.655Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:35:09.655Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:35:09.656Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:35:09.657Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759631709658}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:35:09.658Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:35:09.658Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:35:09.658Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:35:09.684Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:35:09.684Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:35:09.649Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:35:09.650Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:35:09.650Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:35:09.650Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:35:09.650Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:35:09.651Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:35:09.651Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:35:09.651Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:35:09.651Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:35:09.651Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:35:09.651Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:35:09.686Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:348:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:35:09.709Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:35:10.240Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:35:10.241Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:36:10.769Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:36:10.763Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:36:10.777Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:36:10.771Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:36:10.773Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:36:10.776Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:36:10.775Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759631770787}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:36:10.781Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:36:10.783Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:36:10.783Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:36:10.784Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:36:10.786Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759631770786}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:36:10.786Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:36:10.786Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:36:10.787Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:36:10.814Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:36:10.814Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:36:10.777Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:36:10.778Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:36:10.778Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:36:10.778Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:36:10.779Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:36:10.779Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:36:10.779Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:36:10.779Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:36:10.779Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:36:10.779Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:36:10.780Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:36:10.815Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:348:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:36:10.838Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:36:11.367Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:36:11.368Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:37:11.919Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:37:11.914Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:37:11.929Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:37:11.922Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:37:11.924Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:37:11.927Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:37:11.927Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759631831940}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:37:11.933Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:37:11.936Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:37:11.935Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:37:11.937Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:37:11.938Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759631831939}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:37:11.939Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:37:11.939Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:37:11.940Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:37:11.969Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:37:11.969Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:37:11.929Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:37:11.930Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:37:11.930Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:37:11.930Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:37:11.930Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:37:11.931Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:37:11.931Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:37:11.931Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:37:11.931Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:37:11.931Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:37:11.932Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:37:11.971Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:348:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:37:11.994Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:37:17.739Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:37:17.740Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:38:18.288Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:38:18.283Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:38:18.297Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:38:18.291Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:38:18.293Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:38:18.296Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:38:18.295Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759631898307}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:38:18.301Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:38:18.304Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:38:18.303Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:38:18.305Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:38:18.306Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759631898306}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:38:18.307Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:38:18.307Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:38:18.307Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:38:18.335Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:38:18.336Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:38:18.297Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:38:18.298Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:38:18.298Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:38:18.298Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:38:18.299Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:38:18.299Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:38:18.299Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:38:18.299Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:38:18.299Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:38:18.300Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:38:18.300Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:38:18.336Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:348:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:38:18.358Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:38:21.455Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:38:21.456Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:39:21.951Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:39:21.946Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:39:21.959Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:39:21.954Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:39:21.955Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:39:21.958Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:39:21.958Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759631961968}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:39:21.963Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:39:21.965Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:39:21.965Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:39:21.966Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:39:21.967Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759631961967}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:39:21.968Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:39:21.968Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:39:21.968Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:39:21.993Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:39:21.993Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:39:21.959Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:39:21.960Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:39:21.960Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:39:21.960Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:39:21.960Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:39:21.961Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:39:21.961Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:39:21.961Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:39:21.961Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:39:21.961Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:39:21.961Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:39:21.994Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:348:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:39:22.015Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:39:22.541Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:39:22.542Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:40:23.079Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:40:23.074Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:40:23.088Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:40:23.082Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:40:23.084Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:40:23.087Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:40:23.086Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759632023099}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:40:23.093Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:40:23.095Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:40:23.095Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:40:23.096Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:40:23.097Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759632023098}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:40:23.098Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:40:23.098Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:40:23.098Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:40:23.126Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:40:23.126Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:40:23.089Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:40:23.089Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:40:23.089Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:40:23.090Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:40:23.090Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:40:23.090Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:40:23.090Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:40:23.090Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:40:23.091Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:40:23.091Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:40:23.091Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:40:23.127Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:348:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:40:23.151Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:40:26.504Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:40:26.505Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:41:27.041Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:41:27.036Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:41:27.050Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:41:27.044Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:41:27.045Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:41:27.049Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:41:27.048Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759632087060}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:41:27.054Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:41:27.056Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:41:27.056Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:41:27.057Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:41:27.059Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759632087059}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:41:27.059Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:41:27.060Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:41:27.060Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:41:27.089Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:41:27.089Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:41:27.050Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:41:27.050Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:41:27.051Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:41:27.051Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:41:27.051Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:41:27.051Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:41:27.052Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:41:27.052Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:41:27.052Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:41:27.052Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:41:27.053Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:41:27.090Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:348:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:41:27.113Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:41:27.822Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:41:27.823Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:42:28.354Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:42:28.349Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:42:28.363Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:42:28.357Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:42:28.358Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:42:28.361Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:42:28.361Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759632148372}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:42:28.367Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:42:28.369Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:42:28.369Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:42:28.370Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:42:28.371Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759632148372}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:42:28.372Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:42:28.372Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:42:28.372Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:42:28.400Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:42:28.400Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:42:28.363Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:42:28.363Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:42:28.363Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:42:28.364Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:42:28.364Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:42:28.364Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:42:28.364Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:42:28.364Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:42:28.365Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:42:28.365Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:42:28.365Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:42:28.401Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:348:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:42:28.423Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:42:33.195Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:42:33.196Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:43:33.716Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:43:33.710Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:43:33.724Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:43:33.718Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:43:33.720Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:43:33.723Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:43:33.723Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759632213735}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:43:33.729Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:43:33.731Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:43:33.731Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:43:33.732Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:43:33.733Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759632213734}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:43:33.734Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:43:33.734Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:43:33.734Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:43:33.762Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:43:33.762Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:43:33.725Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:43:33.725Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:43:33.725Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:43:33.726Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:43:33.726Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:43:33.726Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:43:33.726Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:43:33.727Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:43:33.727Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:43:33.727Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:43:33.727Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:43:33.763Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:348:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:43:33.785Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:43:35.443Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:43:35.444Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:44:35.980Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:44:35.975Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:44:35.989Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:44:35.983Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:44:35.985Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:44:35.988Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:44:35.988Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759632276000}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:44:35.994Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:44:35.996Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:44:35.996Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:44:35.997Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:44:35.999Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759632275999}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:44:35.999Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:44:35.999Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:44:36.000Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:44:36.029Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:44:36.029Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:44:35.990Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:44:35.990Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:44:35.990Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:44:35.991Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:44:35.991Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:44:35.991Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:44:35.991Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:44:35.991Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:44:35.992Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:44:35.992Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:44:35.992Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:44:36.030Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:348:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:44:36.054Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:44:40.092Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:44:40.093Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:45:40.636Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:45:40.630Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:45:40.645Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:45:40.638Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:45:40.640Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:45:40.643Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:45:40.643Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759632340655}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:45:40.649Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:45:40.651Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:45:40.651Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:45:40.652Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:45:40.654Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759632340654}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:45:40.654Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:45:40.654Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:45:40.655Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:45:40.683Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:45:40.683Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:45:40.645Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:45:40.645Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:45:40.645Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:45:40.646Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:45:40.646Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:45:40.646Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:45:40.646Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:45:40.647Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:45:40.647Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:45:40.647Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:45:40.647Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:45:40.685Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:348:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:45:40.708Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:45:44.336Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:45:44.337Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:46:44.856Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:46:44.851Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:46:44.865Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:46:44.859Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:46:44.860Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:46:44.863Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:46:44.863Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759632404874}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:46:44.869Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:46:44.871Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:46:44.871Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:46:44.872Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:46:44.873Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759632404874}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:46:44.874Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:46:44.874Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:46:44.874Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:46:44.902Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:46:44.902Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:46:44.865Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:46:44.865Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:46:44.865Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:46:44.866Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:46:44.866Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:46:44.866Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:46:44.866Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:46:44.867Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:46:44.867Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:46:44.867Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:46:44.867Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:46:44.903Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:348:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:46:44.925Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:46:48.052Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:46:48.053Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:47:48.579Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:47:48.574Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:47:48.589Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:47:48.581Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:47:48.582Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:47:48.587Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:47:48.587Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759632468598}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:47:48.593Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:47:48.595Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:47:48.595Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:47:48.596Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:47:48.597Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759632468597}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:47:48.598Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:47:48.598Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:47:48.598Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:47:48.623Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:47:48.624Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:47:48.589Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:47:48.589Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:47:48.590Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:47:48.590Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:47:48.590Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:47:48.590Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:47:48.591Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:47:48.591Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:47:48.591Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:47:48.591Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:47:48.591Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:47:48.625Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:348:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:47:48.646Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:47:49.877Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:47:49.878Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:48:50.389Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:48:50.384Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:48:50.397Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:48:50.391Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:48:50.393Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:48:50.396Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:48:50.395Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759632530406}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:48:50.400Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:48:50.403Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:48:50.402Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:48:50.403Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:48:50.405Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759632530405}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:48:50.406Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:48:50.406Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:48:50.406Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:48:50.433Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:48:50.433Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:48:50.397Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:48:50.397Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:48:50.398Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:48:50.398Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:48:50.398Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:48:50.398Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:48:50.398Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:48:50.399Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:48:50.399Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:48:50.399Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:48:50.399Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:48:50.434Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:348:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:48:50.454Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:48:50.973Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:48:50.974Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:49:51.516Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:49:51.511Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:49:51.524Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:49:51.519Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:49:51.520Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:49:51.523Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:49:51.522Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759632591533}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:49:51.528Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:49:51.530Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:49:51.530Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:49:51.531Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:49:51.532Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759632591533}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:49:51.533Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:49:51.533Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:49:51.533Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:49:51.561Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:49:51.561Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:49:51.524Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:49:51.525Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:49:51.525Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:49:51.525Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:49:51.525Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:49:51.526Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:49:51.526Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:49:51.526Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:49:51.526Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:49:51.526Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:49:51.527Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:49:51.562Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:348:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:49:51.586Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:49:52.116Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:49:52.116Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:50:52.636Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:50:52.631Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:50:52.643Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:50:52.638Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:50:52.639Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:50:52.642Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:50:52.642Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759632652653}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:50:52.647Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:50:52.649Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:50:52.649Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:50:52.650Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:50:52.652Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759632652652}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:50:52.652Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:50:52.652Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:50:52.652Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:50:52.679Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:50:52.679Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:50:52.644Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:50:52.644Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:50:52.644Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:50:52.645Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:50:52.645Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:50:52.645Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:50:52.645Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:50:52.645Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:50:52.645Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:50:52.646Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:50:52.646Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:50:52.680Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:348:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:50:52.702Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:50:53.235Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:50:53.236Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:51:53.842Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:51:53.837Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:51:53.851Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:51:53.845Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:51:53.847Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:51:53.850Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:51:53.850Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759632713861}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:51:53.855Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-05T02:51:53.858Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:51:53.857Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:51:53.858Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-05T02:51:53.860Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759632713860}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:51:53.860Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:51:53.861Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:51:53.861Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:51:53.888Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:51:53.888Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:51:53.851Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:51:53.852Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:51:53.852Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:51:53.852Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:51:53.853Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:51:53.853Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:51:53.853Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:51:53.853Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:51:53.853Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:51:53.854Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:51:53.854Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:51:53.890Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:348:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:51:53.911Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:51:54.439Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:51:54.439Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:52:07.053Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:52:07.048Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:52:07.061Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:52:07.056Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:07.057Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:52:07.060Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:07.060Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759632727071}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:52:07.065Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:52:07.067Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:07.067Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:07.068Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:07.070Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759632727070}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:52:07.070Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:52:07.070Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:52:07.071Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:52:07.093Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:52:07.093Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:52:07.062Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:52:07.062Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:52:07.062Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:52:07.062Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:52:07.063Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:52:07.063Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:52:07.063Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:52:07.063Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:52:07.063Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:52:07.064Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:52:07.064Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:52:07.094Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:348:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:52:07.113Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:52:08.402Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:52:08.402Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:52:09.231Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:52:09.226Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:52:09.239Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:52:09.233Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:09.235Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:52:09.238Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:09.237Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759632729248}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:52:09.243Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:52:09.245Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:09.245Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:09.246Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:09.247Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759632729247}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:52:09.248Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:52:09.248Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:52:09.248Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:52:09.270Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:52:09.270Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:52:09.239Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:52:09.239Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:52:09.240Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:52:09.240Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:52:09.240Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:52:09.240Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:52:09.241Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:52:09.241Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:52:09.241Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:52:09.241Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:52:09.241Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:52:09.271Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:348:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:52:09.288Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:52:10.566Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:52:10.567Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:52:11.467Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:52:11.462Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:52:11.475Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:52:11.470Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:11.471Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:52:11.474Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:11.473Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759632731484}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:52:11.479Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:52:11.481Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:11.481Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:11.482Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:11.483Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759632731484}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:52:11.484Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:52:11.484Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:52:11.484Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:52:11.510Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:52:11.511Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:52:11.475Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:52:11.476Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:52:11.476Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:52:11.476Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:52:11.476Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:52:11.477Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:52:11.477Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:52:11.477Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:52:11.477Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:52:11.477Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:52:11.478Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:52:11.512Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:348:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:52:11.533Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:52:11.996Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:52:11.997Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:52:12.898Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:52:12.893Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:52:12.906Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:52:12.900Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:12.902Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:52:12.905Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:12.904Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759632732915}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:52:12.910Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:52:12.912Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:12.912Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:12.913Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:12.914Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759632732914}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:52:12.915Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:52:12.915Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:52:12.915Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:52:12.942Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:52:12.942Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:52:12.906Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:52:12.906Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:52:12.907Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:52:12.907Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:52:12.907Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:52:12.907Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:52:12.908Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:52:12.908Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:52:12.908Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:52:12.908Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:52:12.908Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:52:12.943Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:348:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:52:12.964Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:52:14.277Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:52:14.277Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:52:15.607Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:52:15.602Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:52:15.615Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:52:15.609Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:15.611Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:52:15.614Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:15.613Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759632735624}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:52:15.619Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:52:15.621Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:15.621Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:15.622Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:15.623Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759632735623}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:52:15.624Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:52:15.624Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:52:15.624Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:52:15.650Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:52:15.650Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:52:15.615Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:52:15.615Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:52:15.616Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:52:15.616Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:52:15.616Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:52:15.616Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:52:15.617Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:52:15.617Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:52:15.617Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:52:15.617Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:52:15.617Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:52:15.651Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:348:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:52:15.672Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:52:16.197Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:52:16.198Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:52:18.318Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:52:18.313Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:52:18.326Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:52:18.321Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:18.322Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:52:18.325Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:18.325Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759632738336}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:52:18.330Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:52:18.332Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:18.332Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:18.333Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:18.334Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759632738335}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:52:18.335Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:52:18.335Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:52:18.335Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:52:18.362Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:52:18.362Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:52:18.326Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:52:18.327Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:52:18.327Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:52:18.327Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:52:18.328Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:52:18.328Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:52:18.328Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:52:18.328Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:52:18.328Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:52:18.328Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:52:18.329Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:52:18.363Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:348:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:52:18.384Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:52:18.932Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:52:18.932Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:52:22.672Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:52:22.667Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:52:22.680Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:52:22.674Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:22.675Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:52:22.678Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:22.678Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759632742689}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:52:22.683Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:52:22.686Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:22.685Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:22.686Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:22.688Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759632742688}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:52:22.688Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:52:22.688Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:52:22.689Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:52:22.714Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:52:22.714Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:52:22.680Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:52:22.680Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:52:22.680Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:52:22.681Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:52:22.681Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:52:22.681Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:52:22.681Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:52:22.681Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:52:22.682Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:52:22.682Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:52:22.682Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:52:22.715Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:348:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:52:22.736Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:52:23.203Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:52:23.204Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:52:30.147Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:52:30.143Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:52:30.155Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:52:30.150Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:30.151Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:52:30.154Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:30.154Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759632750165}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:52:30.159Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:52:30.161Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:30.161Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:30.162Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:30.163Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759632750164}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:52:30.164Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:52:30.164Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:52:30.164Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:52:30.191Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:52:30.191Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:52:30.156Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:52:30.156Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:52:30.156Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:52:30.157Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:52:30.157Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:52:30.157Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:52:30.157Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:52:30.157Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:52:30.158Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:52:30.158Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:52:30.158Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:52:30.192Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:348:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:52:30.214Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:52:30.740Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:52:30.741Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:52:44.046Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:52:44.041Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:52:44.054Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:52:44.048Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:44.050Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:52:44.053Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:44.052Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759632764063}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:52:44.058Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:52:44.060Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:44.059Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:44.061Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:52:44.062Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759632764062}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:52:44.063Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:52:44.063Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:52:44.063Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:52:44.089Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:52:44.089Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:52:44.054Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:52:44.054Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:52:44.055Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:52:44.055Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:52:44.055Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:52:44.055Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:52:44.055Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:52:44.056Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:52:44.056Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:52:44.056Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:52:44.056Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:52:44.090Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:348:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:52:44.110Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:52:45.281Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:52:45.282Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:53:11.493Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:53:11.487Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:53:11.505Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:53:11.496Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:53:11.498Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:53:11.503Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:53:11.503Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759632791520}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:53:11.511Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:53:11.515Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:53:11.515Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:53:11.516Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:53:11.518Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759632791519}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:53:11.519Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:53:11.519Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:53:11.519Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:53:11.554Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:53:11.555Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:53:11.505Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:53:11.505Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:53:11.506Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:53:11.507Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:53:11.507Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:53:11.507Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:53:11.508Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:53:11.508Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:53:11.508Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:53:11.509Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:53:11.509Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:53:11.556Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:348:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:53:11.587Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:53:12.833Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:53:12.835Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:53:33.064Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:53:33.059Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:53:33.072Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:53:33.066Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:53:33.068Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:53:33.071Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:53:33.071Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759632813081}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:53:33.076Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:53:33.078Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:53:33.078Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:53:33.079Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:53:33.080Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759632813081}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:53:33.081Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:53:33.081Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:53:33.081Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:53:33.107Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:53:33.107Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:53:33.072Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:53:33.073Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:53:33.073Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:53:33.073Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:53:33.073Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:53:33.074Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:53:33.074Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:53:33.074Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:53:33.074Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:53:33.074Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:53:33.075Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:53:33.108Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:53:33.067Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:53:33.076Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:53:33.129Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:53:34.390Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:53:34.390Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:53:35.220Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:53:35.215Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:53:35.228Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:53:35.222Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:53:35.224Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:53:35.227Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:53:35.227Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759632815237}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:53:35.232Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:53:35.234Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:53:35.234Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:53:35.235Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:53:35.236Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759632815236}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:53:35.237Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:53:35.237Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:53:35.237Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:53:35.263Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:53:35.263Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:53:35.228Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:53:35.229Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:53:35.229Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:53:35.229Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:53:35.229Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:53:35.229Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:53:35.230Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:53:35.230Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:53:35.230Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:53:35.230Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:53:35.230Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:53:35.264Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:53:35.223Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:53:35.232Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:53:35.284Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:53:36.527Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:53:36.527Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:53:37.377Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:53:37.372Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:53:37.385Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:53:37.379Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:53:37.381Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:53:37.384Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:53:37.384Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759632817394}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:53:37.389Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:53:37.392Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:53:37.391Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:53:37.392Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:53:37.393Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759632817394}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:53:37.394Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:53:37.394Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:53:37.394Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:53:37.420Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:53:37.420Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:53:37.386Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:53:37.386Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:53:37.386Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:53:37.386Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:53:37.387Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:53:37.387Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:53:37.387Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:53:37.387Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:53:37.387Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:53:37.388Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:53:37.388Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:53:37.421Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:53:37.380Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:53:37.389Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:53:37.442Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:53:38.637Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:53:38.638Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:53:39.579Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:53:39.574Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:53:39.588Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:53:39.582Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:53:39.583Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:53:39.586Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:53:39.586Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759632819597}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:53:39.591Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:53:39.594Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:53:39.594Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:53:39.595Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:53:39.596Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759632819596}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:53:39.597Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:53:39.597Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:53:39.597Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:53:39.623Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:53:39.623Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:53:39.588Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:53:39.588Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:53:39.588Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:53:39.589Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:53:39.589Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:53:39.589Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:53:39.589Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:53:39.589Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:53:39.590Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:53:39.590Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:53:39.590Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:53:39.624Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:53:39.582Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:53:39.592Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:53:39.645Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:53:40.178Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:53:40.178Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:53:41.488Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:53:41.484Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:53:41.497Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:53:41.491Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:53:41.493Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:53:41.496Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:53:41.495Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759632821506}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:53:41.501Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:53:41.503Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:53:41.503Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:53:41.504Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:53:41.505Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759632821505}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:53:41.506Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:53:41.506Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:53:41.506Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:53:41.528Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:53:41.528Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:53:41.497Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:53:41.498Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:53:41.498Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:53:41.498Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:53:41.498Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:53:41.498Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:53:41.499Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:53:41.499Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:53:41.499Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:53:41.499Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:53:41.499Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:53:41.529Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:53:41.491Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:53:41.501Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:53:41.545Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:53:42.069Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:53:42.070Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:53:44.202Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:53:44.197Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:53:44.212Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:53:44.205Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:53:44.207Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:53:44.211Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:53:44.210Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759632824225}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:53:44.217Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:53:44.221Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:53:44.220Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:53:44.222Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:53:44.223Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759632824224}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:53:44.224Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:53:44.224Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:53:44.224Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:53:44.251Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:53:44.251Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:53:44.213Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:53:44.213Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:53:44.213Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:53:44.214Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:53:44.214Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:53:44.214Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:53:44.214Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:53:44.215Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:53:44.215Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:53:44.215Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:53:44.216Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:53:44.253Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:53:44.206Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:53:44.218Z"}
{"error":"AggregateError: Error\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:53:44.273Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:53:44.743Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:53:44.744Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:54:08.080Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:54:08.073Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:54:08.091Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:54:08.083Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:54:08.086Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:54:08.090Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:54:08.089Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759632848107}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:54:08.098Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:54:08.102Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:54:08.101Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:54:08.103Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:54:08.105Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759632848106}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:54:08.106Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:54:08.107Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:54:08.107Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:54:08.142Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:54:08.143Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:54:08.092Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:54:08.092Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:54:08.093Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:54:08.093Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:54:08.093Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:54:08.094Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:54:08.094Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:54:08.094Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:54:08.095Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:54:08.095Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:54:08.095Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:54:08.144Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:54:08.084Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:54:08.098Z"}
{"error":"Error: connect ECONNREFUSED 172.17.0.1:11434\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:54:08.167Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:54:09.351Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:54:09.352Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:54:10.146Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:54:10.141Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:54:10.157Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:54:10.149Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:54:10.152Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:54:10.155Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:54:10.155Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759632850172}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:54:10.164Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:54:10.168Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:54:10.168Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:54:10.170Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:54:10.171Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759632850171}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:54:10.172Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:54:10.172Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:54:10.172Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:54:10.200Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:54:10.200Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:54:10.157Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:54:10.158Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:54:10.159Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:54:10.159Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:54:10.159Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:54:10.160Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:54:10.160Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:54:10.161Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:54:10.161Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:54:10.161Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:54:10.162Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:54:10.201Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:54:10.150Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:54:10.165Z"}
{"error":"Error: connect ECONNREFUSED 172.17.0.1:11434\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:54:10.222Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:54:10.756Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:54:10.756Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:54:11.585Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:54:11.580Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:54:11.596Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:54:11.588Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:54:11.591Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:54:11.594Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:54:11.593Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759632851610}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:54:11.601Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:54:11.605Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:54:11.605Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:54:11.607Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:54:11.608Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759632851609}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:54:11.609Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:54:11.610Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:54:11.610Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:54:11.637Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:54:11.637Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:54:11.596Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:54:11.597Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:54:11.597Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:54:11.597Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:54:11.598Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:54:11.598Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:54:11.598Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:54:11.598Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:54:11.599Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:54:11.599Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:54:11.599Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:54:11.639Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:54:11.589Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:54:11.602Z"}
{"error":"Error: connect ECONNREFUSED 172.17.0.1:11434\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:54:11.660Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:54:12.130Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:54:12.131Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:54:13.085Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:54:13.079Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:54:13.095Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:54:13.088Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:54:13.090Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:54:13.094Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:54:13.093Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759632853108}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:54:13.101Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:54:13.104Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:54:13.104Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:54:13.105Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:54:13.107Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759632853107}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:54:13.108Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:54:13.108Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:54:13.108Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:54:13.136Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:54:13.137Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:54:13.096Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:54:13.096Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:54:13.097Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:54:13.097Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:54:13.097Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:54:13.097Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:54:13.098Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:54:13.098Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:54:13.098Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:54:13.098Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:54:13.099Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:54:13.138Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:54:13.088Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:54:13.101Z"}
{"error":"Error: connect ECONNREFUSED 172.17.0.1:11434\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:54:13.158Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:54:13.638Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:54:13.639Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:54:14.998Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:54:14.993Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:54:15.008Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:54:15.001Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:54:15.003Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:54:15.006Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:54:15.006Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759632855021}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:54:15.013Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:54:15.017Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:54:15.016Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:54:15.018Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:54:15.019Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759632855019}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:54:15.020Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:54:15.020Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:54:15.020Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:54:15.047Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:54:15.047Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:54:15.008Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:54:15.009Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:54:15.009Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:54:15.010Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:54:15.010Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:54:15.010Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:54:15.010Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:54:15.011Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:54:15.011Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:54:15.011Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:54:15.011Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:54:15.049Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:54:15.001Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:54:15.014Z"}
{"error":"Error: connect ECONNREFUSED 172.17.0.1:11434\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:54:15.068Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:54:15.531Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:54:15.531Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:54:17.670Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:54:17.665Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:54:17.680Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:54:17.672Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:54:17.675Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:54:17.678Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:54:17.677Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759632857692}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:54:17.685Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:54:17.688Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:54:17.688Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:54:17.689Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:54:17.691Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759632857691}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:54:17.691Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:54:17.692Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:54:17.692Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:54:17.720Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:54:17.721Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:54:17.680Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:54:17.680Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:54:17.681Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:54:17.681Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:54:17.681Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:54:17.682Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:54:17.682Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:54:17.682Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:54:17.682Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:54:17.683Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:54:17.683Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:54:17.722Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:54:17.673Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:54:17.685Z"}
{"error":"Error: connect ECONNREFUSED 172.17.0.1:11434\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:54:17.742Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:54:18.211Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:54:18.213Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:54:21.922Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:54:21.916Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:54:21.931Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:54:21.924Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:54:21.927Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:54:21.930Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:54:21.929Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759632861944}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:54:21.937Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:54:21.940Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:54:21.940Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:54:21.942Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:54:21.943Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759632861943}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:54:21.944Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:54:21.944Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:54:21.944Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:54:21.971Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:54:21.971Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:54:21.932Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:54:21.932Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:54:21.933Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:54:21.933Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:54:21.933Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:54:21.934Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:54:21.934Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:54:21.934Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:54:21.934Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:54:21.935Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:54:21.935Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:54:21.972Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:54:21.925Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:54:21.937Z"}
{"error":"Error: connect ECONNREFUSED 172.17.0.1:11434\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:54:21.991Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:54:23.163Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:54:23.164Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:57:27.276Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:57:27.271Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:57:27.285Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:57:27.279Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:57:27.280Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:57:27.283Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:57:27.283Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633047294}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:57:27.289Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:57:27.291Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:57:27.291Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:57:27.292Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:57:27.293Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633047294}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:57:27.294Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:57:27.294Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:57:27.294Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:57:27.321Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:57:27.321Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:57:27.285Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:57:27.285Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:57:27.286Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:57:27.286Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:57:27.286Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:57:27.286Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:57:27.286Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:57:27.287Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:57:27.287Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:57:27.287Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:57:27.287Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:57:27.322Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:57:27.279Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:57:27.289Z"}
{"error":"Error: connect ECONNREFUSED 172.17.0.1:11434\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:57:27.340Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:57:28.574Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:57:28.575Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:57:29.108Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:57:29.104Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:57:29.117Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:57:29.111Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:57:29.113Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:57:29.116Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:57:29.115Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633049126}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:57:29.121Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:57:29.123Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:57:29.123Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:57:29.124Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:57:29.125Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633049125}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:57:29.125Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:57:29.126Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:57:29.126Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:57:29.152Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:57:29.152Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:57:29.117Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:57:29.117Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:57:29.118Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:57:29.118Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:57:29.118Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:57:29.118Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:57:29.118Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:57:29.119Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:57:29.119Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:57:29.119Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:57:29.119Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:57:29.153Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:57:29.111Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:57:29.121Z"}
{"error":"Error: connect ECONNREFUSED 172.17.0.1:11434\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:57:29.173Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:57:30.342Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:57:30.342Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:57:30.988Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:57:30.982Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:57:30.996Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:57:30.990Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:57:30.992Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:57:30.995Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:57:30.995Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633051006}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:57:31.001Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:57:31.003Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:57:31.003Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:57:31.004Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:57:31.005Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633051005}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:57:31.006Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:57:31.006Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:57:31.006Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:57:31.029Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:57:31.029Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:57:30.997Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:57:30.997Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:57:30.998Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:57:30.998Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:57:30.998Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:57:30.998Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:57:30.998Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:57:30.998Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:57:30.999Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:57:30.999Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:57:30.999Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:57:31.030Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:57:30.991Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:57:31.001Z"}
{"error":"Error: connect ECONNREFUSED 172.17.0.1:11434\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:57:31.045Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:57:31.507Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:57:31.507Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:57:32.315Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:57:32.311Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:57:32.324Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:57:32.318Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:57:32.320Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:57:32.323Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:57:32.322Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633052333}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:57:32.328Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:57:32.330Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:57:32.330Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:57:32.331Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:57:32.332Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633052333}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:57:32.333Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:57:32.333Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:57:32.333Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:57:32.355Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:57:32.355Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:57:32.324Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:57:32.325Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:57:32.325Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:57:32.325Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:57:32.325Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:57:32.325Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:57:32.326Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:57:32.326Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:57:32.326Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:57:32.326Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:57:32.326Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:57:32.356Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:57:32.318Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:57:32.328Z"}
{"error":"Error: connect ECONNREFUSED 172.17.0.1:11434\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:57:32.371Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:57:33.533Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:57:33.534Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:57:34.754Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:57:34.749Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:57:34.762Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:57:34.756Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:57:34.758Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:57:34.761Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:57:34.760Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633054771}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:57:34.766Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:57:34.768Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:57:34.768Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:57:34.769Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:57:34.770Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633054770}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:57:34.771Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:57:34.771Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:57:34.771Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:57:34.797Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:57:34.797Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:57:34.762Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:57:34.762Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:57:34.763Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:57:34.763Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:57:34.763Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:57:34.763Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:57:34.763Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:57:34.764Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:57:34.764Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:57:34.764Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:57:34.764Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:57:34.798Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:57:34.756Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:57:34.766Z"}
{"error":"Error: connect ECONNREFUSED 172.17.0.1:11434\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:57:34.818Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:57:35.324Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:57:35.325Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:57:37.469Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:57:37.464Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:57:37.478Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:57:37.472Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:57:37.473Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:57:37.477Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:57:37.476Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633057487}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:57:37.482Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:57:37.484Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:57:37.484Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:57:37.485Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:57:37.486Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633057487}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:57:37.487Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:57:37.487Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:57:37.487Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:57:37.515Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:57:37.515Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:57:37.478Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:57:37.478Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:57:37.479Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:57:37.479Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:57:37.479Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:57:37.479Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:57:37.479Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:57:37.480Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:57:37.480Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:57:37.480Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:57:37.480Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:57:37.516Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:57:37.472Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:57:37.482Z"}
{"error":"Error: connect ECONNREFUSED 172.17.0.1:11434\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:57:37.534Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:57:38.007Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:57:38.007Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:57:41.611Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:57:41.606Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:57:41.620Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:57:41.614Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:57:41.615Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:57:41.618Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:57:41.618Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633061629}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:57:41.623Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:57:41.626Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:57:41.625Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:57:41.627Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:57:41.628Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633061628}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:57:41.628Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:57:41.628Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:57:41.629Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:57:41.654Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:57:41.654Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:57:41.620Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:57:41.620Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:57:41.620Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:57:41.621Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:57:41.621Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:57:41.621Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:57:41.621Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:57:41.621Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:57:41.622Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:57:41.622Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:57:41.622Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:57:41.655Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:57:41.614Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:57:41.624Z"}
{"error":"Error: connect ECONNREFUSED 172.17.0.1:11434\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:57:41.674Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:57:42.904Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:57:42.905Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:57:49.723Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:57:49.718Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:57:49.732Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:57:49.726Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:57:49.728Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:57:49.730Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:57:49.730Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633069741}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:57:49.735Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:57:49.738Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:57:49.737Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:57:49.739Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:57:49.740Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633069740}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:57:49.740Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:57:49.740Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:57:49.741Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:57:49.766Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:57:49.767Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:57:49.732Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:57:49.732Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:57:49.732Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:57:49.733Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:57:49.733Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:57:49.733Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:57:49.733Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:57:49.733Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:57:49.734Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:57:49.734Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:57:49.734Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:57:49.767Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:57:49.726Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:57:49.736Z"}
{"error":"Error: connect ECONNREFUSED 172.17.0.1:11434\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:57:49.785Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:57:50.950Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:57:50.951Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:58:04.176Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:58:04.171Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:58:04.185Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:58:04.179Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:58:04.181Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:58:04.184Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:58:04.183Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633084195}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:58:04.189Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:58:04.192Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:58:04.191Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:58:04.193Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:58:04.194Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633084194}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:58:04.194Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:58:04.195Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:58:04.195Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:58:04.223Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:58:04.223Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:58:04.185Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:58:04.186Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:58:04.186Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:58:04.186Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:58:04.186Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:58:04.187Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:58:04.187Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:58:04.187Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:58:04.187Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:58:04.187Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:58:04.188Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:58:04.224Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:58:04.179Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:58:04.189Z"}
{"error":"Error: connect ECONNREFUSED 172.17.0.1:11434\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:58:04.244Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:58:04.712Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:58:04.713Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:58:30.732Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:58:30.727Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:58:30.741Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:58:30.735Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:58:30.736Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:58:30.740Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:58:30.739Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633110751}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:58:30.746Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:58:30.748Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:58:30.748Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:58:30.749Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:58:30.750Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633110751}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:58:30.751Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:58:30.751Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:58:30.751Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:58:30.779Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:58:30.779Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:58:30.741Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:58:30.742Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:58:30.742Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:58:30.742Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:58:30.743Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:58:30.743Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:58:30.743Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:58:30.743Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:58:30.743Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:58:30.743Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:58:30.744Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:58:30.780Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:58:30.735Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:58:30.746Z"}
{"error":"Error: connect ECONNREFUSED 172.17.0.1:11434\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:58:30.800Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:58:32.059Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:58:32.060Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T02:59:23.685Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T02:59:23.677Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T02:59:23.696Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:59:23.689Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:59:23.691Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:59:23.695Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:59:23.694Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633163705}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T02:59:23.700Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T02:59:23.703Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:59:23.702Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:59:23.703Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T02:59:23.704Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633163705}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T02:59:23.705Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T02:59:23.705Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T02:59:23.705Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T02:59:23.732Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T02:59:23.732Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T02:59:23.696Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T02:59:23.697Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T02:59:23.697Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T02:59:23.697Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T02:59:23.698Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T02:59:23.698Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T02:59:23.698Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T02:59:23.698Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T02:59:23.698Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T02:59:23.698Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T02:59:23.699Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T02:59:23.733Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:59:23.689Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T02:59:23.700Z"}
{"error":"Error: connect ECONNREFUSED 172.17.0.1:11434\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T02:59:23.751Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T02:59:24.907Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T02:59:24.908Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:00:25.320Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:00:25.315Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:00:25.328Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:00:25.322Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:00:25.324Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:00:25.327Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:00:25.326Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633225337}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:00:25.332Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:00:25.334Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:00:25.334Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:00:25.335Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:00:25.336Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633225337}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:00:25.337Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:00:25.337Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:00:25.337Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:00:25.363Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:00:25.363Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:00:25.328Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:00:25.329Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:00:25.329Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:00:25.329Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:00:25.329Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:00:25.329Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:00:25.330Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:00:25.330Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:00:25.330Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:00:25.330Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:00:25.330Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:00:25.364Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:00:25.323Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:00:25.332Z"}
{"error":"Error: connect ECONNREFUSED 172.17.0.1:11434\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T03:00:25.384Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:00:30.208Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:00:30.208Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:01:30.615Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:01:30.610Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:01:30.624Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:01:30.618Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:01:30.619Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:01:30.622Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:01:30.622Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633290633}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:01:30.627Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:01:30.630Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:01:30.629Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:01:30.631Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:01:30.632Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633290632}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:01:30.632Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:01:30.633Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:01:30.633Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:01:30.654Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:01:30.655Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:01:30.624Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:01:30.624Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:01:30.625Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:01:30.625Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:01:30.625Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:01:30.625Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:01:30.625Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:01:30.625Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:01:30.626Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:01:30.626Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:01:30.626Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:01:30.655Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:01:30.618Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:01:30.628Z"}
{"error":"Error: connect ECONNREFUSED 172.17.0.1:11434\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T03:01:30.670Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:01:31.911Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:01:31.912Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:02:32.318Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:02:32.313Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:02:32.326Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:02:32.320Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:02:32.322Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:02:32.325Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:02:32.324Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633352335}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:02:32.330Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:02:32.332Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:02:32.332Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:02:32.333Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:02:32.334Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633352334}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:02:32.334Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:02:32.335Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:02:32.335Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:02:32.360Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:02:32.360Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:02:32.326Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:02:32.326Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:02:32.327Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:02:32.327Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:02:32.327Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:02:32.327Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:02:32.327Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:02:32.328Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:02:32.328Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:02:32.328Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:02:32.328Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:02:32.361Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:02:32.320Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:02:32.330Z"}
{"error":"Error: connect ECONNREFUSED 172.17.0.1:11434\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T03:02:32.379Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:02:33.602Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:02:33.602Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:03:34.011Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:03:34.007Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:03:34.020Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:03:34.014Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:03:34.016Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:03:34.019Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:03:34.018Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633414029}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:03:34.024Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:03:34.026Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:03:34.026Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:03:34.027Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:03:34.028Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633414028}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:03:34.029Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:03:34.029Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:03:34.029Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:03:34.055Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:03:34.055Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:03:34.020Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:03:34.021Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:03:34.021Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:03:34.021Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:03:34.021Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:03:34.021Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:03:34.022Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:03:34.022Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:03:34.022Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:03:34.022Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:03:34.022Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:03:34.056Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:03:34.014Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:03:34.024Z"}
{"error":"Error: connect ECONNREFUSED 172.17.0.1:11434\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T03:03:34.076Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:03:35.313Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:03:35.313Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:04:35.731Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:04:35.725Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:04:35.740Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:04:35.733Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:04:35.735Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:04:35.739Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:04:35.738Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633475750}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:04:35.744Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:04:35.747Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:04:35.746Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:04:35.748Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:04:35.749Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633475749}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:04:35.750Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:04:35.750Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:04:35.750Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:04:35.779Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:04:35.779Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:04:35.740Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:04:35.741Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:04:35.741Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:04:35.741Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:04:35.741Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:04:35.741Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:04:35.742Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:04:35.742Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:04:35.742Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:04:35.742Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:04:35.742Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:04:35.780Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:04:35.734Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:04:35.744Z"}
{"error":"Error: connect ECONNREFUSED 172.17.0.1:11434\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T03:04:35.800Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:04:37.041Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:04:37.042Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:05:06.752Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:05:06.747Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:05:06.760Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:05:06.754Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:06.756Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:05:06.759Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:06.758Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633506769}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:05:06.764Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:05:06.766Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:06.766Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:06.767Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:06.768Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633506768}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:05:06.769Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:05:06.769Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:05:06.769Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:05:06.790Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:05:06.791Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:05:06.760Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:05:06.761Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:05:06.761Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:05:06.761Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:05:06.761Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:05:06.761Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:05:06.762Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:05:06.762Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:05:06.762Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:05:06.762Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:05:06.762Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:05:06.791Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:05:06.755Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:05:06.764Z"}
{"error":"Error: connect ECONNREFUSED 172.17.0.1:11434\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T03:05:06.806Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:05:07.273Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:05:07.273Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:05:07.792Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:05:07.787Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:05:07.800Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:05:07.794Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:07.796Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:05:07.799Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:07.799Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633507809}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:05:07.804Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:05:07.807Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:07.806Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:07.807Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:07.808Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633507809}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:05:07.809Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:05:07.809Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:05:07.809Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:05:07.835Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:05:07.835Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:05:07.801Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:05:07.801Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:05:07.801Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:05:07.801Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:05:07.802Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:05:07.802Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:05:07.802Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:05:07.802Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:05:07.802Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:05:07.803Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:05:07.803Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:05:07.836Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:05:07.795Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:05:07.804Z"}
{"error":"Error: connect ECONNREFUSED 172.17.0.1:11434\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T03:05:07.856Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:05:09.018Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:05:09.019Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:05:09.671Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:05:09.666Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:05:09.680Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:05:09.674Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:09.676Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:05:09.679Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:09.678Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633509689}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:05:09.684Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:05:09.686Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:09.686Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:09.687Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:09.688Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633509688}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:05:09.689Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:05:09.689Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:05:09.689Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:05:09.715Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:05:09.715Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:05:09.680Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:05:09.681Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:05:09.681Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:05:09.681Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:05:09.681Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:05:09.681Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:05:09.682Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:05:09.682Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:05:09.682Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:05:09.682Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:05:09.682Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:05:09.716Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:05:09.674Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:05:09.684Z"}
{"error":"Error: connect ECONNREFUSED 172.17.0.1:11434\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T03:05:09.734Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:05:10.682Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:05:10.682Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:05:11.507Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:05:11.502Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:05:11.515Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:05:11.509Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:11.511Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:05:11.514Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:11.513Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633511524}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:05:11.519Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:05:11.521Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:11.521Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:11.522Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:11.523Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633511524}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:05:11.524Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:05:11.524Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:05:11.524Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:05:11.551Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:05:11.551Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:05:11.515Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:05:11.516Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:05:11.516Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:05:11.516Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:05:11.516Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:05:11.517Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:05:11.517Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:05:11.517Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:05:11.517Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:05:11.517Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:05:11.517Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:05:11.552Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:05:11.510Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:05:11.519Z"}
{"error":"Error: connect ECONNREFUSED 172.17.0.1:11434\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T03:05:11.570Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:05:12.053Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:05:12.054Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:05:13.288Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:05:13.283Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:05:13.296Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:05:13.290Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:13.292Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:05:13.295Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:13.294Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633513305}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:05:13.300Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:05:13.302Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:13.302Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:13.303Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:13.304Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633513304}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:05:13.305Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:05:13.305Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:05:13.305Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:05:13.331Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:05:13.331Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:05:13.296Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:05:13.296Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:05:13.297Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:05:13.297Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:05:13.297Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:05:13.297Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:05:13.297Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:05:13.298Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:05:13.298Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:05:13.298Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:05:13.298Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:05:13.332Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:05:13.291Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:05:13.300Z"}
{"error":"Error: connect ECONNREFUSED 172.17.0.1:11434\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T03:05:13.351Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:05:13.818Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:05:13.818Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:05:15.829Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:05:15.824Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:05:15.838Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:05:15.832Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:15.834Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:05:15.837Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:15.836Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633515847}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:05:15.842Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:05:15.844Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:15.844Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:15.845Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:15.846Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633515846}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:05:15.847Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:05:15.847Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:05:15.847Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:05:15.873Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:05:15.874Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:05:15.838Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:05:15.838Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:05:15.839Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:05:15.839Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:05:15.839Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:05:15.839Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:05:15.839Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:05:15.839Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:05:15.840Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:05:15.840Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:05:15.840Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:05:15.875Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:05:15.832Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:05:15.842Z"}
{"error":"Error: connect ECONNREFUSED 172.17.0.1:11434\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T03:05:15.894Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:05:17.305Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:05:17.306Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:05:20.910Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:05:20.906Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:05:20.919Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:05:20.913Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:20.915Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:05:20.918Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:20.917Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633520928}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:05:20.923Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:05:20.925Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:20.925Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:20.926Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:20.927Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633520927}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:05:20.928Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:05:20.928Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:05:20.928Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:05:20.950Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:05:20.950Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:05:20.919Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:05:20.919Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:05:20.920Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:05:20.920Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:05:20.920Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:05:20.920Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:05:20.920Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:05:20.921Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:05:20.921Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:05:20.921Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:05:20.921Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:05:20.951Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:05:20.913Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:05:20.923Z"}
{"error":"Error: connect ECONNREFUSED 172.17.0.1:11434\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T03:05:20.967Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:05:21.427Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:05:21.428Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:05:28.263Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:05:28.258Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:05:28.271Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:05:28.265Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:28.267Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:05:28.270Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:28.270Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633528281}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:05:28.275Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:05:28.278Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:28.277Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:28.278Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:28.280Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633528280}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:05:28.280Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:05:28.280Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:05:28.280Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:05:28.307Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:05:28.307Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:05:28.272Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:05:28.272Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:05:28.272Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:05:28.273Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:05:28.273Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:05:28.273Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:05:28.273Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:05:28.273Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:05:28.273Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:05:28.274Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:05:28.274Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:05:28.308Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:05:28.266Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:05:28.276Z"}
{"error":"Error: connect ECONNREFUSED 172.17.0.1:11434\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T03:05:28.326Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:05:28.802Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:05:28.802Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:05:42.047Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:05:42.042Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:05:42.055Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:05:42.049Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:42.051Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:05:42.054Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:42.053Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633542064}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:05:42.059Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:05:42.061Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:42.061Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:42.062Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:05:42.063Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633542063}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:05:42.064Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:05:42.064Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:05:42.064Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:05:42.090Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:05:42.090Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:05:42.055Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:05:42.056Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:05:42.056Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:05:42.056Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:05:42.056Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:05:42.057Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:05:42.057Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:05:42.057Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:05:42.057Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:05:42.057Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:05:42.057Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:05:42.091Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:05:42.050Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:05:42.059Z"}
{"error":"Error: connect ECONNREFUSED 172.17.0.1:11434\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T03:05:42.111Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:05:42.588Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:05:42.589Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:06:08.589Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:06:08.584Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:06:08.597Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:06:08.591Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:06:08.593Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:06:08.596Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:06:08.595Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633568606}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:06:08.601Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:06:08.603Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:06:08.603Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:06:08.604Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:06:08.605Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633568606}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:06:08.606Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:06:08.606Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:06:08.606Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:06:08.632Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:06:08.632Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:06:08.597Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:06:08.598Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:06:08.598Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:06:08.598Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:06:08.598Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:06:08.599Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:06:08.599Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:06:08.599Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:06:08.599Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:06:08.599Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:06:08.599Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:06:08.633Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:06:08.592Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:06:08.601Z"}
{"error":"Error: connect ECONNREFUSED 172.17.0.1:11434\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T03:06:08.653Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:06:09.814Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:06:09.814Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:07:01.459Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:07:01.455Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:07:01.468Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:07:01.462Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:07:01.464Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:07:01.467Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:07:01.466Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633621477}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:07:01.472Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:07:01.474Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:07:01.474Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:07:01.475Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:07:01.476Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633621476}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:07:01.477Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:07:01.477Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:07:01.477Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:07:01.503Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:07:01.503Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:07:01.468Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:07:01.468Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:07:01.469Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:07:01.469Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:07:01.469Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:07:01.469Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:07:01.469Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:07:01.470Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:07:01.470Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:07:01.470Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:07:01.470Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:07:01.504Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:07:01.462Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:07:01.472Z"}
{"error":"Error: connect ECONNREFUSED 172.17.0.1:11434\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T03:07:01.522Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:07:02.687Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:07:02.687Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:08:03.128Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:08:03.123Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:08:03.137Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:08:03.130Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:08:03.132Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:08:03.136Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:08:03.135Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633683147}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:08:03.141Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:08:03.144Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:08:03.143Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:08:03.144Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:08:03.146Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633683146}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:08:03.146Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:08:03.146Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:08:03.147Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:08:03.137Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:08:03.137Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:08:03.138Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:08:03.138Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:08:03.138Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:08:03.138Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:08:03.138Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:08:03.139Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:08:03.139Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:08:03.139Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:08:03.139Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:08:03.175Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:08:03.174Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:08:03.174Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:08:03.131Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:08:03.141Z"}
{"error":"Error: connect ECONNREFUSED 172.17.0.1:11434\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T03:08:03.195Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:08:04.446Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:08:04.446Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:09:04.879Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:09:04.874Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:09:04.887Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:09:04.882Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:04.883Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:09:04.886Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:04.886Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633744897}
{"level":"info","message":"Cliente Ollama inicializado: http://host.docker.internal:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:09:04.891Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:09:04.894Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:04.893Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:04.895Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:04.896Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633744896}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:09:04.896Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:09:04.897Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:09:04.897Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:09:04.923Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:09:04.923Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:09:04.888Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:09:04.888Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:09:04.888Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:09:04.889Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:09:04.889Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:09:04.889Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:09:04.889Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:09:04.889Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:09:04.890Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:09:04.890Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:09:04.890Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:09:04.924Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:09:04.882Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:09:04.892Z"}
{"error":"Error: connect ECONNREFUSED 172.17.0.1:11434\n    at AxiosError.from (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:905:14)\n    at RedirectableRequest.handleRequestError (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3326:25)\n    at RedirectableRequest.emit (node:events:536:35)\n    at eventHandlers.<computed> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:49:24)\n    at ClientRequest.emit (node:events:524:28)\n    at emitErrorEvent (node:_http_client:101:11)\n    at Socket.socketErrorListener (node:_http_client:504:5)\n    at Socket.emit (node:events:524:28)\n    at emitErrorNT (node:internal/streams/destroy:169:8)\n    at emitErrorCloseNT (node:internal/streams/destroy:128:3)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async OllamaClient.healthCheck (/app/dist/ai/ollama-client.js:412:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:804:30)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Ollama falló:","module":"OllamaClient","timestamp":"2025-10-05T03:09:04.944Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:09:06.421Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:09:06.422Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:09:33.947Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:09:33.942Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:09:33.957Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:09:33.950Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:33.952Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:09:33.956Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:33.955Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633773967}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:09:33.961Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:09:33.964Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:33.964Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:33.965Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:33.966Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633773967}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:09:33.967Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:09:33.967Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:09:33.967Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:09:33.995Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:09:33.995Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:09:33.958Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:09:33.958Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:09:33.958Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:09:33.958Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:09:33.959Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:09:33.959Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:09:33.959Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:09:33.959Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:09:33.959Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:09:33.960Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:09:33.960Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:09:33.996Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:09:33.951Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:09:33.962Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:09:34.024Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:09:34.478Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:09:34.479Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:09:34.998Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:09:34.993Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:09:35.007Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:09:35.001Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:35.002Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:09:35.005Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:35.005Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633775016}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:09:35.010Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:09:35.013Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:35.013Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:35.014Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:35.015Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633775016}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:09:35.016Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:09:35.016Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:09:35.016Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:09:35.042Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:09:35.042Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:09:35.007Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:09:35.007Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:09:35.007Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:09:35.008Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:09:35.008Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:09:35.008Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:09:35.008Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:09:35.008Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:09:35.009Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:09:35.009Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:09:35.009Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:09:35.043Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:09:35.001Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:09:35.011Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:09:35.068Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:09:35.521Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:09:35.522Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:09:36.195Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:09:36.190Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:09:36.205Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:09:36.198Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:36.200Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:09:36.204Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:36.203Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633776215}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:09:36.209Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:09:36.212Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:36.211Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:36.213Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:36.214Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633776214}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:09:36.215Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:09:36.215Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:09:36.215Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:09:36.242Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:09:36.242Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:09:36.205Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:09:36.206Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:09:36.206Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:09:36.206Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:09:36.206Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:09:36.207Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:09:36.207Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:09:36.207Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:09:36.207Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:09:36.207Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:09:36.208Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:09:36.243Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:09:36.198Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:09:36.210Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:09:36.269Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:09:36.720Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:09:36.721Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:09:37.532Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:09:37.527Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:09:37.540Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:09:37.535Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:37.536Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:09:37.539Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:37.539Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633777550}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:09:37.544Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:09:37.547Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:37.546Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:37.547Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:37.549Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633777549}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:09:37.549Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:09:37.549Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:09:37.549Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:09:37.575Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:09:37.576Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:09:37.541Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:09:37.541Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:09:37.541Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:09:37.542Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:09:37.542Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:09:37.542Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:09:37.542Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:09:37.542Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:09:37.542Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:09:37.543Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:09:37.543Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:09:37.576Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:09:37.535Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:09:37.545Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:09:37.601Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:09:38.053Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:09:38.054Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:09:39.261Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:09:39.256Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:09:39.270Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:09:39.264Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:39.266Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:09:39.269Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:39.268Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633779279}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:09:39.274Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:09:39.276Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:39.276Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:39.277Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:39.278Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633779278}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:09:39.279Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:09:39.279Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:09:39.279Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:09:39.305Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:09:39.305Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:09:39.270Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:09:39.270Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:09:39.271Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:09:39.271Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:09:39.271Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:09:39.271Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:09:39.271Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:09:39.272Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:09:39.272Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:09:39.272Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:09:39.272Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:09:39.306Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:09:39.264Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:09:39.274Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:09:39.332Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:09:39.781Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:09:39.782Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:09:41.810Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:09:41.803Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:09:41.819Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:09:41.813Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:41.815Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:09:41.818Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:41.817Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633781829}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:09:41.823Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:09:41.826Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:41.825Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:41.827Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:41.828Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633781828}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:09:41.828Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:09:41.828Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:09:41.829Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:09:41.856Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:09:41.856Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:09:41.819Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:09:41.820Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:09:41.820Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:09:41.820Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:09:41.820Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:09:41.821Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:09:41.821Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:09:41.821Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:09:41.821Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:09:41.821Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:09:41.822Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:09:41.857Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:09:41.813Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:09:41.823Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:09:41.884Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:09:42.354Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:09:42.355Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:09:45.980Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:09:45.975Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:09:45.988Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:09:45.982Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:45.984Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:09:45.987Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:45.987Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633785997}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:09:45.992Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:09:45.994Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:45.994Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:45.995Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:45.996Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633785997}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:09:45.997Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:09:45.997Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:09:45.997Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:09:46.022Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:09:46.023Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:09:45.988Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:09:45.989Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:09:45.989Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:09:45.989Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:09:45.989Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:09:45.990Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:09:45.990Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:09:45.990Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:09:45.990Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:09:45.990Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:09:45.990Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:09:46.023Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:09:45.983Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:09:45.992Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:09:46.049Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:09:46.506Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:09:46.506Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:09:53.337Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:09:53.331Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:09:53.346Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:09:53.339Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:53.341Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:09:53.344Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:53.344Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633793355}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:09:53.350Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:09:53.352Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:53.352Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:53.353Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:09:53.354Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633793355}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:09:53.355Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:09:53.355Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:09:53.355Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:09:53.382Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:09:53.383Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:09:53.346Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:09:53.346Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:09:53.347Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:09:53.347Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:09:53.347Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:09:53.347Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:09:53.347Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:09:53.348Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:09:53.348Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:09:53.348Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:09:53.348Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:09:53.383Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:09:53.340Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:09:53.350Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:09:53.410Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:09:54.582Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:09:54.583Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:10:07.819Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:10:07.814Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:10:07.829Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:10:07.822Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:07.824Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:10:07.828Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:07.827Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633807839}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:10:07.833Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:10:07.836Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:07.835Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:07.837Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:07.838Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633807838}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:10:07.839Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:10:07.839Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:10:07.839Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:10:07.867Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:10:07.867Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:10:07.829Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:10:07.830Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:10:07.830Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:10:07.830Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:10:07.830Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:10:07.831Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:10:07.831Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:10:07.831Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:10:07.831Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:10:07.831Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:10:07.832Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:10:07.868Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:10:07.823Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:10:07.833Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:10:07.894Z"}
{"error":"AxiosError: timeout of 10000ms exceeded\n    at RedirectableRequest.handleRequestTimeout (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3363:16)\n    at RedirectableRequest.emit (node:events:524:28)\n    at Timeout.<anonymous> (/app/node_modules/.pnpm/follow-redirects@1.15.11/node_modules/follow-redirects/index.js:221:12)\n    at listOnTimeout (node:internal/timers:581:17)\n    at process.processTimers (node:internal/timers:519:7)\n    at Axios.request (/app/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at async BybitClient.healthCheck (/app/dist/exchange/bybit-client.js:446:30)\n    at async TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:805:29)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Health check de Bybit falló:","module":"BybitClient","timestamp":"2025-10-05T03:10:17.948Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:10:17.951Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:10:17.951Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:10:18.490Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:10:18.485Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:10:18.499Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:10:18.493Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:18.495Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:10:18.498Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:18.497Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633818509}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:10:18.503Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:10:18.506Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:18.506Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:18.507Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:18.508Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633818508}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:10:18.509Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:10:18.509Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:10:18.509Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:10:18.537Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:10:18.537Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:10:18.500Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:10:18.500Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:10:18.500Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:10:18.500Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:10:18.501Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:10:18.501Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:10:18.501Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:10:18.501Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:10:18.501Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:10:18.502Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:10:18.502Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:10:18.538Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:10:18.493Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:10:18.504Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:10:18.565Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:10:20.051Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:10:20.052Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:10:20.679Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:10:20.674Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:10:20.688Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:10:20.682Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:20.684Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:10:20.687Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:20.686Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633820698}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:10:20.692Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:10:20.695Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:20.695Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:20.696Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:20.697Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633820698}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:10:20.698Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:10:20.698Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:10:20.698Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:10:20.726Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:10:20.727Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:10:20.689Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:10:20.689Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:10:20.689Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:10:20.689Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:10:20.690Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:10:20.690Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:10:20.690Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:10:20.690Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:10:20.690Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:10:20.691Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:10:20.691Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:10:20.727Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:10:20.682Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:10:20.693Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:10:20.755Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:10:25.374Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:10:25.375Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:10:26.202Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:10:26.197Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:10:26.213Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:10:26.206Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:26.208Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:10:26.211Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:26.211Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633826223}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:10:26.217Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:10:26.220Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:26.219Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:26.220Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:26.222Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633826222}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:10:26.222Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:10:26.222Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:10:26.223Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:10:26.251Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:10:26.251Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:10:26.213Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:10:26.213Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:10:26.214Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:10:26.214Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:10:26.214Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:10:26.214Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:10:26.214Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:10:26.215Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:10:26.215Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:10:26.215Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:10:26.215Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:10:26.252Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:10:26.207Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:10:26.217Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:10:26.278Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:10:28.075Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:10:28.076Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:10:29.307Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:10:29.301Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:10:29.316Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:10:29.309Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:29.311Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:10:29.315Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:29.314Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633829326}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:10:29.320Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:10:29.323Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:29.322Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:29.324Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:29.325Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633829325}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:10:29.326Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:10:29.326Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:10:29.326Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:10:29.354Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:10:29.354Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:10:29.316Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:10:29.317Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:10:29.317Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:10:29.317Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:10:29.318Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:10:29.318Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:10:29.318Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:10:29.318Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:10:29.318Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:10:29.319Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:10:29.319Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:10:29.355Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:10:29.310Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:10:29.321Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:10:29.383Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:10:30.210Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:10:30.211Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:10:32.236Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:10:32.231Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:10:32.245Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:10:32.239Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:32.241Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:10:32.244Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:32.244Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633832255}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:10:32.249Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:10:32.252Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:32.252Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:32.253Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:32.254Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633832254}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:10:32.255Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:10:32.255Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:10:32.255Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:10:32.282Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:10:32.283Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:10:32.246Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:10:32.246Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:10:32.246Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:10:32.247Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:10:32.247Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:10:32.247Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:10:32.247Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:10:32.247Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:10:32.247Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:10:32.248Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:10:32.248Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:10:32.283Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:10:32.239Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:10:32.250Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:10:32.310Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:10:33.758Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:10:33.759Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:10:37.393Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:10:37.388Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:10:37.402Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:10:37.396Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:37.398Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:10:37.401Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:37.401Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633837413}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:10:37.407Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:10:37.409Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:37.409Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:37.410Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:37.411Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633837412}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:10:37.412Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:10:37.412Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:10:37.412Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:10:37.441Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:10:37.441Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:10:37.403Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:10:37.403Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:10:37.404Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:10:37.404Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:10:37.404Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:10:37.404Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:10:37.404Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:10:37.405Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:10:37.405Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:10:37.405Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:10:37.405Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:10:37.442Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:10:37.397Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:10:37.407Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:10:37.468Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:10:38.463Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:10:38.464Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:10:45.302Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:10:45.297Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:10:45.311Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:10:45.305Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:45.306Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:10:45.310Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:45.309Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633845321}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:10:45.315Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:10:45.318Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:45.317Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:45.319Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:45.320Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633845320}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:10:45.321Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:10:45.321Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:10:45.321Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:10:45.349Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:10:45.349Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:10:45.311Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:10:45.312Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:10:45.312Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:10:45.312Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:10:45.312Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:10:45.312Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:10:45.313Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:10:45.313Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:10:45.313Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:10:45.313Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:10:45.313Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:10:45.350Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:10:45.305Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:10:45.315Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:10:45.378Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:10:46.738Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:10:46.739Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:10:59.966Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:10:59.961Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:10:59.975Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:10:59.969Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:59.971Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:10:59.974Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:59.973Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633859985}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:10:59.979Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:10:59.982Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:59.982Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:59.983Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:10:59.984Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633859984}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:10:59.985Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:10:59.985Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:10:59.985Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:11:00.013Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:11:00.013Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:10:59.975Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:10:59.976Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:10:59.976Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:10:59.976Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:10:59.977Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:10:59.977Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:10:59.977Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:10:59.977Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:10:59.977Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:10:59.978Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:10:59.978Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:11:00.014Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:10:59.969Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:10:59.980Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:11:00.041Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:11:01.795Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:11:01.796Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:11:27.907Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:11:27.901Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:11:27.916Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:11:27.909Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:11:27.911Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:11:27.914Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:11:27.914Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633887925}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:11:27.920Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:11:27.922Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:11:27.922Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:11:27.923Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:11:27.924Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633887925}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:11:27.925Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:11:27.925Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:11:27.925Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:11:27.953Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:11:27.953Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:11:27.916Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:11:27.916Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:11:27.917Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:11:27.917Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:11:27.917Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:11:27.917Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:11:27.917Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:11:27.918Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:11:27.918Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:11:27.918Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:11:27.918Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:11:27.954Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:11:27.910Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:11:27.920Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:11:27.979Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:11:29.398Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:11:29.399Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:12:21.043Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:12:21.036Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:12:21.052Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:12:21.045Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:12:21.047Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:12:21.051Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:12:21.050Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759633941062}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:12:21.056Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:12:21.058Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:12:21.058Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:12:21.059Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:12:21.060Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759633941061}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:12:21.061Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:12:21.061Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:12:21.061Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:12:21.088Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:12:21.089Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:12:21.052Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:12:21.052Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:12:21.053Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:12:21.053Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:12:21.053Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:12:21.053Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:12:21.053Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:12:21.054Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:12:21.054Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:12:21.054Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:12:21.054Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:12:21.089Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:12:21.046Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:12:21.056Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:12:21.116Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:12:24.796Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:12:24.797Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:13:25.229Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:13:25.223Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:13:25.238Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:13:25.231Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:13:25.233Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:13:25.237Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:13:25.236Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759634005248}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:13:25.242Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:13:25.245Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:13:25.244Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:13:25.246Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:13:25.247Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759634005247}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:13:25.247Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:13:25.248Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:13:25.248Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:13:25.276Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:13:25.276Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:13:25.238Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:13:25.239Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:13:25.239Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:13:25.239Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:13:25.239Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:13:25.239Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:13:25.240Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:13:25.240Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:13:25.240Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:13:25.240Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:13:25.240Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:13:25.277Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:13:25.232Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:13:25.242Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:13:25.303Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:13:34.314Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:13:34.315Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:14:34.737Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:14:34.732Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:14:34.747Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:14:34.740Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:14:34.742Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:14:34.745Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:14:34.745Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759634074757}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:14:34.751Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:14:34.753Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:14:34.753Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:14:34.754Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:14:34.755Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759634074756}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:14:34.756Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:14:34.756Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:14:34.756Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:14:34.784Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:14:34.784Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:14:34.747Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:14:34.747Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:14:34.748Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:14:34.748Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:14:34.748Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:14:34.748Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:14:34.748Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:14:34.749Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:14:34.749Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:14:34.749Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:14:34.749Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:14:34.785Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:14:34.741Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:14:34.751Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:14:34.812Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:14:36.012Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:14:36.013Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:15:36.451Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:15:36.446Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:15:36.461Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:15:36.454Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:15:36.456Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:15:36.459Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:15:36.459Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759634136471}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:15:36.465Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:15:36.468Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:15:36.467Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:15:36.468Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:15:36.470Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759634136470}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:15:36.470Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:15:36.470Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:15:36.471Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:15:36.495Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:15:36.495Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:15:36.461Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:15:36.461Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:15:36.462Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:15:36.462Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:15:36.462Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:15:36.462Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:15:36.462Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:15:36.463Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:15:36.463Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:15:36.463Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:15:36.463Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:15:36.495Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:15:36.454Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:15:36.465Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:15:36.516Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:15:38.493Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:15:38.494Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:16:38.933Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:16:38.928Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:16:38.942Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:16:38.936Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:16:38.938Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:16:38.941Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:16:38.941Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759634198952}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:16:38.946Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:16:38.949Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:16:38.949Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:16:38.950Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:16:38.951Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759634198951}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:16:38.952Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:16:38.952Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:16:38.952Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:16:38.979Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:16:38.979Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:16:38.943Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:16:38.943Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:16:38.943Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:16:38.944Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:16:38.944Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:16:38.944Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:16:38.944Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:16:38.944Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:16:38.945Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:16:38.945Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:16:38.945Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:16:38.980Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:16:38.937Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:16:38.947Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:16:39.008Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:16:40.547Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:16:40.547Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:17:40.978Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:17:40.973Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:17:40.987Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:17:40.981Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:17:40.983Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:17:40.986Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:17:40.985Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759634260997}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:17:40.991Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:17:40.994Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:17:40.993Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:17:40.995Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:17:40.996Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759634260996}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:17:40.996Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:17:40.997Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:17:40.997Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:17:41.024Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:17:41.025Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:17:40.987Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:17:40.988Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:17:40.988Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:17:40.988Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:17:40.989Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:17:40.989Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:17:40.989Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:17:40.989Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:17:40.989Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:17:40.989Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:17:40.990Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:17:41.025Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:17:40.981Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:17:40.991Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:17:41.052Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:17:41.913Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:17:41.914Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:18:42.352Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:18:42.347Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:18:42.361Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:18:42.355Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:18:42.357Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:18:42.360Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:18:42.359Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759634322371}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:18:42.365Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:18:42.368Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:18:42.368Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:18:42.369Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:18:42.370Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759634322371}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:18:42.371Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:18:42.371Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:18:42.371Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:18:42.399Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:18:42.400Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:18:42.362Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:18:42.362Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:18:42.362Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:18:42.362Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:18:42.363Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:18:42.363Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:18:42.363Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:18:42.363Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:18:42.363Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:18:42.364Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:18:42.364Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:18:42.400Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:18:42.355Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:18:42.366Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:18:42.428Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:18:44.178Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:18:44.179Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:19:44.611Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:19:44.606Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:19:44.620Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:19:44.614Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:19:44.615Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:19:44.619Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:19:44.618Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759634384630}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:19:44.624Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:19:44.627Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:19:44.627Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:19:44.628Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:19:44.629Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759634384630}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:19:44.630Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:19:44.630Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:19:44.630Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:19:44.657Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:19:44.657Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:19:44.621Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:19:44.621Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:19:44.621Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:19:44.622Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:19:44.622Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:19:44.622Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:19:44.622Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:19:44.622Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:19:44.622Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:19:44.623Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:19:44.623Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:19:44.658Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:19:44.614Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:19:44.625Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:19:44.684Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:19:47.703Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:19:47.704Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:20:48.142Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:20:48.137Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:20:48.151Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:20:48.145Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:20:48.147Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:20:48.150Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:20:48.149Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759634448161}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:20:48.155Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:20:48.158Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:20:48.157Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:20:48.159Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:20:48.160Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759634448160}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:20:48.161Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:20:48.161Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:20:48.161Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:20:48.184Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:20:48.184Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:20:48.152Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:20:48.152Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:20:48.152Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:20:48.152Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:20:48.153Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:20:48.153Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:20:48.153Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:20:48.153Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:20:48.153Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:20:48.153Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:20:48.154Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:20:48.185Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:20:48.145Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:20:48.155Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:20:48.207Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:20:49.269Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:20:49.270Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:21:49.705Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:21:49.699Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:21:49.714Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:21:49.707Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:21:49.709Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:21:49.712Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:21:49.712Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759634509724}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:21:49.718Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:21:49.721Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:21:49.720Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:21:49.721Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:21:49.723Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759634509723}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:21:49.723Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:21:49.723Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:21:49.724Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:21:49.752Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:21:49.752Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:21:49.714Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:21:49.714Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:21:49.715Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:21:49.715Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:21:49.715Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:21:49.715Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:21:49.715Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:21:49.716Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:21:49.716Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:21:49.716Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:21:49.716Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:21:49.753Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:21:49.708Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:21:49.718Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:21:49.780Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:21:50.933Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:21:50.934Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:22:51.368Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:22:51.362Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:22:51.377Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:22:51.370Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:22:51.372Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:22:51.375Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:22:51.375Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759634571387}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:22:51.381Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:22:51.383Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:22:51.383Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:22:51.384Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:22:51.386Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759634571386}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:22:51.386Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:22:51.386Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:22:51.386Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:22:51.415Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:22:51.416Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:22:51.377Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:22:51.377Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:22:51.378Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:22:51.378Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:22:51.378Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:22:51.378Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:22:51.378Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:22:51.379Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:22:51.379Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:22:51.379Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:22:51.379Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:22:51.417Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:22:51.371Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:22:51.381Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:22:51.443Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:22:52.471Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:22:52.472Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:23:52.897Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:23:52.892Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:23:52.906Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:23:52.899Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:23:52.901Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:23:52.905Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:23:52.904Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759634632916}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:23:52.910Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:23:52.913Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:23:52.912Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:23:52.913Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:23:52.914Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759634632915}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:23:52.915Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:23:52.915Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:23:52.915Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:23:52.939Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:23:52.939Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:23:52.906Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:23:52.906Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:23:52.907Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:23:52.907Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:23:52.907Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:23:52.907Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:23:52.908Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:23:52.908Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:23:52.908Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:23:52.908Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:23:52.908Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:23:52.939Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:23:52.900Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:23:52.910Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:23:52.960Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:23:54.192Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:23:54.193Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:24:54.615Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:24:54.610Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:24:54.624Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:24:54.618Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:24:54.620Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:24:54.623Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:24:54.623Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759634694635}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:24:54.629Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:24:54.631Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:24:54.631Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:24:54.632Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:24:54.633Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759634694634}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:24:54.634Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:24:54.634Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:24:54.634Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:24:54.662Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:24:54.662Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:24:54.625Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:24:54.625Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:24:54.626Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:24:54.626Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:24:54.626Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:24:54.626Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:24:54.626Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:24:54.627Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:24:54.627Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:24:54.627Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:24:54.627Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:24:54.663Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:24:54.618Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:24:54.629Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:24:54.691Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:24:55.462Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:24:55.463Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:25:55.900Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:25:55.895Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:25:55.910Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:25:55.903Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:25:55.905Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:25:55.909Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:25:55.908Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759634755920}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:25:55.914Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:25:55.917Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:25:55.917Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:25:55.918Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:25:55.919Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759634755920}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:25:55.920Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:25:55.920Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:25:55.920Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:25:55.944Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:25:55.945Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:25:55.910Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:25:55.911Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:25:55.911Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:25:55.911Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:25:55.911Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:25:55.912Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:25:55.912Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:25:55.912Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:25:55.912Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:25:55.912Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:25:55.913Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:25:55.945Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:25:55.904Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:25:55.915Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:25:55.966Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:25:57.504Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:25:57.505Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:26:57.939Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:26:57.934Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:26:57.948Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:26:57.942Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:26:57.944Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:26:57.947Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:26:57.947Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759634817958}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:26:57.952Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:26:57.955Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:26:57.955Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:26:57.956Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:26:57.957Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759634817957}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:26:57.958Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:26:57.958Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:26:57.958Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:26:57.981Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:26:57.981Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:26:57.949Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:26:57.949Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:26:57.949Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:26:57.950Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:26:57.950Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:26:57.950Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:26:57.950Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:26:57.950Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:26:57.950Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:26:57.951Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:26:57.951Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:26:57.982Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:26:57.942Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:26:57.953Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:26:58.002Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:26:59.108Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:26:59.109Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:27:59.547Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:27:59.542Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:27:59.556Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:27:59.550Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:27:59.552Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:27:59.555Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:27:59.554Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759634879566}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:27:59.560Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:27:59.563Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:27:59.563Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:27:59.564Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:27:59.565Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759634879565}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:27:59.566Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:27:59.566Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:27:59.566Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:27:59.593Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:27:59.593Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:27:59.557Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:27:59.557Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:27:59.557Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:27:59.558Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:27:59.558Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:27:59.558Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:27:59.558Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:27:59.558Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:27:59.558Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:27:59.559Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:27:59.559Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:27:59.594Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:27:59.550Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:27:59.561Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:27:59.619Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:28:00.598Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:28:00.599Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:29:01.019Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:29:01.014Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:29:01.029Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:29:01.022Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:29:01.024Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:29:01.028Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:29:01.027Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759634941039}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:29:01.033Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:29:01.036Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:29:01.035Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:29:01.037Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:29:01.038Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759634941038}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:29:01.038Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:29:01.038Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:29:01.039Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:29:01.067Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:29:01.067Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:29:01.029Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:29:01.029Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:29:01.030Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:29:01.030Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:29:01.030Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:29:01.030Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:29:01.031Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:29:01.031Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:29:01.031Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:29:01.031Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:29:01.031Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:29:01.068Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:29:01.023Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:29:01.033Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:29:01.094Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:29:01.959Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:29:01.960Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:30:02.390Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:30:02.385Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:30:02.400Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:30:02.393Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:30:02.395Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:30:02.399Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:30:02.398Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759635002409}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:30:02.404Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:30:02.407Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:30:02.406Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:30:02.407Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:30:02.408Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759635002409}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:30:02.409Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:30:02.409Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:30:02.409Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:30:02.436Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:30:02.437Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:30:02.400Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:30:02.401Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:30:02.401Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:30:02.401Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:30:02.401Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:30:02.402Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:30:02.402Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:30:02.402Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:30:02.402Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:30:02.402Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:30:02.403Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:30:02.437Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:30:02.394Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:30:02.404Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:30:02.465Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:30:03.247Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:30:03.248Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:31:03.696Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:31:03.690Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:31:03.705Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:31:03.698Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:31:03.700Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:31:03.704Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:31:03.703Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759635063715}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:31:03.709Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:31:03.712Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:31:03.711Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:31:03.713Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:31:03.714Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759635063714}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:31:03.715Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:31:03.715Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:31:03.715Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:31:03.742Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:31:03.743Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:31:03.705Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:31:03.706Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:31:03.706Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:31:03.706Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:31:03.706Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:31:03.706Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:31:03.707Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:31:03.707Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:31:03.707Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:31:03.707Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:31:03.707Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:31:03.744Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:31:03.699Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:31:03.709Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:31:03.770Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:31:05.254Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:31:05.255Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:32:05.694Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:32:05.688Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:32:05.703Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:32:05.696Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:32:05.698Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:32:05.702Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:32:05.701Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759635125713}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:32:05.707Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:32:05.710Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:32:05.709Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:32:05.710Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:32:05.712Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759635125712}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:32:05.712Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:32:05.712Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:32:05.713Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:32:05.740Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:32:05.740Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:32:05.703Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:32:05.704Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:32:05.704Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:32:05.704Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:32:05.704Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:32:05.704Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:32:05.705Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:32:05.705Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:32:05.705Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:32:05.705Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:32:05.705Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:32:05.741Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:32:05.697Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:32:05.707Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:32:05.767Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:32:06.452Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:32:06.453Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:33:06.882Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:33:06.877Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:33:06.891Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:33:06.884Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:33:06.886Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:33:06.890Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:33:06.889Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759635186901}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:33:06.895Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:33:06.898Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:33:06.897Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:33:06.898Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:33:06.900Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759635186900}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:33:06.900Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:33:06.900Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:33:06.901Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:33:06.929Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:33:06.929Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:33:06.891Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:33:06.892Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:33:06.892Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:33:06.892Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:33:06.892Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:33:06.893Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:33:06.893Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:33:06.893Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:33:06.893Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:33:06.893Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:33:06.893Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:33:06.930Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:33:06.885Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:33:06.895Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:33:06.957Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:33:08.970Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:33:08.971Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:34:09.413Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:34:09.408Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:34:09.422Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:34:09.416Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:34:09.418Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:34:09.421Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:34:09.421Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759635249432}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:34:09.426Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:34:09.429Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:34:09.429Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:34:09.430Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:34:09.431Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759635249431}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:34:09.432Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:34:09.432Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:34:09.432Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:34:09.460Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:34:09.460Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:34:09.423Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:34:09.423Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:34:09.423Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:34:09.424Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:34:09.424Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:34:09.424Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:34:09.424Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:34:09.424Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:34:09.424Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:34:09.425Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:34:09.425Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:34:09.461Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:34:09.416Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:34:09.427Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:34:09.487Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:34:10.691Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:34:10.692Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:35:11.120Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:35:11.115Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:35:11.129Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:35:11.122Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:35:11.124Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:35:11.128Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:35:11.127Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759635311139}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:35:11.133Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:35:11.136Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:35:11.135Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:35:11.137Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:35:11.138Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759635311138}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:35:11.139Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:35:11.139Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:35:11.139Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:35:11.166Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:35:11.166Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:35:11.129Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:35:11.130Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:35:11.130Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:35:11.130Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:35:11.130Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:35:11.131Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:35:11.131Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:35:11.131Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:35:11.131Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:35:11.131Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:35:11.131Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:35:11.167Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:35:11.123Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:35:11.133Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:35:11.194Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:35:12.656Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:35:12.657Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:36:13.083Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:36:13.078Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:36:13.092Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:36:13.086Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:36:13.088Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:36:13.091Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:36:13.090Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759635373102}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:36:13.096Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:36:13.099Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:36:13.098Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:36:13.100Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:36:13.101Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759635373101}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:36:13.102Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:36:13.102Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:36:13.102Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:36:13.129Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:36:13.129Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:36:13.092Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:36:13.093Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:36:13.093Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:36:13.093Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:36:13.093Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:36:13.094Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:36:13.094Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:36:13.094Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:36:13.094Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:36:13.094Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:36:13.095Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:36:13.130Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:36:13.086Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:36:13.096Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:36:13.155Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:36:14.864Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:36:14.865Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:37:15.283Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:37:15.278Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:37:15.292Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:37:15.286Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:37:15.287Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:37:15.291Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:37:15.290Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759635435302}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:37:15.296Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:37:15.299Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:37:15.298Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:37:15.299Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:37:15.301Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759635435301}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:37:15.301Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:37:15.301Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:37:15.302Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:37:15.329Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:37:15.329Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:37:15.292Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:37:15.293Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:37:15.293Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:37:15.293Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:37:15.293Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:37:15.293Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:37:15.294Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:37:15.294Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:37:15.294Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:37:15.294Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:37:15.294Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:37:15.330Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:37:15.286Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:37:15.296Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:37:15.355Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:37:16.591Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:37:16.591Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:38:17.011Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:38:17.006Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:38:17.020Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:38:17.013Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:38:17.015Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:38:17.019Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:38:17.018Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759635497030}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:38:17.024Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:38:17.027Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:38:17.027Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:38:17.028Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:38:17.029Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759635497030}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:38:17.030Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:38:17.030Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:38:17.030Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:38:17.059Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:38:17.059Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:38:17.020Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:38:17.021Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:38:17.021Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:38:17.021Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:38:17.021Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:38:17.022Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:38:17.022Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:38:17.022Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:38:17.022Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:38:17.022Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:38:17.023Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:38:17.060Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:38:17.014Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:38:17.025Z"}
{"level":"warn","message":"Modelo llama2:7b-chat no encontrado en Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:38:17.087Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-05T03:38:18.293Z"}
{"error":"Error: Ollama no está disponible\n    at TradingStrategy.healthCheck (/app/dist/strategy/trading-strategy.js:818:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.start (/app/dist/strategy/trading-strategy.js:43:13)\n    at async TradingSystem.start (/app/dist/index.js:47:17)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-05T03:38:18.294Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:39:18.716Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:39:18.711Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:39:18.724Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:39:18.718Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:39:18.720Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:39:18.723Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:39:18.722Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759635558733}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:39:18.728Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:39:18.730Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:39:18.730Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:39:18.731Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:39:18.732Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759635558732}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:39:18.733Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:39:18.733Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:39:18.733Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:39:18.758Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:39:18.758Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:39:18.724Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:39:18.725Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:39:18.725Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:39:18.725Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:39:18.725Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:39:18.725Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:39:18.726Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:39:18.726Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:39:18.726Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:39:18.726Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:39:18.726Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:39:18.759Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:39:18.719Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:39:18.728Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-05T03:39:18.785Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-05T03:39:19.240Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (1m)","module":"DataManager","timestamp":"2025-10-05T03:39:19.241Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 200","module":"BybitClient","timestamp":"2025-10-05T03:39:19.242Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-05T03:39:19.242Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T03:39:19.633Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-05T03:39:19.635Z"}
{"level":"info","message":"Datos suficientes recopilados para BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-05T03:39:19.636Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T03:39:19.639Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T03:39:19.641Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-05T03:39:19.643Z"}
{"level":"info","message":"Velas obtenidas: 200 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:39:19.635Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-05T03:39:19.636Z"}
{"level":"debug","message":"Predicción Kalman: 123981.28000845872 (Confianza: 0.864)","module":"KalmanFilter","timestamp":"2025-10-05T03:39:19.643Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T03:39:20.723Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:39:27.081Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":123420.82045425958,"middle":123782.20499999999,"upper":124143.5895457404},"ema":{"ema21":123845.85409771347,"ema50":123714.5199345778,"ema9":123937.84405132511},"macd":{"histogram":8.356397829498746,"macd":83.56397829498746,"signal":75.20758046548872},"rsi":80.300449124981,"volume":{"avg":172.50641000000005,"current":21.526,"ratio":0.12478376890458734}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está sobrecompra (>70) y MACD es bullish. Además, el precio actual está por encima del Bollinger superior y la confianza de Kalman es alta (>75%). Se sugiero comprar con un leveraje moderado (20x)","symbol":"BTCUSDT","timestamp":1759635567082}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759635567083","module":"BybitClient","timestamp":"2025-10-05T03:39:27.085Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:39:27.085Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759631557724%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"12\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"124005.66\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-11956.81057974\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266784713,\"updatedTime\":\"1759631557724\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759635567306}","module":"BybitClient","timestamp":"2025-10-05T03:39:27.509Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T03:39:27.510Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759635567511","module":"BybitClient","timestamp":"2025-10-05T03:39:27.511Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:39:27.512Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759631557724%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"12\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"124005.69\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-11956.81057974\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266784713,\"updatedTime\":\"1759631557724\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759635568414}","module":"BybitClient","timestamp":"2025-10-05T03:39:28.601Z"}
{"level":"info","message":"AI sugiere BUY con confianza 0.8","module":"TradingStrategy","timestamp":"2025-10-05T03:39:28.602Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T03:39:28.602Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759635568603","module":"BybitClient","timestamp":"2025-10-05T03:39:28.603Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T03:39:28.604Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"214651.91486097\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"214651.91486097\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49996.82375485\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122214.47780264\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4520.738467\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37900.28039151\",\"totalPositionMM\":\"0\",\"usdValue\":\"37919.87483647\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"37900.28039151\",\"cumRealisedPnl\":\"-13007.32249849\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759635568791}","module":"BybitClient","timestamp":"2025-10-05T03:39:28.980Z"}
{"level":"info","message":"Balance disponible: $37900.28, Precio: $123980.9","module":"TradingStrategy","timestamp":"2025-10-05T03:39:28.981Z"}
{"level":"info","message":"Balance obtenido - Total: $214651.91, Disponible: $37900.28","module":"BybitClient","timestamp":"2025-10-05T03:39:28.980Z"}
{"level":"debug","message":"Símbolo info - Min: 0.001, Step: 0.001","module":"TradingStrategy","timestamp":"2025-10-05T03:39:30.046Z"}
{"level":"info","message":"Contador diario de trades reseteado","module":"RiskManager","timestamp":"2025-10-05T03:39:30.050Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759635570050","module":"BybitClient","timestamp":"2025-10-05T03:39:30.051Z"}
{"level":"info","message":"Riesgo: 6.666666666666667%, Capital a arriesgar: $2526.69","module":"TradingStrategy","timestamp":"2025-10-05T03:39:30.046Z"}
{"level":"info","message":"Position value: $50533.71, Quantity raw: 0.407593","module":"TradingStrategy","timestamp":"2025-10-05T03:39:30.047Z"}
{"level":"info","message":"Cantidad final calculada: 0.40700000000000003 BTC (valor: $50460.23)","module":"TradingStrategy","timestamp":"2025-10-05T03:39:30.047Z"}
{"level":"info","message":"Parámetros calculados - Leverage: 20x, Quantity: 0.40700000000000003","module":"TradingStrategy","timestamp":"2025-10-05T03:39:30.047Z"}
{"level":"info","message":"Generando señal de trading: BUY 0.40700000000000003 BTCUSDT @ 123980.9 (SL: 123237.0146, TP: 125394.28225999999)","module":"TradingStrategy","timestamp":"2025-10-05T03:39:30.048Z"}
{"level":"info","message":"EJECUTANDO TRADE: BUY 0.40700000000000003 BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-05T03:39:30.048Z"}
{"level":"info","message":"=== INICIO EJECUCIÓN DE TRADE ===","module":"TradingStrategy","timestamp":"2025-10-05T03:39:30.049Z"}
{"level":"info","message":"Señal: {\"symbol\":\"BTCUSDT\",\"action\":\"BUY\",\"leverage\":20,\"quantity\":0.40700000000000003,\"stopLoss\":123237.0146,\"takeProfit\":125394.28225999999,\"timestamp\":1759635570048,\"aiAnalysis\":{\"decision\":\"BUY\",\"confidence\":0.8,\"reasoning\":\"RSI está sobrecompra (>70) y MACD es bullish. Además, el precio actual está por encima del Bollinger superior y la confianza de Kalman es alta (>75%). Se sugiero comprar con un leveraje moderado (20x)\",\"indicators\":{},\"kalman\":{},\"marketSentiment\":\"bullish\",\"riskLevel\":\"medium\",\"suggestedLeverage\":20}}","module":"TradingStrategy","timestamp":"2025-10-05T03:39:30.049Z"}
{"level":"info","message":"Validando con Risk Manager...","module":"TradingStrategy","timestamp":"2025-10-05T03:39:30.049Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T03:39:30.051Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"214651.91486097\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"214651.91486097\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49996.82375485\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122214.47780264\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4520.738467\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37900.28039151\",\"totalPositionMM\":\"0\",\"usdValue\":\"37919.87483647\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"37900.28039151\",\"cumRealisedPnl\":\"-13007.32249849\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759635570948}","module":"BybitClient","timestamp":"2025-10-05T03:39:31.133Z"}
{"level":"info","message":"Balance obtenido - Total: $214651.91, Disponible: $37900.28","module":"BybitClient","timestamp":"2025-10-05T03:39:31.134Z"}
{"level":"info","message":"Validando posición: Cantidad=0.40700000000000003, Precio=124003.60, Valor=$50469.47","module":"RiskManager","timestamp":"2025-10-05T03:39:32.210Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759635572210","module":"BybitClient","timestamp":"2025-10-05T03:39:32.211Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:39:32.211Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759631557724%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"12\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"124006.49\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-11956.81057974\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266784713,\"updatedTime\":\"1759631557724\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759635572400}","module":"BybitClient","timestamp":"2025-10-05T03:39:32.585Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T03:39:32.586Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 20","module":"BybitClient","timestamp":"2025-10-05T03:39:32.963Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T03:39:34.032Z"}
{"level":"info","message":"Velas obtenidas: 20 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:39:34.033Z"}
{"level":"info","message":"Trade aprobado - Risk Score: 0.33","module":"RiskManager","timestamp":"2025-10-05T03:39:34.402Z"}
{"level":"info","message":"Resultado validación: {\"approved\":true,\"reason\":\"Trade aprobado por gestión de riesgo\",\"riskScore\":0.32859632349331386}","module":"TradingStrategy","timestamp":"2025-10-05T03:39:34.402Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759635574404","module":"BybitClient","timestamp":"2025-10-05T03:39:34.404Z"}
{"level":"info","message":"Trade aprobado por Risk Manager, ejecutando...","module":"TradingStrategy","timestamp":"2025-10-05T03:39:34.403Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"buyLeverage\":\"20\",\"sellLeverage\":\"20\"}","module":"BybitClient","timestamp":"2025-10-05T03:39:34.405Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{},\"retExtInfo\":{},\"time\":1759635575290}","module":"BybitClient","timestamp":"2025-10-05T03:39:35.473Z"}
{"level":"info","message":"Leverage establecido a 20x para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:39:35.473Z"}
{"level":"info","message":"Ejecutando orden: Buy 0.40700000000000003 BTCUSDT | SL: 123237.0146 | TP: 125394.28225999999","module":"BybitClient","timestamp":"2025-10-05T03:39:35.474Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759635575475","module":"BybitClient","timestamp":"2025-10-05T03:39:35.475Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"side\":\"Buy\",\"orderType\":\"Market\",\"qty\":\"0.40700000000000003\",\"timeInForce\":\"IOC\",\"stopLoss\":\"123237.0146\",\"slTriggerBy\":\"LastPrice\",\"takeProfit\":\"125394.28225999999\",\"tpTriggerBy\":\"LastPrice\"}","module":"BybitClient","timestamp":"2025-10-05T03:39:35.475Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10001,\"retMsg\":\"Qty invalid\",\"result\":{},\"retExtInfo\":{},\"time\":1759635576357}","module":"BybitClient","timestamp":"2025-10-05T03:39:36.541Z"}
{"error":"Error: Error ejecutando trade: Error API Bybit: Qty invalid (Code: 10001)\n    at BybitClient.executeTrade (/app/dist/exchange/bybit-client.js:177:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.executeTradingAction (/app/dist/strategy/trading-strategy.js:261:32)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:87:21)","level":"error","message":"Error ejecutando acción de trading:","module":"TradingStrategy","timestamp":"2025-10-05T03:39:36.544Z"}
{"error":{"endpoint":"/v5/order/create","error":"Error API Bybit: Qty invalid (Code: 10001)","method":"POST","params":{"category":"linear","orderType":"Market","qty":"0.40700000000000003","side":"Buy","slTriggerBy":"LastPrice","stopLoss":"123237.0146","symbol":"BTCUSDT","takeProfit":"125394.28225999999","timeInForce":"IOC","tpTriggerBy":"LastPrice"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T03:39:36.542Z"}
{"error":"Error: Error API Bybit: Qty invalid (Code: 10001)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:403:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.executeTrade (/app/dist/exchange/bybit-client.js:162:30)\n    at async TradingStrategy.executeTradingAction (/app/dist/strategy/trading-strategy.js:261:32)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:87:21)","level":"error","message":"Error ejecutando trade:","module":"BybitClient","timestamp":"2025-10-05T03:39:36.543Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T03:40:19.638Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T03:40:20.733Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T03:40:20.734Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:40:20.733Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T03:40:36.551Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T03:40:36.551Z"}
{"level":"debug","message":"Predicción Kalman: 123998.09498025422 (Confianza: 0.864)","module":"KalmanFilter","timestamp":"2025-10-05T03:40:36.552Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T03:40:36.972Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:40:40.057Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":123615.49470827126,"middle":123890.06499999999,"upper":124164.63529172871},"ema":{"ema21":123901.31390535961,"ema50":123764.42197181472,"ema9":123976.29261073665},"macd":{"histogram":7.8873327663401085,"macd":78.87332766340114,"signal":70.98599489706103},"rsi":67.66293868106541,"volume":{"avg":174.61831999999998,"current":22.175,"ratio":0.12699125727472355}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está en un nivel alto (67.66) indicando una posible oportunidad de subida. Además, el MACD histograma es bullish y el precio actual está dentro del rango superior del Bollinger. La Kalman predice una subida con confianza del 86.4%. Considerando que el mercado es neutral y no hay señales claras de reversión, sugeriría apostar a la subida.","symbol":"BTCUSDT","timestamp":1759635640058}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759635640058","module":"BybitClient","timestamp":"2025-10-05T03:40:40.059Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:40:40.059Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635575290%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"20\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"123963.9\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-11956.81057974\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266784713,\"updatedTime\":\"1759635575290\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759635640256}","module":"BybitClient","timestamp":"2025-10-05T03:40:40.441Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T03:40:40.442Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759635640442","module":"BybitClient","timestamp":"2025-10-05T03:40:40.442Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:40:40.443Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635575290%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"20\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"123963.9\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-11956.81057974\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266784713,\"updatedTime\":\"1759635575290\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759635640630}","module":"BybitClient","timestamp":"2025-10-05T03:40:40.815Z"}
{"level":"info","message":"AI sugiere BUY con confianza 0.8","module":"TradingStrategy","timestamp":"2025-10-05T03:40:40.816Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T03:40:40.816Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759635640816","module":"BybitClient","timestamp":"2025-10-05T03:40:40.816Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T03:40:40.817Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215209.79379991\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"215209.79379991\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49991.77375246\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122733.90874508\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4565.600876\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37900.28039151\",\"totalPositionMM\":\"0\",\"usdValue\":\"37918.51042637\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"37900.28039151\",\"cumRealisedPnl\":\"-13007.32249849\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759635641698}","module":"BybitClient","timestamp":"2025-10-05T03:40:41.887Z"}
{"level":"info","message":"Balance disponible: $37900.28, Precio: $123990","module":"TradingStrategy","timestamp":"2025-10-05T03:40:41.887Z"}
{"level":"info","message":"Balance obtenido - Total: $215209.79, Disponible: $37900.28","module":"BybitClient","timestamp":"2025-10-05T03:40:41.887Z"}
{"level":"debug","message":"Símbolo info - Min: 0.001, Step: 0.001","module":"TradingStrategy","timestamp":"2025-10-05T03:40:42.259Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759635642263","module":"BybitClient","timestamp":"2025-10-05T03:40:42.263Z"}
{"level":"info","message":"Riesgo: 5.666666666666667%, Capital a arriesgar: $2147.68","module":"TradingStrategy","timestamp":"2025-10-05T03:40:42.260Z"}
{"level":"info","message":"Position value: $36510.60, Quantity raw: 0.294464","module":"TradingStrategy","timestamp":"2025-10-05T03:40:42.260Z"}
{"level":"info","message":"Cantidad final calculada: 0.294 BTC (valor: $36453.06)","module":"TradingStrategy","timestamp":"2025-10-05T03:40:42.261Z"}
{"level":"info","message":"Parámetros calculados - Leverage: 17x, Quantity: 0.294","module":"TradingStrategy","timestamp":"2025-10-05T03:40:42.261Z"}
{"level":"info","message":"Generando señal de trading: BUY 0.294 BTCUSDT @ 123990 (SL: 123246.06, TP: 125403.486)","module":"TradingStrategy","timestamp":"2025-10-05T03:40:42.261Z"}
{"level":"info","message":"EJECUTANDO TRADE: BUY 0.294 BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-05T03:40:42.261Z"}
{"level":"info","message":"=== INICIO EJECUCIÓN DE TRADE ===","module":"TradingStrategy","timestamp":"2025-10-05T03:40:42.262Z"}
{"level":"info","message":"Señal: {\"symbol\":\"BTCUSDT\",\"action\":\"BUY\",\"leverage\":17,\"quantity\":0.294,\"stopLoss\":123246.06,\"takeProfit\":125403.486,\"timestamp\":1759635642261,\"aiAnalysis\":{\"decision\":\"BUY\",\"confidence\":0.8,\"reasoning\":\"RSI está en un nivel alto (67.66) indicando una posible oportunidad de subida. Además, el MACD histograma es bullish y el precio actual está dentro del rango superior del Bollinger. La Kalman predice una subida con confianza del 86.4%. Considerando que el mercado es neutral y no hay señales claras de reversión, sugeriría apostar a la subida.\",\"indicators\":{},\"kalman\":{},\"marketSentiment\":\"neutral\",\"riskLevel\":\"medium\",\"suggestedLeverage\":20}}","module":"TradingStrategy","timestamp":"2025-10-05T03:40:42.262Z"}
{"level":"info","message":"Validando con Risk Manager...","module":"TradingStrategy","timestamp":"2025-10-05T03:40:42.262Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T03:40:42.263Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215209.79379991\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"215209.79379991\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49991.77375246\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122733.90874508\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4565.600876\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37900.28039151\",\"totalPositionMM\":\"0\",\"usdValue\":\"37918.51042637\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"37900.28039151\",\"cumRealisedPnl\":\"-13007.32249849\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759635642467}","module":"BybitClient","timestamp":"2025-10-05T03:40:42.655Z"}
{"level":"info","message":"Balance obtenido - Total: $215209.79, Disponible: $37900.28","module":"BybitClient","timestamp":"2025-10-05T03:40:42.656Z"}
{"level":"info","message":"Validando posición: Cantidad=0.294, Precio=123963.80, Valor=$36445.36","module":"RiskManager","timestamp":"2025-10-05T03:40:43.030Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759635643031","module":"BybitClient","timestamp":"2025-10-05T03:40:43.032Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:40:43.033Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635575290%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"20\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"123963.8\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-11956.81057974\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697266784713,\"updatedTime\":\"1759635575290\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759635643225}","module":"BybitClient","timestamp":"2025-10-05T03:40:43.411Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T03:40:43.412Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 20","module":"BybitClient","timestamp":"2025-10-05T03:40:44.476Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T03:40:44.845Z"}
{"level":"info","message":"Velas obtenidas: 20 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:40:44.845Z"}
{"level":"info","message":"Trade aprobado - Risk Score: 0.31","module":"RiskManager","timestamp":"2025-10-05T03:40:45.213Z"}
{"level":"info","message":"Resultado validación: {\"approved\":true,\"reason\":\"Trade aprobado por gestión de riesgo\",\"riskScore\":0.3105985106322803}","module":"TradingStrategy","timestamp":"2025-10-05T03:40:45.214Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759635645214","module":"BybitClient","timestamp":"2025-10-05T03:40:45.214Z"}
{"level":"info","message":"Trade aprobado por Risk Manager, ejecutando...","module":"TradingStrategy","timestamp":"2025-10-05T03:40:45.214Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"buyLeverage\":\"17\",\"sellLeverage\":\"17\"}","module":"BybitClient","timestamp":"2025-10-05T03:40:45.215Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{},\"retExtInfo\":{},\"time\":1759635645400}","module":"BybitClient","timestamp":"2025-10-05T03:40:45.586Z"}
{"level":"info","message":"Leverage establecido a 17x para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:40:45.586Z"}
{"level":"info","message":"Ejecutando orden: Buy 0.294 BTCUSDT | SL: 123246.06 | TP: 125403.486","module":"BybitClient","timestamp":"2025-10-05T03:40:45.587Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759635645587","module":"BybitClient","timestamp":"2025-10-05T03:40:45.587Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"side\":\"Buy\",\"orderType\":\"Market\",\"qty\":\"0.294\",\"timeInForce\":\"IOC\",\"stopLoss\":\"123246.06\",\"slTriggerBy\":\"LastPrice\",\"takeProfit\":\"125403.486\",\"tpTriggerBy\":\"LastPrice\"}","module":"BybitClient","timestamp":"2025-10-05T03:40:45.587Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"orderId\":\"4f86d877-0375-4631-9967-9c01f601e8e5\",\"orderLinkId\":\"\"},\"retExtInfo\":{},\"time\":1759635645772}","module":"BybitClient","timestamp":"2025-10-05T03:40:45.957Z"}
{"level":"info","message":"TRADE_OPEN","module":"TradingStrategy","pnl":0,"price":0,"quantity":0.294,"side":"BUY","symbol":"BTCUSDT","timestamp":1759635645958}
{"level":"debug","message":"Trades ejecutados hoy: 1/20","module":"RiskManager","timestamp":"2025-10-05T03:40:45.960Z"}
{"level":"info","message":"Orden ejecutada exitosamente: 4f86d877-0375-4631-9967-9c01f601e8e5","module":"BybitClient","timestamp":"2025-10-05T03:40:45.958Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759635645962","module":"BybitClient","timestamp":"2025-10-05T03:40:45.962Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T03:40:45.963Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215131.71590423\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"2.32362426\",\"totalWalletBalance\":\"215129.39227996\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49990.87375203\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122681.95281984\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4559.62296\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37882.56016332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37899.26637235\",\"unrealisedPnl\":\"2.3226\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759635646849}","module":"BybitClient","timestamp":"2025-10-05T03:40:47.039Z"}
{"level":"info","message":"Balance obtenido - Total: $215131.72, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T03:40:47.039Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T03:41:19.637Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T03:41:20.769Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T03:41:20.769Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:41:20.769Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T03:41:47.058Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T03:41:47.059Z"}
{"level":"debug","message":"Predicción Kalman: 123963.99819365192 (Confianza: 0.863)","module":"KalmanFilter","timestamp":"2025-10-05T03:41:47.059Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T03:41:47.460Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:41:50.189Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":123857.11817484211,"middle":123963.73999999999,"upper":124070.36182515787},"ema":{"ema21":123926.46310920214,"ema50":123802.11025824165,"ema9":123967.04756268936},"macd":{"histogram":5.462780152777846,"macd":54.6278015277785,"signal":49.165021375000656},"rsi":46.18366129994111,"volume":{"avg":176.44226999999998,"current":5.116,"ratio":0.02899531954559415}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is at 46.18, MACD histogram is bullish and crossed above signal line, Bollinger bands are superior and the price is trading within the middle band, EMA9 is crossing above EMA21, Kalman predicts a bullish movement with confidence of 86.3%, volume is low but increasing, and there are no clear sell signals detected.","symbol":"BTCUSDT","timestamp":1759635710190}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759635710190","module":"BybitClient","timestamp":"2025-10-05T03:41:50.191Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:41:50.191Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-10.731\",\"markPrice\":\"123914.2\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.01781947\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759635710400}","module":"BybitClient","timestamp":"2025-10-05T03:41:50.585Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T03:41:50.586Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759635710586","module":"BybitClient","timestamp":"2025-10-05T03:41:50.586Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T03:41:50.586Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215081.90696439\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-10.73552848\",\"totalWalletBalance\":\"215092.64249287\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49992.12375262\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122644.04005967\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4560.255657\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37869.50656332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37885.48749508\",\"unrealisedPnl\":\"-10.731\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759635710785}","module":"BybitClient","timestamp":"2025-10-05T03:41:50.971Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: -0.03%","module":"TradingStrategy","timestamp":"2025-10-05T03:41:50.972Z"}
{"level":"info","message":"Balance obtenido - Total: $215081.91, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T03:41:50.971Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T03:41:51.341Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T03:41:51.343Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una pérdida del 0.03%, pero todavía estamos dentro de la tendencia...","module":"OllamaClient","timestamp":"2025-10-05T03:41:53.677Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una pérdida del 0.03%, pero todavía estamos dentro de la tendencia alcista ...","module":"TradingStrategy","timestamp":"2025-10-05T03:41:53.678Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759635713679","module":"BybitClient","timestamp":"2025-10-05T03:41:53.679Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T03:41:53.678Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T03:41:53.678Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:41:53.680Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-10.78686\",\"markPrice\":\"123914.01\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.01754017\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759635713867}","module":"BybitClient","timestamp":"2025-10-05T03:41:54.050Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T03:41:54.051Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T03:41:54.051Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T03:41:54.051Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T03:42:19.639Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T03:42:20.039Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T03:42:20.039Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:42:20.039Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T03:42:54.057Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T03:42:54.059Z"}
{"level":"debug","message":"Predicción Kalman: 123939.85786033688 (Confianza: 0.863)","module":"KalmanFilter","timestamp":"2025-10-05T03:42:54.060Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T03:42:54.472Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:42:57.816Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":123907.81653329295,"middle":123973.63,"upper":124039.44346670706},"ema":{"ema21":123936.99778814633,"ema50":123830.70680135506,"ema9":123954.25827334583},"macd":{"histogram":3.314940037275665,"macd":33.149400372756645,"signal":29.83446033548098},"rsi":46.58795749704702,"volume":{"avg":178.31936000000002,"current":30.233,"ratio":0.1695441257752383}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is at 46.59, MACD histogram is bullish and crossed above signal line, Bollinger bands are superior and the price is above the middle band, EMAs are bullish with a golden cross, Kalman prediction is for a price increase of $123939.86 (📈 +0.02%) with a confidence level of 86.3%, indicating a strong bullish trend. The market sentiment is neutral, and the leverage suggested is 10-50x.","symbol":"BTCUSDT","timestamp":1759635777818}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759635777818","module":"BybitClient","timestamp":"2025-10-05T03:42:57.818Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:42:57.819Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-10.08714\",\"markPrice\":\"123916.39\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.02103877\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759635778007}","module":"BybitClient","timestamp":"2025-10-05T03:42:58.190Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T03:42:58.191Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759635778191","module":"BybitClient","timestamp":"2025-10-05T03:42:58.191Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T03:42:58.192Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215084.13178641\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-10.09126564\",\"totalWalletBalance\":\"215094.22305205\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49992.12375262\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122646.62168494\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4559.747034\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37870.15042332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37885.63931484\",\"unrealisedPnl\":\"-10.08714\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759635778378}","module":"BybitClient","timestamp":"2025-10-05T03:42:58.566Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: -0.03%","module":"TradingStrategy","timestamp":"2025-10-05T03:42:58.567Z"}
{"level":"info","message":"Balance obtenido - Total: $215084.13, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T03:42:58.566Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T03:42:58.938Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T03:42:58.938Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una tendencia alcista y los indicadores técnicos sugieren que la t...","module":"OllamaClient","timestamp":"2025-10-05T03:43:00.984Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una tendencia alcista y los indicadores técnicos sugieren que la tendencia ...","module":"TradingStrategy","timestamp":"2025-10-05T03:43:00.984Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759635780985","module":"BybitClient","timestamp":"2025-10-05T03:43:00.985Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T03:43:00.984Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T03:43:00.985Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:43:00.985Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-10.91034\",\"markPrice\":\"123913.59\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.01692277\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759635781862}","module":"BybitClient","timestamp":"2025-10-05T03:43:02.047Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T03:43:02.048Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T03:43:02.048Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T03:43:02.048Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T03:43:19.639Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T03:43:20.039Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T03:43:20.039Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:43:20.039Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T03:44:02.055Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T03:44:02.055Z"}
{"level":"debug","message":"Predicción Kalman: 123907.75774685323 (Confianza: 0.866)","module":"KalmanFilter","timestamp":"2025-10-05T03:44:02.056Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T03:44:03.159Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:44:05.717Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":123877.12021422727,"middle":123962.30999999998,"upper":124047.4997857727},"ema":{"ema21":123931.82863278312,"ema50":123848.02367924669,"ema9":123928.61298300962},"macd":{"histogram":1.201106534957944,"macd":12.01106534957944,"signal":10.809958814621496},"rsi":40.382188570398625,"volume":{"avg":180.27760999999998,"current":17.689,"ratio":0.09812089255010648}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima de 70, MACD es bullish y hay un aumento en el volumen. Además, el precio actual está por debajo del nivel de apoyo de la tendencia baja. Confío en que el precio suba y sugiero comprar.","symbol":"BTCUSDT","timestamp":1759635845717}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759635845718","module":"BybitClient","timestamp":"2025-10-05T03:44:05.718Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:44:05.718Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"8.7024\",\"markPrice\":\"123980.3\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.11498647\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759635845906}","module":"BybitClient","timestamp":"2025-10-05T03:44:06.090Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T03:44:06.091Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759635846091","module":"BybitClient","timestamp":"2025-10-05T03:44:06.092Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T03:44:06.092Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215160.08484869\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"8.70624646\",\"totalWalletBalance\":\"215151.37860223\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49990.42375181\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122701.48806509\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4562.486157\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37888.93996332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37905.68687478\",\"unrealisedPnl\":\"8.7024\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759635846279}","module":"BybitClient","timestamp":"2025-10-05T03:44:06.464Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: 0.02%","module":"TradingStrategy","timestamp":"2025-10-05T03:44:06.466Z"}
{"level":"info","message":"Balance obtenido - Total: $215160.08, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T03:44:06.465Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T03:44:06.838Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T03:44:06.839Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una ganancia del 0.024% y las indicadores técnicos muestran una te...","module":"OllamaClient","timestamp":"2025-10-05T03:44:09.413Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una ganancia del 0.024% y las indicadores técnicos muestran una tendencia b...","module":"TradingStrategy","timestamp":"2025-10-05T03:44:09.413Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759635849413","module":"BybitClient","timestamp":"2025-10-05T03:44:09.414Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T03:44:09.413Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T03:44:09.413Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:44:09.414Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"14.4354\",\"markPrice\":\"123999.8\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.14365147\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759635850312}","module":"BybitClient","timestamp":"2025-10-05T03:44:10.498Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T03:44:10.499Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T03:44:10.498Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T03:44:10.499Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T03:44:19.640Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T03:44:20.763Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T03:44:20.764Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:44:20.763Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T03:45:10.505Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T03:45:10.505Z"}
{"level":"debug","message":"Predicción Kalman: 123943.45299470371 (Confianza: 0.877)","module":"KalmanFilter","timestamp":"2025-10-05T03:45:10.506Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T03:45:10.925Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:45:14.170Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":123869.08506182549,"middle":123950.16,"upper":124031.23493817452},"ema":{"ema21":123936.07529306586,"ema50":123866.52823757296,"ema9":123940.10527828865},"macd":{"histogram":1.1116239040740759,"macd":11.116239040740766,"signal":10.00461513666669},"rsi":45.78427649069586,"volume":{"avg":181.36699000000004,"current":28.24,"ratio":0.15570639398051428}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is at 45.78, MACD histogram is bullish and crossed above signal line, Bollinger bands are superior and the price is trading within the middle band, EMA9 is crossing above EMA21, Kalman prediction is bullish with a confidence of 87.7%, volume is low but increasing, and there are no clear sell signals. Based on these indicators, it seems like the market is leaning bullish and it's a good time to consider a long position.","symbol":"BTCUSDT","timestamp":1759635914171}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759635914171","module":"BybitClient","timestamp":"2025-10-05T03:45:14.172Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:45:14.172Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"6.7326\",\"markPrice\":\"123973.6\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.10513747\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759635914362}","module":"BybitClient","timestamp":"2025-10-05T03:45:14.546Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T03:45:14.546Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759635914547","module":"BybitClient","timestamp":"2025-10-05T03:45:14.547Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T03:45:14.547Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215159.25294243\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"6.73572392\",\"totalWalletBalance\":\"215152.5172185\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49992.97375303\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122700.62486292\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4561.104609\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37886.97016332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37904.54971747\",\"unrealisedPnl\":\"6.7326\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759635914739}","module":"BybitClient","timestamp":"2025-10-05T03:45:14.925Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: 0.02%","module":"TradingStrategy","timestamp":"2025-10-05T03:45:14.926Z"}
{"level":"info","message":"Balance obtenido - Total: $215159.25, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T03:45:14.926Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T03:45:16.002Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T03:45:16.002Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"Tienes una posición LONG con ganancia de 0.02%. Sin señales de reversión detectadas y con i...","module":"OllamaClient","timestamp":"2025-10-05T03:45:17.961Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: Tienes una posición LONG con ganancia de 0.02%. Sin señales de reversión detectadas y con indicadore...","module":"TradingStrategy","timestamp":"2025-10-05T03:45:17.962Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759635917963","module":"BybitClient","timestamp":"2025-10-05T03:45:17.963Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T03:45:17.962Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T03:45:17.963Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:45:17.963Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"10.9956\",\"markPrice\":\"123988.1\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.12645247\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759635918151}","module":"BybitClient","timestamp":"2025-10-05T03:45:18.336Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T03:45:18.337Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T03:45:18.336Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T03:45:18.337Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T03:45:19.642Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T03:45:20.019Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T03:45:20.019Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:45:20.019Z"}
{"level":"info","message":"Recibida señal SIGTERM, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-05T03:45:24.415Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759635924421}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-05T03:45:24.421Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-05T03:45:24.423Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:47:28.838Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:47:28.832Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:47:28.851Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:47:28.842Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:47:28.845Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:47:28.849Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:47:28.848Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759636048869}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:47:28.858Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:47:28.863Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:47:28.862Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:47:28.865Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:47:28.868Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759636048868}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:47:28.869Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:47:28.869Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:47:28.869Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:47:28.917Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:47:28.918Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:47:28.852Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:47:28.852Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:47:28.853Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:47:28.853Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:47:28.853Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:47:28.854Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:47:28.854Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:47:28.854Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:47:28.854Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:47:28.855Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:47:28.855Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:47:28.919Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:47:28.842Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:47:28.859Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-05T03:47:28.954Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-05T03:47:30.128Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (1m)","module":"DataManager","timestamp":"2025-10-05T03:47:30.129Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 200","module":"BybitClient","timestamp":"2025-10-05T03:47:30.130Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-05T03:47:30.130Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T03:47:30.509Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-05T03:47:30.510Z"}
{"level":"info","message":"Datos suficientes recopilados para BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-05T03:47:30.513Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T03:47:30.515Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T03:47:30.516Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-05T03:47:30.519Z"}
{"level":"info","message":"Velas obtenidas: 200 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:47:30.510Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-05T03:47:30.512Z"}
{"level":"debug","message":"Predicción Kalman: 123979.24008919577 (Confianza: 0.863)","module":"KalmanFilter","timestamp":"2025-10-05T03:47:30.518Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T03:47:30.891Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:47:33.775Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":123764.71713469698,"middle":123931.62499999997,"upper":124098.53286530296},"ema":{"ema21":123907.7609282833,"ema50":123782.12549995564,"ema9":123959.7317271265},"macd":{"histogram":6.1548204987309845,"macd":61.54820498730987,"signal":55.39338448857889},"rsi":45.909878682842646,"volume":{"avg":175.70498,"current":44.106,"ratio":0.25102305011502807}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is at 45, MACD histogram is bullish and crossed above the signal line, Bollinger bands are expanding and the price is above the upper band, EMA9 is above EMA21 and EMA50, Kalman forecast is bullish with a confidence of 86.3%, volume is low but increasing, all indicators suggest a potential bullish reversal.","symbol":"BTCUSDT","timestamp":1759636053776}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759636053778","module":"BybitClient","timestamp":"2025-10-05T03:47:33.780Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:47:33.780Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-7.7322\",\"markPrice\":\"123924.4\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.03281347\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759636054675}","module":"BybitClient","timestamp":"2025-10-05T03:47:34.861Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T03:47:34.863Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759636054864","module":"BybitClient","timestamp":"2025-10-05T03:47:34.864Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T03:47:34.865Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215102.83547144\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-7.73632126\",\"totalWalletBalance\":\"215110.57179271\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49993.07375307\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122658.20703369\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4558.863276\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37872.50536332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37892.69140867\",\"unrealisedPnl\":\"-7.7322\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759636055765}","module":"BybitClient","timestamp":"2025-10-05T03:47:35.950Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: -0.02%","module":"TradingStrategy","timestamp":"2025-10-05T03:47:35.951Z"}
{"level":"info","message":"Balance obtenido - Total: $215102.84, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T03:47:35.950Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T03:47:37.023Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T03:47:37.025Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual es LONG con pérdida pequeña (0.02%). No hay señales de reversión detecta...","module":"OllamaClient","timestamp":"2025-10-05T03:47:38.951Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual es LONG con pérdida pequeña (0.02%). No hay señales de reversión detectadas (RSI,...","module":"TradingStrategy","timestamp":"2025-10-05T03:47:38.952Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759636058954","module":"BybitClient","timestamp":"2025-10-05T03:47:38.954Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T03:47:38.953Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:47:38.954Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T03:47:38.952Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-7.7322\",\"markPrice\":\"123924.4\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.03281347\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759636059149}","module":"BybitClient","timestamp":"2025-10-05T03:47:39.341Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T03:47:39.342Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T03:47:39.342Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T03:47:39.343Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T03:48:30.513Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T03:48:30.931Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T03:48:30.933Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:48:30.932Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T03:48:39.345Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T03:48:39.345Z"}
{"level":"debug","message":"Predicción Kalman: 123971.37572785794 (Confianza: 0.862)","module":"KalmanFilter","timestamp":"2025-10-05T03:48:39.346Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T03:48:39.757Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:48:41.984Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":123892.87000063012,"middle":123972.22,"upper":124051.56999936988},"ema":{"ema21":123933.27151319185,"ema50":123817.75082900684,"ema9":123967.97615634838},"macd":{"histogram":4.728220127764509,"macd":47.28220127764507,"signal":42.55398114988056},"rsi":46.047745358090545,"volume":{"avg":177.35729999999995,"current":9.895,"ratio":0.055791331960962434}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI < 30, MACD bearish, Bollinger inferior, EMA9 cruza por debajo de EMA21, Kalman predice subida con confianza > 75%","symbol":"BTCUSDT","timestamp":1759636121984}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759636121984","module":"BybitClient","timestamp":"2025-10-05T03:48:41.985Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:48:41.985Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"2.31672\",\"markPrice\":\"123958.58\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.08305807\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759636122173}","module":"BybitClient","timestamp":"2025-10-05T03:48:42.360Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T03:48:42.360Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759636122361","module":"BybitClient","timestamp":"2025-10-05T03:48:42.361Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T03:48:42.361Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215138.23200913\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"2.31782507\",\"totalWalletBalance\":\"215135.91418406\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49992.47375279\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122687.68373463\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4557.45026\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37882.55428332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37900.62426171\",\"unrealisedPnl\":\"2.31672\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759636123245}","module":"BybitClient","timestamp":"2025-10-05T03:48:43.433Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: 0.01%","module":"TradingStrategy","timestamp":"2025-10-05T03:48:43.434Z"}
{"level":"info","message":"Balance obtenido - Total: $215138.23, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T03:48:43.434Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T03:48:43.807Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T03:48:43.808Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una ganancia del 0.01% y los indicadores técnicos muestran una ten...","module":"OllamaClient","timestamp":"2025-10-05T03:48:46.203Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una ganancia del 0.01% y los indicadores técnicos muestran una tendencia al...","module":"TradingStrategy","timestamp":"2025-10-05T03:48:46.204Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759636126205","module":"BybitClient","timestamp":"2025-10-05T03:48:46.205Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T03:48:46.204Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T03:48:46.205Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:48:46.206Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"2.31672\",\"markPrice\":\"123958.58\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.08305807\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759636126395}","module":"BybitClient","timestamp":"2025-10-05T03:48:46.581Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T03:48:46.582Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T03:48:46.581Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T03:48:46.582Z"}
{"level":"info","message":"Recibida señal SIGTERM, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-05T03:49:02.391Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759636142391}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-05T03:49:02.392Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-05T03:49:02.393Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T03:50:46.938Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T03:50:46.931Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T03:50:46.958Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:50:46.946Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:50:46.949Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:50:46.956Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:50:46.955Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759636246981}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T03:50:46.972Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T03:50:46.976Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:50:46.975Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:50:46.978Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T03:50:46.979Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759636246980}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T03:50:46.980Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T03:50:46.981Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T03:50:46.981Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T03:50:47.011Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T03:50:47.011Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T03:50:46.959Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T03:50:46.960Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T03:50:46.961Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T03:50:46.962Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T03:50:46.962Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T03:50:46.963Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T03:50:46.963Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T03:50:46.964Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T03:50:46.964Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T03:50:46.964Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T03:50:46.965Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T03:50:47.013Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:50:46.947Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T03:50:46.972Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-05T03:50:47.049Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-05T03:50:48.208Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (1m)","module":"DataManager","timestamp":"2025-10-05T03:50:48.209Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 200","module":"BybitClient","timestamp":"2025-10-05T03:50:48.211Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-05T03:50:48.210Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T03:50:48.599Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-05T03:50:48.600Z"}
{"level":"info","message":"Datos suficientes recopilados para BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-05T03:50:48.602Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T03:50:48.604Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T03:50:48.606Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-05T03:50:48.607Z"}
{"level":"info","message":"Velas obtenidas: 200 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:50:48.600Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-05T03:50:48.601Z"}
{"level":"debug","message":"Predicción Kalman: 123930.21335574792 (Confianza: 0.863)","module":"KalmanFilter","timestamp":"2025-10-05T03:50:48.607Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T03:50:48.980Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:50:51.986Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":123864.45060349735,"middle":123956,"upper":124047.54939650265},"ema":{"ema21":123913.67550229821,"ema50":123799.17477831012,"ema9":123945.25480428938},"macd":{"histogram":4.526801318762587,"macd":45.26801318762591,"signal":40.741211868863324},"rsi":44.88479262672728,"volume":{"avg":176.40477,"current":11.791,"ratio":0.06684059620383281}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima de 70, MACD es bullish y hay un golden cross en los EMAs. Además, el precio actual está por encima del nivel superior del Bollinger en los últimos 10 velas. Considerando la alta volatilidad del mercado crypto, es probable que continúe subiendo. Si detecto señales bajistas claras, sugeriré una posición short.","symbol":"BTCUSDT","timestamp":1759636251987}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759636251989","module":"BybitClient","timestamp":"2025-10-05T03:50:51.991Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:50:51.991Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-12.05694\",\"markPrice\":\"123909.69\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.01118977\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759636252871}","module":"BybitClient","timestamp":"2025-10-05T03:50:53.056Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T03:50:53.058Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759636253059","module":"BybitClient","timestamp":"2025-10-05T03:50:53.059Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T03:50:53.059Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215073.25559415\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-12.06281172\",\"totalWalletBalance\":\"215085.31840588\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49991.17375217\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122642.38384269\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4553.075572\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37868.18062332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37886.62242728\",\"unrealisedPnl\":\"-12.05694\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759636253248}","module":"BybitClient","timestamp":"2025-10-05T03:50:53.435Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: -0.03%","module":"TradingStrategy","timestamp":"2025-10-05T03:50:53.436Z"}
{"level":"info","message":"Balance obtenido - Total: $215073.26, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T03:50:53.436Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T03:50:54.500Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T03:50:54.503Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual está en una tendencia alcista según los indicadores técnicos (RSI, MACD,...","module":"OllamaClient","timestamp":"2025-10-05T03:50:56.619Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual está en una tendencia alcista según los indicadores técnicos (RSI, MACD, EMA). Au...","module":"TradingStrategy","timestamp":"2025-10-05T03:50:56.620Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759636256621","module":"BybitClient","timestamp":"2025-10-05T03:50:56.621Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T03:50:56.619Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T03:50:56.620Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:50:56.621Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-12.27156\",\"markPrice\":\"123908.96\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.01011667\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759636257503}","module":"BybitClient","timestamp":"2025-10-05T03:50:57.690Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T03:50:57.691Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T03:50:57.691Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T03:50:57.690Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T03:51:48.603Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T03:51:49.003Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T03:51:49.004Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:51:49.003Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T03:51:57.697Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T03:51:57.698Z"}
{"level":"debug","message":"Predicción Kalman: 123910.08546543011 (Confianza: 0.863)","module":"KalmanFilter","timestamp":"2025-10-05T03:51:57.699Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T03:51:58.790Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:52:01.476Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":123866.46892318007,"middle":123948.50499999998,"upper":124030.54107681988},"ema":{"ema21":123912.56121469129,"ema50":123820.16359719796,"ema9":123919.11523827218},"macd":{"histogram":2.16315143956599,"macd":21.631514395659906,"signal":19.468362956093916},"rsi":44.040553907023664,"volume":{"avg":177.55050000000003,"current":38.305,"ratio":0.21574143694329215}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is above 50, MACD histogram is bullish and crossed above 0, Bollinger bands are expanding and the price is above the upper band, EMA9 is above EMA21 and EMA50, Kalman predicts a bullish movement with confidence of 86.3%","symbol":"BTCUSDT","timestamp":1759636321477}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759636321478","module":"BybitClient","timestamp":"2025-10-05T03:52:01.479Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:52:01.479Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-23.667\",\"markPrice\":\"123870.2\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.95313947\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759636321670}","module":"BybitClient","timestamp":"2025-10-05T03:52:01.856Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T03:52:01.856Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759636321856","module":"BybitClient","timestamp":"2025-10-05T03:52:01.857Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T03:52:01.857Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215028.61955711\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-23.67944884\",\"totalWalletBalance\":\"215052.29900595\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49993.42375324\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122607.79889543\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4550.913789\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37856.57056332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37876.48311943\",\"unrealisedPnl\":\"-23.667\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759636322055}","module":"BybitClient","timestamp":"2025-10-05T03:52:02.242Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: -0.06%","module":"TradingStrategy","timestamp":"2025-10-05T03:52:02.242Z"}
{"level":"info","message":"Balance obtenido - Total: $215028.62, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T03:52:02.242Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T03:52:03.318Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T03:52:03.318Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una pérdida del 0.06%, pero todavía estamos dentro de la tendencia...","module":"OllamaClient","timestamp":"2025-10-05T03:52:05.635Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una pérdida del 0.06%, pero todavía estamos dentro de la tendencia alcista ...","module":"TradingStrategy","timestamp":"2025-10-05T03:52:05.635Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759636325637","module":"BybitClient","timestamp":"2025-10-05T03:52:05.637Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T03:52:05.635Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T03:52:05.636Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:52:05.638Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-23.6376\",\"markPrice\":\"123870.3\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.95328647\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759636325828}","module":"BybitClient","timestamp":"2025-10-05T03:52:06.016Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T03:52:06.017Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T03:52:06.016Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T03:52:06.017Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T03:52:48.604Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T03:52:49.695Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T03:52:49.696Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:52:49.695Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T03:53:06.019Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T03:53:06.020Z"}
{"level":"debug","message":"Predicción Kalman: 123897.36629752257 (Confianza: 0.868)","module":"KalmanFilter","timestamp":"2025-10-05T03:53:06.020Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T03:53:06.430Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:53:09.157Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":123851.15800193012,"middle":123931.205,"upper":124011.25199806989},"ema":{"ema21":123910.12504983177,"ema50":123836.25420289824,"ema9":123907.51984127909},"macd":{"histogram":0.9031822402059326,"macd":9.031822402059333,"signal":8.1286401618534},"rsi":36.16887208569802,"volume":{"avg":178.64466000000007,"current":27.275,"ratio":0.15267738761404895}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is below 36, MACD histogram is bullish, and Bollinger bands are expanding. These indicators suggest that the market may be oversold and due for a reversal. Additionally, Kalman predicts a price increase with high confidence. Suggesting a long position with leverage of 20-30 and risk level of medium.","symbol":"BTCUSDT","timestamp":1759636389158}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759636389159","module":"BybitClient","timestamp":"2025-10-05T03:53:09.159Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:53:09.160Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-7.6146\",\"markPrice\":\"123924.8\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.03340147\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759636389346}","module":"BybitClient","timestamp":"2025-10-05T03:53:09.533Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T03:53:09.533Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759636389533","module":"BybitClient","timestamp":"2025-10-05T03:53:09.534Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T03:53:09.536Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215082.04982543\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-7.61796565\",\"totalWalletBalance\":\"215089.66779109\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49991.62375238\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122649.22739137\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4551.836019\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37872.62296332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37889.36266266\",\"unrealisedPnl\":\"-7.6146\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759636389722}","module":"BybitClient","timestamp":"2025-10-05T03:53:09.906Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: -0.02%","module":"TradingStrategy","timestamp":"2025-10-05T03:53:09.907Z"}
{"level":"info","message":"Balance obtenido - Total: $215082.05, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T03:53:09.907Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T03:53:10.275Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T03:53:10.276Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.6,\n  \"reasoning\": \"La posición actual tiene una pérdida del 0.02%, pero no hay señales claras de reversión. La...","module":"OllamaClient","timestamp":"2025-10-05T03:53:12.512Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una pérdida del 0.02%, pero no hay señales claras de reversión. La tendenci...","module":"TradingStrategy","timestamp":"2025-10-05T03:53:12.513Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759636392514","module":"BybitClient","timestamp":"2025-10-05T03:53:12.514Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 60%)","module":"OllamaClient","timestamp":"2025-10-05T03:53:12.513Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T03:53:12.513Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:53:12.514Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-9.5844\",\"markPrice\":\"123918.1\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.02355247\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759636392701}","module":"BybitClient","timestamp":"2025-10-05T03:53:12.886Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T03:53:12.887Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T03:53:12.887Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T03:53:12.888Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T03:53:48.606Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T03:53:49.059Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T03:53:49.060Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:53:49.059Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T03:54:12.889Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T03:54:12.890Z"}
{"level":"debug","message":"Predicción Kalman: 123882.36726811137 (Confianza: 0.883)","module":"KalmanFilter","timestamp":"2025-10-05T03:54:12.891Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T03:54:13.294Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:54:16.277Z"}
{"confidence":0.75,"decision":"BUY","indicators":{"bollinger":{"lower":123841.61654120339,"middle":123916.39500000002,"upper":123991.17345879665},"ema":{"ema21":123903.51597205442,"ema50":123848.35506892049,"ema9":123894.6601976053},"macd":{"histogram":-0.024660973536083458,"macd":-0.24660973536083475,"signal":-0.2219487618247513},"rsi":44.20087684336454,"volume":{"avg":174.4948000000001,"current":126.071,"ratio":0.7224914438711063}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is above 44, MACD histogram is bullish, and Bollinger bands are expanding. These indicators suggest that the market is in a bullish phase, and the price is likely to continue rising. Additionally, Kalman predicts a price of $123882.37 with a confidence of 88.3%, indicating a strong upward trend. Therefore, I suggest buying the asset.","symbol":"BTCUSDT","timestamp":1759636456278}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759636456279","module":"BybitClient","timestamp":"2025-10-05T03:54:16.280Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:54:16.280Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-24.0492\",\"markPrice\":\"123868.9\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.95122847\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759636457161}","module":"BybitClient","timestamp":"2025-10-05T03:54:17.346Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T03:54:17.347Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759636457347","module":"BybitClient","timestamp":"2025-10-05T03:54:17.347Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T03:54:17.347Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"214970.07825424\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-31.88707387\",\"totalWalletBalance\":\"215001.96532812\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49989.67375146\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122570.35881001\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4544.421815\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37848.36502332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37865.62387777\",\"unrealisedPnl\":\"-31.87254\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759636457536}","module":"BybitClient","timestamp":"2025-10-05T03:54:17.721Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: -0.07%","module":"TradingStrategy","timestamp":"2025-10-05T03:54:17.722Z"}
{"level":"info","message":"Balance obtenido - Total: $214970.08, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T03:54:17.722Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T03:54:18.091Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T03:54:18.092Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una pérdida del 0.07%, pero hay señales de reversión débiles (MACD...","module":"OllamaClient","timestamp":"2025-10-05T03:54:20.009Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una pérdida del 0.07%, pero hay señales de reversión débiles (MACD bajista,...","module":"TradingStrategy","timestamp":"2025-10-05T03:54:20.010Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759636460011","module":"BybitClient","timestamp":"2025-10-05T03:54:20.012Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T03:54:20.011Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:54:20.012Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T03:54:20.010Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-31.87254\",\"markPrice\":\"123842.29\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.91211177\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759636460201}","module":"BybitClient","timestamp":"2025-10-05T03:54:20.392Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T03:54:20.393Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T03:54:20.393Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T03:54:20.393Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T03:54:48.607Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T03:54:49.705Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T03:54:49.706Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:54:49.706Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T03:55:20.397Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T03:55:20.399Z"}
{"level":"debug","message":"Predicción Kalman: 123855.02545211774 (Confianza: 0.844)","module":"KalmanFilter","timestamp":"2025-10-05T03:55:20.400Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T03:55:21.490Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:55:24.225Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":123820.05015768744,"middle":123896.15000000002,"upper":123972.24984231261},"ema":{"ema21":123887.35448397635,"ema50":123867.27264500462,"ema9":123867.55850969047},"macd":{"histogram":-1.245959428997594,"macd":-12.45959428997594,"signal":-11.213634860978345},"rsi":36.033787675178196,"volume":{"avg":148.73808000000005,"current":49.541,"ratio":0.33307543031347436}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is below 36, MACD histogram is red and negative, Bollinger bands are above the price, EMA9 crossed above EMA21, Kalman predicts a bullish movement with confidence above 75%, volume is high and increasing. These indicators suggest a potential bullish reversal, so it's better to take a long position.","symbol":"BTCUSDT","timestamp":1759636524225}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759636524227","module":"BybitClient","timestamp":"2025-10-05T03:55:24.227Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:55:24.227Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-62.0193\",\"markPrice\":\"123739.75\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.76137797\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759636524420}","module":"BybitClient","timestamp":"2025-10-05T03:55:24.605Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T03:55:24.606Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759636524606","module":"BybitClient","timestamp":"2025-10-05T03:55:24.606Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T03:55:24.607Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"214851.16607419\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-62.04975147\",\"totalWalletBalance\":\"214913.21582567\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49992.27375269\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122480.252459\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4541.852854\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37818.21826332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37836.78700848\",\"unrealisedPnl\":\"-62.0193\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759636524799}","module":"BybitClient","timestamp":"2025-10-05T03:55:24.983Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: -0.17%","module":"TradingStrategy","timestamp":"2025-10-05T03:55:24.984Z"}
{"level":"info","message":"Balance obtenido - Total: $214851.17, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T03:55:24.983Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T03:55:25.357Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T03:55:25.357Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una pérdida del 0.17%, pero no hay señales claras de reversión. La...","module":"OllamaClient","timestamp":"2025-10-05T03:55:27.827Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una pérdida del 0.17%, pero no hay señales claras de reversión. La tendenci...","module":"TradingStrategy","timestamp":"2025-10-05T03:55:27.830Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759636527830","module":"BybitClient","timestamp":"2025-10-05T03:55:27.831Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T03:55:27.830Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T03:55:27.830Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:55:27.831Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-62.0193\",\"markPrice\":\"123739.75\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.76137797\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759636528723}","module":"BybitClient","timestamp":"2025-10-05T03:55:28.912Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T03:55:28.913Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T03:55:28.912Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T03:55:28.914Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T03:55:48.608Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T03:55:49.710Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T03:55:49.711Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:55:49.710Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T03:56:28.925Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0626","module":"KalmanFilter","timestamp":"2025-10-05T03:56:28.926Z"}
{"level":"debug","message":"Predicción Kalman: 123829.05289508057 (Confianza: 0.822)","module":"KalmanFilter","timestamp":"2025-10-05T03:56:28.926Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T03:56:30.033Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:56:33.033Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":123783.9334754591,"middle":123877.405,"upper":123970.8765245409},"ema":{"ema21":123866.77875197936,"ema50":123870.65386027361,"ema9":123839.14483650032},"macd":{"histogram":-2.1997706261608982,"macd":-21.997706261608982,"signal":-19.797935635448084},"rsi":35.33873470091328,"volume":{"avg":106.22308000000004,"current":74.356,"ratio":0.6999985313926123}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is below 35, MACD histogram is negative and decreasing, Bollinger bands are superior and the price is above the upper band, EMA9 is crossing above EMA21, Kalman predicts a bullish movement with confidence over 70%, volume is high and increasing, and there are no clear sell signals. Based on these indicators, it seems like the market is in a bullish phase, so I suggest buying.","symbol":"BTCUSDT","timestamp":1759636593033}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759636593033","module":"BybitClient","timestamp":"2025-10-05T03:56:33.033Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:56:33.034Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-36.0444\",\"markPrice\":\"123828.1\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.89125247\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759636593220}","module":"BybitClient","timestamp":"2025-10-05T03:56:33.403Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T03:56:33.404Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759636593404","module":"BybitClient","timestamp":"2025-10-05T03:56:33.405Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T03:56:33.406Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"214951.43757626\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-36.06227802\",\"totalWalletBalance\":\"214987.49985428\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49992.37375274\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122550.07789239\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4546.022048\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37844.19316332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37862.96388312\",\"unrealisedPnl\":\"-36.0444\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759636593593}","module":"BybitClient","timestamp":"2025-10-05T03:56:33.780Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: -0.10%","module":"TradingStrategy","timestamp":"2025-10-05T03:56:33.781Z"}
{"level":"info","message":"Balance obtenido - Total: $214951.44, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T03:56:33.780Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T03:56:34.148Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T03:56:34.148Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una pérdida del 0.10%, pero hay señales de reversión débiles (MACD...","module":"OllamaClient","timestamp":"2025-10-05T03:56:36.353Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una pérdida del 0.10%, pero hay señales de reversión débiles (MACD bajista,...","module":"TradingStrategy","timestamp":"2025-10-05T03:56:36.354Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759636596355","module":"BybitClient","timestamp":"2025-10-05T03:56:36.355Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T03:56:36.354Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T03:56:36.355Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:56:36.355Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-36.0444\",\"markPrice\":\"123828.1\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.89125247\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759636596543}","module":"BybitClient","timestamp":"2025-10-05T03:56:36.727Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T03:56:36.727Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T03:56:36.727Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T03:56:36.728Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T03:56:48.609Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T03:56:49.717Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T03:56:49.718Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:56:49.718Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T03:57:36.732Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0678","module":"KalmanFilter","timestamp":"2025-10-05T03:57:36.733Z"}
{"level":"debug","message":"Predicción Kalman: 123806.69282471467 (Confianza: 0.827)","module":"KalmanFilter","timestamp":"2025-10-05T03:57:36.733Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T03:57:37.894Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:57:40.788Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":123752.52693672337,"middle":123855.53499999999,"upper":123958.54306327661},"ema":{"ema21":123847.38520021996,"ema50":123854.14537171499,"ema9":123817.96816396213},"macd":{"histogram":-2.6009449891324046,"macd":-26.00944989132404,"signal":-23.408504902191634},"rsi":39.33247014817977,"volume":{"avg":94.55172000000002,"current":25.669,"ratio":0.2714810476213441}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is below 39, MACD histogram is red and negative, Bollinger bands are above the price, EMA9 crossed above EMA21, Kalman predicts a bullish movement with confidence over 75%, volume is high and increasing, and there are no clear sell signals. It's better to take advantage of the current upward momentum than to wait for a potential reversal.","symbol":"BTCUSDT","timestamp":1759636660789}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759636660789","module":"BybitClient","timestamp":"2025-10-05T03:57:40.790Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:57:40.790Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-67.8552\",\"markPrice\":\"123719.9\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.73219847\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759636661691}","module":"BybitClient","timestamp":"2025-10-05T03:57:41.877Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T03:57:41.877Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759636661877","module":"BybitClient","timestamp":"2025-10-05T03:57:41.878Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T03:57:41.878Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"214817.06139441\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-67.88661695\",\"totalWalletBalance\":\"214884.94801137\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49993.37375322\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122451.93884283\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4541.859302\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37812.38236332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37829.88949635\",\"unrealisedPnl\":\"-67.8552\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759636662070}","module":"BybitClient","timestamp":"2025-10-05T03:57:42.257Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: -0.19%","module":"TradingStrategy","timestamp":"2025-10-05T03:57:42.258Z"}
{"level":"info","message":"Balance obtenido - Total: $214817.06, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T03:57:42.258Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T03:57:43.317Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T03:57:43.317Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una pérdida del 0.19%, pero no hay señales claras de reversión. La...","module":"OllamaClient","timestamp":"2025-10-05T03:57:45.935Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una pérdida del 0.19%, pero no hay señales claras de reversión. La tendenci...","module":"TradingStrategy","timestamp":"2025-10-05T03:57:45.936Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759636665937","module":"BybitClient","timestamp":"2025-10-05T03:57:45.937Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T03:57:45.936Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T03:57:45.936Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:57:45.937Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-67.7082\",\"markPrice\":\"123720.4\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.73293347\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759636666125}","module":"BybitClient","timestamp":"2025-10-05T03:57:46.309Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T03:57:46.309Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T03:57:46.309Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T03:57:46.310Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T03:57:48.609Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T03:57:49.694Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T03:57:49.695Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:57:49.695Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T03:58:46.313Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0842","module":"KalmanFilter","timestamp":"2025-10-05T03:58:46.313Z"}
{"level":"debug","message":"Predicción Kalman: 123785.0475407257 (Confianza: 0.829)","module":"KalmanFilter","timestamp":"2025-10-05T03:58:46.314Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T03:58:46.720Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T03:58:48.610Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T03:58:48.985Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T03:58:48.986Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:58:48.985Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:58:49.480Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":123721.482924779,"middle":123828.83999999997,"upper":123936.19707522093},"ema":{"ema21":123823.33438016189,"ema50":123847.66929936345,"ema9":123790.33865601693},"macd":{"histogram":-3.1202305345752386,"macd":-31.202305345752393,"signal":-28.082074811177154},"rsi":40.52044609665413,"volume":{"avg":78.91842999999999,"current":32.865,"ratio":0.41644264844092826}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is below 30 and MACD is bearish, indicating a potential sell signal. However, the Bollinger Bands are expanding, which could indicate a possible buying opportunity. The Kalman forecast also suggests a slight chance of a bullish movement. Given the neutral market sentiment and the high leverage available (10-50x), I suggest going long.","symbol":"BTCUSDT","timestamp":1759636729480}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759636729481","module":"BybitClient","timestamp":"2025-10-05T03:58:49.481Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:58:49.481Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-65.0034\",\"markPrice\":\"123729.6\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.74645747\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759636730589}","module":"BybitClient","timestamp":"2025-10-05T03:58:50.779Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T03:58:50.780Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759636730780","module":"BybitClient","timestamp":"2025-10-05T03:58:50.780Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T03:58:50.781Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"214805.89311823\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-67.62088058\",\"totalWalletBalance\":\"214873.51399882\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49991.92375253\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122452.95655054\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4531.425786\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37812.64696332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37829.58702915\",\"unrealisedPnl\":\"-67.5906\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759636731662}","module":"BybitClient","timestamp":"2025-10-05T03:58:51.848Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: -0.18%","module":"TradingStrategy","timestamp":"2025-10-05T03:58:51.849Z"}
{"level":"info","message":"Balance obtenido - Total: $214805.89, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T03:58:51.849Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T03:58:52.909Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T03:58:52.909Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una pérdida del 0.18%, pero no hay señales claras de reversión. La...","module":"OllamaClient","timestamp":"2025-10-05T03:58:55.693Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una pérdida del ...","module":"TradingStrategy","timestamp":"2025-10-05T03:58:55.696Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759636735697","module":"BybitClient","timestamp":"2025-10-05T03:58:55.697Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-05T03:58:55.694Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-05T03:58:55.694Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 30%)","module":"OllamaClient","timestamp":"2025-10-05T03:58:55.696Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T03:58:55.696Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:58:55.697Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-67.5906\",\"markPrice\":\"123720.8\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.73352147\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759636735885}","module":"BybitClient","timestamp":"2025-10-05T03:58:56.073Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T03:58:56.073Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T03:58:56.073Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T03:58:56.074Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T03:59:48.612Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T03:59:49.752Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T03:59:49.753Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:59:49.753Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T03:59:56.075Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0660","module":"KalmanFilter","timestamp":"2025-10-05T03:59:56.075Z"}
{"level":"debug","message":"Predicción Kalman: 123753.93774265629 (Confianza: 0.848)","module":"KalmanFilter","timestamp":"2025-10-05T03:59:56.076Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T03:59:56.482Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T03:59:58.944Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":123689.38000265366,"middle":123783.59000000001,"upper":123877.79999734636},"ema":{"ema21":123783.78283433862,"ema50":123819.16242895175,"ema9":123760.32574481168},"macd":{"histogram":-2.7312652121283456,"macd":-27.312652121283463,"signal":-24.581386909155118},"rsi":41.872187218722914,"volume":{"avg":69.87862999999999,"current":67.286,"ratio":0.9628980991756709}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima del 41, MACD histogram es negativo y decreciente, Bollinger Superior e Inferior, EMA9 cruza por Debajo de EMA21, Kalman predice subida con confianza del 84.8%","symbol":"BTCUSDT","timestamp":1759636798944}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759636798945","module":"BybitClient","timestamp":"2025-10-05T03:59:58.945Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T03:59:58.945Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-54.65166\",\"markPrice\":\"123764.81\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.79821617\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759636799839}","module":"BybitClient","timestamp":"2025-10-05T04:00:00.028Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:00:00.029Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759636800029","module":"BybitClient","timestamp":"2025-10-05T04:00:00.029Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:00:00.029Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"214844.29278115\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-54.67701837\",\"totalWalletBalance\":\"214898.96979952\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49990.87375203\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122475.87649993\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4534.405554\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37825.58590332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37843.13697517\",\"unrealisedPnl\":\"-54.65166\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759636800909}","module":"BybitClient","timestamp":"2025-10-05T04:00:01.095Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: -0.15%","module":"TradingStrategy","timestamp":"2025-10-05T04:00:01.095Z"}
{"level":"info","message":"Balance obtenido - Total: $214844.29, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T04:00:01.095Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:00:02.177Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:00:02.178Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una pérdida del 0.15%, pero hay señales de reversión débiles (MACD...","module":"OllamaClient","timestamp":"2025-10-05T04:00:04.098Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una pérdida del 0.15%, pero hay señales de reversión débiles (MACD bajista,...","module":"TradingStrategy","timestamp":"2025-10-05T04:00:04.099Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759636804099","module":"BybitClient","timestamp":"2025-10-05T04:00:04.100Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:00:04.099Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:00:04.099Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:00:04.100Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-61.299\",\"markPrice\":\"123742.2\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.76497947\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759636804289}","module":"BybitClient","timestamp":"2025-10-05T04:00:04.473Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:00:04.474Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:00:04.474Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:00:04.474Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:00:48.612Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:00:49.016Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:00:49.017Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:00:49.016Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:01:04.482Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0579","module":"KalmanFilter","timestamp":"2025-10-05T04:01:04.482Z"}
{"level":"debug","message":"Predicción Kalman: 123745.87130921078 (Confianza: 0.856)","module":"KalmanFilter","timestamp":"2025-10-05T04:01:04.483Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:01:04.893Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:01:07.263Z"}
{"confidence":0.856,"decision":"BUY","indicators":{"bollinger":{"lower":123693.82608256064,"middle":123764.78000000006,"upper":123835.73391743947},"ema":{"ema21":123769.93557279902,"ema50":123804.8006264297,"ema9":123752.25387603356},"macd":{"histogram":-2.273728981259044,"macd":-22.73728981259046,"signal":-20.463560831331417},"rsi":48.57211423086047,"volume":{"avg":61.60787999999999,"current":22.268,"ratio":0.3614472694077447}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI above 70, MACD histogram negative and decreasing, Bollinger bands superior and middle line crossed, EMA9 crossed below EMA21, Kalman prediction for a bullish movement with confidence above 75%","symbol":"BTCUSDT","timestamp":1759636867263}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759636867264","module":"BybitClient","timestamp":"2025-10-05T04:01:07.264Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:01:07.265Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-56.4627\",\"markPrice\":\"123758.65\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.78916097\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759636868147}","module":"BybitClient","timestamp":"2025-10-05T04:01:08.330Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:01:08.331Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759636868331","module":"BybitClient","timestamp":"2025-10-05T04:01:08.331Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:01:08.331Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"214851.18326572\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-56.48748712\",\"totalWalletBalance\":\"214907.67075284\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49991.32375224\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122485.22065699\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4534.259356\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37823.77486332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37840.37950048\",\"unrealisedPnl\":\"-56.4627\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759636869211}","module":"BybitClient","timestamp":"2025-10-05T04:01:09.394Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: -0.15%","module":"TradingStrategy","timestamp":"2025-10-05T04:01:09.395Z"}
{"level":"info","message":"Balance obtenido - Total: $214851.18, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T04:01:09.395Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:01:10.477Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:01:10.478Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una pérdida del 0.15%, pero hay señales de reversión débiles (MACD...","module":"OllamaClient","timestamp":"2025-10-05T04:01:12.346Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una pérdida del 0.15%, pero hay señales de reversión débiles (MACD bajista,...","module":"TradingStrategy","timestamp":"2025-10-05T04:01:12.347Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759636872348","module":"BybitClient","timestamp":"2025-10-05T04:01:12.348Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:01:12.346Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:01:12.348Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:01:12.348Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-57.47994\",\"markPrice\":\"123755.19\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.78407477\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759636872533}","module":"BybitClient","timestamp":"2025-10-05T04:01:12.717Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:01:12.717Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:01:12.717Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:01:12.718Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:01:48.614Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:01:49.706Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:01:49.707Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:01:49.706Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:02:12.727Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0670","module":"KalmanFilter","timestamp":"2025-10-05T04:02:12.728Z"}
{"level":"debug","message":"Predicción Kalman: 123770.37307948126 (Confianza: 0.855)","module":"KalmanFilter","timestamp":"2025-10-05T04:02:12.728Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:02:13.131Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:02:15.806Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":123695.03779832713,"middle":123758.15000000002,"upper":123821.26220167291},"ema":{"ema21":123769.02125217888,"ema50":123799.46362085818,"ema9":123766.99087010909},"macd":{"histogram":-1.0165561643021643,"macd":-10.165561643021647,"signal":-9.149005478719483},"rsi":54.323725055432284,"volume":{"avg":58.041609999999984,"current":40.384,"ratio":0.6957767022658402}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima del 50, MACD histogram es positivo y creciente, Bollinger Bandas están en el lado superior, EMA9 cruza por encima de EMA21 y Kalman predice una subida con confianza del 85.5%. Se recomienda apostar a la subida.","symbol":"BTCUSDT","timestamp":1759636935806}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759636935806","module":"BybitClient","timestamp":"2025-10-05T04:02:15.806Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:02:15.806Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-24.3726\",\"markPrice\":\"123867.8\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.94961147\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759636936000}","module":"BybitClient","timestamp":"2025-10-05T04:02:16.182Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:02:16.183Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759636936183","module":"BybitClient","timestamp":"2025-10-05T04:02:16.183Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:02:16.183Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215003.40633727\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-24.38410386\",\"totalWalletBalance\":\"215027.79044114\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49995.57375426\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122594.07058742\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4540.029064\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37855.86496332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37873.73293158\",\"unrealisedPnl\":\"-24.3726\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759636937064}","module":"BybitClient","timestamp":"2025-10-05T04:02:17.249Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: -0.07%","module":"TradingStrategy","timestamp":"2025-10-05T04:02:17.250Z"}
{"level":"info","message":"Balance obtenido - Total: $215003.41, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T04:02:17.249Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:02:17.620Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:02:17.621Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"Tendencia ALCISTA continúa (RSI<60, MACD>0, EMA9>EMA21). PnL < 0.3% y no hay señales de rev...","module":"OllamaClient","timestamp":"2025-10-05T04:02:19.534Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: Tendencia ALCISTA continúa (RSI<60, MACD>0, EMA9>EMA21). PnL < 0.3% y no hay señales de reversión. K...","module":"TradingStrategy","timestamp":"2025-10-05T04:02:19.534Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759636939535","module":"BybitClient","timestamp":"2025-10-05T04:02:19.535Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:02:19.534Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:02:19.534Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:02:19.535Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-26.17776\",\"markPrice\":\"123861.66\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.94058567\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759636940429}","module":"BybitClient","timestamp":"2025-10-05T04:02:20.617Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:02:20.618Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:02:20.618Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:02:20.618Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:02:48.615Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:02:49.748Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:02:49.749Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:02:49.749Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:03:20.622Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0665","module":"KalmanFilter","timestamp":"2025-10-05T04:03:20.623Z"}
{"level":"debug","message":"Predicción Kalman: 123808.68404604138 (Confianza: 0.870)","module":"KalmanFilter","timestamp":"2025-10-05T04:03:20.623Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:03:21.719Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:03:24.417Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":123680.43876732519,"middle":123765.62,"upper":123850.8012326748},"ema":{"ema21":123780.26470713099,"ema50":123797.16311691803,"ema9":123794.95448030224},"macd":{"histogram":0.5213197782970385,"macd":5.213197782970383,"signal":4.691878004673344},"rsi":61.11822449850677,"volume":{"avg":57.80216999999999,"current":31.129,"ratio":0.5385437951550955}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está sobrecompra (61.12) y MACD es bullish (0.521320). Además, el precio actual está dentro de la banda superior del Bollinger, lo que sugiere una posible reversión. Kalman también predice una subida con confianza del 77.8%","symbol":"BTCUSDT","timestamp":1759637004417}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637004418","module":"BybitClient","timestamp":"2025-10-05T04:03:24.418Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:03:24.418Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-16.51692\",\"markPrice\":\"123894.52\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.98888987\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759637004610}","module":"BybitClient","timestamp":"2025-10-05T04:03:24.792Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:03:24.792Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637004793","module":"BybitClient","timestamp":"2025-10-05T04:03:24.793Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:03:24.793Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215032.45724163\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-16.52980566\",\"totalWalletBalance\":\"215048.9870473\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49991.37375227\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122619.68986298\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4541.624648\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37863.71476332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37879.76897837\",\"unrealisedPnl\":\"-16.5228\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759637004980}","module":"BybitClient","timestamp":"2025-10-05T04:03:25.165Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: -0.05%","module":"TradingStrategy","timestamp":"2025-10-05T04:03:25.166Z"}
{"level":"info","message":"Balance obtenido - Total: $215032.46, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T04:03:25.165Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:03:26.225Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:03:26.226Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"Tienes una posición LONG saludable con pérdida de 0.05%. No hay señales de reversión detect...","module":"OllamaClient","timestamp":"2025-10-05T04:03:28.607Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: Tienes una posición LONG saludable con pérdida de 0.05%. No hay señales de reversión detectadas, RSI...","module":"TradingStrategy","timestamp":"2025-10-05T04:03:28.608Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637008608","module":"BybitClient","timestamp":"2025-10-05T04:03:28.609Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:03:28.607Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:03:28.608Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:03:28.609Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-16.5228\",\"markPrice\":\"123894.5\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.98886047\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759637008802}","module":"BybitClient","timestamp":"2025-10-05T04:03:28.985Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:03:28.986Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:03:28.986Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:03:28.986Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:03:48.616Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:03:49.710Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:03:49.711Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:03:49.710Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:04:28.994Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0802","module":"KalmanFilter","timestamp":"2025-10-05T04:04:28.994Z"}
{"level":"debug","message":"Predicción Kalman: 123845.2191065221 (Confianza: 0.868)","module":"KalmanFilter","timestamp":"2025-10-05T04:04:28.995Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:04:29.401Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:04:32.108Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":123664.57219157467,"middle":123782.5,"upper":123900.42780842533},"ema":{"ema21":123802.12688724553,"ema50":123800.08784125799,"ema9":123831.33314808246},"macd":{"histogram":2.031908153250697,"macd":20.31908153250697,"signal":18.287173379256274},"rsi":62.65860135733319,"volume":{"avg":56.599079999999994,"current":49.892,"ratio":0.8814984271829155}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está en un nivel alto (62.66) y MACD histogram es bullish. Además, el precio actual está por encima de la banda superior del Bollinger, lo que sugiere una posible subida. La Kalman predice una subida con confianza del 86.8%","symbol":"BTCUSDT","timestamp":1759637072109}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637072109","module":"BybitClient","timestamp":"2025-10-05T04:04:32.109Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:04:32.109Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"14.4942\",\"markPrice\":\"124000\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.14394547\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759637072297}","module":"BybitClient","timestamp":"2025-10-05T04:04:32.479Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:04:32.480Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637072480","module":"BybitClient","timestamp":"2025-10-05T04:04:32.480Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:04:32.480Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215177.41877402\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"14.50136013\",\"totalWalletBalance\":\"215162.91741389\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49994.57375379\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122722.50806142\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4546.885198\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37894.73176332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37913.45176081\",\"unrealisedPnl\":\"14.4942\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759637073361}","module":"BybitClient","timestamp":"2025-10-05T04:04:33.543Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: 0.04%","module":"TradingStrategy","timestamp":"2025-10-05T04:04:33.544Z"}
{"level":"info","message":"Balance obtenido - Total: $215177.42, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T04:04:33.544Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:04:33.910Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:04:33.911Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.86,\n  \"reasoning\": \"La posición actual es alçista con indicadores técnicos bullish (RSI, MACD Histogram) y una...","module":"OllamaClient","timestamp":"2025-10-05T04:04:36.312Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual es alçista con indicadores técnicos bullish (RSI, MACD Histogram) y una ganancia ...","module":"TradingStrategy","timestamp":"2025-10-05T04:04:36.312Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637076313","module":"BybitClient","timestamp":"2025-10-05T04:04:36.313Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 86%)","module":"OllamaClient","timestamp":"2025-10-05T04:04:36.312Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:04:36.312Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:04:36.313Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"14.4942\",\"markPrice\":\"124000\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.14394547\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759637076501}","module":"BybitClient","timestamp":"2025-10-05T04:04:36.683Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:04:36.684Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:04:36.684Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:04:36.684Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:04:48.617Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:04:49.014Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:04:49.015Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:04:49.015Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:05:36.688Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0779","module":"KalmanFilter","timestamp":"2025-10-05T04:05:36.689Z"}
{"level":"debug","message":"Predicción Kalman: 123901.27386976553 (Confianza: 0.863)","module":"KalmanFilter","timestamp":"2025-10-05T04:05:36.689Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:05:37.784Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:05:40.698Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":123659.63337720129,"middle":123818.095,"upper":123976.55662279871},"ema":{"ema21":123839.11396808496,"ema50":123816.4012279988,"ema9":123886.67482997032},"macd":{"histogram":3.8759822124557104,"macd":38.759822124557104,"signal":34.883839912101394},"rsi":67.36069322421422,"volume":{"avg":52.57171000000001,"current":41.642,"ratio":0.7920990205568735}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima del 67%, MACD histogram es bullish y el precio actual está dentro de la banda superior del Bollinger. Además, el Kalman predice una subida con confianza del 86.3%. Si detecto señales bajistas claras, podré reevaluar mi posición, pero por ahora creo que es mejor apostar a la subida.","symbol":"BTCUSDT","timestamp":1759637140698}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637140699","module":"BybitClient","timestamp":"2025-10-05T04:05:40.699Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:05:40.699Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"14.3619\",\"markPrice\":\"123999.55\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.14328397\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759637140888}","module":"BybitClient","timestamp":"2025-10-05T04:05:41.071Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:05:41.072Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637141072","module":"BybitClient","timestamp":"2025-10-05T04:05:41.072Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:05:41.072Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215177.72605656\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"14.368607\",\"totalWalletBalance\":\"215163.35744955\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49991.32375224\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122726.49241704\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4547.613646\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37894.59946332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37912.29624126\",\"unrealisedPnl\":\"14.3619\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759637141955}","module":"BybitClient","timestamp":"2025-10-05T04:05:42.139Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: 0.04%","module":"TradingStrategy","timestamp":"2025-10-05T04:05:42.139Z"}
{"level":"info","message":"Balance obtenido - Total: $215177.73, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T04:05:42.139Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:05:43.201Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:05:43.202Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual es saludable con una ganancia del 0.04% y sin señales de reversión. Mant...","module":"OllamaClient","timestamp":"2025-10-05T04:05:44.860Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual es saludable con una ganancia del 0.04% y sin señales de reversión. Mantener la p...","module":"TradingStrategy","timestamp":"2025-10-05T04:05:44.860Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637144861","module":"BybitClient","timestamp":"2025-10-05T04:05:44.861Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:05:44.860Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:05:44.861Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:05:44.861Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"14.4648\",\"markPrice\":\"123999.9\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.14379847\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759637145050}","module":"BybitClient","timestamp":"2025-10-05T04:05:45.232Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:05:45.232Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:05:45.232Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:05:45.232Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:05:48.619Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:05:48.989Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:05:48.990Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:05:48.990Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:06:45.234Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0853","module":"KalmanFilter","timestamp":"2025-10-05T04:06:45.234Z"}
{"level":"debug","message":"Predicción Kalman: 123934.47719290442 (Confianza: 0.849)","module":"KalmanFilter","timestamp":"2025-10-05T04:06:45.235Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:06:45.684Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:06:48.620Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:06:48.717Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":123687.49024418692,"middle":123860.15500000003,"upper":124032.81975581314},"ema":{"ema21":123876.87370419767,"ema50":123838.52242170337,"ema9":123928.2945042938},"macd":{"histogram":4.713107614163889,"macd":47.131076141638914,"signal":42.417968527475026},"rsi":64.67226890756328,"volume":{"avg":51.99068000000001,"current":41.341,"ratio":0.7951617482210271}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está en un nivel alto (64.67) y MACD histogram es bullish, indicando una posible subida. Además, el precio actual está dentro del rango superior del Bollinger, lo que sugiere una mayor actividad de compras. Kalman también predice una subida con confianza del 84.9%. Considerando todos estos factores, es más probable que el precio continúe subiendo.","symbol":"BTCUSDT","timestamp":1759637208718}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637208718","module":"BybitClient","timestamp":"2025-10-05T04:06:48.718Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:06:48.719Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:06:48.996Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:06:48.997Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:06:48.997Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-16.4934\",\"markPrice\":\"123894.6\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.98900747\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759637209633}","module":"BybitClient","timestamp":"2025-10-05T04:06:49.815Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:06:49.816Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637209816","module":"BybitClient","timestamp":"2025-10-05T04:06:49.816Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:06:49.816Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215047.48744312\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-16.5016467\",\"totalWalletBalance\":\"215063.98908982\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49992.52375281\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122628.5811599\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4543.706495\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37863.74416332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37882.6760354\",\"unrealisedPnl\":\"-16.4934\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759637210007}","module":"BybitClient","timestamp":"2025-10-05T04:06:50.194Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: -0.05%","module":"TradingStrategy","timestamp":"2025-10-05T04:06:50.195Z"}
{"level":"info","message":"Balance obtenido - Total: $215047.49, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T04:06:50.195Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:06:50.567Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:06:50.568Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"Tienes una posición LONG sólida con pérdida de 0.05%. Sin señales de reversión detectadas, ...","module":"OllamaClient","timestamp":"2025-10-05T04:06:52.863Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: Tienes una posición LONG sólida con pérdida de 0.05%. Sin señales de reversión detectadas, es mejor ...","module":"TradingStrategy","timestamp":"2025-10-05T04:06:52.864Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637212864","module":"BybitClient","timestamp":"2025-10-05T04:06:52.864Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:06:52.864Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:06:52.864Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:06:52.865Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-17.55768\",\"markPrice\":\"123890.98\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.98368607\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759637213053}","module":"BybitClient","timestamp":"2025-10-05T04:06:53.235Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:06:53.236Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:06:53.235Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:06:53.236Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:07:48.621Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:07:49.025Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:07:49.027Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:07:49.026Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:07:53.240Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1009","module":"KalmanFilter","timestamp":"2025-10-05T04:07:53.241Z"}
{"level":"debug","message":"Predicción Kalman: 123931.97463177967 (Confianza: 0.818)","module":"KalmanFilter","timestamp":"2025-10-05T04:07:53.242Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:07:53.616Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:07:56.282Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":123792.78395910912,"middle":123925.07500000003,"upper":124057.36604089093},"ema":{"ema21":123915.15983400875,"ema50":123876.69787171303,"ema9":123934.67514272725},"macd":{"histogram":2.763516184603212,"macd":27.635161846032133,"signal":24.87164566142892},"rsi":51.91167192429051,"volume":{"avg":46.427569999999996,"current":24.779,"ratio":0.5337130502414837}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima de 51, MACD histogram es positivo y creciente, Bollinger bandes are above the price, EMA9 is above EMA21 and EMA50, Kalman predicts a bullish movement with confidence over 75%, volume is high and increasing, there are no clear sell signals.","symbol":"BTCUSDT","timestamp":1759637276283}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637276283","module":"BybitClient","timestamp":"2025-10-05T04:07:56.283Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:07:56.283Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-17.9634\",\"markPrice\":\"123889.6\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.98165747\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759637277193}","module":"BybitClient","timestamp":"2025-10-05T04:07:57.376Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:07:57.376Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637277377","module":"BybitClient","timestamp":"2025-10-05T04:07:57.377Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:07:57.378Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215043.43006585\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-17.97222002\",\"totalWalletBalance\":\"215061.40228587\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49994.47375374\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122625.78586217\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4542.30591\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37862.27416332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37880.86453993\",\"unrealisedPnl\":\"-17.9634\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759637277566}","module":"BybitClient","timestamp":"2025-10-05T04:07:57.748Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: -0.05%","module":"TradingStrategy","timestamp":"2025-10-05T04:07:57.749Z"}
{"level":"info","message":"Balance obtenido - Total: $215043.43, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T04:07:57.749Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:07:58.117Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:07:58.118Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual está en una tendencia alcista según los indicadores técnicos (RSI, MACD,...","module":"OllamaClient","timestamp":"2025-10-05T04:08:00.147Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual está en una tendencia alcista según los indicadores técnicos (RSI, MACD, EMA), y ...","module":"TradingStrategy","timestamp":"2025-10-05T04:08:00.148Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637280148","module":"BybitClient","timestamp":"2025-10-05T04:08:00.148Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:08:00.147Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:08:00.148Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:08:00.148Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-21.17388\",\"markPrice\":\"123878.68\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.96560507\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759637280342}","module":"BybitClient","timestamp":"2025-10-05T04:08:00.522Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:08:00.523Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:08:00.522Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:08:00.523Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:08:48.622Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:08:49.027Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:08:49.028Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:08:49.027Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:09:00.524Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0830","module":"KalmanFilter","timestamp":"2025-10-05T04:09:00.525Z"}
{"level":"debug","message":"Predicción Kalman: 123910.7773600207 (Confianza: 0.824)","module":"KalmanFilter","timestamp":"2025-10-05T04:09:00.525Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:09:01.617Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:09:04.818Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":123824.4612520787,"middle":123936.085,"upper":124047.70874792131},"ema":{"ema21":123919.43351036448,"ema50":123885.49968443278,"ema9":123923.50065475625},"macd":{"histogram":1.4188487170365978,"macd":14.188487170365988,"signal":12.76963845332939},"rsi":51.113731656184555,"volume":{"avg":45.18170000000002,"current":8.935,"ratio":0.1977570565073912}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is at 51.11, MACD histogram is bullish and crossed above signal line, Bollinger bands are superior and the price is trading above the middle band, EMA9 is crossing above EMA21, Kalman prediction is bullish with a confidence of 82.4%, volume is low but increasing, and there are no clear sell signals. Based on these indicators, it seems like the market is in a bullish phase and it's a good time to buy.","symbol":"BTCUSDT","timestamp":1759637344819}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637344819","module":"BybitClient","timestamp":"2025-10-05T04:09:04.819Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:09:04.819Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-23.78754\",\"markPrice\":\"123869.79\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.95253677\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759637345710}","module":"BybitClient","timestamp":"2025-10-05T04:09:05.891Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:09:05.892Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637345892","module":"BybitClient","timestamp":"2025-10-05T04:09:05.892Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:09:05.893Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215005.99741195\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-23.79807788\",\"totalWalletBalance\":\"215029.79548983\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49994.42375371\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122601.76814255\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4536.585085\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37856.45002332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37873.22043068\",\"unrealisedPnl\":\"-23.78754\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759637346081}","module":"BybitClient","timestamp":"2025-10-05T04:09:06.263Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: -0.07%","module":"TradingStrategy","timestamp":"2025-10-05T04:09:06.265Z"}
{"level":"info","message":"Balance obtenido - Total: $215006.00, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T04:09:06.264Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:09:06.639Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:09:06.640Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual es LONG con pérdida de 0.07%. Aunque hay una señal de reversión débil (K...","module":"OllamaClient","timestamp":"2025-10-05T04:09:08.752Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual es LONG con pérdida de 0.07%. Aunque hay una señal de reversión débil (Kalman pre...","module":"TradingStrategy","timestamp":"2025-10-05T04:09:08.753Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637348753","module":"BybitClient","timestamp":"2025-10-05T04:09:08.753Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:09:08.753Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:09:08.753Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:09:08.753Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-23.78754\",\"markPrice\":\"123869.79\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.95253677\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759637348945}","module":"BybitClient","timestamp":"2025-10-05T04:09:09.127Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:09:09.128Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:09:09.128Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:09:09.128Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:09:48.624Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:09:49.722Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:09:49.724Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:09:49.723Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:10:09.132Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0675","module":"KalmanFilter","timestamp":"2025-10-05T04:10:09.133Z"}
{"level":"debug","message":"Predicción Kalman: 123889.30504041168 (Confianza: 0.830)","module":"KalmanFilter","timestamp":"2025-10-05T04:10:09.133Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:10:09.534Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:10:11.993Z"}
{"confidence":0.6,"decision":"HOLD","indicators":{"bollinger":{"lower":123822.41650015034,"middle":123929.68000000001,"upper":124036.94349984967},"ema":{"ema21":123912.27097215959,"ema50":123890.58923489849,"ema9":123904.02603856502},"macd":{"histogram":0.09873871218878771,"macd":0.9873871218878776,"signal":0.8886484096990899},"rsi":45.74094104921549,"volume":{"avg":44.45252000000002,"current":10.935,"ratio":0.24599280310767524}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"No enough evidence to suggest a clear directional change. RSI and MACD are neutral, Bollinger bands are flat, EMAs are horizontal, and Kalman prediction is neutral. With the current market sentiment being neutral, it's best to hold rather than taking a position in either direction.","symbol":"BTCUSDT","timestamp":1759637411994}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637411994","module":"BybitClient","timestamp":"2025-10-05T04:10:11.994Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:10:11.994Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-44.18232\",\"markPrice\":\"123800.42\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.85056287\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759637412893}","module":"BybitClient","timestamp":"2025-10-05T04:10:13.076Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:10:13.076Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637413076","module":"BybitClient","timestamp":"2025-10-05T04:10:13.076Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:10:13.077Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"214924.96857346\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-44.20423443\",\"totalWalletBalance\":\"214969.17280789\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49995.92375443\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122541.07404331\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4533.148849\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37836.05524332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37854.82192672\",\"unrealisedPnl\":\"-44.18232\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759637413266}","module":"BybitClient","timestamp":"2025-10-05T04:10:13.449Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: -0.12%","module":"TradingStrategy","timestamp":"2025-10-05T04:10:13.450Z"}
{"level":"info","message":"Balance obtenido - Total: $214924.97, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T04:10:13.450Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:10:14.510Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:10:14.511Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una pérdida del 0.12%, pero no hay señales de reversión fuertes o ...","module":"OllamaClient","timestamp":"2025-10-05T04:10:17.495Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una pérdida del 0.12%, pero no hay señales de reversión fuertes o confirmac...","module":"TradingStrategy","timestamp":"2025-10-05T04:10:17.496Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637417496","module":"BybitClient","timestamp":"2025-10-05T04:10:17.496Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:10:17.496Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:10:17.496Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:10:17.497Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-52.22616\",\"markPrice\":\"123773.06\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.81034367\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759637418389}","module":"BybitClient","timestamp":"2025-10-05T04:10:18.574Z"}
{"level":"info","message":"Ya existe una posición abierta, no se abrirá nueva posición","module":"TradingStrategy","timestamp":"2025-10-05T04:10:18.575Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:10:18.574Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:10:18.575Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:10:48.625Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:10:49.021Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:10:49.022Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:10:49.021Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:11:18.580Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0674","module":"KalmanFilter","timestamp":"2025-10-05T04:11:18.581Z"}
{"level":"debug","message":"Predicción Kalman: 123853.4946911778 (Confianza: 0.829)","module":"KalmanFilter","timestamp":"2025-10-05T04:11:18.583Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:11:19.683Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:11:22.482Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":123794.05782837274,"middle":123910.17,"upper":124026.28217162726},"ema":{"ema21":123890.27864178456,"ema50":123882.89875729186,"ema9":123866.4251083075},"macd":{"histogram":-1.5255867791071065,"macd":-15.255867791071068,"signal":-13.730281011963962},"rsi":33.27653774066967,"volume":{"avg":44.27063000000001,"current":27.615,"ratio":0.623776982618047}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is below 30 and MACD is bearish, indicating a potential sell opportunity. However, the Bollinger bands are expanding, which could indicate a possible reversal. The Kalman forecast also suggests a possible buy opportunity with a confidence of 76.8%. Given the neutral market sentiment and the high leverage available (10-50x), I suggest going long.","symbol":"BTCUSDT","timestamp":1759637482482}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637482483","module":"BybitClient","timestamp":"2025-10-05T04:11:22.484Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:11:22.484Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-66.5322\",\"markPrice\":\"123724.4\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.73881347\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759637483365}","module":"BybitClient","timestamp":"2025-10-05T04:11:23.549Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:11:23.549Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637483552","module":"BybitClient","timestamp":"2025-10-05T04:11:23.552Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:11:23.553Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"214828.28166292\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-66.56606488\",\"totalWalletBalance\":\"214894.84772781\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49994.37375369\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122468.22389288\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4532.731477\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37813.70536332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37832.95253934\",\"unrealisedPnl\":\"-66.5322\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759637483742}","module":"BybitClient","timestamp":"2025-10-05T04:11:23.926Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: -0.18%","module":"TradingStrategy","timestamp":"2025-10-05T04:11:23.927Z"}
{"level":"info","message":"Balance obtenido - Total: $214828.28, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T04:11:23.926Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:11:24.993Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:11:24.993Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.6,\n  \"reasoning\": \"La posición actual tiene una pérdida del 0.18%, pero no hay señales claras de reversión. La...","module":"OllamaClient","timestamp":"2025-10-05T04:11:27.237Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una pérdida del 0.18%, pero no hay señales claras de reversión. La tendenci...","module":"TradingStrategy","timestamp":"2025-10-05T04:11:27.239Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637487240","module":"BybitClient","timestamp":"2025-10-05T04:11:27.240Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 60%)","module":"OllamaClient","timestamp":"2025-10-05T04:11:27.238Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:11:27.240Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:11:27.240Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-66.5028\",\"markPrice\":\"123724.5\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.73896047\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759637488131}","module":"BybitClient","timestamp":"2025-10-05T04:11:28.318Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:11:28.319Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:11:28.319Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:11:28.319Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:11:48.626Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:11:49.778Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:11:49.780Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:11:49.779Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:12:28.331Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0607","module":"KalmanFilter","timestamp":"2025-10-05T04:12:28.331Z"}
{"level":"debug","message":"Predicción Kalman: 123820.40187520537 (Confianza: 0.828)","module":"KalmanFilter","timestamp":"2025-10-05T04:12:28.332Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:12:28.733Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:12:31.367Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":123759.42397778785,"middle":123882.87,"upper":124006.31602221214},"ema":{"ema21":123867.29979928028,"ema50":123874.05502523461,"ema9":123838.25597149567},"macd":{"histogram":-2.3868999551908914,"macd":-23.868999551908928,"signal":-21.482099596718037},"rsi":37.02702702702696,"volume":{"avg":43.94828,"current":40.606,"ratio":0.9239496972350227}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI (37) is low and MACD histogram is bearish, indicating a potential sell opportunity. However, the Bollinger bands are wide and the EMA9 is above the EMA21, suggesting a possible bullish reversal. The Kalman prediction also indicates a high probability of a bounce. Therefore, I suggest buying.","symbol":"BTCUSDT","timestamp":1759637551367}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637551367","module":"BybitClient","timestamp":"2025-10-05T04:12:31.368Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:12:31.368Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-44.16174\",\"markPrice\":\"123800.49\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.85066577\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759637552250}","module":"BybitClient","timestamp":"2025-10-05T04:12:32.433Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:12:32.433Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637552433","module":"BybitClient","timestamp":"2025-10-05T04:12:32.434Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:12:32.434Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"214929.14544607\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-44.18413\",\"totalWalletBalance\":\"214973.32957607\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49993.72375338\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122542.93016192\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4537.232817\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37836.07582332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37855.25871376\",\"unrealisedPnl\":\"-44.16174\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759637552624}","module":"BybitClient","timestamp":"2025-10-05T04:12:32.808Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: -0.12%","module":"TradingStrategy","timestamp":"2025-10-05T04:12:32.809Z"}
{"level":"info","message":"Balance obtenido - Total: $214929.15, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T04:12:32.809Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:12:33.181Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:12:33.181Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una pérdida del 0.12%, pero hay señales de reversión débiles (MACD...","module":"OllamaClient","timestamp":"2025-10-05T04:12:35.106Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una pérdida del 0.12%, pero hay señales de reversión débiles (MACD bajista,...","module":"TradingStrategy","timestamp":"2025-10-05T04:12:35.106Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637555107","module":"BybitClient","timestamp":"2025-10-05T04:12:35.107Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:12:35.106Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:12:35.106Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:12:35.107Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-44.16174\",\"markPrice\":\"123800.49\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.85066577\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759637555993}","module":"BybitClient","timestamp":"2025-10-05T04:12:36.175Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:12:36.176Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:12:36.175Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:12:36.176Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:12:48.628Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:12:49.027Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:12:49.028Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:12:49.027Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:13:36.176Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0636","module":"KalmanFilter","timestamp":"2025-10-05T04:13:36.179Z"}
{"level":"debug","message":"Predicción Kalman: 123820.4623700405 (Confianza: 0.826)","module":"KalmanFilter","timestamp":"2025-10-05T04:13:36.180Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:13:36.593Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:13:39.384Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":123748.69968226737,"middle":123857.08499999999,"upper":123965.47031773262},"ema":{"ema21":123852.825332303,"ema50":123866.28566431321,"ema9":123831.86995674674},"macd":{"histogram":-2.1195977182171184,"macd":-21.19597718217119,"signal":-19.076379463954073},"rsi":46.43206256109445,"volume":{"avg":43.91592999999999,"current":23.342,"ratio":0.531515557111053}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is at 46, MACD histogram is bearish and crossed below the signal line, Bollinger bands are expanding and the price is above the upper band, EMA9 is above EMA21 and EMA50, Kalman prediction is bullish with high confidence (82.6%). Signals are mixed but overall bullish, suggesting a buy position.","symbol":"BTCUSDT","timestamp":1759637619385}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637619385","module":"BybitClient","timestamp":"2025-10-05T04:13:39.385Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:13:39.386Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-31.82844\",\"markPrice\":\"123842.44\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.91233227\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759637620269}","module":"BybitClient","timestamp":"2025-10-05T04:13:40.452Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:13:40.452Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637620453","module":"BybitClient","timestamp":"2025-10-05T04:13:40.453Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:13:40.453Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"214975.67592623\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-31.84352668\",\"totalWalletBalance\":\"215007.51945291\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49994.27375364\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122576.15387133\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4538.899032\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37848.40912332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37866.34926924\",\"unrealisedPnl\":\"-31.82844\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759637620639}","module":"BybitClient","timestamp":"2025-10-05T04:13:40.827Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: -0.09%","module":"TradingStrategy","timestamp":"2025-10-05T04:13:40.830Z"}
{"level":"info","message":"Balance obtenido - Total: $214975.68, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T04:13:40.827Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:13:41.909Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:13:41.909Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una pérdida del 0.09%, pero no hay señales claras de reversión. La...","module":"OllamaClient","timestamp":"2025-10-05T04:13:44.090Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una pérdida del 0.09%, pero no hay señales claras de reversión. La tendenci...","module":"TradingStrategy","timestamp":"2025-10-05T04:13:44.090Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637624091","module":"BybitClient","timestamp":"2025-10-05T04:13:44.091Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:13:44.090Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:13:44.090Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:13:44.091Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-31.83726\",\"markPrice\":\"123842.41\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.91228817\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759637624281}","module":"BybitClient","timestamp":"2025-10-05T04:13:44.461Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:13:44.461Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:13:44.461Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:13:44.461Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:13:48.629Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:13:49.694Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:13:49.695Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:13:49.695Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:14:44.489Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0650","module":"KalmanFilter","timestamp":"2025-10-05T04:14:44.490Z"}
{"level":"debug","message":"Predicción Kalman: 123829.75016471223 (Confianza: 0.826)","module":"KalmanFilter","timestamp":"2025-10-05T04:14:44.490Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:14:45.626Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:14:48.283Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":123745.73177716299,"middle":123835.33999999997,"upper":123924.94822283695},"ema":{"ema21":123840.82812312018,"ema50":123857.21998143462,"ema9":123827.03108342628},"macd":{"histogram":-1.707655462897673,"macd":-17.076554628976737,"signal":-15.368899166079064},"rsi":46.92745179636549,"volume":{"avg":42.93321999999999,"current":8.051,"ratio":0.18752378694167365}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is above 50, MACD histogram is bullish, Bollinger bands are expanding, EMA9 is above EMA21, and Kalman predicts a bullish movement with confidence over 70%. These indicators suggest that the market is in a bullish phase, and it's a good time to buy.","symbol":"BTCUSDT","timestamp":1759637688284}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637688285","module":"BybitClient","timestamp":"2025-10-05T04:14:48.285Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:14:48.285Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:14:48.630Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-26.6658\",\"markPrice\":\"123860\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.93814547\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759637688476}","module":"BybitClient","timestamp":"2025-10-05T04:14:48.656Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:14:48.657Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637688657","module":"BybitClient","timestamp":"2025-10-05T04:14:48.658Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:14:48.658Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:14:49.029Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:14:49.030Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:14:49.029Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215007.25227058\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-26.67953288\",\"totalWalletBalance\":\"215033.93180347\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49995.27375412\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122598.95676368\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4539.9554\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37853.57176332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37873.06635277\",\"unrealisedPnl\":\"-26.6658\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759637689545}","module":"BybitClient","timestamp":"2025-10-05T04:14:49.726Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: -0.07%","module":"TradingStrategy","timestamp":"2025-10-05T04:14:49.726Z"}
{"level":"info","message":"Balance obtenido - Total: $215007.25, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T04:14:49.726Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:14:50.822Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:14:50.823Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una tendencia alcista (RSI < 60, MACD > 0, EMA9 > EMA21), aunque c...","module":"OllamaClient","timestamp":"2025-10-05T04:14:53.270Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una tendencia alcista (RSI < 60, MACD > 0, EMA9 > EMA21), aunque con pérdid...","module":"TradingStrategy","timestamp":"2025-10-05T04:14:53.271Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637693271","module":"BybitClient","timestamp":"2025-10-05T04:14:53.271Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:14:53.270Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:14:53.271Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:14:53.271Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-26.6658\",\"markPrice\":\"123860\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.93814547\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759637693465}","module":"BybitClient","timestamp":"2025-10-05T04:14:53.646Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:14:53.649Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:14:53.648Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:14:53.651Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:15:48.632Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:15:49.032Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:15:49.032Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:15:49.032Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:15:53.651Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0835","module":"KalmanFilter","timestamp":"2025-10-05T04:15:53.652Z"}
{"level":"debug","message":"Predicción Kalman: 123851.05957240179 (Confianza: 0.825)","module":"KalmanFilter","timestamp":"2025-10-05T04:15:53.654Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:15:54.023Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:15:57.006Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":123760.8184924458,"middle":123832.81499999999,"upper":123904.81150755417},"ema":{"ema21":123843.59725030571,"ema50":123852.78579515731,"ema9":123846.49175634413},"macd":{"histogram":-0.1350754225524724,"macd":-1.3507542255247245,"signal":-1.215678802972252},"rsi":53.81125226860152,"volume":{"avg":39.884759999999986,"current":65.266,"ratio":1.636364365737691}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima del 50, MACD tiene un histograma positivo y el precio está superando el Bollinger superior. Además, la Kalman predice una subida con confianza del 75%. Si detecto señales bajistas claras, sugeriré una posición short, pero por ahora, la situación es favorable para una posición long.","symbol":"BTCUSDT","timestamp":1759637757006}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637757007","module":"BybitClient","timestamp":"2025-10-05T04:15:57.008Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:15:57.008Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-32.11362\",\"markPrice\":\"123841.47\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.91090637\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759637757894}","module":"BybitClient","timestamp":"2025-10-05T04:15:58.076Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:15:58.078Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637758078","module":"BybitClient","timestamp":"2025-10-05T04:15:58.079Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:15:58.079Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"214958.21054854\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-35.205258\",\"totalWalletBalance\":\"214993.41580655\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49991.42375229\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122566.93433224\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4537.167968\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37845.04870332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37862.68449601\",\"unrealisedPnl\":\"-35.18886\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759637758961}","module":"BybitClient","timestamp":"2025-10-05T04:15:59.143Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: -0.09%","module":"TradingStrategy","timestamp":"2025-10-05T04:15:59.144Z"}
{"level":"info","message":"Balance obtenido - Total: $214958.21, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T04:15:59.143Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:15:59.513Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:15:59.514Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una tendencia alcista (RSI>50, MACD>0, EMA9>EMA21), aunque con pér...","module":"OllamaClient","timestamp":"2025-10-05T04:16:01.614Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una tendencia alcista (RSI>50, MACD>0, EMA9>EMA21), aunque con pérdida del ...","module":"TradingStrategy","timestamp":"2025-10-05T04:16:01.615Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637761615","module":"BybitClient","timestamp":"2025-10-05T04:16:01.615Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:16:01.615Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:16:01.615Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:16:01.615Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-35.18886\",\"markPrice\":\"123831.01\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.89553017\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759637762506}","module":"BybitClient","timestamp":"2025-10-05T04:16:02.693Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:16:02.694Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:16:02.694Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:16:02.694Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:16:48.632Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:16:49.036Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:16:49.037Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:16:49.036Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:17:02.699Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0994","module":"KalmanFilter","timestamp":"2025-10-05T04:17:02.699Z"}
{"level":"debug","message":"Predicción Kalman: 123854.47191031519 (Confianza: 0.824)","module":"KalmanFilter","timestamp":"2025-10-05T04:17:02.699Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:17:03.111Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:17:05.647Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":123775.39515629878,"middle":123839.69499999999,"upper":123903.9948437012},"ema":{"ema21":123849.2840618362,"ema50":123853.34868654757,"ema9":123855.71230672406},"macd":{"histogram":0.3225159679117495,"macd":3.225159679117496,"signal":2.9026437112057466},"rsi":68.15217391304427,"volume":{"avg":38.595899999999986,"current":67.512,"ratio":1.7492013400387094}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima del 60 (bajo), MACD histogram es positivo y creciente, Bollinger está en el inferior, EMA9 cruza por encima de EMA21, Kalman predice una subida con confianza del 82.4%","symbol":"BTCUSDT","timestamp":1759637825647}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637825648","module":"BybitClient","timestamp":"2025-10-05T04:17:05.648Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:17:05.649Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-14.9352\",\"markPrice\":\"123899.9\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.99679847\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759637825836}","module":"BybitClient","timestamp":"2025-10-05T04:17:06.018Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:17:06.018Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637826019","module":"BybitClient","timestamp":"2025-10-05T04:17:06.020Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:17:06.020Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215056.72072803\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-14.94259292\",\"totalWalletBalance\":\"215071.66332095\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49994.92375395\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122636.72133308\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4541.029953\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37865.30236332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37884.04568798\",\"unrealisedPnl\":\"-14.9352\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759637826912}","module":"BybitClient","timestamp":"2025-10-05T04:17:07.098Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: -0.04%","module":"TradingStrategy","timestamp":"2025-10-05T04:17:07.099Z"}
{"level":"info","message":"Balance obtenido - Total: $215056.72, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T04:17:07.098Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:17:07.467Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:17:07.468Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual es LONG con pérdida menor a 0.4%, sin señales de reversión detectadas y ...","module":"OllamaClient","timestamp":"2025-10-05T04:17:09.653Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual es LONG con pérdida menor a 0.4%, sin señales de reversión detectadas y con indic...","module":"TradingStrategy","timestamp":"2025-10-05T04:17:09.654Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637829665","module":"BybitClient","timestamp":"2025-10-05T04:17:09.665Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:17:09.653Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:17:09.654Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:17:09.666Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-14.9352\",\"markPrice\":\"123899.9\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.99679847\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759637829859}","module":"BybitClient","timestamp":"2025-10-05T04:17:10.040Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:17:10.041Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:17:10.041Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:17:10.041Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:17:48.634Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:17:49.723Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:17:49.723Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:17:49.723Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:18:10.047Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0972","module":"KalmanFilter","timestamp":"2025-10-05T04:18:10.047Z"}
{"level":"debug","message":"Predicción Kalman: 123864.55402694913 (Confianza: 0.826)","module":"KalmanFilter","timestamp":"2025-10-05T04:18:10.047Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:18:11.156Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:18:13.687Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":123792.42858426235,"middle":123851.36499999999,"upper":123910.30141573763},"ema":{"ema21":123856.01135368376,"ema50":123854.48058261228,"ema9":123865.09849666353},"macd":{"histogram":0.6687556687815226,"macd":6.687556687815231,"signal":6.018801019033709},"rsi":55.08982035928052,"volume":{"avg":37.076609999999995,"current":12.15,"ratio":0.32769986252788486}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima de 55, MACD histogram es positivo y creciente, Bollinger Band superior, EMA9 cruza por encima de EMA21, Kalman predice subida con confianza del 82.6%","symbol":"BTCUSDT","timestamp":1759637893687}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637893688","module":"BybitClient","timestamp":"2025-10-05T04:18:13.688Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:18:13.688Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-9.6432\",\"markPrice\":\"123917.9\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.02325847\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759637893883}","module":"BybitClient","timestamp":"2025-10-05T04:18:14.067Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:18:14.069Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637894069","module":"BybitClient","timestamp":"2025-10-05T04:18:14.069Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:18:14.070Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215061.94958856\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-9.64758765\",\"totalWalletBalance\":\"215071.59717621\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49990.22375172\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122643.03906508\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4540.861288\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37870.59436332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37887.82548375\",\"unrealisedPnl\":\"-9.6432\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759637894262}","module":"BybitClient","timestamp":"2025-10-05T04:18:14.445Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: -0.03%","module":"TradingStrategy","timestamp":"2025-10-05T04:18:14.447Z"}
{"level":"info","message":"Balance obtenido - Total: $215061.95, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T04:18:14.446Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:18:15.508Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:18:15.508Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"Tienes una posición LONG con pérdida de 0.03%. Sin señales de reversión detectadas, la tend...","module":"OllamaClient","timestamp":"2025-10-05T04:18:17.615Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: Tienes una posición LONG con pérdida de 0.03%. Sin señales de reversión detectadas, la tendencia es ...","module":"TradingStrategy","timestamp":"2025-10-05T04:18:17.616Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637897617","module":"BybitClient","timestamp":"2025-10-05T04:18:17.617Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:18:17.616Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:18:17.617Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:18:17.617Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-9.6432\",\"markPrice\":\"123917.9\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.02325847\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759637897808}","module":"BybitClient","timestamp":"2025-10-05T04:18:17.991Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:18:17.991Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:18:17.991Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:18:17.991Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:18:48.636Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:18:49.032Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:18:49.033Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:18:49.032Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:19:17.992Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1194","module":"KalmanFilter","timestamp":"2025-10-05T04:19:17.993Z"}
{"level":"debug","message":"Predicción Kalman: 123873.0685801483 (Confianza: 0.811)","module":"KalmanFilter","timestamp":"2025-10-05T04:19:17.993Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:19:18.402Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:19:21.437Z"}
{"confidence":0.75,"decision":"BUY","indicators":{"bollinger":{"lower":123810.71711272984,"middle":123862.03,"upper":123913.34288727016},"ema":{"ema21":123863.84262217463,"ema50":123858.76566270257,"ema9":123874.64091539575},"macd":{"histogram":0.9201557096748729,"macd":9.20155709674873,"signal":8.281401387073856},"rsi":53.52737085582157,"volume":{"avg":37.15447,"current":49.294,"ratio":1.326731346187955}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima del 50%, MACD histogram es positivo y creciente, Bollinger superiors y medio, EMA9 cruza por encima de EMA21 (golden cross), Kalman predice subida con confianza del 75%. Se detectan señales bajistas claras, pero no son tan fuertes como para justificar una posición short. Sugiero comprar a la subida.","symbol":"BTCUSDT","timestamp":1759637961438}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637961439","module":"BybitClient","timestamp":"2025-10-05T04:19:21.439Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:19:21.439Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-16.76094\",\"markPrice\":\"123893.69\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.98766977\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759637962323}","module":"BybitClient","timestamp":"2025-10-05T04:19:22.505Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:19:22.507Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637962507","module":"BybitClient","timestamp":"2025-10-05T04:19:22.508Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:19:22.508Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215052.34005674\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-16.76928694\",\"totalWalletBalance\":\"215069.10934369\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49993.07375307\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122636.13944998\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4540.794219\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37863.47662332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37882.33263467\",\"unrealisedPnl\":\"-16.76094\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759637962698}","module":"BybitClient","timestamp":"2025-10-05T04:19:22.878Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: -0.05%","module":"TradingStrategy","timestamp":"2025-10-05T04:19:22.879Z"}
{"level":"info","message":"Balance obtenido - Total: $215052.34, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T04:19:22.879Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:19:23.252Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:19:23.253Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"No hay señales de reversión detectadas, y la posición actual está dentro de la tendencia al...","module":"OllamaClient","timestamp":"2025-10-05T04:19:25.469Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: No hay señales de reversión detectadas, y la posición actual está dentro de la tendencia alcista (RS...","module":"TradingStrategy","timestamp":"2025-10-05T04:19:25.470Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759637965470","module":"BybitClient","timestamp":"2025-10-05T04:19:25.470Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:19:25.469Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:19:25.470Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:19:25.470Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-16.67274\",\"markPrice\":\"123893.99\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"200.98811077\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759637965668}","module":"BybitClient","timestamp":"2025-10-05T04:19:25.850Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:19:25.850Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:19:25.850Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:19:25.851Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:19:48.637Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:19:49.750Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:19:49.751Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:19:49.750Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:20:25.856Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1358","module":"KalmanFilter","timestamp":"2025-10-05T04:20:25.857Z"}
{"level":"debug","message":"Predicción Kalman: 123882.42126953971 (Confianza: 0.807)","module":"KalmanFilter","timestamp":"2025-10-05T04:20:25.857Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:20:26.988Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:20:30.038Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":123811.11327311538,"middle":123869.42000000001,"upper":123927.72672688465},"ema":{"ema21":123871.14073552912,"ema50":123862.15137143938,"ema9":123882.51129515363},"macd":{"histogram":1.0489430456203994,"macd":10.48943045620399,"signal":9.440487410583591},"rsi":55.25354969574051,"volume":{"avg":37.38761000000001,"current":46.541,"ratio":1.2448241543120833}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima de 55, MACD histogram es positivo y creciente, Bollinger bands están en el inferior, EMA9 cruza por encima de EMA21, Kalman predice subida con confianza del 80.7%. Se detectan señales bajistas claras, pero no son tan fuertes como para justificar una posición short. Sugiero comprar en la dirección actual.","symbol":"BTCUSDT","timestamp":1759638030039}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638030039","module":"BybitClient","timestamp":"2025-10-05T04:20:30.040Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:20:30.040Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-3.1458\",\"markPrice\":\"123940\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.05574547\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759638030228}","module":"BybitClient","timestamp":"2025-10-05T04:20:30.410Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:20:30.410Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638030410","module":"BybitClient","timestamp":"2025-10-05T04:20:30.411Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:20:30.411Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215122.03934603\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-3.14753333\",\"totalWalletBalance\":\"215125.18687936\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49995.8737544\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122683.95312674\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4544.250424\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37877.09176332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37897.96204088\",\"unrealisedPnl\":\"-3.1458\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759638030599}","module":"BybitClient","timestamp":"2025-10-05T04:20:30.783Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: -0.01%","module":"TradingStrategy","timestamp":"2025-10-05T04:20:30.783Z"}
{"level":"info","message":"Balance obtenido - Total: $215122.04, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T04:20:30.783Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:20:31.149Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:20:31.150Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"Tienes una posición LONG sólida con pérdida de 0.01%. No hay señales de reversión detectada...","module":"OllamaClient","timestamp":"2025-10-05T04:20:33.051Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: Tienes una posición LONG sólida con pérdida de 0.01%. No hay señales de reversión detectadas, y la t...","module":"TradingStrategy","timestamp":"2025-10-05T04:20:33.052Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638033052","module":"BybitClient","timestamp":"2025-10-05T04:20:33.053Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:20:33.051Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:20:33.052Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:20:33.053Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-3.1752\",\"markPrice\":\"123939.9\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.05559847\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759638033242}","module":"BybitClient","timestamp":"2025-10-05T04:20:33.425Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:20:33.425Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:20:33.425Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:20:33.426Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:20:48.638Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:20:49.038Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:20:49.038Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:20:49.038Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:21:33.432Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1224","module":"KalmanFilter","timestamp":"2025-10-05T04:21:33.433Z"}
{"level":"debug","message":"Predicción Kalman: 123903.4626220055 (Confianza: 0.812)","module":"KalmanFilter","timestamp":"2025-10-05T04:21:33.433Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:21:34.527Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:21:37.202Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":123815.68445982158,"middle":123883.25499999998,"upper":123950.82554017837},"ema":{"ema21":123888.14770459475,"ema50":123871.31349017081,"ema9":123908.0041811939},"macd":{"histogram":1.7884072140703218,"macd":17.88407214070321,"signal":16.09566492663289},"rsi":61.612332575182144,"volume":{"avg":37.92627000000002,"current":28.961,"ratio":0.7636131894858098}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima del 61.61 (alto), MACD histogram es bullish y el precio actual está dentro de la banda superior del Bollinger. Además, los indicadores técnicos sugieren una tendencia alcista. Kalman predice una subida con confianza del 81.2%","symbol":"BTCUSDT","timestamp":1759638097202}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638097202","module":"BybitClient","timestamp":"2025-10-05T04:21:37.202Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:21:37.202Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"14.52654\",\"markPrice\":\"124000.11\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.14410717\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759638097399}","module":"BybitClient","timestamp":"2025-10-05T04:21:37.582Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:21:37.582Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638097583","module":"BybitClient","timestamp":"2025-10-05T04:21:37.583Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:21:37.583Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215194.83748079\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"14.53403569\",\"totalWalletBalance\":\"215180.30344509\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49994.62375381\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122737.76734638\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4548.128579\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37894.76410332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37914.31780159\",\"unrealisedPnl\":\"14.52654\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759638097772}","module":"BybitClient","timestamp":"2025-10-05T04:21:37.955Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: 0.04%","module":"TradingStrategy","timestamp":"2025-10-05T04:21:37.956Z"}
{"level":"info","message":"Balance obtenido - Total: $215194.84, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T04:21:37.956Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:21:38.333Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:21:38.333Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"Tienes una posición LONG con ganancia de 0.04%. Sin señales de reversión detectadas y con i...","module":"OllamaClient","timestamp":"2025-10-05T04:21:40.309Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: Tienes una posición LONG con ganancia de 0.04%. Sin señales de reversión detectadas y con indicadore...","module":"TradingStrategy","timestamp":"2025-10-05T04:21:40.310Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638100310","module":"BybitClient","timestamp":"2025-10-05T04:21:40.310Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:21:40.309Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:21:40.310Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:21:40.310Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"14.51772\",\"markPrice\":\"124000.08\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.14406307\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759638100501}","module":"BybitClient","timestamp":"2025-10-05T04:21:40.683Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:21:40.683Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:21:40.683Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:21:40.684Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:21:48.639Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:21:49.045Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:21:49.045Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:21:49.045Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:22:40.698Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1131","module":"KalmanFilter","timestamp":"2025-10-05T04:22:40.698Z"}
{"level":"debug","message":"Predicción Kalman: 123921.46862625597 (Confianza: 0.820)","module":"KalmanFilter","timestamp":"2025-10-05T04:22:40.699Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:22:41.105Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:22:43.366Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":123826.12260397417,"middle":123897.80499999998,"upper":123969.48739602578},"ema":{"ema21":123902.9405229902,"ema50":123880.74090412725,"ema9":123924.26671408674},"macd":{"histogram":2.0413366153108647,"macd":20.413366153108655,"signal":18.37202953779779},"rsi":71.00519401160902,"volume":{"avg":38.13962000000001,"current":34.529,"ratio":0.9053315161503968}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI above 70, MACD histogram bullish, Bollinger bands superior and medium, EMA9 crossing above EMA21, Kalman prediction bullish with confidence above 75%","symbol":"BTCUSDT","timestamp":1759638163366}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638163367","module":"BybitClient","timestamp":"2025-10-05T04:22:43.367Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:22:43.367Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"1.44942\",\"markPrice\":\"123955.63\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.07872157\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759638164251}","module":"BybitClient","timestamp":"2025-10-05T04:22:44.433Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:22:44.433Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638164433","module":"BybitClient","timestamp":"2025-10-05T04:22:44.433Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:22:44.434Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215117.23112279\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"1.45008383\",\"totalWalletBalance\":\"215115.78103896\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49992.47375279\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122679.89262504\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4545.827949\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37881.68698332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37899.03679595\",\"unrealisedPnl\":\"1.44942\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759638164629}","module":"BybitClient","timestamp":"2025-10-05T04:22:44.812Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: 0.00%","module":"TradingStrategy","timestamp":"2025-10-05T04:22:44.815Z"}
{"level":"info","message":"Balance obtenido - Total: $215117.23, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T04:22:44.814Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:22:45.884Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:22:45.884Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una ganancia del 0.4% y los indicadores técnicos sugieren una tend...","module":"OllamaClient","timestamp":"2025-10-05T04:22:48.293Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una ganancia del 0.4% y los indicadores técnicos sugieren una tendencia alc...","module":"TradingStrategy","timestamp":"2025-10-05T04:22:48.294Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638168294","module":"BybitClient","timestamp":"2025-10-05T04:22:48.295Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:22:48.294Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:22:48.294Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:22:48.295Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:22:48.639Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-2.8812\",\"markPrice\":\"123940.9\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.05706847\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759638169182}","module":"BybitClient","timestamp":"2025-10-05T04:22:49.363Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:22:49.363Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:22:49.363Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:22:49.364Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:22:49.727Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:22:49.728Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:22:49.727Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:23:48.641Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:23:49.039Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:23:49.040Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:23:49.039Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:23:49.364Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1094","module":"KalmanFilter","timestamp":"2025-10-05T04:23:49.365Z"}
{"level":"debug","message":"Predicción Kalman: 123942.2038606937 (Confianza: 0.825)","module":"KalmanFilter","timestamp":"2025-10-05T04:23:49.365Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:23:50.431Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:23:52.981Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":123872.52726607559,"middle":123929.37,"upper":123986.2127339244},"ema":{"ema21":123927.79441759046,"ema50":123901.19975262925,"ema9":123943.48044692326},"macd":{"histogram":1.8048258332652019,"macd":18.04825833265204,"signal":16.243432499386838},"rsi":58.24139083918414,"volume":{"avg":38.34975000000001,"current":22.565,"ratio":0.5884001851381038}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is at 58.24, MACD histogram is bullish and crossed above the signal line, Bollinger bands are superior and expanding, EMA9 is above EMA21 and EMA50, Kalman predicts a price increase with high confidence (82.5%)","symbol":"BTCUSDT","timestamp":1759638232982}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638232983","module":"BybitClient","timestamp":"2025-10-05T04:23:52.983Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:23:52.984Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-1.24362\",\"markPrice\":\"123946.47\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.06525637\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759638233173}","module":"BybitClient","timestamp":"2025-10-05T04:23:53.353Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:23:53.353Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638233354","module":"BybitClient","timestamp":"2025-10-05T04:23:53.354Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:23:53.354Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215114.18647776\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-1.24419952\",\"totalWalletBalance\":\"215115.43067729\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49993.77375341\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122683.13386485\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4540.633305\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37878.99394332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37896.64555449\",\"unrealisedPnl\":\"-1.24362\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759638233542}","module":"BybitClient","timestamp":"2025-10-05T04:23:53.725Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: -0.00%","module":"TradingStrategy","timestamp":"2025-10-05T04:23:53.725Z"}
{"level":"info","message":"Balance obtenido - Total: $215114.19, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T04:23:53.725Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:23:54.092Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:23:54.092Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"Tienes una posición LONG sólida con pérdida de 0.00%. No hay señales de reversión detectada...","module":"OllamaClient","timestamp":"2025-10-05T04:23:56.140Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: Tienes una posición LONG sólida con pérdida de 0.00%. No hay señales de reversión detectadas, y la t...","module":"TradingStrategy","timestamp":"2025-10-05T04:23:56.142Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638236143","module":"BybitClient","timestamp":"2025-10-05T04:23:56.144Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:23:56.140Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:23:56.143Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:23:56.144Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"-1.24362\",\"markPrice\":\"123946.47\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.06525637\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759638236334}","module":"BybitClient","timestamp":"2025-10-05T04:23:56.516Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:23:56.517Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:23:56.517Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:23:56.518Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:24:48.642Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:24:49.772Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:24:49.773Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:24:49.773Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:24:56.519Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0966","module":"KalmanFilter","timestamp":"2025-10-05T04:24:56.520Z"}
{"level":"debug","message":"Predicción Kalman: 123947.6159835965 (Confianza: 0.835)","module":"KalmanFilter","timestamp":"2025-10-05T04:24:56.520Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:24:56.944Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:25:00.228Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":123889.98579953451,"middle":123939.78000000003,"upper":123989.57420046555},"ema":{"ema21":123937.90107676963,"ema50":123912.02276558736,"ema9":123950.86303284607},"macd":{"histogram":1.5874323645781256,"macd":15.87432364578126,"signal":14.286891281203134},"rsi":66.40454346876534,"volume":{"avg":38.14349000000001,"current":35.666,"ratio":0.9350481563171066}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima del 60, MACD histogram es positivo y creciente, Bollinger está en el inferior, EMA9 cruza por encima de EMA21 y Kalman predice una subida con confianza del 83.5%. Se detectan señales bajistas claras, pero no tan claras como para justificar una posición short. Sugiero una posición long con un leverage moderado (20-30x) y un riesgo bajo (low).","symbol":"BTCUSDT","timestamp":1759638300228}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638300229","module":"BybitClient","timestamp":"2025-10-05T04:25:00.229Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:25:00.230Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"1.2936\",\"markPrice\":\"123955.1\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.07794247\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759638300419}","module":"BybitClient","timestamp":"2025-10-05T04:25:00.603Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:25:00.603Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638300603","module":"BybitClient","timestamp":"2025-10-05T04:25:00.604Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:25:00.604Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215132.14873856\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"1.29423645\",\"totalWalletBalance\":\"215130.85450211\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49994.97375398\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122692.31276693\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4544.693341\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37881.53116332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37900.16887665\",\"unrealisedPnl\":\"1.2936\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759638301486}","module":"BybitClient","timestamp":"2025-10-05T04:25:01.668Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: 0.00%","module":"TradingStrategy","timestamp":"2025-10-05T04:25:01.669Z"}
{"level":"info","message":"Balance obtenido - Total: $215132.15, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T04:25:01.668Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:25:02.729Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:25:02.729Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual es alçista y hay varias señales técnicas que apoyan la dirección actual ...","module":"OllamaClient","timestamp":"2025-10-05T04:25:05.143Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual es alçista y hay varias señales técnicas que apoyan la dirección actual (RSI dent...","module":"TradingStrategy","timestamp":"2025-10-05T04:25:05.144Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638305144","module":"BybitClient","timestamp":"2025-10-05T04:25:05.144Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:25:05.143Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:25:05.144Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:25:05.144Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"1.2936\",\"markPrice\":\"123955.1\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.07794247\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759638305336}","module":"BybitClient","timestamp":"2025-10-05T04:25:05.517Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:25:05.518Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:25:05.518Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:25:05.520Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:25:48.643Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:25:49.053Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:25:49.054Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:25:49.053Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:26:05.524Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0938","module":"KalmanFilter","timestamp":"2025-10-05T04:26:05.524Z"}
{"level":"debug","message":"Predicción Kalman: 123941.90931863365 (Confianza: 0.844)","module":"KalmanFilter","timestamp":"2025-10-05T04:26:05.524Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:26:05.924Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:26:08.714Z"}
{"confidence":0.75,"decision":"BUY","indicators":{"bollinger":{"lower":123909.64925259234,"middle":123945.44000000002,"upper":123981.2307474077},"ema":{"ema21":123940.56334779326,"ema50":123918.03567034756,"ema9":123945.9939985929},"macd":{"histogram":0.9548144180938838,"macd":9.548144180938834,"signal":8.59332976284495},"rsi":54.632396891811446,"volume":{"avg":37.693130000000004,"current":29.638,"ratio":0.7862971315993126}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima del 50, MACD histogram es positivo y creciente, Bollinger superiors y medio, EMA9 cruza por encima de EMA21, Kalman predice subida con confianza del 75%, volumen alto y cambio reciente del -0.02% en las últimas 10 velas.","symbol":"BTCUSDT","timestamp":1759638368714}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638368714","module":"BybitClient","timestamp":"2025-10-05T04:26:08.714Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:26:08.715Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"4.26006\",\"markPrice\":\"123965.19\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.09277477\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759638368910}","module":"BybitClient","timestamp":"2025-10-05T04:26:09.092Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:26:09.093Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638369093","module":"BybitClient","timestamp":"2025-10-05T04:26:09.093Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:26:09.093Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215144.42827476\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"4.26216446\",\"totalWalletBalance\":\"215140.16611029\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49993.47375326\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122702.63429334\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4545.107663\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37884.49762332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37903.21256514\",\"unrealisedPnl\":\"4.26006\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759638369281}","module":"BybitClient","timestamp":"2025-10-05T04:26:09.464Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: 0.01%","module":"TradingStrategy","timestamp":"2025-10-05T04:26:09.465Z"}
{"level":"info","message":"Balance obtenido - Total: $215144.43, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T04:26:09.464Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:26:10.528Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:26:10.529Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una ganancia del 0.012% y los indicadores técnicos sugieren una te...","module":"OllamaClient","timestamp":"2025-10-05T04:26:13.012Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una ganancia del 0.012% y los indicadores técnicos sugieren una tendencia a...","module":"TradingStrategy","timestamp":"2025-10-05T04:26:13.013Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638373014","module":"BybitClient","timestamp":"2025-10-05T04:26:13.014Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:26:13.013Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:26:13.014Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:26:13.014Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"5.3508\",\"markPrice\":\"123968.9\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.09822847\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759638373206}","module":"BybitClient","timestamp":"2025-10-05T04:26:13.387Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:26:13.388Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:26:13.388Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:26:13.389Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:26:48.644Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:26:49.735Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:26:49.735Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:26:49.735Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:27:13.392Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1091","module":"KalmanFilter","timestamp":"2025-10-05T04:27:13.393Z"}
{"level":"debug","message":"Predicción Kalman: 123956.34252117672 (Confianza: 0.847)","module":"KalmanFilter","timestamp":"2025-10-05T04:27:13.393Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:27:14.481Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:27:17.215Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":123922.89045646436,"middle":123951.37000000002,"upper":123979.84954353569},"ema":{"ema21":123948.19603936099,"ema50":123926.35284696234,"ema9":123957.59598546055},"macd":{"histogram":1.1066157383102109,"macd":11.066157383102109,"signal":9.959541644791898},"rsi":56.76605504587346,"volume":{"avg":37.327600000000004,"current":36.149,"ratio":0.9684255082030454}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima del 50, MACD histogram es positivo y creciente, Bollinger bands están en el inferior, EMA9 cruza por encima de EMA21 y Kalman predice una subida con confianza del 84.7%. Se sugiera apostar a la subida.","symbol":"BTCUSDT","timestamp":1759638437216}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638437216","module":"BybitClient","timestamp":"2025-10-05T04:27:17.217Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:27:17.218Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"22.6968\",\"markPrice\":\"124027.9\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.18495847\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759638437411}","module":"BybitClient","timestamp":"2025-10-05T04:27:17.593Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:27:17.594Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638437594","module":"BybitClient","timestamp":"2025-10-05T04:27:17.594Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:27:17.594Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215217.40516365\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"22.70819379\",\"totalWalletBalance\":\"215194.69696986\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49993.37375322\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122754.56203306\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4547.507741\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37902.93436332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37921.96163637\",\"unrealisedPnl\":\"22.6968\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759638438477}","module":"BybitClient","timestamp":"2025-10-05T04:27:18.659Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: 0.06%","module":"TradingStrategy","timestamp":"2025-10-05T04:27:18.660Z"}
{"level":"info","message":"Balance obtenido - Total: $215217.41, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T04:27:18.660Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:27:19.032Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:27:19.033Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual es saludable con una ganancia del 0.06% y sin señales de reversión. Mant...","module":"OllamaClient","timestamp":"2025-10-05T04:27:20.693Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual es saludable con una ganancia del 0.06% y sin señales de reversión. Mantener la p...","module":"TradingStrategy","timestamp":"2025-10-05T04:27:20.694Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638440694","module":"BybitClient","timestamp":"2025-10-05T04:27:20.694Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:27:20.693Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:27:20.694Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:27:20.695Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"22.6968\",\"markPrice\":\"124027.9\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.18495847\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759638441593}","module":"BybitClient","timestamp":"2025-10-05T04:27:21.776Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:27:21.778Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:27:21.776Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:27:21.779Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:27:48.645Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:27:49.767Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:27:49.769Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:27:49.767Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:28:21.784Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1571","module":"KalmanFilter","timestamp":"2025-10-05T04:28:21.785Z"}
{"level":"debug","message":"Predicción Kalman: 123970.62723275156 (Confianza: 0.853)","module":"KalmanFilter","timestamp":"2025-10-05T04:28:21.786Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:28:22.186Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:28:25.704Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":123914.20745222353,"middle":123958.62000000002,"upper":124003.03254777651},"ema":{"ema21":123960.03980312485,"ema50":123937.02363117435,"ema9":123976.10652453177},"macd":{"histogram":1.5595924803958034,"macd":15.595924803958042,"signal":14.036332323562238},"rsi":63.5210150674064,"volume":{"avg":37.96788000000001,"current":111.064,"ratio":2.9252094138519182}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está en un nivel alto (63.52) indicando una posible tendencia bajista. Sin embargo, hay señales bullish en los MACD y Bollinger, como el cruce de la EMA9 por encima de la EMA21, lo que sugiere una posible reversión de la tendencia. Además, el precio actual está dentro de un rango superior del Bollinger, lo que indica un alto volumen y movimiento en el mercado. Considerando todos estos factores, es más probable que el precio continúe subiendo.","symbol":"BTCUSDT","timestamp":1759638505704}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638505705","module":"BybitClient","timestamp":"2025-10-05T04:28:25.705Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:28:25.706Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"18.67488\",\"markPrice\":\"124014.22\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.16484887\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759638506594}","module":"BybitClient","timestamp":"2025-10-05T04:28:26.777Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:28:26.777Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638506777","module":"BybitClient","timestamp":"2025-10-05T04:28:26.777Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:28:26.777Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215204.51527929\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"18.81354809\",\"totalWalletBalance\":\"215185.70173119\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49992.72375291\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122747.56051537\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4546.429182\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37899.04180332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37917.80182901\",\"unrealisedPnl\":\"18.80424\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759638506965}","module":"BybitClient","timestamp":"2025-10-05T04:28:27.150Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: 0.05%","module":"TradingStrategy","timestamp":"2025-10-05T04:28:27.152Z"}
{"level":"info","message":"Balance obtenido - Total: $215204.52, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T04:28:27.151Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:28:28.217Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:28:28.217Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una tendencia alcista y indicadores técnicos bullish (RSI, MACD hi...","module":"OllamaClient","timestamp":"2025-10-05T04:28:30.380Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una tendencia alcista y indicadores técnicos bullish (RSI, MACD histogram, ...","module":"TradingStrategy","timestamp":"2025-10-05T04:28:30.381Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638510381","module":"BybitClient","timestamp":"2025-10-05T04:28:30.381Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:28:30.381Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:28:30.381Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:28:30.382Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"18.80424\",\"markPrice\":\"124014.66\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.16549567\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759638511263}","module":"BybitClient","timestamp":"2025-10-05T04:28:31.443Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:28:31.443Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:28:31.443Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:28:31.444Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:28:48.647Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:28:49.743Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:28:49.744Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:28:49.743Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:29:31.446Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1485","module":"KalmanFilter","timestamp":"2025-10-05T04:29:31.447Z"}
{"level":"debug","message":"Predicción Kalman: 123988.66158108338 (Confianza: 0.870)","module":"KalmanFilter","timestamp":"2025-10-05T04:29:31.447Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:29:32.546Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:29:34.920Z"}
{"confidence":0.6,"decision":"HOLD","indicators":{"bollinger":{"lower":123906.77635128397,"middle":123968.43000000001,"upper":124030.08364871604},"ema":{"ema21":123974.49581892895,"ema50":123947.59158457928,"ema9":123994.7779779676},"macd":{"histogram":1.949752676459319,"macd":19.497526764593204,"signal":17.547774088133885},"rsi":61.51165907263462,"volume":{"avg":38.987330000000014,"current":10.088,"ratio":0.25875072747992733}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"No enough clear bearish signals to suggest a sell or short position. Market sentiment is neutral and volume is low, indicating lack of conviction. Kalman prediction is also neutral with a confidence level of 60%. Holding position for now.","symbol":"BTCUSDT","timestamp":1759638574920}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638574920","module":"BybitClient","timestamp":"2025-10-05T04:29:34.920Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:29:34.920Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"18.1251\",\"markPrice\":\"124012.35\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.16209997\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759638575117}","module":"BybitClient","timestamp":"2025-10-05T04:29:35.300Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:29:35.300Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638575300","module":"BybitClient","timestamp":"2025-10-05T04:29:35.301Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:29:35.301Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215175.108908\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"18.13322004\",\"totalWalletBalance\":\"215156.97568796\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49990.57375189\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122729.94049532\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4539.253531\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37898.36266332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37915.34112979\",\"unrealisedPnl\":\"18.1251\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759638575489}","module":"BybitClient","timestamp":"2025-10-05T04:29:35.673Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: 0.05%","module":"TradingStrategy","timestamp":"2025-10-05T04:29:35.674Z"}
{"level":"info","message":"Balance obtenido - Total: $215175.11, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T04:29:35.673Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:29:36.745Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:29:36.745Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una tendencia alcista (RSI>60, MACD>0, EMA9>EMA21), y no hay señal...","module":"OllamaClient","timestamp":"2025-10-05T04:29:38.887Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una tendencia alcista (RSI>60, MACD>0, EMA9>EMA21), y no hay señales de rev...","module":"TradingStrategy","timestamp":"2025-10-05T04:29:38.887Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638578887","module":"BybitClient","timestamp":"2025-10-05T04:29:38.887Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:29:38.887Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:29:38.887Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:29:38.887Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"13.49754\",\"markPrice\":\"123996.61\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.13896217\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759638579076}","module":"BybitClient","timestamp":"2025-10-05T04:29:39.261Z"}
{"level":"info","message":"Ya existe una posición abierta, no se abrirá nueva posición","module":"TradingStrategy","timestamp":"2025-10-05T04:29:39.262Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:29:39.262Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:29:39.262Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:29:48.648Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:29:49.048Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:29:49.049Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:29:49.048Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:30:39.276Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1866","module":"KalmanFilter","timestamp":"2025-10-05T04:30:39.277Z"}
{"level":"debug","message":"Predicción Kalman: 123982.24922602416 (Confianza: 0.873)","module":"KalmanFilter","timestamp":"2025-10-05T04:30:39.278Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:30:39.678Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:30:42.447Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":123919.79599828324,"middle":123979.21,"upper":124038.62400171677},"ema":{"ema21":123979.81883868488,"ema50":123953.68196798567,"ema9":123989.845455815},"macd":{"histogram":1.3051632842049,"macd":13.051632842049003,"signal":11.746469557844103},"rsi":52.883031301482745,"volume":{"avg":41.34341000000001,"current":91.114,"ratio":2.2038336944146595}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is above 50, MACD histogram is bullish and crossed above 0, Bollinger bands are expanding and the price is above the upper band, EMA9 is above EMA21 and EMA50, Kalman predicts a bullish movement with confidence above 75%, volume is high and increasing, indicating strong buying pressure.","symbol":"BTCUSDT","timestamp":1759638642447}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638642448","module":"BybitClient","timestamp":"2025-10-05T04:30:42.448Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:30:42.448Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"0.14406\",\"markPrice\":\"123951.19\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.07219477\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759638643331}","module":"BybitClient","timestamp":"2025-10-05T04:30:43.512Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:30:43.513Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638643513","module":"BybitClient","timestamp":"2025-10-05T04:30:43.513Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:30:43.513Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215119.49576632\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0.14413058\",\"totalWalletBalance\":\"215119.35163573\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49993.52375329\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122693.25647172\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4533.772531\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37880.38162332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37898.94301031\",\"unrealisedPnl\":\"0.14406\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759638643700}","module":"BybitClient","timestamp":"2025-10-05T04:30:43.882Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: 0.00%","module":"TradingStrategy","timestamp":"2025-10-05T04:30:43.884Z"}
{"level":"info","message":"Balance obtenido - Total: $215119.50, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T04:30:43.883Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:30:44.944Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:30:44.944Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"Tienes una posición LONG con ganancia de 0.00%. Sin señales de reversión detectadas, la ten...","module":"OllamaClient","timestamp":"2025-10-05T04:30:46.967Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: Tienes una posición LONG con ganancia de 0.00%. Sin señales de reversión detectadas, la tendencia es...","module":"TradingStrategy","timestamp":"2025-10-05T04:30:46.969Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638646972","module":"BybitClient","timestamp":"2025-10-05T04:30:46.972Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:30:46.968Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:30:46.972Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:30:46.971Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"9.4668\",\"markPrice\":\"123982.9\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.11880847\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759638647852}","module":"BybitClient","timestamp":"2025-10-05T04:30:48.033Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:30:48.034Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:30:48.034Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:30:48.034Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:30:48.648Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:30:49.711Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:30:49.711Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:30:49.711Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:31:48.035Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1699","module":"KalmanFilter","timestamp":"2025-10-05T04:31:48.036Z"}
{"level":"debug","message":"Predicción Kalman: 123984.81786675064 (Confianza: 0.879)","module":"KalmanFilter","timestamp":"2025-10-05T04:31:48.037Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:31:48.649Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:31:49.145Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:31:49.740Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:31:49.741Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:31:49.741Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:31:51.632Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":123933.26335578966,"middle":123987.69000000002,"upper":124042.11664421037},"ema":{"ema21":123984.3455335986,"ema50":123960.42871254586,"ema9":123990.22449496403},"macd":{"histogram":0.9311507177961165,"macd":9.311507177961175,"signal":8.380356460165059},"rsi":55.89473684210373,"volume":{"avg":43.54997000000001,"current":38.098,"ratio":0.8748111651971285}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima de 55, MACD histogram es positivo y crece, Bollinger está en el superior, EMA9 cruza por encima de EMA21, Kalman predice una subida con confianza del 87.9%","symbol":"BTCUSDT","timestamp":1759638711632}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638711633","module":"BybitClient","timestamp":"2025-10-05T04:31:51.633Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:31:51.633Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"14.4648\",\"markPrice\":\"123999.9\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.14379847\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759638711824}","module":"BybitClient","timestamp":"2025-10-05T04:31:52.005Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:31:52.006Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638712006","module":"BybitClient","timestamp":"2025-10-05T04:31:52.006Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:31:52.006Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215178.36241684\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"14.47156952\",\"totalWalletBalance\":\"215163.89084732\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49993.57375331\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122733.7962305\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4538.555349\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37894.70236332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37912.43708402\",\"unrealisedPnl\":\"14.4648\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759638712889}","module":"BybitClient","timestamp":"2025-10-05T04:31:53.070Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: 0.04%","module":"TradingStrategy","timestamp":"2025-10-05T04:31:53.070Z"}
{"level":"info","message":"Balance obtenido - Total: $215178.36, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T04:31:53.070Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:31:54.137Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:31:54.137Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una ganancia del 0.04%, que es un buen inicio. Además, los indicad...","module":"OllamaClient","timestamp":"2025-10-05T04:31:57.067Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una ganancia del 0.04%, que es un buen inicio. Además, los indicadores técn...","module":"TradingStrategy","timestamp":"2025-10-05T04:31:57.068Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638717068","module":"BybitClient","timestamp":"2025-10-05T04:31:57.069Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:31:57.068Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:31:57.068Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:31:57.069Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"14.1708\",\"markPrice\":\"123998.9\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.14232847\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759638717267}","module":"BybitClient","timestamp":"2025-10-05T04:31:57.448Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:31:57.448Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:31:57.448Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:31:57.448Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:32:48.651Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:32:49.783Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:32:49.784Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:32:49.784Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:32:57.450Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1316","module":"KalmanFilter","timestamp":"2025-10-05T04:32:57.450Z"}
{"level":"debug","message":"Predicción Kalman: 123991.20333005374 (Confianza: 0.894)","module":"KalmanFilter","timestamp":"2025-10-05T04:32:57.451Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:32:58.543Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:33:01.233Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":123958.30918506469,"middle":123993.205,"upper":124028.10081493531},"ema":{"ema21":123990.52219579784,"ema50":123970.83746900588,"ema9":123992.80918972228},"macd":{"histogram":0.4915970813817694,"macd":4.915970813817694,"signal":4.4243737324359245},"rsi":48.3003251551875,"volume":{"avg":48.110290000000006,"current":23.617,"ratio":0.49089290461562374}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima de 70, MACD histogram es bullish y el precio actual está por encima del EMA9. Además, la confianza de Kalman es del 89.4% y el tendencia es alcista. Sugiero comprar con un leveraje de 20x.","symbol":"BTCUSDT","timestamp":1759638781233}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638781235","module":"BybitClient","timestamp":"2025-10-05T04:33:01.235Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:33:01.236Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"12.55968\",\"markPrice\":\"123993.42\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.13427287\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759638781427}","module":"BybitClient","timestamp":"2025-10-05T04:33:01.609Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:33:01.609Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638781609","module":"BybitClient","timestamp":"2025-10-05T04:33:01.609Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:33:01.610Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215169.83317232\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"12.56558304\",\"totalWalletBalance\":\"215157.26758928\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49992.77375293\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122727.41161837\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4539.040943\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37892.79724332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37910.60685802\",\"unrealisedPnl\":\"12.55968\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759638781798}","module":"BybitClient","timestamp":"2025-10-05T04:33:01.979Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: 0.03%","module":"TradingStrategy","timestamp":"2025-10-05T04:33:01.980Z"}
{"level":"info","message":"Balance obtenido - Total: $215169.83, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T04:33:01.980Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:33:03.037Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:33:03.037Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual está ganando con un pequeño margen, y no hay señales claras de reversión...","module":"OllamaClient","timestamp":"2025-10-05T04:33:04.617Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual está ganando con un pequeño margen, y no hay señales claras de reversión. Mantene...","module":"TradingStrategy","timestamp":"2025-10-05T04:33:04.618Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638784619","module":"BybitClient","timestamp":"2025-10-05T04:33:04.619Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:33:04.618Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:33:04.619Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:33:04.620Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"12.55968\",\"markPrice\":\"123993.42\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.13427287\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759638784815}","module":"BybitClient","timestamp":"2025-10-05T04:33:04.996Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:33:04.996Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:33:04.996Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:33:04.997Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:33:48.652Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:33:49.056Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:33:49.057Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:33:49.057Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:34:05.003Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1064","module":"KalmanFilter","timestamp":"2025-10-05T04:34:05.004Z"}
{"level":"debug","message":"Predicción Kalman: 123991.69217326344 (Confianza: 0.902)","module":"KalmanFilter","timestamp":"2025-10-05T04:34:05.004Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:34:06.171Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:34:08.639Z"}
{"confidence":0.63,"decision":"BUY","indicators":{"bollinger":{"lower":123959.70968918256,"middle":123993.17000000001,"upper":124026.63031081746},"ema":{"ema21":123989.85473271419,"ema50":123973.18567734212,"ema9":123989.75190727605},"macd":{"histogram":0.21897785106702927,"macd":2.189778510670294,"signal":1.9708006596032648},"rsi":43.63636363636054,"volume":{"avg":49.34018999999999,"current":5.016,"ratio":0.10166154609457322}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is at 43.64, MACD histogram is bullish, Bollinger bands are superior and the price is above the EMA9. The Kalman prediction is also bullish with a confidence of 63.6%. Signals for a long position are present.","symbol":"BTCUSDT","timestamp":1759638848640}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638848640","module":"BybitClient","timestamp":"2025-10-05T04:34:08.641Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:34:08.641Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"10.60752\",\"markPrice\":\"123986.78\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.12451207\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759638849527}","module":"BybitClient","timestamp":"2025-10-05T04:34:09.710Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:34:09.711Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638849711","module":"BybitClient","timestamp":"2025-10-05T04:34:09.712Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:34:09.713Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215161.02018338\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"10.61234642\",\"totalWalletBalance\":\"215150.40783696\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49990.67375193\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122722.84915961\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4539.411854\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37890.84508332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37908.08541783\",\"unrealisedPnl\":\"10.60752\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759638850625}","module":"BybitClient","timestamp":"2025-10-05T04:34:10.807Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: 0.03%","module":"TradingStrategy","timestamp":"2025-10-05T04:34:10.809Z"}
{"level":"info","message":"Balance obtenido - Total: $215161.02, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T04:34:10.809Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:34:11.874Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:34:11.874Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.6,\n  \"reasoning\": \"La posición actual tiene una ganancia del 0.03%, y aunque hay señales de reversión débiles ...","module":"OllamaClient","timestamp":"2025-10-05T04:34:14.422Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una ganancia del 0.03%, y aunque hay señales de reversión débiles (death cr...","module":"TradingStrategy","timestamp":"2025-10-05T04:34:14.422Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638854423","module":"BybitClient","timestamp":"2025-10-05T04:34:14.423Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:34:14.423Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 60%)","module":"OllamaClient","timestamp":"2025-10-05T04:34:14.422Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:34:14.423Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"10.43112\",\"markPrice\":\"123986.18\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.12363007\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759638854613}","module":"BybitClient","timestamp":"2025-10-05T04:34:14.793Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:34:14.793Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:34:14.793Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:34:14.794Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:34:48.652Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:34:49.059Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:34:49.060Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:34:49.060Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:35:14.796Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0766","module":"KalmanFilter","timestamp":"2025-10-05T04:35:14.797Z"}
{"level":"debug","message":"Predicción Kalman: 123990.57015315986 (Confianza: 0.888)","module":"KalmanFilter","timestamp":"2025-10-05T04:35:14.797Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:35:15.886Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:35:18.443Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":123962.07774555599,"middle":123993.85500000001,"upper":124025.63225444403},"ema":{"ema21":123991.69185925073,"ema50":123978.36652087393,"ema9":123992.48459298121},"macd":{"histogram":0.21721765342226718,"macd":2.1721765342226718,"signal":1.9549588808004046},"rsi":50,"volume":{"avg":49.92838999999999,"current":18.946,"ratio":0.37946346757826566}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima del 50%, MACD histogram es positivo y creciente, Bollinger está en el superior, EMA9 cruza por encima de EMA21, Kalman predice una subida con confianza del 88.8%","symbol":"BTCUSDT","timestamp":1759638918443}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638918444","module":"BybitClient","timestamp":"2025-10-05T04:35:18.444Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:35:18.445Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"15.08808\",\"markPrice\":\"124002.02\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.14691487\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759638918635}","module":"BybitClient","timestamp":"2025-10-05T04:35:18.816Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:35:18.816Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638918817","module":"BybitClient","timestamp":"2025-10-05T04:35:18.817Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:35:18.817Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215191.02328053\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"15.09480928\",\"totalWalletBalance\":\"215175.92847124\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49994.37375369\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122743.10417928\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4541.318389\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37895.32564332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37912.22695855\",\"unrealisedPnl\":\"15.08808\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759638919008}","module":"BybitClient","timestamp":"2025-10-05T04:35:19.191Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: 0.04%","module":"TradingStrategy","timestamp":"2025-10-05T04:35:19.191Z"}
{"level":"info","message":"Balance obtenido - Total: $215191.02, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T04:35:19.191Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:35:19.564Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:35:19.564Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una ganancia del 0.04%, que es un buen inicio. Sin embargo, hay un...","module":"OllamaClient","timestamp":"2025-10-05T04:35:22.524Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una ganancia del...","module":"TradingStrategy","timestamp":"2025-10-05T04:35:22.524Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638922524","module":"BybitClient","timestamp":"2025-10-05T04:35:22.524Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-05T04:35:22.524Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-05T04:35:22.524Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 30%)","module":"OllamaClient","timestamp":"2025-10-05T04:35:22.524Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:35:22.524Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:35:22.525Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"15.12336\",\"markPrice\":\"124002.14\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.14709127\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759638922720}","module":"BybitClient","timestamp":"2025-10-05T04:35:22.902Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:35:22.903Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:35:22.902Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:35:22.903Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:35:48.653Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:35:49.051Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:35:49.052Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:35:49.052Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:36:22.906Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1081","module":"KalmanFilter","timestamp":"2025-10-05T04:36:22.907Z"}
{"level":"debug","message":"Predicción Kalman: 123996.62986681607 (Confianza: 0.881)","module":"KalmanFilter","timestamp":"2025-10-05T04:36:22.907Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:36:24.019Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":123960.3039010964,"middle":123993.68999999999,"upper":124027.07609890358},"ema":{"ema21":123994.8623932316,"ema50":123982.36593381526,"ema9":123999.17962342937},"macd":{"histogram":0.41629890299373074,"macd":4.162989029937307,"signal":3.7466901269435766},"rsi":63.50822239623995,"volume":{"avg":51.02283999999998,"current":155.82,"ratio":3.053926437650277}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está en el 63.51%, MACD histogram es bullish y el precio actual está sobre la banda superior del Bollinger. Además, el Kalman predice una subida con confianza del 88.1%. Considerando que los SHORTS son tan importantes como los LONGS en scalping, y que las caídas en crypto son rápidos y violentas, es más rentable apostar a la subida.","symbol":"BTCUSDT","timestamp":1759638987118}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:36:27.118Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638987119","module":"BybitClient","timestamp":"2025-10-05T04:36:27.119Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:36:27.119Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"31.8696\",\"markPrice\":\"124059.1\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.23082247\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759638987318}","module":"BybitClient","timestamp":"2025-10-05T04:36:27.504Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:36:27.505Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638987505","module":"BybitClient","timestamp":"2025-10-05T04:36:27.505Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:36:27.506Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215251.7813591\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"31.88308084\",\"totalWalletBalance\":\"215219.89827826\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49989.47375136\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122791.48580708\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4542.677816\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37912.10716332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37928.14398465\",\"unrealisedPnl\":\"31.8696\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759638987701}","module":"BybitClient","timestamp":"2025-10-05T04:36:27.886Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: 0.09%","module":"TradingStrategy","timestamp":"2025-10-05T04:36:27.887Z"}
{"level":"info","message":"Balance obtenido - Total: $215251.78, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T04:36:27.886Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:36:28.253Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:36:28.253Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una tendencia alcista (RSI>60, MACD>0, EMA9>EMA21), y no hay señal...","module":"OllamaClient","timestamp":"2025-10-05T04:36:30.268Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una tendencia alcista (RSI>60, MACD>0, EMA9>EMA21), y no hay señales de rev...","module":"TradingStrategy","timestamp":"2025-10-05T04:36:30.269Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759638990269","module":"BybitClient","timestamp":"2025-10-05T04:36:30.269Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:36:30.268Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:36:30.269Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:36:30.270Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"31.8696\",\"markPrice\":\"124059.1\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.23082247\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759638991165}","module":"BybitClient","timestamp":"2025-10-05T04:36:31.344Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:36:31.345Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:36:31.344Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:36:31.345Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:36:48.655Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:36:49.057Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:36:49.058Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:36:49.057Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:37:31.350Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1812","module":"KalmanFilter","timestamp":"2025-10-05T04:37:31.351Z"}
{"level":"debug","message":"Predicción Kalman: 124023.3057005934 (Confianza: 0.906)","module":"KalmanFilter","timestamp":"2025-10-05T04:37:31.351Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:37:32.458Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:37:35.361Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":123922.6150593001,"middle":124003.76999999997,"upper":124084.92494069986},"ema":{"ema21":124012.03556325045,"ema50":123991.88850784668,"ema9":124034.35044300352},"macd":{"histogram":1.7439574196192549,"macd":17.439574196192552,"signal":15.695616776573297},"rsi":69.40317956736868,"volume":{"avg":53.996479999999984,"current":230.358,"ratio":4.266166979773498}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima del 69 (alto), MACD histogram es bullish y el precio actual está dentro de la banda superior del Bollinger. Además, la Kalman predice una subida con confianza del 75%. Se sugiero comprar con un leverage alto (10-50x) para aprovechar al máximo la oportunidad de ganancia.","symbol":"BTCUSDT","timestamp":1759639055361}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639055362","module":"BybitClient","timestamp":"2025-10-05T04:37:35.362Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:37:35.362Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"82.8492\",\"markPrice\":\"124232.5\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.48572047\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759639056251}","module":"BybitClient","timestamp":"2025-10-05T04:37:36.433Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:37:36.434Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639056434","module":"BybitClient","timestamp":"2025-10-05T04:37:36.434Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:37:36.434Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215474.55807382\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"82.88639929\",\"totalWalletBalance\":\"215391.67167453\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49991.17375217\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122953.40971637\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4549.842416\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37963.08676332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37980.13218927\",\"unrealisedPnl\":\"82.8492\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759639056622}","module":"BybitClient","timestamp":"2025-10-05T04:37:36.803Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: 0.23%","module":"TradingStrategy","timestamp":"2025-10-05T04:37:36.804Z"}
{"level":"info","message":"Balance obtenido - Total: $215474.56, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T04:37:36.803Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:37:37.169Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:37:37.169Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una tendencia alcista (RSI>60, MACD>0, EMA9>EMA21), y no hay señal...","module":"OllamaClient","timestamp":"2025-10-05T04:37:39.317Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una tendencia alcista (RSI>60, MACD>0, EMA9>EMA21), y no hay señales de rev...","module":"TradingStrategy","timestamp":"2025-10-05T04:37:39.319Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639059320","module":"BybitClient","timestamp":"2025-10-05T04:37:39.320Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:37:39.318Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:37:39.320Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:37:39.320Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"85.6128\",\"markPrice\":\"124241.9\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.49953847\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759639059512}","module":"BybitClient","timestamp":"2025-10-05T04:37:39.698Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:37:39.699Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:37:39.699Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:37:39.700Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:37:48.655Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:37:49.775Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:37:49.775Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:37:49.775Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:38:39.704Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.2000","module":"KalmanFilter","timestamp":"2025-10-05T04:38:39.705Z"}
{"level":"debug","message":"Predicción Kalman: 124066.59645361485 (Confianza: 0.902)","module":"KalmanFilter","timestamp":"2025-10-05T04:38:39.705Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:38:40.796Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:38:43.547Z"}
{"confidence":0.67,"decision":"BUY","indicators":{"bollinger":{"lower":123884.17496679713,"middle":124027.23499999999,"upper":124170.29503320284},"ema":{"ema21":124043.90612991138,"ema50":124009.74533387057,"ema9":124087.8119211653},"macd":{"histogram":3.584767232960438,"macd":35.84767232960439,"signal":32.262905096643955},"rsi":65.26672753358383,"volume":{"avg":58.92213999999999,"current":170.039,"ratio":2.885825260250222}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está en un nivel alto (65) y MACD tiene un histograma bullish. Además, el precio actual es superior al Bollinger Superior y el EMA9 cruza por encima del EMA21, lo que sugiere una posible subida. Kalman también predice una subida con confianza del 67%","symbol":"BTCUSDT","timestamp":1759639123547}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639123547","module":"BybitClient","timestamp":"2025-10-05T04:38:43.547Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:38:43.547Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"51.5088\",\"markPrice\":\"124125.9\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.32901847\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759639123734}","module":"BybitClient","timestamp":"2025-10-05T04:38:43.917Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:38:43.917Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639123918","module":"BybitClient","timestamp":"2025-10-05T04:38:43.918Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:38:43.918Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215350.34525746\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"51.5339878\",\"totalWalletBalance\":\"215298.81126966\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49993.92375348\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122859.52086069\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4546.605656\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37931.74636332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37950.29498729\",\"unrealisedPnl\":\"51.5088\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759639124804}","module":"BybitClient","timestamp":"2025-10-05T04:38:44.988Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: 0.14%","module":"TradingStrategy","timestamp":"2025-10-05T04:38:44.988Z"}
{"level":"info","message":"Balance obtenido - Total: $215350.35, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T04:38:44.988Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:38:45.366Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:38:45.366Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"Tienes una posición LONG con ganancia de 0.14%. Sin señales de reversión detectadas y con i...","module":"OllamaClient","timestamp":"2025-10-05T04:38:47.646Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: Tienes una posición LONG con ganancia de 0.14%. Sin señales de reversión detectadas y con indicadore...","module":"TradingStrategy","timestamp":"2025-10-05T04:38:47.647Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639127647","module":"BybitClient","timestamp":"2025-10-05T04:38:47.647Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:38:47.647Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:38:47.647Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:38:47.647Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"50.32986\",\"markPrice\":\"124121.89\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.32312377\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759639127839}","module":"BybitClient","timestamp":"2025-10-05T04:38:48.023Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:38:48.024Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:38:48.023Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:38:48.024Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:38:48.656Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:38:49.731Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:38:49.732Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:38:49.731Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:39:48.026Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.2000","module":"KalmanFilter","timestamp":"2025-10-05T04:39:48.026Z"}
{"level":"debug","message":"Predicción Kalman: 124084.38663666934 (Confianza: 0.895)","module":"KalmanFilter","timestamp":"2025-10-05T04:39:48.026Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:39:48.436Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:39:48.656Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:39:49.715Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:39:49.717Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:39:49.716Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:39:50.982Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639190983","module":"BybitClient","timestamp":"2025-10-05T04:39:50.983Z"}
{"confidence":0.6,"decision":"HOLD","indicators":{"bollinger":{"lower":123890.44557791068,"middle":124052.23500000002,"upper":124214.02442208935},"ema":{"ema21":124065.98876480067,"ema50":124024.86206815811,"ema9":124102.65686631597},"macd":{"histogram":3.5053474470449153,"macd":35.053474470449146,"signal":31.54812702340423},"rsi":55.73357335733604,"volume":{"avg":65.95781000000002,"current":132.175,"ratio":2.0039325138296733}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"No enough evidence to suggest a clear directional move. RSI and MACD are neutral, Bollinger bands are flat, EMAs are converging, and Kalman forecast is neutral. With high volatility in the market, it's better to hold rather than make a decision based on limited information.","symbol":"BTCUSDT","timestamp":1759639190982}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:39:50.983Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"80.1738\",\"markPrice\":\"124223.4\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.47234347\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759639191179}","module":"BybitClient","timestamp":"2025-10-05T04:39:51.359Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:39:51.359Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639191360","module":"BybitClient","timestamp":"2025-10-05T04:39:51.360Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:39:51.360Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215475.82991959\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"80.21276446\",\"totalWalletBalance\":\"215395.61715512\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49993.92375348\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122952.78147687\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4550.264566\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37960.41136332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37978.86012324\",\"unrealisedPnl\":\"80.1738\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759639192242}","module":"BybitClient","timestamp":"2025-10-05T04:39:52.423Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: 0.22%","module":"TradingStrategy","timestamp":"2025-10-05T04:39:52.424Z"}
{"level":"info","message":"Balance obtenido - Total: $215475.83, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T04:39:52.424Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:39:53.484Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:39:53.484Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual es saludable con una ganancia del 0.22%. No hay señales de reversión det...","module":"OllamaClient","timestamp":"2025-10-05T04:39:55.980Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual es saludable con una ganancia del 0.22%. No hay señales de reversión detectadas y...","module":"TradingStrategy","timestamp":"2025-10-05T04:39:55.981Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639195982","module":"BybitClient","timestamp":"2025-10-05T04:39:55.982Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:39:55.981Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:39:55.982Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:39:55.982Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"75.26106\",\"markPrice\":\"124206.69\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.44777977\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759639196866}","module":"BybitClient","timestamp":"2025-10-05T04:39:57.047Z"}
{"level":"info","message":"Ya existe una posición abierta, no se abrirá nueva posición","module":"TradingStrategy","timestamp":"2025-10-05T04:39:57.048Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:39:57.047Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:39:57.048Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:40:48.656Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:40:49.057Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:40:49.057Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:40:49.057Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:40:57.050Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1986","module":"KalmanFilter","timestamp":"2025-10-05T04:40:57.051Z"}
{"level":"debug","message":"Predicción Kalman: 124130.80253643576 (Confianza: 0.858)","module":"KalmanFilter","timestamp":"2025-10-05T04:40:57.051Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:40:57.467Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:41:00.498Z"}
{"confidence":0.85,"decision":"BUY","indicators":{"bollinger":{"lower":123970.35771358869,"middle":124122.88500000001,"upper":124275.41228641133},"ema":{"ema21":124124.09109564258,"ema50":124069.72672650884,"ema9":124156.66212151622},"macd":{"histogram":3.70891321880044,"macd":37.08913218800444,"signal":33.380218969204},"rsi":61.920426065162516,"volume":{"avg":78.28115000000003,"current":21.45,"ratio":0.2740123260836101}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is high (61.92) and MACD histogram is bullish (3.708913). Bollinger bands are also in a bullish position (superior 124275.41, medium 124122.89, inferior 123970.36). Additionally, Kalman predicts a price increase with high confidence (85.8%)","symbol":"BTCUSDT","timestamp":1759639260498}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639260499","module":"BybitClient","timestamp":"2025-10-05T04:41:00.500Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:41:00.501Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"56.18928\",\"markPrice\":\"124141.82\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.35242087\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759639260692}","module":"BybitClient","timestamp":"2025-10-05T04:41:00.874Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:41:00.874Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639260875","module":"BybitClient","timestamp":"2025-10-05T04:41:00.875Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:41:00.875Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215383.67923563\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"56.21788034\",\"totalWalletBalance\":\"215327.46135528\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49994.47375374\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122886.8994723\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4546.569525\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37936.42684332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37955.73648458\",\"unrealisedPnl\":\"56.18928\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759639261064}","module":"BybitClient","timestamp":"2025-10-05T04:41:01.251Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: 0.15%","module":"TradingStrategy","timestamp":"2025-10-05T04:41:01.251Z"}
{"level":"info","message":"Balance obtenido - Total: $215383.68, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T04:41:01.251Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:41:02.331Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:41:02.331Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una tendencia alcista y indicadores técnicos bullish (RSI, MACD hi...","module":"OllamaClient","timestamp":"2025-10-05T04:41:04.147Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una tendencia alcista y indicadores técnicos bullish (RSI, MACD histogram)....","module":"TradingStrategy","timestamp":"2025-10-05T04:41:04.148Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639264148","module":"BybitClient","timestamp":"2025-10-05T04:41:04.148Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:41:04.147Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:41:04.148Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:41:04.148Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"56.18928\",\"markPrice\":\"124141.82\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.35242087\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759639264340}","module":"BybitClient","timestamp":"2025-10-05T04:41:04.522Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:41:04.523Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:41:04.522Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:41:04.523Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:41:48.658Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:41:49.060Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:41:49.060Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:41:49.060Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:42:04.524Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1288","module":"KalmanFilter","timestamp":"2025-10-05T04:42:04.525Z"}
{"level":"debug","message":"Predicción Kalman: 124153.39197090932 (Confianza: 0.867)","module":"KalmanFilter","timestamp":"2025-10-05T04:42:04.525Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:42:05.619Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:42:08.384Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":124035.16179542652,"middle":124143.80500000002,"upper":124252.44820457352},"ema":{"ema21":124140.35744467992,"ema50":124087.17917451028,"ema9":124164.07187597262},"macd":{"histogram":2.9948331865147324,"macd":29.94833186514734,"signal":26.953498678632606},"rsi":64.52365796732326,"volume":{"avg":81.36220000000002,"current":11.36,"ratio":0.1396225765773295}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima del 64 (alto), MACD histogram es positivo y creciente, Bollinger superiors y mediums están por debajo, EMA9 cruza por encima de EMA21 (golden cross) y Kalman predice una subida con confianza del 86.7%","symbol":"BTCUSDT","timestamp":1759639328384}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639328384","module":"BybitClient","timestamp":"2025-10-05T04:42:08.384Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:42:08.384Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"80.3208\",\"markPrice\":\"124223.9\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.47307847\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759639329270}","module":"BybitClient","timestamp":"2025-10-05T04:42:09.452Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:42:09.452Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639329453","module":"BybitClient","timestamp":"2025-10-05T04:42:09.453Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:42:09.457Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215482.71513866\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"80.35798853\",\"totalWalletBalance\":\"215402.35715013\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49998.52375566\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"122956.60034015\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4549.456941\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37960.55836332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37978.13410184\",\"unrealisedPnl\":\"80.3208\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759639329651}","module":"BybitClient","timestamp":"2025-10-05T04:42:09.833Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: 0.22%","module":"TradingStrategy","timestamp":"2025-10-05T04:42:09.834Z"}
{"level":"info","message":"Balance obtenido - Total: $215482.72, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T04:42:09.834Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:42:10.911Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:42:10.911Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una tendencia alcista (RSI>60, MACD>0, EMA9>EMA21), y no hay señal...","module":"OllamaClient","timestamp":"2025-10-05T04:42:12.906Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una tendencia alcista (RSI>60, MACD>0, EMA9>EMA21), y no hay señales de rev...","module":"TradingStrategy","timestamp":"2025-10-05T04:42:12.906Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639332907","module":"BybitClient","timestamp":"2025-10-05T04:42:12.907Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:42:12.906Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:42:12.907Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:42:12.907Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"84.7896\",\"markPrice\":\"124239.1\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.49542247\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759639333792}","module":"BybitClient","timestamp":"2025-10-05T04:42:13.975Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:42:13.975Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:42:13.975Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:42:13.976Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:42:48.659Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:42:49.803Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:42:49.803Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:42:49.803Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:43:13.979Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1285","module":"KalmanFilter","timestamp":"2025-10-05T04:43:13.980Z"}
{"level":"debug","message":"Predicción Kalman: 124193.24103984363 (Confianza: 0.881)","module":"KalmanFilter","timestamp":"2025-10-05T04:43:13.980Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:43:15.077Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:43:17.846Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":124071.21766921114,"middle":124171.85,"upper":124272.48233078887},"ema":{"ema21":124168.62606754707,"ema50":124109.96529478609,"ema9":124205.14252831783},"macd":{"histogram":3.7757553597897626,"macd":37.75755359789764,"signal":33.98179823810788},"rsi":65.48165137614644,"volume":{"avg":84.48672,"current":314.073,"ratio":3.7174244662356397}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is above 65, MACD histogram is bullish and the recent price movement is upward. The Bollinger bands are also expanding, indicating high volatility. The Kalman prediction also indicates a bullish trend with a confidence level of 88.1%. Given these factors, it seems more likely that the price will continue to rise than fall.","symbol":"BTCUSDT","timestamp":1759639397847}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639397848","module":"BybitClient","timestamp":"2025-10-05T04:43:17.848Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:43:17.849Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"108.79176\",\"markPrice\":\"124320.74\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.61543327\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759639398038}","module":"BybitClient","timestamp":"2025-10-05T04:43:18.225Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:43:18.225Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639398225","module":"BybitClient","timestamp":"2025-10-05T04:43:18.225Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:43:18.225Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215587.10811578\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"108.83201295\",\"totalWalletBalance\":\"215478.27610283\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49988.47375089\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123041.62183172\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4553.927269\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37989.02932332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"38003.08526416\",\"unrealisedPnl\":\"108.79176\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759639398414}","module":"BybitClient","timestamp":"2025-10-05T04:43:18.594Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: 0.30%","module":"TradingStrategy","timestamp":"2025-10-05T04:43:18.595Z"}
{"level":"info","message":"Balance obtenido - Total: $215587.11, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T04:43:18.594Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:43:18.966Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:43:18.966Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual es saludable con una ganancia del 0.30%. No hay señales de reversión det...","module":"OllamaClient","timestamp":"2025-10-05T04:43:21.391Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual es saludable con una ganancia del 0.30%. No hay señales de reversión detectadas y...","module":"TradingStrategy","timestamp":"2025-10-05T04:43:21.392Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639401394","module":"BybitClient","timestamp":"2025-10-05T04:43:21.394Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:43:21.392Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:43:21.392Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:43:21.394Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"108.55068\",\"markPrice\":\"124319.92\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.61422787\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759639401583}","module":"BybitClient","timestamp":"2025-10-05T04:43:21.765Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:43:21.766Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:43:21.766Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:43:21.766Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:43:48.660Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:43:49.057Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:43:49.058Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:43:49.057Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:44:21.770Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1253","module":"KalmanFilter","timestamp":"2025-10-05T04:44:21.770Z"}
{"level":"debug","message":"Predicción Kalman: 124244.84564239891 (Confianza: 0.882)","module":"KalmanFilter","timestamp":"2025-10-05T04:44:21.772Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:44:22.872Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:44:26.218Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":124060.7718865373,"middle":124197.98000000003,"upper":124335.18811346275},"ema":{"ema21":124204.52091689657,"ema50":124137.34643571742,"ema9":124252.81831968323},"macd":{"histogram":4.7474847006524215,"macd":47.474847006524215,"signal":42.72736230587179},"rsi":58.767874422104484,"volume":{"avg":87.89671999999999,"current":111.411,"ratio":1.2675217004684591}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is at 58.77, which is slightly above the neutral zone (50-70). MACD histogram is bullish and the signal line is above the zero line. Bollinger bands are wide and the price is inside the upper band, indicating high volatility. EMA9 is above EMA21 and EMA50, which is a golden cross. Kalman predicts a slight increase in price with 71.7% confidence. The market sentiment is neutral, but there are signs of a potential bullish reversal.","symbol":"BTCUSDT","timestamp":1759639466218}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639466219","module":"BybitClient","timestamp":"2025-10-05T04:44:26.219Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:44:26.219Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"97.15524\",\"markPrice\":\"124281.16\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.55725067\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759639466408}","module":"BybitClient","timestamp":"2025-10-05T04:44:26.590Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:44:26.591Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639466591","module":"BybitClient","timestamp":"2025-10-05T04:44:26.591Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:44:26.591Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215550.90445342\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"92.36016432\",\"totalWalletBalance\":\"215458.5442891\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49997.47375516\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123009.16055625\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4549.929158\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37972.54474332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"37994.340984\",\"unrealisedPnl\":\"92.30718\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759639466782}","module":"BybitClient","timestamp":"2025-10-05T04:44:26.964Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: 0.27%","module":"TradingStrategy","timestamp":"2025-10-05T04:44:26.964Z"}
{"level":"info","message":"Balance obtenido - Total: $215550.90, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T04:44:26.964Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:44:28.056Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:44:28.057Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una tendencia alcista (RSI>58, MACD histogramo bullish), un aument...","module":"OllamaClient","timestamp":"2025-10-05T04:44:29.915Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una tendencia alcista (RSI>58, MACD histogramo bullish), un aumento en el v...","module":"TradingStrategy","timestamp":"2025-10-05T04:44:29.915Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639469916","module":"BybitClient","timestamp":"2025-10-05T04:44:29.916Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:44:29.915Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:44:29.916Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:44:29.916Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"92.30718\",\"markPrice\":\"124264.67\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.53301037\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759639470107}","module":"BybitClient","timestamp":"2025-10-05T04:44:30.287Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:44:30.288Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:44:30.288Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:44:30.289Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:44:48.660Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:44:49.058Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:44:49.059Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:44:49.058Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:45:30.291Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1453","module":"KalmanFilter","timestamp":"2025-10-05T04:45:30.292Z"}
{"level":"debug","message":"Predicción Kalman: 124257.66503855215 (Confianza: 0.870)","module":"KalmanFilter","timestamp":"2025-10-05T04:45:30.293Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:45:31.390Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:45:34.244Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":124058.28410535262,"middle":124221.64500000002,"upper":124385.00589464742},"ema":{"ema21":124226.81758029584,"ema50":124159.75318576803,"ema9":124262.69070699433},"macd":{"histogram":4.043906801729463,"macd":40.43906801729463,"signal":36.39516121556517},"rsi":52.348125807841186,"volume":{"avg":92.79436999999999,"current":163.748,"ratio":1.7646329190014438}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is above 50, MACD histogram is bullish, Bollinger bands are expanding and the price is above the upper band, EMA9 is above EMA21 and EMA50, Kalman forecast is bullish with high confidence (87%). These indicators suggest a potential upside opportunity. Leverage of 10-20x is appropriate for this trade.","symbol":"BTCUSDT","timestamp":1759639534244}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639534246","module":"BybitClient","timestamp":"2025-10-05T04:45:34.246Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:45:34.247Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"127.3902\",\"markPrice\":\"124384\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.70842547\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759639534436}","module":"BybitClient","timestamp":"2025-10-05T04:45:34.618Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:45:34.618Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639534618","module":"BybitClient","timestamp":"2025-10-05T04:45:34.618Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:45:34.619Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"215684.79842199\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"127.45020078\",\"totalWalletBalance\":\"215557.34822121\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49998.12375547\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123108.99064152\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4552.154669\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38007.62776332\",\"totalPositionMM\":\"201.07147448\",\"usdValue\":\"38025.52935599\",\"unrealisedPnl\":\"127.3902\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2162.48195515\",\"walletBalance\":\"37880.23756332\",\"cumRealisedPnl\":\"-13027.36532668\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759639534805}","module":"BybitClient","timestamp":"2025-10-05T04:45:34.987Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.294 BTCUSDT | PnL: 0.35%","module":"TradingStrategy","timestamp":"2025-10-05T04:45:34.987Z"}
{"level":"info","message":"Balance obtenido - Total: $215684.80, Disponible: $37880.24","module":"BybitClient","timestamp":"2025-10-05T04:45:34.987Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:45:36.049Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:45:36.049Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una tendencia alcista (RSI<60, MACD>0, EMA9>EMA21), y no hay señal...","module":"OllamaClient","timestamp":"2025-10-05T04:45:38.180Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una tendencia alcista (RSI<60, MACD>0, EMA9>EMA21), y no hay señales de rev...","module":"TradingStrategy","timestamp":"2025-10-05T04:45:38.181Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639538183","module":"BybitClient","timestamp":"2025-10-05T04:45:38.183Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:45:38.181Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:45:38.181Z"}
{"level":"info","message":"⚠️  Estrategia activada: PROFIT_LADDER_30 - PnL 0.35% - scalping: asegurar ganancia mínima","module":"TradingStrategy","timestamp":"2025-10-05T04:45:38.182Z"}
{"level":"info","message":"🟢 CERRANDO 25% DE POSICIÓN: PnL 0.35% - scalping: asegurar ganancia mínima","module":"TradingStrategy","timestamp":"2025-10-05T04:45:38.182Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:45:38.184Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759635645771%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"36441.5058\",\"isReduceOnly\":false,\"positionIMByMp\":\"2162.48195515\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"128.57796\",\"markPrice\":\"124388.04\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11976.85340793\",\"positionMM\":\"201.07147448\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2162.48195515\",\"positionMMByMp\":\"201.71436427\",\"seq\":140697266903007,\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2162.48195515\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.04282819\",\"size\":\"0.294\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759639539068}","module":"BybitClient","timestamp":"2025-10-05T04:45:39.247Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:45:39.249Z"}
{"level":"info","message":"Cerrando 25% de posición Buy BTCUSDT: 0.073 unidades (raw: 0.0735, stepSize: 0.001)","module":"BybitClient","timestamp":"2025-10-05T04:45:39.624Z"}
{"level":"info","message":"Ejecutando orden: Sell 0.073 BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:45:39.626Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759639539626","module":"BybitClient","timestamp":"2025-10-05T04:45:39.626Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"side\":\"Sell\",\"orderType\":\"Market\",\"qty\":\"0.073\",\"timeInForce\":\"IOC\"}","module":"BybitClient","timestamp":"2025-10-05T04:45:39.627Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"orderId\":\"d156c6ca-629c-4882-b9f8-280959c0e20b\",\"orderLinkId\":\"\"},\"retExtInfo\":{},\"time\":1759639539820}","module":"BybitClient","timestamp":"2025-10-05T04:45:40.004Z"}
{"level":"info","message":"💰 25% cerrado. PnL parcial: 31.85 USDT","module":"TradingStrategy","timestamp":"2025-10-05T04:45:40.005Z"}
{"level":"info","message":"Orden ejecutada exitosamente: d156c6ca-629c-4882-b9f8-280959c0e20b","module":"BybitClient","timestamp":"2025-10-05T04:45:40.004Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639540005","module":"BybitClient","timestamp":"2025-10-05T04:45:40.006Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:45:40.006Z"}
{"level":"info","message":"✅ Acción ejecutada exitosamente","module":"TradingStrategy","timestamp":"2025-10-05T04:45:40.005Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759639539820%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"27393.1047\",\"isReduceOnly\":false,\"positionIMByMp\":\"1625.53915677\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"97.9472\",\"markPrice\":\"124393.9\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11950.27489341\",\"positionMM\":\"151.14556415\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1625.53915677\",\"positionMMByMp\":\"151.63530014\",\"seq\":140697267012309,\"updatedTime\":\"1759639539820\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1625.53915677\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"6.53568633\",\"size\":\"0.221\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759639540194}","module":"BybitClient","timestamp":"2025-10-05T04:45:40.376Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:45:40.376Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:45:40.376Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:45:40.377Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:45:48.662Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:45:49.062Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:45:49.062Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:45:49.062Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:46:40.378Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1809","module":"KalmanFilter","timestamp":"2025-10-05T04:46:40.379Z"}
{"level":"debug","message":"Predicción Kalman: 124281.8599158138 (Confianza: 0.855)","module":"KalmanFilter","timestamp":"2025-10-05T04:46:40.379Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:46:41.473Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:46:44.150Z"}
{"confidence":0.67,"decision":"BUY","indicators":{"bollinger":{"lower":124081.57232361431,"middle":124258.86499999999,"upper":124436.15767638567},"ema":{"ema21":124261.86044797483,"ema50":124188.24311220853,"ema9":124304.05660286923},"macd":{"histogram":4.557300431508338,"macd":45.57300431508338,"signal":41.01570388357504},"rsi":56.74161238355378,"volume":{"avg":100.07785999999994,"current":240.551,"ratio":2.4036385270428458}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima de 50, MACD tiene un histograma positivo y cruza la línea de señal, Bollinger está dentro del rango superior, EMA9 cruza por encima de EMA21, Kalman predice una subida con confianza del 67.7%","symbol":"BTCUSDT","timestamp":1759639604150}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639604151","module":"BybitClient","timestamp":"2025-10-05T04:46:44.152Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:46:44.152Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759639539820%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"27393.1047\",\"isReduceOnly\":false,\"positionIMByMp\":\"1625.53915677\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"207.62287\",\"markPrice\":\"124890.17\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11950.27489341\",\"positionMM\":\"151.14556415\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1625.53915677\",\"positionMMByMp\":\"152.18367849\",\"seq\":140697267012309,\"updatedTime\":\"1759639539820\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1625.53915677\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"6.53568633\",\"size\":\"0.221\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"123246\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759639604340}","module":"BybitClient","timestamp":"2025-10-05T04:46:44.522Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:46:44.522Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639604522","module":"BybitClient","timestamp":"2025-10-05T04:46:44.523Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:46:44.523Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216322.19759038\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"207.74931232\",\"totalWalletBalance\":\"216114.44827805\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"50001.47375706\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123611.56612915\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4571.507063\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38114.43894784\",\"totalPositionMM\":\"151.14556415\",\"usdValue\":\"38137.65064115\",\"unrealisedPnl\":\"207.62287\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1625.53915677\",\"walletBalance\":\"37906.81607784\",\"cumRealisedPnl\":\"-13000.78681216\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759639604711}","module":"BybitClient","timestamp":"2025-10-05T04:46:44.893Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.221 BTCUSDT | PnL: 0.76%","module":"TradingStrategy","timestamp":"2025-10-05T04:46:44.894Z"}
{"level":"info","message":"Balance obtenido - Total: $216322.20, Disponible: $37906.82","module":"BybitClient","timestamp":"2025-10-05T04:46:44.893Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759639604896","module":"BybitClient","timestamp":"2025-10-05T04:46:44.896Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"stopLoss\":\"124515.49949\",\"slTriggerBy\":\"LastPrice\",\"positionIdx\":0}","module":"BybitClient","timestamp":"2025-10-05T04:46:44.896Z"}
{"level":"info","message":"🎯 Trailing stop ACTIVADO para BTCUSDT (PnL: 0.76%)","module":"TradingStrategy","timestamp":"2025-10-05T04:46:44.895Z"}
{"level":"info","message":"📈 Actualizando trailing SL: 124515.50 (Max alcanzado: 124890.17)","module":"TradingStrategy","timestamp":"2025-10-05T04:46:44.895Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{},\"retExtInfo\":{},\"time\":1759639605803}","module":"BybitClient","timestamp":"2025-10-05T04:46:45.983Z"}
{"level":"info","message":"Stop Loss actualizado para BTCUSDT: SL=124515.49949","module":"BybitClient","timestamp":"2025-10-05T04:46:45.983Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:46:47.041Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:46:47.041Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:46:48.662Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual es saludable con una ganancia del 0.76%. No hay señales de reversión det...","module":"OllamaClient","timestamp":"2025-10-05T04:46:48.960Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual es saludable con una ganancia del 0.76%. No hay señales de reversión detectadas y...","module":"TradingStrategy","timestamp":"2025-10-05T04:46:48.960Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639608961","module":"BybitClient","timestamp":"2025-10-05T04:46:48.961Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:46:48.961Z"}
{"level":"info","message":"⚠️  Estrategia activada: PROFIT_LADDER_60 - PnL 0.76% - scalping: tomar profit parcial","module":"TradingStrategy","timestamp":"2025-10-05T04:46:48.961Z"}
{"level":"info","message":"🟡 CERRANDO 50% DE POSICIÓN: PnL 0.76% - scalping: tomar profit parcial","module":"TradingStrategy","timestamp":"2025-10-05T04:46:48.961Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:46:48.961Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:46:48.960Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:46:49.038Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:46:49.038Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:46:49.038Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759639605802%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"27393.1047\",\"isReduceOnly\":false,\"positionIMByMp\":\"1625.53915677\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"205.59188\",\"markPrice\":\"124880.98\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11950.27489341\",\"positionMM\":\"151.14556415\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1625.53915677\",\"positionMMByMp\":\"152.17352354\",\"seq\":140697267012309,\"updatedTime\":\"1759639605802\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1625.53915677\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"6.53568633\",\"size\":\"0.221\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124515.4\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759639609178}","module":"BybitClient","timestamp":"2025-10-05T04:46:49.361Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:46:49.362Z"}
{"level":"info","message":"Cerrando 50% de posición Buy BTCUSDT: 0.11 unidades (raw: 0.1105, stepSize: 0.001)","module":"BybitClient","timestamp":"2025-10-05T04:46:49.734Z"}
{"level":"info","message":"Ejecutando orden: Sell 0.11 BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:46:49.734Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759639609735","module":"BybitClient","timestamp":"2025-10-05T04:46:49.735Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"side\":\"Sell\",\"orderType\":\"Market\",\"qty\":\"0.11\",\"timeInForce\":\"IOC\"}","module":"BybitClient","timestamp":"2025-10-05T04:46:49.735Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"orderId\":\"f4d8a761-2ead-469e-a1d5-59fd070f48f1\",\"orderLinkId\":\"\"},\"retExtInfo\":{},\"time\":1759639609923}","module":"BybitClient","timestamp":"2025-10-05T04:46:50.329Z"}
{"level":"info","message":"💰 50% cerrado. PnL parcial: 103.81 USDT","module":"TradingStrategy","timestamp":"2025-10-05T04:46:50.330Z"}
{"level":"info","message":"Orden ejecutada exitosamente: f4d8a761-2ead-469e-a1d5-59fd070f48f1","module":"BybitClient","timestamp":"2025-10-05T04:46:50.329Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639610331","module":"BybitClient","timestamp":"2025-10-05T04:46:50.331Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:46:50.332Z"}
{"level":"info","message":"✅ Acción ejecutada exitosamente","module":"TradingStrategy","timestamp":"2025-10-05T04:46:50.330Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759639609923%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"13758.5277\",\"isReduceOnly\":false,\"positionIMByMp\":\"816.44726879\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"107.18937\",\"markPrice\":\"124916.37\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11852.25397866\",\"positionMM\":\"75.91474037\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"816.44726879\",\"positionMMByMp\":\"76.45068721\",\"seq\":140697267015077,\"updatedTime\":\"1759639609923\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"816.44726879\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"104.55660108\",\"size\":\"0.111\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124515.4\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759639610524}","module":"BybitClient","timestamp":"2025-10-05T04:46:50.704Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:46:50.705Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:46:50.705Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:46:50.705Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:47:48.664Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:47:49.069Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:47:49.069Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:47:49.069Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:47:50.707Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.2000","module":"KalmanFilter","timestamp":"2025-10-05T04:47:50.708Z"}
{"level":"debug","message":"Predicción Kalman: 124629.62833319198 (Confianza: 0.875)","module":"KalmanFilter","timestamp":"2025-10-05T04:47:50.708Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:47:51.073Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:47:53.858Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":123854.36557272919,"middle":124466.02000000002,"upper":125077.67442727085},"ema":{"ema21":124532.33562617711,"ema50":124346.38614424207,"ema9":124726.7132734716},"macd":{"histogram":17.465445461105247,"macd":174.65445461105264,"signal":157.1890091499474},"rsi":65.92847880979946,"volume":{"avg":219.80813999999992,"current":2065.879,"ratio":9.398555485706765}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima del 65%, MACD histogram es bullish y el precio actual está dentro de la banda superior del Bollinger. Además, el Kalman predice una subida con confianza del 75%. Si detecto señales bajistas claras, sugeriré un cambio de dirección.","symbol":"BTCUSDT","timestamp":1759639673859}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639673859","module":"BybitClient","timestamp":"2025-10-05T04:47:53.859Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:47:53.859Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759639609923%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"13758.5277\",\"isReduceOnly\":false,\"positionIMByMp\":\"816.44726879\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"138.70227\",\"markPrice\":\"125200.27\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11852.25397866\",\"positionMM\":\"75.91474037\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"816.44726879\",\"positionMMByMp\":\"76.60825171\",\"seq\":140697267015077,\"updatedTime\":\"1759639609923\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"816.44726879\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"104.55660108\",\"size\":\"0.111\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124515.4\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759639674744}","module":"BybitClient","timestamp":"2025-10-05T04:47:54.925Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:47:54.925Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639674925","module":"BybitClient","timestamp":"2025-10-05T04:47:54.926Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:47:54.926Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216575.02741385\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"138.72501717\",\"totalWalletBalance\":\"216436.30239668\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49986.07374975\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123858.75697607\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4580.401885\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38143.53926259\",\"totalPositionMM\":\"75.91474037\",\"usdValue\":\"38149.79480302\",\"unrealisedPnl\":\"138.70227\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"816.44726879\",\"walletBalance\":\"38004.83699259\",\"cumRealisedPnl\":\"-12902.76589741\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759639675818}","module":"BybitClient","timestamp":"2025-10-05T04:47:56.002Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.111 BTCUSDT | PnL: 1.01%","module":"TradingStrategy","timestamp":"2025-10-05T04:47:56.002Z"}
{"level":"info","message":"Balance obtenido - Total: $216575.03, Disponible: $38004.84","module":"BybitClient","timestamp":"2025-10-05T04:47:56.002Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759639676003","module":"BybitClient","timestamp":"2025-10-05T04:47:56.003Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"stopLoss\":\"124824.66919\",\"slTriggerBy\":\"LastPrice\",\"positionIdx\":0}","module":"BybitClient","timestamp":"2025-10-05T04:47:56.003Z"}
{"level":"info","message":"📈 Actualizando trailing SL: 124824.67 (Max alcanzado: 125200.27)","module":"TradingStrategy","timestamp":"2025-10-05T04:47:56.003Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{},\"retExtInfo\":{},\"time\":1759639676915}","module":"BybitClient","timestamp":"2025-10-05T04:47:57.131Z"}
{"level":"info","message":"Stop Loss actualizado para BTCUSDT: SL=124824.66919","module":"BybitClient","timestamp":"2025-10-05T04:47:57.131Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:47:57.541Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:47:57.542Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una tendencia alcista (RSI>60, MACD>0, EMA9>EMA21), y no hay señal...","module":"OllamaClient","timestamp":"2025-10-05T04:48:00.389Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una tendencia alcista (RSI>60, MACD>0, EMA9>EMA21), y no hay señales de rev...","module":"TradingStrategy","timestamp":"2025-10-05T04:48:00.389Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639680390","module":"BybitClient","timestamp":"2025-10-05T04:48:00.390Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:48:00.389Z"}
{"level":"info","message":"⚠️  Estrategia activada: VOLATILITY_SPIKE - Volumen 9.4x promedio - posible reversión","module":"TradingStrategy","timestamp":"2025-10-05T04:48:00.390Z"}
{"level":"info","message":"🟡 CERRANDO 50% DE POSICIÓN: Volumen 9.4x promedio - posible reversión","module":"TradingStrategy","timestamp":"2025-10-05T04:48:00.390Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:48:00.389Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:48:00.390Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759639676915%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"13758.5277\",\"isReduceOnly\":false,\"positionIMByMp\":\"816.44726879\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"125.16249\",\"markPrice\":\"125078.29\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11852.25397866\",\"positionMM\":\"75.91474037\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"816.44726879\",\"positionMMByMp\":\"76.54055281\",\"seq\":140697267015077,\"updatedTime\":\"1759639676915\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"816.44726879\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"104.55660108\",\"size\":\"0.111\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124824.6\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759639680591}","module":"BybitClient","timestamp":"2025-10-05T04:48:00.773Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:48:00.774Z"}
{"level":"info","message":"Cerrando 50% de posición Buy BTCUSDT: 0.055 unidades (raw: 0.0555, stepSize: 0.001)","module":"BybitClient","timestamp":"2025-10-05T04:48:01.146Z"}
{"level":"info","message":"Ejecutando orden: Sell 0.055 BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:48:01.147Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759639681147","module":"BybitClient","timestamp":"2025-10-05T04:48:01.147Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"side\":\"Sell\",\"orderType\":\"Market\",\"qty\":\"0.055\",\"timeInForce\":\"IOC\"}","module":"BybitClient","timestamp":"2025-10-05T04:48:01.147Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"orderId\":\"bab14857-9c51-433c-86a5-cfc456f1c0d1\",\"orderLinkId\":\"\"},\"retExtInfo\":{},\"time\":1759639681341}","module":"BybitClient","timestamp":"2025-10-05T04:48:01.521Z"}
{"level":"info","message":"💰 50% cerrado. PnL parcial: 69.35 USDT","module":"TradingStrategy","timestamp":"2025-10-05T04:48:01.522Z"}
{"level":"info","message":"Orden ejecutada exitosamente: bab14857-9c51-433c-86a5-cfc456f1c0d1","module":"BybitClient","timestamp":"2025-10-05T04:48:01.521Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639681522","module":"BybitClient","timestamp":"2025-10-05T04:48:01.522Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:48:01.522Z"}
{"level":"info","message":"✅ Acción ejecutada exitosamente","module":"TradingStrategy","timestamp":"2025-10-05T04:48:01.522Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759639681340%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"123950.7\",\"liqPrice\":\"117279.3\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"125403.4\",\"positionValue\":\"6941.2392\",\"isReduceOnly\":false,\"positionIMByMp\":\"411.9013248\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117245.8\",\"unrealisedPnl\":\"68.6672\",\"markPrice\":\"125176.9\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11790.19919961\",\"positionMM\":\"38.29932848\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"411.9013248\",\"positionMMByMp\":\"38.64266447\",\"seq\":140697267018010,\"updatedTime\":\"1759639681340\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"411.9013248\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"166.61138013\",\"size\":\"0.056\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124824.6\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759639681709}","module":"BybitClient","timestamp":"2025-10-05T04:48:01.889Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:48:01.889Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:48:01.889Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:48:01.889Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:48:48.665Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:48:49.756Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:48:49.756Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:48:49.756Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:49:01.891Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.2000","module":"KalmanFilter","timestamp":"2025-10-05T04:49:01.891Z"}
{"level":"debug","message":"Predicción Kalman: 124802.88175012487 (Confianza: 0.856)","module":"KalmanFilter","timestamp":"2025-10-05T04:49:01.892Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:49:02.989Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:49:06.118Z"}
{"confidence":0.85,"decision":"BUY","indicators":{"bollinger":{"lower":123895.24727953685,"middle":124630.04999999997,"upper":125364.8527204631},"ema":{"ema21":124693.01509660552,"ema50":124453.06192296825,"ema9":124915.51289344954},"macd":{"histogram":21.116287387802714,"macd":211.1628738780273,"signal":190.0465864902246},"rsi":59.744143171904916,"volume":{"avg":300.73161999999996,"current":882.443,"ratio":2.9343206411085077}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI (59.74) y MACD histogram (21.116287) son señales bullish. Además, el precio actual ($125735.9) está dentro de la banda superior del Bollinger, lo que sugiere una posible reversión hacia arriba. La tendencia actual es alcista y la confianza en la toma de posición es del 85%. Sugiero comprar (LONG).","symbol":"BTCUSDT","timestamp":1759639746118}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639746118","module":"BybitClient","timestamp":"2025-10-05T04:49:06.118Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:49:06.118Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759639735096%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"125590.3\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-11712.13953849\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697267019705,\"updatedTime\":\"1759639735096\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759639746998}","module":"BybitClient","timestamp":"2025-10-05T04:49:07.178Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T04:49:07.178Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639747179","module":"BybitClient","timestamp":"2025-10-05T04:49:07.179Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:49:07.180Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759639735096%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"125556.3\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-11712.13953849\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697267019705,\"updatedTime\":\"1759639735096\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759639747368}","module":"BybitClient","timestamp":"2025-10-05T04:49:07.551Z"}
{"level":"info","message":"AI sugiere BUY con confianza 0.85","module":"TradingStrategy","timestamp":"2025-10-05T04:49:07.551Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T04:49:07.551Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639747552","module":"BybitClient","timestamp":"2025-10-05T04:49:07.552Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:49:07.553Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"217068.99573735\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"217068.99573735\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49992.17375265\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"124334.51937119\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4586.937609\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38144.95143276\",\"totalPositionMM\":\"0\",\"usdValue\":\"38155.3650045\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"38144.95143276\",\"cumRealisedPnl\":\"-12762.65145724\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759639748438}","module":"BybitClient","timestamp":"2025-10-05T04:49:08.618Z"}
{"level":"info","message":"Balance disponible: $38144.95, Precio: $125735.9","module":"TradingStrategy","timestamp":"2025-10-05T04:49:08.619Z"}
{"level":"info","message":"Balance obtenido - Total: $217069.00, Disponible: $38144.95","module":"BybitClient","timestamp":"2025-10-05T04:49:08.619Z"}
{"level":"debug","message":"Símbolo info - Min: 0.001, Step: 0.001","module":"TradingStrategy","timestamp":"2025-10-05T04:49:08.984Z"}
{"level":"info","message":"Contador diario de trades reseteado","module":"RiskManager","timestamp":"2025-10-05T04:49:08.989Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639748990","module":"BybitClient","timestamp":"2025-10-05T04:49:08.990Z"}
{"level":"info","message":"Riesgo: 6.666666666666667%, Capital a arriesgar: $2543.00","module":"TradingStrategy","timestamp":"2025-10-05T04:49:08.985Z"}
{"level":"info","message":"Position value: $50859.94, Quantity raw: 0.404498","module":"TradingStrategy","timestamp":"2025-10-05T04:49:08.985Z"}
{"level":"info","message":"Cantidad final calculada: 0.404 BTC (valor: $50797.30)","module":"TradingStrategy","timestamp":"2025-10-05T04:49:08.985Z"}
{"level":"info","message":"Parámetros calculados - Leverage: 20x, Quantity: 0.404","module":"TradingStrategy","timestamp":"2025-10-05T04:49:08.986Z"}
{"level":"info","message":"Generando señal de trading: BUY 0.404 BTCUSDT @ 125735.9 (SL: 124981.4846, TP: 127188.149645)","module":"TradingStrategy","timestamp":"2025-10-05T04:49:08.986Z"}
{"level":"info","message":"EJECUTANDO TRADE: BUY 0.404 BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-05T04:49:08.987Z"}
{"level":"info","message":"=== INICIO EJECUCIÓN DE TRADE ===","module":"TradingStrategy","timestamp":"2025-10-05T04:49:08.988Z"}
{"level":"info","message":"Señal: {\"symbol\":\"BTCUSDT\",\"action\":\"BUY\",\"leverage\":20,\"quantity\":0.404,\"stopLoss\":124981.4846,\"takeProfit\":127188.149645,\"timestamp\":1759639748987,\"aiAnalysis\":{\"decision\":\"BUY\",\"confidence\":0.85,\"reasoning\":\"RSI (59.74) y MACD histogram (21.116287) son señales bullish. Además, el precio actual ($125735.9) está dentro de la banda superior del Bollinger, lo que sugiere una posible reversión hacia arriba. La tendencia actual es alcista y la confianza en la toma de posición es del 85%. Sugiero comprar (LONG).\",\"indicators\":{},\"kalman\":{},\"marketSentiment\":\"bullish\",\"riskLevel\":\"low\",\"suggestedLeverage\":20}}","module":"TradingStrategy","timestamp":"2025-10-05T04:49:08.988Z"}
{"level":"info","message":"Validando con Risk Manager...","module":"TradingStrategy","timestamp":"2025-10-05T04:49:08.988Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:49:08.991Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"217068.99573735\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"217068.99573735\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49992.17375265\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"124334.51937119\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4586.937609\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38144.95143276\",\"totalPositionMM\":\"0\",\"usdValue\":\"38155.3650045\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"38144.95143276\",\"cumRealisedPnl\":\"-12762.65145724\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759639749178}","module":"BybitClient","timestamp":"2025-10-05T04:49:09.360Z"}
{"level":"info","message":"Balance obtenido - Total: $217069.00, Disponible: $38144.95","module":"BybitClient","timestamp":"2025-10-05T04:49:09.360Z"}
{"level":"info","message":"Validando posición: Cantidad=0.404, Precio=125384.70, Valor=$50655.42","module":"RiskManager","timestamp":"2025-10-05T04:49:09.725Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639749725","module":"BybitClient","timestamp":"2025-10-05T04:49:09.725Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:49:09.726Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759639735096%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"125378.1\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-11712.13953849\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697267019705,\"updatedTime\":\"1759639735096\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759639750611}","module":"BybitClient","timestamp":"2025-10-05T04:49:10.792Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T04:49:10.793Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 20","module":"BybitClient","timestamp":"2025-10-05T04:49:11.160Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:49:11.530Z"}
{"level":"info","message":"Velas obtenidas: 20 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:49:11.531Z"}
{"level":"info","message":"Trade aprobado - Risk Score: 0.33","module":"RiskManager","timestamp":"2025-10-05T04:49:11.895Z"}
{"level":"info","message":"Resultado validación: {\"approved\":true,\"reason\":\"Trade aprobado por gestión de riesgo\",\"riskScore\":0.3272940247028398}","module":"TradingStrategy","timestamp":"2025-10-05T04:49:11.896Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759639751897","module":"BybitClient","timestamp":"2025-10-05T04:49:11.897Z"}
{"level":"info","message":"Trade aprobado por Risk Manager, ejecutando...","module":"TradingStrategy","timestamp":"2025-10-05T04:49:11.896Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"buyLeverage\":\"20\",\"sellLeverage\":\"20\"}","module":"BybitClient","timestamp":"2025-10-05T04:49:11.898Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{},\"retExtInfo\":{},\"time\":1759639752088}","module":"BybitClient","timestamp":"2025-10-05T04:49:12.268Z"}
{"level":"info","message":"Leverage establecido a 20x para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:49:12.269Z"}
{"level":"info","message":"Ejecutando orden: Buy 0.404 BTCUSDT | SL: 124981.4846 | TP: 127188.149645","module":"BybitClient","timestamp":"2025-10-05T04:49:12.269Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759639752269","module":"BybitClient","timestamp":"2025-10-05T04:49:12.270Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"side\":\"Buy\",\"orderType\":\"Market\",\"qty\":\"0.404\",\"timeInForce\":\"IOC\",\"stopLoss\":\"124981.48\",\"slTriggerBy\":\"LastPrice\",\"takeProfit\":\"127188.15\",\"tpTriggerBy\":\"LastPrice\"}","module":"BybitClient","timestamp":"2025-10-05T04:49:12.270Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"orderId\":\"b0fdbb11-eae6-4ab1-a51a-c59c6f23ae9b\",\"orderLinkId\":\"\"},\"retExtInfo\":{},\"time\":1759639752464}","module":"BybitClient","timestamp":"2025-10-05T04:49:12.645Z"}
{"level":"info","message":"TRADE_OPEN","module":"TradingStrategy","pnl":0,"price":0,"quantity":0.404,"side":"BUY","symbol":"BTCUSDT","timestamp":1759639752646}
{"level":"debug","message":"Trades ejecutados hoy: 1/20","module":"RiskManager","timestamp":"2025-10-05T04:49:12.647Z"}
{"level":"info","message":"Orden ejecutada exitosamente: b0fdbb11-eae6-4ab1-a51a-c59c6f23ae9b","module":"BybitClient","timestamp":"2025-10-05T04:49:12.646Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639752650","module":"BybitClient","timestamp":"2025-10-05T04:49:12.650Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:49:12.650Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216733.76845448\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"14.2636244\",\"totalWalletBalance\":\"216719.50483008\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49989.42375134\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"124028.44144869\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4578.068061\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38131.35286346\",\"totalPositionMM\":\"279.73741084\",\"usdValue\":\"38137.83519344\",\"unrealisedPnl\":\"14.2612\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2559.17308084\",\"walletBalance\":\"38117.09166346\",\"cumRealisedPnl\":\"-12790.51122654\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759639752839}","module":"BybitClient","timestamp":"2025-10-05T04:49:13.022Z"}
{"level":"info","message":"Balance obtenido - Total: $216733.77, Disponible: $38117.09","module":"BybitClient","timestamp":"2025-10-05T04:49:13.023Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:49:48.666Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:49:49.102Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:49:49.103Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:49:49.102Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:50:13.028Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.2000","module":"KalmanFilter","timestamp":"2025-10-05T04:50:13.029Z"}
{"level":"debug","message":"Predicción Kalman: 125013.82249940344 (Confianza: 0.872)","module":"KalmanFilter","timestamp":"2025-10-05T04:50:13.029Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:50:14.167Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:50:16.510Z"}
{"confidence":0.6,"decision":"BUY","indicators":{"bollinger":{"lower":124040.23054461292,"middle":124855.58,"upper":125670.92945538709},"ema":{"ema21":124902.54530659018,"ema50":124594.05512924754,"ema9":125161.08633692711},"macd":{"histogram":25.591007837586204,"macd":255.9100783758622,"signal":230.319070538276},"rsi":60.79708086612615,"volume":{"avg":409.99945,"current":1642.35,"ratio":4.005737080866815}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima del 60, MACD histogram es bullish y el precio actual está dentro de un rango superior a su Bollinger. Además, la Kalman predice una subida con confianza del 75%","symbol":"BTCUSDT","timestamp":1759639816510}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639816511","module":"BybitClient","timestamp":"2025-10-05T04:50:16.511Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:50:16.512Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759639752464%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"20\",\"autoAddMargin\":0,\"avgPrice\":\"125381.5\",\"liqPrice\":\"119739.4\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"127188.1\",\"positionValue\":\"50654.126\",\"isReduceOnly\":false,\"positionIMByMp\":\"2559.17308084\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"119711\",\"unrealisedPnl\":\"8.37088\",\"markPrice\":\"125402.22\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11739.99930779\",\"positionMM\":\"279.73741084\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2559.17308084\",\"positionMMByMp\":\"279.77926523\",\"seq\":140697267020616,\"updatedTime\":\"1759639752464\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2559.17308084\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-27.8597693\",\"size\":\"0.404\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124981.4\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759639816703}","module":"BybitClient","timestamp":"2025-10-05T04:50:16.885Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:50:16.886Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639816886","module":"BybitClient","timestamp":"2025-10-05T04:50:16.886Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:50:16.886Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216751.67991452\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"5.14855041\",\"totalWalletBalance\":\"216746.53136411\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49994.32375367\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"124044.82756365\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4578.510202\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38122.23862346\",\"totalPositionMM\":\"279.73741084\",\"usdValue\":\"38134.01839519\",\"unrealisedPnl\":\"5.14696\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2559.17308084\",\"walletBalance\":\"38117.09166346\",\"cumRealisedPnl\":\"-12790.51122654\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759639817784}","module":"BybitClient","timestamp":"2025-10-05T04:50:17.968Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.404 BTCUSDT | PnL: 0.02%","module":"TradingStrategy","timestamp":"2025-10-05T04:50:17.968Z"}
{"level":"info","message":"Balance obtenido - Total: $216751.68, Disponible: $38117.09","module":"BybitClient","timestamp":"2025-10-05T04:50:17.968Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759639817968","module":"BybitClient","timestamp":"2025-10-05T04:50:17.969Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"stopLoss\":\"125026.01334\",\"slTriggerBy\":\"LastPrice\",\"positionIdx\":0}","module":"BybitClient","timestamp":"2025-10-05T04:50:17.969Z"}
{"level":"info","message":"📈 Actualizando trailing SL: 125026.01 (Max alcanzado: 125402.22)","module":"TradingStrategy","timestamp":"2025-10-05T04:50:17.968Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{},\"retExtInfo\":{},\"time\":1759639818156}","module":"BybitClient","timestamp":"2025-10-05T04:50:18.337Z"}
{"level":"info","message":"Stop Loss actualizado para BTCUSDT: SL=125026.01334","module":"BybitClient","timestamp":"2025-10-05T04:50:18.338Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:50:19.401Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:50:19.402Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"Tienes una posición LONG con ganancia de 0.02%. Sin señales de reversión detectadas y la te...","module":"OllamaClient","timestamp":"2025-10-05T04:50:21.596Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: Tienes una posición LONG con ganancia de 0.02%. Sin señales de reversión detectadas y la tendencia e...","module":"TradingStrategy","timestamp":"2025-10-05T04:50:21.596Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639821596","module":"BybitClient","timestamp":"2025-10-05T04:50:21.596Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:50:21.596Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:50:21.596Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:50:21.596Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759639818155%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"20\",\"autoAddMargin\":0,\"avgPrice\":\"125381.5\",\"liqPrice\":\"119739.4\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"127188.1\",\"positionValue\":\"50654.126\",\"isReduceOnly\":false,\"positionIMByMp\":\"2559.17308084\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"119711\",\"unrealisedPnl\":\"1.97152\",\"markPrice\":\"125386.38\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11739.99930779\",\"positionMM\":\"279.73741084\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2559.17308084\",\"positionMMByMp\":\"279.74726843\",\"seq\":140697267020616,\"updatedTime\":\"1759639818155\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2559.17308084\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-27.8597693\",\"size\":\"0.404\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"125026\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759639821787}","module":"BybitClient","timestamp":"2025-10-05T04:50:21.972Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:50:21.972Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:50:21.972Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:50:21.972Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:50:48.668Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:50:49.065Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:50:49.065Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:50:49.065Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:51:21.976Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.2000","module":"KalmanFilter","timestamp":"2025-10-05T04:51:21.976Z"}
{"level":"debug","message":"Predicción Kalman: 125143.09861889771 (Confianza: 0.858)","module":"KalmanFilter","timestamp":"2025-10-05T04:51:21.977Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:51:22.414Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:51:25.479Z"}
{"confidence":0.85,"decision":"BUY","indicators":{"bollinger":{"lower":124244.59611097204,"middle":125039.125,"upper":125833.65388902796},"ema":{"ema21":125062.02960396679,"ema50":124724.66627305209,"ema9":125285.28835488946},"macd":{"histogram":24.211756594500912,"macd":242.11756594500912,"signal":217.9058093505082},"rsi":62.857651800227075,"volume":{"avg":495.70275000000004,"current":396.634,"ratio":0.8001448448692285}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está sobrecompra (62.86) y MACD es bullish (24.211757). Además, Bollinger está en el superior (125833.65) y EMAs están en el golden cross (125285.29 vs 125062.03). Kalman también predice una subida con confianza del 85%.","symbol":"BTCUSDT","timestamp":1759639885479}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639885480","module":"BybitClient","timestamp":"2025-10-05T04:51:25.481Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:51:25.481Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759639818155%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"20\",\"autoAddMargin\":0,\"avgPrice\":\"125381.5\",\"liqPrice\":\"119739.4\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"127188.1\",\"positionValue\":\"50654.126\",\"isReduceOnly\":false,\"positionIMByMp\":\"2559.17308084\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"119711\",\"unrealisedPnl\":\"76.48528\",\"markPrice\":\"125570.82\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11739.99930779\",\"positionMM\":\"279.73741084\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2559.17308084\",\"positionMMByMp\":\"280.11983723\",\"seq\":140697267020616,\"updatedTime\":\"1759639818155\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2559.17308084\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-27.8597693\",\"size\":\"0.404\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"125026\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759639886364}","module":"BybitClient","timestamp":"2025-10-05T04:51:26.547Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:51:26.547Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639886548","module":"BybitClient","timestamp":"2025-10-05T04:51:26.548Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:51:26.549Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"217032.54830319\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"76.50876098\",\"totalWalletBalance\":\"216956.03954221\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49992.37375274\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"124245.92487086\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4588.947308\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38193.57694346\",\"totalPositionMM\":\"279.73741084\",\"usdValue\":\"38205.30237158\",\"unrealisedPnl\":\"76.48528\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2559.17308084\",\"walletBalance\":\"38117.09166346\",\"cumRealisedPnl\":\"-12790.51122654\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759639886736}","module":"BybitClient","timestamp":"2025-10-05T04:51:26.919Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.404 BTCUSDT | PnL: 0.15%","module":"TradingStrategy","timestamp":"2025-10-05T04:51:26.921Z"}
{"level":"info","message":"Balance obtenido - Total: $217032.55, Disponible: $38117.09","module":"BybitClient","timestamp":"2025-10-05T04:51:26.920Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759639886922","module":"BybitClient","timestamp":"2025-10-05T04:51:26.923Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"stopLoss\":\"125194.10754000001\",\"slTriggerBy\":\"LastPrice\",\"positionIdx\":0}","module":"BybitClient","timestamp":"2025-10-05T04:51:26.923Z"}
{"level":"info","message":"📈 Actualizando trailing SL: 125194.11 (Max alcanzado: 125570.82)","module":"TradingStrategy","timestamp":"2025-10-05T04:51:26.922Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{},\"retExtInfo\":{},\"time\":1759639887109}","module":"BybitClient","timestamp":"2025-10-05T04:51:27.292Z"}
{"level":"info","message":"Stop Loss actualizado para BTCUSDT: SL=125194.10754000001","module":"BybitClient","timestamp":"2025-10-05T04:51:27.292Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:51:27.659Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:51:27.659Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual es saludable con una ganancia del 0.15% y sin señales de reversión. Mant...","module":"OllamaClient","timestamp":"2025-10-05T04:51:29.307Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual es saludable con una ganancia del 0.15% y sin señales de reversión. Mantener la p...","module":"TradingStrategy","timestamp":"2025-10-05T04:51:29.308Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639889309","module":"BybitClient","timestamp":"2025-10-05T04:51:29.309Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:51:29.308Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:51:29.309Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:51:29.310Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759639887109%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"20\",\"autoAddMargin\":0,\"avgPrice\":\"125381.5\",\"liqPrice\":\"119739.4\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"127188.1\",\"positionValue\":\"50654.126\",\"isReduceOnly\":false,\"positionIMByMp\":\"2559.17308084\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"119711\",\"unrealisedPnl\":\"74.06532\",\"markPrice\":\"125564.83\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11739.99930779\",\"positionMM\":\"279.73741084\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2559.17308084\",\"positionMMByMp\":\"280.10773743\",\"seq\":140697267020616,\"updatedTime\":\"1759639887109\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2559.17308084\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-27.8597693\",\"size\":\"0.404\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"125194.1\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759639889499}","module":"BybitClient","timestamp":"2025-10-05T04:51:29.682Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:51:29.682Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:51:29.682Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:51:29.683Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:51:48.668Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:51:49.768Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:51:49.769Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:51:49.768Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:52:29.687Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.2000","module":"KalmanFilter","timestamp":"2025-10-05T04:52:29.688Z"}
{"level":"debug","message":"Predicción Kalman: 125236.61638143327 (Confianza: 0.849)","module":"KalmanFilter","timestamp":"2025-10-05T04:52:29.688Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:52:30.800Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:52:33.371Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":124536.21887210205,"middle":125212.55500000001,"upper":125888.89112789796},"ema":{"ema21":125197.38833553917,"ema50":124849.84391458878,"ema9":125378.75330412929},"macd":{"histogram":21.43135690416821,"macd":214.31356904168206,"signal":192.88221213751385},"rsi":55.49026486581283,"volume":{"avg":563.7414100000001,"current":299.735,"ratio":0.5316888110099983}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima de 55, MACD histogram es positivo y creciente, Bollinger superiors y medio, EMA9 cruza por encima de EMA21 (golden cross), Kalman predice subida con confianza del 75%","symbol":"BTCUSDT","timestamp":1759639953371}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639953372","module":"BybitClient","timestamp":"2025-10-05T04:52:33.372Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:52:33.373Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759639887109%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"20\",\"autoAddMargin\":0,\"avgPrice\":\"125381.5\",\"liqPrice\":\"119739.4\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"127188.1\",\"positionValue\":\"50654.126\",\"isReduceOnly\":false,\"positionIMByMp\":\"2559.17308084\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"119711\",\"unrealisedPnl\":\"-4.848\",\"markPrice\":\"125369.5\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11739.99930779\",\"positionMM\":\"279.73741084\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2559.17308084\",\"positionMMByMp\":\"279.71317083\",\"seq\":140697267020616,\"updatedTime\":\"1759639887109\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2559.17308084\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-27.8597693\",\"size\":\"0.404\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"125194.1\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759639953569}","module":"BybitClient","timestamp":"2025-10-05T04:52:33.752Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:52:33.752Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639953752","module":"BybitClient","timestamp":"2025-10-05T04:52:33.753Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:52:33.753Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216749.11377172\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-4.84976952\",\"totalWalletBalance\":\"216753.96354124\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49992.82375295\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"124048.69799636\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4581.43739\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38112.24366346\",\"totalPositionMM\":\"279.73741084\",\"usdValue\":\"38126.15463239\",\"unrealisedPnl\":\"-4.848\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2559.17308084\",\"walletBalance\":\"38117.09166346\",\"cumRealisedPnl\":\"-12790.51122654\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759639954652}","module":"BybitClient","timestamp":"2025-10-05T04:52:34.836Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.404 BTCUSDT | PnL: -0.01%","module":"TradingStrategy","timestamp":"2025-10-05T04:52:34.836Z"}
{"level":"info","message":"Balance obtenido - Total: $216749.11, Disponible: $38117.09","module":"BybitClient","timestamp":"2025-10-05T04:52:34.836Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759639954837","module":"BybitClient","timestamp":"2025-10-05T04:52:34.837Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"stopLoss\":\"125194.10754000001\",\"slTriggerBy\":\"LastPrice\",\"positionIdx\":0}","module":"BybitClient","timestamp":"2025-10-05T04:52:34.837Z"}
{"level":"info","message":"📈 Actualizando trailing SL: 125194.11 (Max alcanzado: 125570.82)","module":"TradingStrategy","timestamp":"2025-10-05T04:52:34.837Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":34040,\"retMsg\":\"not modified\",\"result\":{},\"retExtInfo\":{},\"time\":1759639955716}","module":"BybitClient","timestamp":"2025-10-05T04:52:35.898Z"}
{"error":"Error: Error actualizando SL para BTCUSDT\n    at BybitClient.updatePositionStopLoss (/app/dist/exchange/bybit-client.js:314:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.updateTrailingStop (/app/dist/strategy/trading-strategy.js:442:25)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:370:17)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error actualizando trailing stop:","module":"TradingStrategy","timestamp":"2025-10-05T04:52:35.900Z"}
{"error":{"endpoint":"/v5/position/trading-stop","error":"Error API Bybit: not modified (Code: 34040)","method":"POST","params":{"category":"linear","positionIdx":0,"slTriggerBy":"LastPrice","stopLoss":"125194.10754000001","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T04:52:35.899Z"}
{"error":"Error: Error API Bybit: not modified (Code: 34040)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:405:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.updatePositionStopLoss (/app/dist/exchange/bybit-client.js:309:13)\n    at async TradingStrategy.updateTrailingStop (/app/dist/strategy/trading-strategy.js:442:25)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:370:17)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error actualizando stop loss:","module":"BybitClient","timestamp":"2025-10-05T04:52:35.900Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:52:36.275Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:52:36.275Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual es LONG con pérdida de 0.01%. Sin señales de reversión detectadas y con ...","module":"OllamaClient","timestamp":"2025-10-05T04:52:38.854Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual es LONG con pérdida de 0.01%. Sin señales de reversión detectadas y con indicador...","module":"TradingStrategy","timestamp":"2025-10-05T04:52:38.855Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759639958856","module":"BybitClient","timestamp":"2025-10-05T04:52:38.856Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:52:38.855Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:52:38.856Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:52:38.857Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759639887109%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"20\",\"autoAddMargin\":0,\"avgPrice\":\"125381.5\",\"liqPrice\":\"119739.4\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"127188.1\",\"positionValue\":\"50654.126\",\"isReduceOnly\":false,\"positionIMByMp\":\"2559.17308084\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"119711\",\"unrealisedPnl\":\"-4.95304\",\"markPrice\":\"125369.24\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11739.99930779\",\"positionMM\":\"279.73741084\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2559.17308084\",\"positionMMByMp\":\"279.71264563\",\"seq\":140697267020616,\"updatedTime\":\"1759639887109\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2559.17308084\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-27.8597693\",\"size\":\"0.404\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"125194.1\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759639959749}","module":"BybitClient","timestamp":"2025-10-05T04:52:39.938Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:52:39.938Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:52:39.938Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:52:39.939Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:52:48.669Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:52:49.763Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:52:49.764Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:52:49.764Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:53:39.938Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.1654","module":"KalmanFilter","timestamp":"2025-10-05T04:53:39.939Z"}
{"level":"debug","message":"Predicción Kalman: 125318.32260385809 (Confianza: 0.850)","module":"KalmanFilter","timestamp":"2025-10-05T04:53:39.939Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:53:41.036Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:53:43.857Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":124843.61401610584,"middle":125351.38,"upper":125859.14598389417},"ema":{"ema21":125298.32278990014,"ema50":124961.2138258376,"ema9":125431.30527469161},"macd":{"histogram":17.43723464654903,"macd":174.3723464654904,"signal":156.93511181894138},"rsi":56.95014509424578,"volume":{"avg":611.0980800000001,"current":208.842,"ratio":0.3417487418713539}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is at 56.95, MACD histogram is bullish and crossed above signal line, Bollinger bands are superior and middle band is crossing above the lower band, EMA9 is above EMA21 and EMA50, Kalman prediction is bullish with confidence of 85%, volume is low but increasing, indicators suggest a potential bullish reversal.","symbol":"BTCUSDT","timestamp":1759640023857}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640023857","module":"BybitClient","timestamp":"2025-10-05T04:53:43.857Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:53:43.857Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759639887109%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"20\",\"autoAddMargin\":0,\"avgPrice\":\"125381.5\",\"liqPrice\":\"119739.4\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"127188.1\",\"positionValue\":\"50654.126\",\"isReduceOnly\":false,\"positionIMByMp\":\"2559.17308084\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"119711\",\"unrealisedPnl\":\"32.0776\",\"markPrice\":\"125460.9\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11739.99930779\",\"positionMM\":\"279.73741084\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2559.17308084\",\"positionMMByMp\":\"279.89779883\",\"seq\":140697267020616,\"updatedTime\":\"1759639887109\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2559.17308084\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-27.8597693\",\"size\":\"0.404\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"125194.1\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759640024045}","module":"BybitClient","timestamp":"2025-10-05T04:53:44.228Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:53:44.229Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640024229","module":"BybitClient","timestamp":"2025-10-05T04:53:44.229Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:53:44.229Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216899.23141238\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"32.08975741\",\"totalWalletBalance\":\"216867.14165497\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49991.17375217\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"124159.90230459\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4584.527557\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38149.16926346\",\"totalPositionMM\":\"279.73741084\",\"usdValue\":\"38163.62779861\",\"unrealisedPnl\":\"32.0776\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2559.17308084\",\"walletBalance\":\"38117.09166346\",\"cumRealisedPnl\":\"-12790.51122654\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759640024416}","module":"BybitClient","timestamp":"2025-10-05T04:53:44.597Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.404 BTCUSDT | PnL: 0.06%","module":"TradingStrategy","timestamp":"2025-10-05T04:53:44.598Z"}
{"level":"info","message":"Balance obtenido - Total: $216899.23, Disponible: $38117.09","module":"BybitClient","timestamp":"2025-10-05T04:53:44.597Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759640024599","module":"BybitClient","timestamp":"2025-10-05T04:53:44.600Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"stopLoss\":\"125194.10754000001\",\"slTriggerBy\":\"LastPrice\",\"positionIdx\":0}","module":"BybitClient","timestamp":"2025-10-05T04:53:44.600Z"}
{"level":"info","message":"📈 Actualizando trailing SL: 125194.11 (Max alcanzado: 125570.82)","module":"TradingStrategy","timestamp":"2025-10-05T04:53:44.599Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":34040,\"retMsg\":\"not modified\",\"result\":{},\"retExtInfo\":{},\"time\":1759640024786}","module":"BybitClient","timestamp":"2025-10-05T04:53:44.965Z"}
{"error":"Error: Error actualizando SL para BTCUSDT\n    at BybitClient.updatePositionStopLoss (/app/dist/exchange/bybit-client.js:314:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.updateTrailingStop (/app/dist/strategy/trading-strategy.js:442:25)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:370:17)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error actualizando trailing stop:","module":"TradingStrategy","timestamp":"2025-10-05T04:53:44.967Z"}
{"error":{"endpoint":"/v5/position/trading-stop","error":"Error API Bybit: not modified (Code: 34040)","method":"POST","params":{"category":"linear","positionIdx":0,"slTriggerBy":"LastPrice","stopLoss":"125194.10754000001","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T04:53:44.966Z"}
{"error":"Error: Error API Bybit: not modified (Code: 34040)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:405:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.updatePositionStopLoss (/app/dist/exchange/bybit-client.js:309:13)\n    at async TradingStrategy.updateTrailingStop (/app/dist/strategy/trading-strategy.js:442:25)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:370:17)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error actualizando stop loss:","module":"BybitClient","timestamp":"2025-10-05T04:53:44.967Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:53:45.342Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:53:45.342Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual es saludable con una ganancia del 0.06% y sin señales de reversión. Mant...","module":"OllamaClient","timestamp":"2025-10-05T04:53:46.993Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual es saludable con una ganancia del 0.06% y sin señales de reversión. Mantener la p...","module":"TradingStrategy","timestamp":"2025-10-05T04:53:46.994Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640026995","module":"BybitClient","timestamp":"2025-10-05T04:53:46.995Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:53:46.994Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:53:46.995Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:53:46.995Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759639887109%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"20\",\"autoAddMargin\":0,\"avgPrice\":\"125381.5\",\"liqPrice\":\"119739.4\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"127188.1\",\"positionValue\":\"50654.126\",\"isReduceOnly\":false,\"positionIMByMp\":\"2559.17308084\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"119711\",\"unrealisedPnl\":\"32.0776\",\"markPrice\":\"125460.9\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11739.99930779\",\"positionMM\":\"279.73741084\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2559.17308084\",\"positionMMByMp\":\"279.89779883\",\"seq\":140697267020616,\"updatedTime\":\"1759639887109\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2559.17308084\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-27.8597693\",\"size\":\"0.404\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"125194.1\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759640027181}","module":"BybitClient","timestamp":"2025-10-05T04:53:47.369Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:53:47.370Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:53:47.369Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:53:47.370Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:53:48.670Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:53:49.038Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:53:49.039Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:53:49.038Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:54:47.376Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0950","module":"KalmanFilter","timestamp":"2025-10-05T04:54:47.377Z"}
{"level":"debug","message":"Predicción Kalman: 125409.47173755901 (Confianza: 0.869)","module":"KalmanFilter","timestamp":"2025-10-05T04:54:47.377Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:54:48.471Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:54:48.671Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:54:49.039Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:54:49.039Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:54:49.039Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:54:51.049Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":125004.80260120494,"middle":125399.33,"upper":125793.85739879507},"ema":{"ema21":125343.5270848844,"ema50":125043.82630246344,"ema9":125429.28691241721},"macd":{"histogram":12.532811192263026,"macd":125.32811192263034,"signal":112.79530073036732},"rsi":56.449908412004945,"volume":{"avg":638.80411,"current":270.792,"ratio":0.4239045988605176}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima de 50, MACD está cruzando a positivo y el precio está superando su rango de Bollinger superior. Además, la predicción de Kalman indica una subida probable. Sugiero comprar con un leveraje moderado (20-30x)","symbol":"BTCUSDT","timestamp":1759640091049}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640091049","module":"BybitClient","timestamp":"2025-10-05T04:54:51.049Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:54:51.049Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759639887109%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"20\",\"autoAddMargin\":0,\"avgPrice\":\"125381.5\",\"liqPrice\":\"119739.4\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"127188.1\",\"positionValue\":\"50654.126\",\"isReduceOnly\":false,\"positionIMByMp\":\"2559.17308084\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"119711\",\"unrealisedPnl\":\"-11.6958\",\"markPrice\":\"125352.55\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11739.99930779\",\"positionMM\":\"279.73741084\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2559.17308084\",\"positionMMByMp\":\"279.67893183\",\"seq\":140697267020616,\"updatedTime\":\"1759639887109\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2559.17308084\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-27.8597693\",\"size\":\"0.404\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"125194.1\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759640091238}","module":"BybitClient","timestamp":"2025-10-05T04:54:51.420Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:54:51.420Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640091421","module":"BybitClient","timestamp":"2025-10-05T04:54:51.421Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:54:51.421Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216739.95964918\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-11.70004557\",\"totalWalletBalance\":\"216751.65969476\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49993.32375319\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"124047.14405583\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4580.263718\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38105.39586346\",\"totalPositionMM\":\"279.73741084\",\"usdValue\":\"38119.22812215\",\"unrealisedPnl\":\"-11.6958\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2559.17308084\",\"walletBalance\":\"38117.09166346\",\"cumRealisedPnl\":\"-12790.51122654\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759640091608}","module":"BybitClient","timestamp":"2025-10-05T04:54:51.795Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.404 BTCUSDT | PnL: -0.02%","module":"TradingStrategy","timestamp":"2025-10-05T04:54:51.796Z"}
{"level":"info","message":"Balance obtenido - Total: $216739.96, Disponible: $38117.09","module":"BybitClient","timestamp":"2025-10-05T04:54:51.795Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759640091796","module":"BybitClient","timestamp":"2025-10-05T04:54:51.796Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"stopLoss\":\"125194.10754000001\",\"slTriggerBy\":\"LastPrice\",\"positionIdx\":0}","module":"BybitClient","timestamp":"2025-10-05T04:54:51.796Z"}
{"level":"info","message":"📈 Actualizando trailing SL: 125194.11 (Max alcanzado: 125570.82)","module":"TradingStrategy","timestamp":"2025-10-05T04:54:51.796Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":34040,\"retMsg\":\"not modified\",\"result\":{},\"retExtInfo\":{},\"time\":1759640091982}","module":"BybitClient","timestamp":"2025-10-05T04:54:52.162Z"}
{"error":"Error: Error actualizando SL para BTCUSDT\n    at BybitClient.updatePositionStopLoss (/app/dist/exchange/bybit-client.js:314:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.updateTrailingStop (/app/dist/strategy/trading-strategy.js:442:25)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:370:17)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error actualizando trailing stop:","module":"TradingStrategy","timestamp":"2025-10-05T04:54:52.164Z"}
{"error":{"endpoint":"/v5/position/trading-stop","error":"Error API Bybit: not modified (Code: 34040)","method":"POST","params":{"category":"linear","positionIdx":0,"slTriggerBy":"LastPrice","stopLoss":"125194.10754000001","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T04:54:52.162Z"}
{"error":"Error: Error API Bybit: not modified (Code: 34040)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:405:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.updatePositionStopLoss (/app/dist/exchange/bybit-client.js:309:13)\n    at async TradingStrategy.updateTrailingStop (/app/dist/strategy/trading-strategy.js:442:25)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:370:17)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error actualizando stop loss:","module":"BybitClient","timestamp":"2025-10-05T04:54:52.163Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:54:52.539Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:54:52.539Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual es LONG con pérdida pequeña (0.02%). Sin señales de reversión detectadas...","module":"OllamaClient","timestamp":"2025-10-05T04:54:55.231Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640095233","module":"BybitClient","timestamp":"2025-10-05T04:54:55.233Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual es LONG con pérdida pequeña (0.02%). Sin señales de reversión detectadas y con in...","module":"TradingStrategy","timestamp":"2025-10-05T04:54:55.232Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:54:55.232Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:54:55.232Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:54:55.234Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759639887109%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"20\",\"autoAddMargin\":0,\"avgPrice\":\"125381.5\",\"liqPrice\":\"119739.4\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"127188.1\",\"positionValue\":\"50654.126\",\"isReduceOnly\":false,\"positionIMByMp\":\"2559.17308084\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"119711\",\"unrealisedPnl\":\"-11.6958\",\"markPrice\":\"125352.55\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11739.99930779\",\"positionMM\":\"279.73741084\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2559.17308084\",\"positionMMByMp\":\"279.67893183\",\"seq\":140697267020616,\"updatedTime\":\"1759639887109\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2559.17308084\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-27.8597693\",\"size\":\"0.404\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"125194.1\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759640095424}","module":"BybitClient","timestamp":"2025-10-05T04:54:55.608Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:54:55.608Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:54:55.608Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:54:55.608Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:55:48.672Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:55:49.774Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:55:49.775Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:55:49.774Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:55:55.609Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T04:55:55.610Z"}
{"level":"debug","message":"Predicción Kalman: 125345.45028491452 (Confianza: 0.888)","module":"KalmanFilter","timestamp":"2025-10-05T04:55:55.610Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:55:56.717Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:55:58.965Z"}
{"confidence":0.75,"decision":"BUY","indicators":{"bollinger":{"lower":125200.29961460733,"middle":125414.20500000003,"upper":125628.11038539273},"ema":{"ema21":125364.3080781311,"ema50":125155.66096191961,"ema9":125368.5102578534},"macd":{"histogram":3.8830609205193483,"macd":38.83060920519347,"signal":34.94754828467412},"rsi":49.1369315986087,"volume":{"avg":662.04146,"current":296.927,"ratio":0.4485021225105751}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI < 30, MACD bearish, Bollinger inferior, EMA9 cruza por debajo de EMA21, Kalman predice subida con confianza > 75%","symbol":"BTCUSDT","timestamp":1759640158965}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640158966","module":"BybitClient","timestamp":"2025-10-05T04:55:58.966Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:55:58.966Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759639887109%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"20\",\"autoAddMargin\":0,\"avgPrice\":\"125381.5\",\"liqPrice\":\"119739.4\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"127188.1\",\"positionValue\":\"50654.126\",\"isReduceOnly\":false,\"positionIMByMp\":\"2559.17308084\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"119711\",\"unrealisedPnl\":\"-57.6104\",\"markPrice\":\"125238.9\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11739.99930779\",\"positionMM\":\"279.73741084\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2559.17308084\",\"positionMMByMp\":\"279.44935883\",\"seq\":140697267020616,\"updatedTime\":\"1759639887109\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2559.17308084\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-27.8597693\",\"size\":\"0.404\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"125194.1\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759640159162}","module":"BybitClient","timestamp":"2025-10-05T04:55:59.343Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:55:59.344Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640159344","module":"BybitClient","timestamp":"2025-10-05T04:55:59.344Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:55:59.345Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216570.31169262\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-57.62889293\",\"totalWalletBalance\":\"216627.94058555\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49992.82375295\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123933.34235371\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4572.447229\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38059.48126346\",\"totalPositionMM\":\"279.73741084\",\"usdValue\":\"38071.69835694\",\"unrealisedPnl\":\"-57.6104\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2559.17308084\",\"walletBalance\":\"38117.09166346\",\"cumRealisedPnl\":\"-12790.51122654\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759640160236}","module":"BybitClient","timestamp":"2025-10-05T04:56:00.417Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.404 BTCUSDT | PnL: -0.11%","module":"TradingStrategy","timestamp":"2025-10-05T04:56:00.418Z"}
{"level":"info","message":"Balance obtenido - Total: $216570.31, Disponible: $38117.09","module":"BybitClient","timestamp":"2025-10-05T04:56:00.417Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759640160418","module":"BybitClient","timestamp":"2025-10-05T04:56:00.418Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"stopLoss\":\"125194.10754000001\",\"slTriggerBy\":\"LastPrice\",\"positionIdx\":0}","module":"BybitClient","timestamp":"2025-10-05T04:56:00.418Z"}
{"level":"info","message":"📈 Actualizando trailing SL: 125194.11 (Max alcanzado: 125570.82)","module":"TradingStrategy","timestamp":"2025-10-05T04:56:00.418Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":34040,\"retMsg\":\"not modified\",\"result\":{},\"retExtInfo\":{},\"time\":1759640161298}","module":"BybitClient","timestamp":"2025-10-05T04:56:01.479Z"}
{"error":"Error: Error actualizando SL para BTCUSDT\n    at BybitClient.updatePositionStopLoss (/app/dist/exchange/bybit-client.js:314:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.updateTrailingStop (/app/dist/strategy/trading-strategy.js:442:25)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:370:17)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error actualizando trailing stop:","module":"TradingStrategy","timestamp":"2025-10-05T04:56:01.481Z"}
{"error":{"endpoint":"/v5/position/trading-stop","error":"Error API Bybit: not modified (Code: 34040)","method":"POST","params":{"category":"linear","positionIdx":0,"slTriggerBy":"LastPrice","stopLoss":"125194.10754000001","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T04:56:01.480Z"}
{"error":"Error: Error API Bybit: not modified (Code: 34040)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:405:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.updatePositionStopLoss (/app/dist/exchange/bybit-client.js:309:13)\n    at async TradingStrategy.updateTrailingStop (/app/dist/strategy/trading-strategy.js:442:25)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:370:17)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error actualizando stop loss:","module":"BybitClient","timestamp":"2025-10-05T04:56:01.480Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:56:01.847Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:56:01.848Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una pérdida del 0.11%, pero el RSI y el MACD están en niveles bajo...","module":"OllamaClient","timestamp":"2025-10-05T04:56:03.970Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una pérdida del 0.11%, pero el RSI y el MACD están en niveles bajos, indica...","module":"TradingStrategy","timestamp":"2025-10-05T04:56:03.971Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640163971","module":"BybitClient","timestamp":"2025-10-05T04:56:03.972Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:56:03.970Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:56:03.971Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:56:03.972Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759639887109%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"20\",\"autoAddMargin\":0,\"avgPrice\":\"125381.5\",\"liqPrice\":\"119739.4\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"127188.1\",\"positionValue\":\"50654.126\",\"isReduceOnly\":false,\"positionIMByMp\":\"2559.17308084\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"119711\",\"unrealisedPnl\":\"-54.91572\",\"markPrice\":\"125245.57\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11739.99930779\",\"positionMM\":\"279.73741084\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2559.17308084\",\"positionMMByMp\":\"279.46283223\",\"seq\":140697267020616,\"updatedTime\":\"1759639887109\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2559.17308084\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-27.8597693\",\"size\":\"0.404\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"125194.1\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759640164159}","module":"BybitClient","timestamp":"2025-10-05T04:56:04.340Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:56:04.341Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:56:04.341Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:56:04.341Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:56:48.673Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:56:49.782Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:56:49.783Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:56:49.782Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:57:04.342Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T04:57:04.343Z"}
{"level":"debug","message":"Predicción Kalman: 125315.67327397515 (Confianza: 0.888)","module":"KalmanFilter","timestamp":"2025-10-05T04:57:04.343Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:57:05.437Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:57:08.161Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":125213.65025915527,"middle":125379.81500000002,"upper":125545.97974084476},"ema":{"ema21":125350.1052946199,"ema50":125186.9432819489,"ema9":125335.30048128244},"macd":{"histogram":1.1130366087469152,"macd":11.130366087469156,"signal":10.01732947872224},"rsi":45.29645924994729,"volume":{"avg":668.7468600000002,"current":112.834,"ratio":0.16872453053461808}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is below 50, MACD histogram is bullish and the price is above the Bollinger Band, indicating a potential upside. The Kalman prediction also suggests a positive outcome with a confidence level of 70%. With a leverage of 10-20x, I suggest going long on this position.","symbol":"BTCUSDT","timestamp":1759640228161}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640228163","module":"BybitClient","timestamp":"2025-10-05T04:57:08.163Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:57:08.163Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759639887109%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"20\",\"autoAddMargin\":0,\"avgPrice\":\"125381.5\",\"liqPrice\":\"119739.4\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"127188.1\",\"positionValue\":\"50654.126\",\"isReduceOnly\":false,\"positionIMByMp\":\"2559.17308084\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"119711\",\"unrealisedPnl\":\"-39.86268\",\"markPrice\":\"125282.83\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11739.99930779\",\"positionMM\":\"279.73741084\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2559.17308084\",\"positionMMByMp\":\"279.53809743\",\"seq\":140697267020616,\"updatedTime\":\"1759639887109\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2559.17308084\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-27.8597693\",\"size\":\"0.404\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"125194.1\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759640228356}","module":"BybitClient","timestamp":"2025-10-05T04:57:08.539Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:57:08.539Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640228539","module":"BybitClient","timestamp":"2025-10-05T04:57:08.539Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:57:08.539Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216649.37177987\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-39.87746905\",\"totalWalletBalance\":\"216689.24924892\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49990.67375193\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123989.13419852\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4578.208194\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38077.22898346\",\"totalPositionMM\":\"279.73741084\",\"usdValue\":\"38091.35563541\",\"unrealisedPnl\":\"-39.86268\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2559.17308084\",\"walletBalance\":\"38117.09166346\",\"cumRealisedPnl\":\"-12790.51122654\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759640228732}","module":"BybitClient","timestamp":"2025-10-05T04:57:08.915Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.404 BTCUSDT | PnL: -0.08%","module":"TradingStrategy","timestamp":"2025-10-05T04:57:08.916Z"}
{"level":"info","message":"Balance obtenido - Total: $216649.37, Disponible: $38117.09","module":"BybitClient","timestamp":"2025-10-05T04:57:08.916Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759640228916","module":"BybitClient","timestamp":"2025-10-05T04:57:08.916Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"stopLoss\":\"125194.10754000001\",\"slTriggerBy\":\"LastPrice\",\"positionIdx\":0}","module":"BybitClient","timestamp":"2025-10-05T04:57:08.917Z"}
{"level":"info","message":"📈 Actualizando trailing SL: 125194.11 (Max alcanzado: 125570.82)","module":"TradingStrategy","timestamp":"2025-10-05T04:57:08.916Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":34040,\"retMsg\":\"not modified\",\"result\":{},\"retExtInfo\":{},\"time\":1759640229110}","module":"BybitClient","timestamp":"2025-10-05T04:57:09.296Z"}
{"error":"Error: Error actualizando SL para BTCUSDT\n    at BybitClient.updatePositionStopLoss (/app/dist/exchange/bybit-client.js:314:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.updateTrailingStop (/app/dist/strategy/trading-strategy.js:442:25)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:370:17)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error actualizando trailing stop:","module":"TradingStrategy","timestamp":"2025-10-05T04:57:09.298Z"}
{"error":{"endpoint":"/v5/position/trading-stop","error":"Error API Bybit: not modified (Code: 34040)","method":"POST","params":{"category":"linear","positionIdx":0,"slTriggerBy":"LastPrice","stopLoss":"125194.10754000001","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T04:57:09.296Z"}
{"error":"Error: Error API Bybit: not modified (Code: 34040)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:405:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.updatePositionStopLoss (/app/dist/exchange/bybit-client.js:309:13)\n    at async TradingStrategy.updateTrailingStop (/app/dist/strategy/trading-strategy.js:442:25)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:370:17)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error actualizando stop loss:","module":"BybitClient","timestamp":"2025-10-05T04:57:09.297Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:57:09.670Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:57:09.670Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una pérdida del 0.08%, pero no hay señales claras de reversión. La...","module":"OllamaClient","timestamp":"2025-10-05T04:57:11.799Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una pérdida del 0.08%, pero no hay señales claras de reversión. La tendenci...","module":"TradingStrategy","timestamp":"2025-10-05T04:57:11.801Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640231803","module":"BybitClient","timestamp":"2025-10-05T04:57:11.803Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:57:11.800Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:57:11.802Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:57:11.804Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759639887109%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"20\",\"autoAddMargin\":0,\"avgPrice\":\"125381.5\",\"liqPrice\":\"119739.4\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"127188.1\",\"positionValue\":\"50654.126\",\"isReduceOnly\":false,\"positionIMByMp\":\"2559.17308084\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"119711\",\"unrealisedPnl\":\"-27.5124\",\"markPrice\":\"125313.4\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11739.99930779\",\"positionMM\":\"279.73741084\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2559.17308084\",\"positionMMByMp\":\"279.59984883\",\"seq\":140697267020616,\"updatedTime\":\"1759639887109\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2559.17308084\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-27.8597693\",\"size\":\"0.404\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"125194.1\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759640232690}","module":"BybitClient","timestamp":"2025-10-05T04:57:12.871Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T04:57:12.871Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:57:12.871Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T04:57:12.872Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:57:48.675Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:57:49.762Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:57:49.763Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:57:49.763Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:58:12.874Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T04:58:12.874Z"}
{"level":"debug","message":"Predicción Kalman: 125260.28464552425 (Confianza: 0.887)","module":"KalmanFilter","timestamp":"2025-10-05T04:58:12.875Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:58:13.976Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:58:17.066Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":125184.46173558527,"middle":125353.28,"upper":125522.09826441473},"ema":{"ema21":125328.55226418814,"ema50":125207.12691760919,"ema9":125298.91142169073},"macd":{"histogram":-1.0034242792389705,"macd":-10.034242792389705,"signal":-9.030818513150734},"rsi":41.53593839132907,"volume":{"avg":673.4639600000005,"current":234.267,"ratio":0.3478538034908354}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is at 41.54, which is slightly below the overbought level of 70. MACD histogram is negative and decreasing, indicating a possible bearish reversal. Bollinger bands are in the neutral zone, but the price is trading above the upper band, which suggests a potential breakout. Kalman forecast predicts a slight increase in price with a confidence of 88.7%. Given these indicators, it seems like a good time to buy.","symbol":"BTCUSDT","timestamp":1759640297067}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640297067","module":"BybitClient","timestamp":"2025-10-05T04:58:17.068Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:58:17.068Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759640280814%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"20\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"125193.6\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-11844.81912577\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697267036036,\"updatedTime\":\"1759640280814\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759640297256}","module":"BybitClient","timestamp":"2025-10-05T04:58:17.436Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T04:58:17.436Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640297436","module":"BybitClient","timestamp":"2025-10-05T04:58:17.436Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:58:17.437Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759640280814%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"20\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"125193.6\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-11844.81912577\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697267036036,\"updatedTime\":\"1759640280814\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759640297626}","module":"BybitClient","timestamp":"2025-10-05T04:58:17.808Z"}
{"level":"info","message":"AI sugiere BUY con confianza 0.7","module":"TradingStrategy","timestamp":"2025-10-05T04:58:17.808Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T04:58:17.808Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640297809","module":"BybitClient","timestamp":"2025-10-05T04:58:17.809Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:58:17.810Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216514.86145679\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"216514.86145679\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49999.27375602\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123911.76970022\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4574.89678\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38012.27184548\",\"totalPositionMM\":\"0\",\"usdValue\":\"38028.92122054\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"38012.27184548\",\"cumRealisedPnl\":\"-12895.33104452\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759640298701}","module":"BybitClient","timestamp":"2025-10-05T04:58:18.886Z"}
{"level":"info","message":"Balance disponible: $38012.27, Precio: $125184.2","module":"TradingStrategy","timestamp":"2025-10-05T04:58:18.886Z"}
{"level":"info","message":"Balance obtenido - Total: $216514.86, Disponible: $38012.27","module":"BybitClient","timestamp":"2025-10-05T04:58:18.886Z"}
{"level":"debug","message":"Símbolo info - Min: 0.001, Step: 0.001","module":"TradingStrategy","timestamp":"2025-10-05T04:58:19.255Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640299259","module":"BybitClient","timestamp":"2025-10-05T04:58:19.259Z"}
{"level":"info","message":"Riesgo: 5%, Capital a arriesgar: $1900.61","module":"TradingStrategy","timestamp":"2025-10-05T04:58:19.255Z"}
{"level":"info","message":"Position value: $28509.20, Quantity raw: 0.227738","module":"TradingStrategy","timestamp":"2025-10-05T04:58:19.255Z"}
{"level":"info","message":"Cantidad final calculada: 0.227 BTC (valor: $28416.81)","module":"TradingStrategy","timestamp":"2025-10-05T04:58:19.256Z"}
{"level":"info","message":"Parámetros calculados - Leverage: 15x, Quantity: 0.227","module":"TradingStrategy","timestamp":"2025-10-05T04:58:19.257Z"}
{"level":"info","message":"Generando señal de trading: BUY 0.227 BTCUSDT @ 125184.2 (SL: 124433.09479999999, TP: 126573.74462000001)","module":"TradingStrategy","timestamp":"2025-10-05T04:58:19.257Z"}
{"level":"info","message":"EJECUTANDO TRADE: BUY 0.227 BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-05T04:58:19.257Z"}
{"level":"info","message":"=== INICIO EJECUCIÓN DE TRADE ===","module":"TradingStrategy","timestamp":"2025-10-05T04:58:19.258Z"}
{"level":"info","message":"Señal: {\"symbol\":\"BTCUSDT\",\"action\":\"BUY\",\"leverage\":15,\"quantity\":0.227,\"stopLoss\":124433.09479999999,\"takeProfit\":126573.74462000001,\"timestamp\":1759640299257,\"aiAnalysis\":{\"decision\":\"BUY\",\"confidence\":0.7,\"reasoning\":\"RSI is at 41.54, which is slightly below the overbought level of 70. MACD histogram is negative and decreasing, indicating a possible bearish reversal. Bollinger bands are in the neutral zone, but the price is trading above the upper band, which suggests a potential breakout. Kalman forecast predicts a slight increase in price with a confidence of 88.7%. Given these indicators, it seems like a good time to buy.\",\"indicators\":{},\"kalman\":{},\"marketSentiment\":\"neutral\",\"riskLevel\":\"low\",\"suggestedLeverage\":20}}","module":"TradingStrategy","timestamp":"2025-10-05T04:58:19.258Z"}
{"level":"info","message":"Validando con Risk Manager...","module":"TradingStrategy","timestamp":"2025-10-05T04:58:19.259Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:58:19.259Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216514.86145679\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"216514.86145679\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49999.27375602\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123911.76970022\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4574.89678\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38012.27184548\",\"totalPositionMM\":\"0\",\"usdValue\":\"38028.92122054\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"38012.27184548\",\"cumRealisedPnl\":\"-12895.33104452\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759640299454}","module":"BybitClient","timestamp":"2025-10-05T04:58:19.634Z"}
{"level":"info","message":"Balance obtenido - Total: $216514.86, Disponible: $38012.27","module":"BybitClient","timestamp":"2025-10-05T04:58:19.635Z"}
{"level":"info","message":"Validando posición: Cantidad=0.227, Precio=125193.50, Valor=$28418.92","module":"RiskManager","timestamp":"2025-10-05T04:58:20.008Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640300008","module":"BybitClient","timestamp":"2025-10-05T04:58:20.008Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:58:20.008Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759640280814%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"20\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"125193.6\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-11844.81912577\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697267036036,\"updatedTime\":\"1759640280814\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759640300200}","module":"BybitClient","timestamp":"2025-10-05T04:58:20.382Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T04:58:20.382Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 20","module":"BybitClient","timestamp":"2025-10-05T04:58:20.753Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:58:21.125Z"}
{"level":"info","message":"Velas obtenidas: 20 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:58:21.125Z"}
{"level":"info","message":"Trade aprobado - Risk Score: 0.30","module":"RiskManager","timestamp":"2025-10-05T04:58:21.492Z"}
{"level":"info","message":"Resultado validación: {\"approved\":true,\"reason\":\"Trade aprobado por gestión de riesgo\",\"riskScore\":0.29647469695392}","module":"TradingStrategy","timestamp":"2025-10-05T04:58:21.492Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759640301493","module":"BybitClient","timestamp":"2025-10-05T04:58:21.493Z"}
{"level":"info","message":"Trade aprobado por Risk Manager, ejecutando...","module":"TradingStrategy","timestamp":"2025-10-05T04:58:21.493Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"buyLeverage\":\"15\",\"sellLeverage\":\"15\"}","module":"BybitClient","timestamp":"2025-10-05T04:58:21.493Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{},\"retExtInfo\":{},\"time\":1759640302375}","module":"BybitClient","timestamp":"2025-10-05T04:58:22.554Z"}
{"level":"info","message":"Leverage establecido a 15x para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:58:22.554Z"}
{"level":"info","message":"Ejecutando orden: Buy 0.227 BTCUSDT | SL: 124433.09479999999 | TP: 126573.74462000001","module":"BybitClient","timestamp":"2025-10-05T04:58:22.555Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759640302555","module":"BybitClient","timestamp":"2025-10-05T04:58:22.555Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"side\":\"Buy\",\"orderType\":\"Market\",\"qty\":\"0.227\",\"timeInForce\":\"IOC\",\"stopLoss\":\"124433.09\",\"slTriggerBy\":\"LastPrice\",\"takeProfit\":\"126573.74\",\"tpTriggerBy\":\"LastPrice\"}","module":"BybitClient","timestamp":"2025-10-05T04:58:22.556Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"orderId\":\"d8de2cf9-5b9c-4d22-95af-93267eb7de33\",\"orderLinkId\":\"\"},\"retExtInfo\":{},\"time\":1759640302745}","module":"BybitClient","timestamp":"2025-10-05T04:58:22.924Z"}
{"level":"info","message":"TRADE_OPEN","module":"TradingStrategy","pnl":0,"price":0,"quantity":0.227,"side":"BUY","symbol":"BTCUSDT","timestamp":1759640302924}
{"level":"debug","message":"Trades ejecutados hoy: 2/20","module":"RiskManager","timestamp":"2025-10-05T04:58:22.925Z"}
{"level":"info","message":"Orden ejecutada exitosamente: d8de2cf9-5b9c-4d22-95af-93267eb7de33","module":"BybitClient","timestamp":"2025-10-05T04:58:22.924Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640302925","module":"BybitClient","timestamp":"2025-10-05T04:58:22.925Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:58:22.925Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216502.52660386\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-0.47916589\",\"totalWalletBalance\":\"216503.00576976\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49998.77375578\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123916.00267462\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4576.04855\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37996.16119353\",\"totalPositionMM\":\"156.6959588\",\"usdValue\":\"38011.70162345\",\"unrealisedPnl\":\"-0.47897\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1909.3391807\",\"walletBalance\":\"37996.64016353\",\"cumRealisedPnl\":\"-12910.96272647\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759640303115}","module":"BybitClient","timestamp":"2025-10-05T04:58:23.297Z"}
{"level":"info","message":"Balance obtenido - Total: $216502.53, Disponible: $37996.64","module":"BybitClient","timestamp":"2025-10-05T04:58:23.297Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:58:48.676Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:58:49.076Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:58:49.077Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:58:49.076Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T04:59:23.300Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T04:59:23.301Z"}
{"level":"debug","message":"Predicción Kalman: 125224.05835853962 (Confianza: 0.884)","module":"KalmanFilter","timestamp":"2025-10-05T04:59:23.301Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T04:59:24.403Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T04:59:27.242Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":125138.16867576576,"middle":125312.18500000001,"upper":125486.20132423427},"ema":{"ema21":125294.56233605157,"ema50":125214.13682956823,"ema9":125253.20393465404},"macd":{"histogram":-2.7900759446347365,"macd":-27.900759446347365,"signal":-25.11068350171263},"rsi":43.22531257973993,"volume":{"avg":674.8099600000006,"current":183.584,"ratio":0.2720528902685429}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is at 43.23, MACD histogram is negative and bearish, Bollinger bands are above the middle line, EMA9 is above EMA21, Kalman prediction is bullish with a confidence of 88.4%, and there is a recent increase in volume. These indicators suggest a potential bullish trend, and the market sentiment is neutral. Therefore, I suggest buying.","symbol":"BTCUSDT","timestamp":1759640367242}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640367242","module":"BybitClient","timestamp":"2025-10-05T04:59:27.242Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:59:27.242Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759640302745%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"125203.7\",\"liqPrice\":\"117482.9\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126573.7\",\"positionValue\":\"28421.2399\",\"isReduceOnly\":false,\"positionIMByMp\":\"1909.3391807\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117444.1\",\"unrealisedPnl\":\"1.75017\",\"markPrice\":\"125211.41\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11860.45080772\",\"positionMM\":\"156.6959588\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1909.3391807\",\"positionMMByMp\":\"156.70470964\",\"seq\":140697267036652,\"updatedTime\":\"1759640302745\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1909.3391807\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.63168195\",\"size\":\"0.227\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124433\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759640368137}","module":"BybitClient","timestamp":"2025-10-05T04:59:28.320Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T04:59:28.320Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640368320","module":"BybitClient","timestamp":"2025-10-05T04:59:28.321Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:59:28.321Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216496.14056265\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"1.7507598\",\"totalWalletBalance\":\"216494.38980284\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49991.82375248\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123919.24376509\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4573.877254\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37998.39033353\",\"totalPositionMM\":\"156.6959588\",\"usdValue\":\"38011.19579107\",\"unrealisedPnl\":\"1.75017\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1909.3391807\",\"walletBalance\":\"37996.64016353\",\"cumRealisedPnl\":\"-12910.96272647\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759640368509}","module":"BybitClient","timestamp":"2025-10-05T04:59:28.692Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.227 BTCUSDT | PnL: 0.01%","module":"TradingStrategy","timestamp":"2025-10-05T04:59:28.692Z"}
{"level":"info","message":"Balance obtenido - Total: $216496.14, Disponible: $37996.64","module":"BybitClient","timestamp":"2025-10-05T04:59:28.692Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759640368693","module":"BybitClient","timestamp":"2025-10-05T04:59:28.693Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"stopLoss\":\"125194.10754000001\",\"slTriggerBy\":\"LastPrice\",\"positionIdx\":0}","module":"BybitClient","timestamp":"2025-10-05T04:59:28.693Z"}
{"level":"info","message":"📈 Actualizando trailing SL: 125194.11 (Max alcanzado: 125570.82)","module":"TradingStrategy","timestamp":"2025-10-05T04:59:28.692Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{},\"retExtInfo\":{},\"time\":1759640369587}","module":"BybitClient","timestamp":"2025-10-05T04:59:29.767Z"}
{"level":"info","message":"Stop Loss actualizado para BTCUSDT: SL=125194.10754000001","module":"BybitClient","timestamp":"2025-10-05T04:59:29.767Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T04:59:30.140Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T04:59:30.140Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una ganancia del 0.01% y no hay señales claras de reversión. La te...","module":"OllamaClient","timestamp":"2025-10-05T04:59:32.421Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una ganancia del 0.01% y no hay señales claras de reversión. La tendencia e...","module":"TradingStrategy","timestamp":"2025-10-05T04:59:32.423Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640372424","module":"BybitClient","timestamp":"2025-10-05T04:59:32.424Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T04:59:32.421Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T04:59:32.424Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:59:32.424Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759640370605%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"125191.77\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-11878.73692892\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697267038590,\"updatedTime\":\"1759640370605\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759640372619}","module":"BybitClient","timestamp":"2025-10-05T04:59:32.800Z"}
{"level":"info","message":"AI sugiere BUY con confianza 0.8","module":"TradingStrategy","timestamp":"2025-10-05T04:59:32.801Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T04:59:32.801Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640372801","module":"BybitClient","timestamp":"2025-10-05T04:59:32.801Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:59:32.801Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216457.86689671\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"216457.86689671\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49988.02375067\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123908.2076476\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4573.938781\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37978.35404233\",\"totalPositionMM\":\"0\",\"usdValue\":\"37987.69671742\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"37978.35404233\",\"cumRealisedPnl\":\"-12929.24884767\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759640372995}","module":"BybitClient","timestamp":"2025-10-05T04:59:33.178Z"}
{"level":"info","message":"Balance disponible: $37978.35, Precio: $125207.1","module":"TradingStrategy","timestamp":"2025-10-05T04:59:33.178Z"}
{"level":"info","message":"Balance obtenido - Total: $216457.87, Disponible: $37978.35","module":"BybitClient","timestamp":"2025-10-05T04:59:33.178Z"}
{"level":"debug","message":"Símbolo info - Min: 0.001, Step: 0.001","module":"TradingStrategy","timestamp":"2025-10-05T04:59:33.547Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640373549","module":"BybitClient","timestamp":"2025-10-05T04:59:33.549Z"}
{"level":"info","message":"Riesgo: 5.666666666666667%, Capital a arriesgar: $2152.11","module":"TradingStrategy","timestamp":"2025-10-05T04:59:33.547Z"}
{"level":"info","message":"Position value: $36585.81, Quantity raw: 0.292202","module":"TradingStrategy","timestamp":"2025-10-05T04:59:33.547Z"}
{"level":"info","message":"Cantidad final calculada: 0.292 BTC (valor: $36560.47)","module":"TradingStrategy","timestamp":"2025-10-05T04:59:33.548Z"}
{"level":"info","message":"Parámetros calculados - Leverage: 17x, Quantity: 0.292","module":"TradingStrategy","timestamp":"2025-10-05T04:59:33.548Z"}
{"level":"info","message":"Generando señal de trading: BUY 0.292 BTCUSDT @ 125207.1 (SL: 124455.85740000001, TP: 126634.46094)","module":"TradingStrategy","timestamp":"2025-10-05T04:59:33.548Z"}
{"level":"info","message":"EJECUTANDO TRADE: BUY 0.292 BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-05T04:59:33.548Z"}
{"level":"info","message":"=== INICIO EJECUCIÓN DE TRADE ===","module":"TradingStrategy","timestamp":"2025-10-05T04:59:33.548Z"}
{"level":"info","message":"Señal: {\"symbol\":\"BTCUSDT\",\"action\":\"BUY\",\"leverage\":17,\"quantity\":0.292,\"stopLoss\":124455.85740000001,\"takeProfit\":126634.46094,\"timestamp\":1759640373548,\"aiAnalysis\":{\"decision\":\"BUY\",\"confidence\":0.8,\"reasoning\":\"RSI is at 43.23, MACD histogram is negative and bearish, Bollinger bands are above the middle line, EMA9 is above EMA21, Kalman prediction is bullish with a confidence of 88.4%, and there is a recent increase in volume. These indicators suggest a potential bullish trend, and the market sentiment is neutral. Therefore, I suggest buying.\",\"indicators\":{},\"kalman\":{},\"marketSentiment\":\"neutral\",\"riskLevel\":\"low\",\"suggestedLeverage\":20}}","module":"TradingStrategy","timestamp":"2025-10-05T04:59:33.548Z"}
{"level":"info","message":"Validando con Risk Manager...","module":"TradingStrategy","timestamp":"2025-10-05T04:59:33.549Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:59:33.549Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216457.86689671\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"216457.86689671\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49988.02375067\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123908.2076476\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4573.938781\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37978.35404233\",\"totalPositionMM\":\"0\",\"usdValue\":\"37987.69671742\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"37978.35404233\",\"cumRealisedPnl\":\"-12929.24884767\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759640374431}","module":"BybitClient","timestamp":"2025-10-05T04:59:34.614Z"}
{"level":"info","message":"Balance obtenido - Total: $216457.87, Disponible: $37978.35","module":"BybitClient","timestamp":"2025-10-05T04:59:34.614Z"}
{"level":"info","message":"Validando posición: Cantidad=0.292, Precio=125155.20, Valor=$36545.32","module":"RiskManager","timestamp":"2025-10-05T04:59:35.683Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640375684","module":"BybitClient","timestamp":"2025-10-05T04:59:35.684Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:59:35.684Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759640370605%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"125159.79\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-11878.73692892\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697267038590,\"updatedTime\":\"1759640370605\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759640375872}","module":"BybitClient","timestamp":"2025-10-05T04:59:36.052Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T04:59:36.053Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 20","module":"BybitClient","timestamp":"2025-10-05T04:59:36.416Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:59:37.474Z"}
{"level":"info","message":"Velas obtenidas: 20 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:59:37.474Z"}
{"level":"info","message":"Trade aprobado - Risk Score: 0.31","module":"RiskManager","timestamp":"2025-10-05T04:59:37.845Z"}
{"level":"info","message":"Resultado validación: {\"approved\":true,\"reason\":\"Trade aprobado por gestión de riesgo\",\"riskScore\":0.30850285236623565}","module":"TradingStrategy","timestamp":"2025-10-05T04:59:37.845Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759640377846","module":"BybitClient","timestamp":"2025-10-05T04:59:37.846Z"}
{"level":"info","message":"Trade aprobado por Risk Manager, ejecutando...","module":"TradingStrategy","timestamp":"2025-10-05T04:59:37.846Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"buyLeverage\":\"17\",\"sellLeverage\":\"17\"}","module":"BybitClient","timestamp":"2025-10-05T04:59:37.847Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{},\"retExtInfo\":{},\"time\":1759640378036}","module":"BybitClient","timestamp":"2025-10-05T04:59:38.217Z"}
{"level":"info","message":"Leverage establecido a 17x para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:59:38.217Z"}
{"level":"info","message":"Ejecutando orden: Buy 0.292 BTCUSDT | SL: 124455.85740000001 | TP: 126634.46094","module":"BybitClient","timestamp":"2025-10-05T04:59:38.218Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759640378218","module":"BybitClient","timestamp":"2025-10-05T04:59:38.218Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"side\":\"Buy\",\"orderType\":\"Market\",\"qty\":\"0.292\",\"timeInForce\":\"IOC\",\"stopLoss\":\"124455.86\",\"slTriggerBy\":\"LastPrice\",\"takeProfit\":\"126634.46\",\"tpTriggerBy\":\"LastPrice\"}","module":"BybitClient","timestamp":"2025-10-05T04:59:38.218Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"orderId\":\"7c23ac21-dd21-4370-a713-f8c8c42a9883\",\"orderLinkId\":\"\"},\"retExtInfo\":{},\"time\":1759640378407}","module":"BybitClient","timestamp":"2025-10-05T04:59:38.589Z"}
{"level":"info","message":"TRADE_OPEN","module":"TradingStrategy","pnl":0,"price":0,"quantity":0.292,"side":"BUY","symbol":"BTCUSDT","timestamp":1759640378590}
{"level":"debug","message":"Trades ejecutados hoy: 3/20","module":"RiskManager","timestamp":"2025-10-05T04:59:38.592Z"}
{"level":"info","message":"Orden ejecutada exitosamente: 7c23ac21-dd21-4370-a713-f8c8c42a9883","module":"BybitClient","timestamp":"2025-10-05T04:59:38.589Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640378592","module":"BybitClient","timestamp":"2025-10-05T04:59:38.593Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T04:59:38.593Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216394.33239814\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"3.10772507\",\"totalWalletBalance\":\"216391.22467307\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49989.87375155\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123860.185908\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4572.585207\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37961.36204111\",\"totalPositionMM\":\"201.63380358\",\"usdValue\":\"37971.68753158\",\"unrealisedPnl\":\"3.10688\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2168.52968778\",\"walletBalance\":\"37958.25516111\",\"cumRealisedPnl\":\"-12949.34772889\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759640378781}","module":"BybitClient","timestamp":"2025-10-05T04:59:38.968Z"}
{"level":"info","message":"Balance obtenido - Total: $216394.33, Disponible: $37958.26","module":"BybitClient","timestamp":"2025-10-05T04:59:38.968Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T04:59:48.676Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T04:59:49.070Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T04:59:49.071Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T04:59:49.070Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:00:38.972Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T05:00:38.973Z"}
{"level":"debug","message":"Predicción Kalman: 125176.7214876219 (Confianza: 0.876)","module":"KalmanFilter","timestamp":"2025-10-05T05:00:38.973Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:00:39.379Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:00:41.825Z"}
{"confidence":0.76,"decision":"BUY","indicators":{"bollinger":{"lower":125096.52690870619,"middle":125269.02499999998,"upper":125441.52309129377},"ema":{"ema21":125254.57282549742,"ema50":125212.16887259348,"ema9":125204.7316893166},"macd":{"histogram":-4.148842906564823,"macd":-41.48842906564823,"signal":-37.33958615908341},"rsi":32.67125606590771,"volume":{"avg":677.2014000000004,"current":156.198,"ratio":0.23065221070127723}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is below 30 and MACD is bearish, indicating a potential sell opportunity. However, the Bollinger band is wide and the volume is low, suggesting a possible reversal. The Kalman prediction also indicates a slight bullish bias. Therefore, I suggest buying.","symbol":"BTCUSDT","timestamp":1759640441825}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640441825","module":"BybitClient","timestamp":"2025-10-05T05:00:41.826Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:00:41.826Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759640378407%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"125148.7\",\"liqPrice\":\"118412.8\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126634.4\",\"positionValue\":\"36543.4204\",\"isReduceOnly\":false,\"positionIMByMp\":\"2168.52968778\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"118379\",\"unrealisedPnl\":\"33.5508\",\"markPrice\":\"125263.6\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11898.83581014\",\"positionMM\":\"201.63380358\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2168.52968778\",\"positionMMByMp\":\"201.80155757\",\"seq\":140697267038783,\"updatedTime\":\"1759640378407\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2168.52968778\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.09888122\",\"size\":\"0.292\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124455.8\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759640442711}","module":"BybitClient","timestamp":"2025-10-05T05:00:42.893Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:00:42.894Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640442894","module":"BybitClient","timestamp":"2025-10-05T05:00:42.894Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:00:42.895Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216535.1006125\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"33.56089879\",\"totalWalletBalance\":\"216501.53971371\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49990.92375205\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123959.23095474\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4581.704411\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37991.80596111\",\"totalPositionMM\":\"201.63380358\",\"usdValue\":\"38003.2414947\",\"unrealisedPnl\":\"33.5508\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2168.52968778\",\"walletBalance\":\"37958.25516111\",\"cumRealisedPnl\":\"-12949.34772889\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759640443085}","module":"BybitClient","timestamp":"2025-10-05T05:00:43.267Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.292 BTCUSDT | PnL: 0.09%","module":"TradingStrategy","timestamp":"2025-10-05T05:00:43.268Z"}
{"level":"info","message":"Balance obtenido - Total: $216535.10, Disponible: $37958.26","module":"BybitClient","timestamp":"2025-10-05T05:00:43.267Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759640443268","module":"BybitClient","timestamp":"2025-10-05T05:00:43.268Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"stopLoss\":\"125194.10754000001\",\"slTriggerBy\":\"LastPrice\",\"positionIdx\":0}","module":"BybitClient","timestamp":"2025-10-05T05:00:43.269Z"}
{"level":"info","message":"📈 Actualizando trailing SL: 125194.11 (Max alcanzado: 125570.82)","module":"TradingStrategy","timestamp":"2025-10-05T05:00:43.268Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{},\"retExtInfo\":{},\"time\":1759640444154}","module":"BybitClient","timestamp":"2025-10-05T05:00:44.337Z"}
{"level":"info","message":"Stop Loss actualizado para BTCUSDT: SL=125194.10754000001","module":"BybitClient","timestamp":"2025-10-05T05:00:44.338Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:00:45.415Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:00:45.416Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una ganancia del 0.09%, pero hay señales de reversión débiles (MAC...","module":"OllamaClient","timestamp":"2025-10-05T05:00:48.361Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una ganancia del...","module":"TradingStrategy","timestamp":"2025-10-05T05:00:48.361Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640448361","module":"BybitClient","timestamp":"2025-10-05T05:00:48.362Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:00:48.361Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-05T05:00:48.361Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-05T05:00:48.361Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 30%)","module":"OllamaClient","timestamp":"2025-10-05T05:00:48.361Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:00:48.362Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:00:48.677Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759640444154%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"125148.7\",\"liqPrice\":\"118412.8\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126634.4\",\"positionValue\":\"36543.4204\",\"isReduceOnly\":false,\"positionIMByMp\":\"2168.52968778\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"118379\",\"unrealisedPnl\":\"34.8648\",\"markPrice\":\"125268.1\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11898.83581014\",\"positionMM\":\"201.63380358\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2168.52968778\",\"positionMMByMp\":\"201.80812757\",\"seq\":140697267038783,\"updatedTime\":\"1759640444154\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2168.52968778\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.09888122\",\"size\":\"0.292\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"125194.1\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759640448558}","module":"BybitClient","timestamp":"2025-10-05T05:00:48.739Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:00:48.739Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:00:48.739Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:00:48.740Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:00:49.085Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:00:49.086Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:00:49.086Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:01:48.677Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:01:48.740Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T05:01:48.740Z"}
{"level":"debug","message":"Predicción Kalman: 125178.75807674242 (Confianza: 0.876)","module":"KalmanFilter","timestamp":"2025-10-05T05:01:48.740Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:01:49.086Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:01:49.086Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:01:49.086Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:01:49.134Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:01:51.722Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":125078.04472946361,"middle":125235.325,"upper":125392.60527053638},"ema":{"ema21":125232.66988854005,"ema50":125209.30972233969,"ema9":125199.31387195397},"macd":{"histogram":-3.435629717276605,"macd":-34.35629717276606,"signal":-30.920667455489458},"rsi":45.92790387182955,"volume":{"avg":678.9720600000005,"current":95.003,"ratio":0.13992181062649311}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima de 50, MACD tiene un histograma positivo y está cruzando a positivo, Bollinger está en el rango superior, EMA9 está cruzando a encima de EMA21 y Kalman predice una subida con confianza del 75%","symbol":"BTCUSDT","timestamp":1759640511723}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640511723","module":"BybitClient","timestamp":"2025-10-05T05:01:51.723Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:01:51.724Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759640444154%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"125148.7\",\"liqPrice\":\"118412.8\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126634.4\",\"positionValue\":\"36543.4204\",\"isReduceOnly\":false,\"positionIMByMp\":\"2168.52968778\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"118379\",\"unrealisedPnl\":\"31.77544\",\"markPrice\":\"125257.52\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11898.83581014\",\"positionMM\":\"201.63380358\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2168.52968778\",\"positionMMByMp\":\"201.79268077\",\"seq\":140697267038783,\"updatedTime\":\"1759640444154\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2168.52968778\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.09888122\",\"size\":\"0.292\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"125194.1\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759640511913}","module":"BybitClient","timestamp":"2025-10-05T05:01:52.093Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:01:52.094Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640512094","module":"BybitClient","timestamp":"2025-10-05T05:01:52.094Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:01:52.094Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216520.16126931\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"31.78675205\",\"totalWalletBalance\":\"216488.37451725\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49990.22375172\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123942.58250258\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4583.799963\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37990.03060111\",\"totalPositionMM\":\"201.63380358\",\"usdValue\":\"38003.555052\",\"unrealisedPnl\":\"31.77544\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2168.52968778\",\"walletBalance\":\"37958.25516111\",\"cumRealisedPnl\":\"-12949.34772889\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759640512980}","module":"BybitClient","timestamp":"2025-10-05T05:01:53.162Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.292 BTCUSDT | PnL: 0.09%","module":"TradingStrategy","timestamp":"2025-10-05T05:01:53.163Z"}
{"level":"info","message":"Balance obtenido - Total: $216520.16, Disponible: $37958.26","module":"BybitClient","timestamp":"2025-10-05T05:01:53.162Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759640513163","module":"BybitClient","timestamp":"2025-10-05T05:01:53.163Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"stopLoss\":\"125194.10754000001\",\"slTriggerBy\":\"LastPrice\",\"positionIdx\":0}","module":"BybitClient","timestamp":"2025-10-05T05:01:53.163Z"}
{"level":"info","message":"📈 Actualizando trailing SL: 125194.11 (Max alcanzado: 125570.82)","module":"TradingStrategy","timestamp":"2025-10-05T05:01:53.163Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":34040,\"retMsg\":\"not modified\",\"result\":{},\"retExtInfo\":{},\"time\":1759640513351}","module":"BybitClient","timestamp":"2025-10-05T05:01:53.532Z"}
{"error":"Error: Error actualizando SL para BTCUSDT\n    at BybitClient.updatePositionStopLoss (/app/dist/exchange/bybit-client.js:314:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.updateTrailingStop (/app/dist/strategy/trading-strategy.js:442:25)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:370:17)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error actualizando trailing stop:","module":"TradingStrategy","timestamp":"2025-10-05T05:01:53.533Z"}
{"error":{"endpoint":"/v5/position/trading-stop","error":"Error API Bybit: not modified (Code: 34040)","method":"POST","params":{"category":"linear","positionIdx":0,"slTriggerBy":"LastPrice","stopLoss":"125194.10754000001","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T05:01:53.533Z"}
{"error":"Error: Error API Bybit: not modified (Code: 34040)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:405:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.updatePositionStopLoss (/app/dist/exchange/bybit-client.js:309:13)\n    at async TradingStrategy.updateTrailingStop (/app/dist/strategy/trading-strategy.js:442:25)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:370:17)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error actualizando stop loss:","module":"BybitClient","timestamp":"2025-10-05T05:01:53.533Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:01:53.904Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:01:53.905Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una ganancia del 0.09%, y aunque hay señales de reversión (MACD ba...","module":"OllamaClient","timestamp":"2025-10-05T05:01:56.278Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una ganancia del 0.09%, y aunque hay señales de reversión (MACD bajista, EM...","module":"TradingStrategy","timestamp":"2025-10-05T05:01:56.280Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640516280","module":"BybitClient","timestamp":"2025-10-05T05:01:56.281Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:01:56.280Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:01:56.280Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:01:56.281Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759640444154%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"125148.7\",\"liqPrice\":\"118412.8\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126634.4\",\"positionValue\":\"36543.4204\",\"isReduceOnly\":false,\"positionIMByMp\":\"2168.52968778\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"118379\",\"unrealisedPnl\":\"26.44644\",\"markPrice\":\"125239.27\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11898.83581014\",\"positionMM\":\"201.63380358\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2168.52968778\",\"positionMMByMp\":\"201.76603577\",\"seq\":140697267038783,\"updatedTime\":\"1759640444154\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2168.52968778\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.09888122\",\"size\":\"0.292\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"125194.1\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759640517173}","module":"BybitClient","timestamp":"2025-10-05T05:01:57.353Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:01:57.354Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:01:57.353Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:01:57.354Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:02:48.678Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:02:49.771Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:02:49.771Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:02:49.771Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:02:57.356Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T05:02:57.357Z"}
{"level":"debug","message":"Predicción Kalman: 125246.53226119046 (Confianza: 0.877)","module":"KalmanFilter","timestamp":"2025-10-05T05:02:57.357Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:02:57.764Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:03:00.316Z"}
{"confidence":0.75,"decision":"BUY","indicators":{"bollinger":{"lower":125075.7251324336,"middle":125198.9,"upper":125322.07486756639},"ema":{"ema21":125219.02046729819,"ema50":125208.31101457306,"ema9":125220.85907575526},"macd":{"histogram":-0.806613127878518,"macd":-8.066131278785178,"signal":-7.25951815090666},"rsi":50.71818283041942,"volume":{"avg":686.0948700000005,"current":76.391,"ratio":0.1113417449105835}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima de 50, MACD histogram es positivo y cruza la línea de base, Bollinger bandes están en el lado superior, EMA9 cruza por encima de EMA21 y Kalman predice una subida con confianza del 75%","symbol":"BTCUSDT","timestamp":1759640580318}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640580318","module":"BybitClient","timestamp":"2025-10-05T05:03:00.318Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:03:00.319Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759640444154%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"125148.7\",\"liqPrice\":\"118412.8\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126634.4\",\"positionValue\":\"36543.4204\",\"isReduceOnly\":false,\"positionIMByMp\":\"2168.52968778\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"118379\",\"unrealisedPnl\":\"42.73128\",\"markPrice\":\"125295.04\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11898.83581014\",\"positionMM\":\"201.63380358\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2168.52968778\",\"positionMMByMp\":\"201.84745997\",\"seq\":140697267038783,\"updatedTime\":\"1759640444154\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2168.52968778\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.09888122\",\"size\":\"0.292\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"125194.1\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759640580511}","module":"BybitClient","timestamp":"2025-10-05T05:03:00.693Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:03:00.694Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640580694","module":"BybitClient","timestamp":"2025-10-05T05:03:00.694Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:03:00.694Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216583.07397776\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"42.74384299\",\"totalWalletBalance\":\"216540.33013477\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49992.02375257\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123994.60008306\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4584.291411\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38000.98644111\",\"totalPositionMM\":\"201.63380358\",\"usdValue\":\"38012.15873112\",\"unrealisedPnl\":\"42.73128\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2168.52968778\",\"walletBalance\":\"37958.25516111\",\"cumRealisedPnl\":\"-12949.34772889\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759640580882}","module":"BybitClient","timestamp":"2025-10-05T05:03:01.066Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.292 BTCUSDT | PnL: 0.12%","module":"TradingStrategy","timestamp":"2025-10-05T05:03:01.067Z"}
{"level":"info","message":"Balance obtenido - Total: $216583.07, Disponible: $37958.26","module":"BybitClient","timestamp":"2025-10-05T05:03:01.066Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759640581067","module":"BybitClient","timestamp":"2025-10-05T05:03:01.068Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"stopLoss\":\"125194.10754000001\",\"slTriggerBy\":\"LastPrice\",\"positionIdx\":0}","module":"BybitClient","timestamp":"2025-10-05T05:03:01.068Z"}
{"level":"info","message":"📈 Actualizando trailing SL: 125194.11 (Max alcanzado: 125570.82)","module":"TradingStrategy","timestamp":"2025-10-05T05:03:01.067Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":34040,\"retMsg\":\"not modified\",\"result\":{},\"retExtInfo\":{},\"time\":1759640581949}","module":"BybitClient","timestamp":"2025-10-05T05:03:02.132Z"}
{"error":"Error: Error actualizando SL para BTCUSDT\n    at BybitClient.updatePositionStopLoss (/app/dist/exchange/bybit-client.js:314:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.updateTrailingStop (/app/dist/strategy/trading-strategy.js:442:25)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:370:17)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error actualizando trailing stop:","module":"TradingStrategy","timestamp":"2025-10-05T05:03:02.134Z"}
{"error":{"endpoint":"/v5/position/trading-stop","error":"Error API Bybit: not modified (Code: 34040)","method":"POST","params":{"category":"linear","positionIdx":0,"slTriggerBy":"LastPrice","stopLoss":"125194.10754000001","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T05:03:02.133Z"}
{"error":"Error: Error API Bybit: not modified (Code: 34040)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:405:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.updatePositionStopLoss (/app/dist/exchange/bybit-client.js:309:13)\n    at async TradingStrategy.updateTrailingStop (/app/dist/strategy/trading-strategy.js:442:25)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:370:17)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error actualizando stop loss:","module":"BybitClient","timestamp":"2025-10-05T05:03:02.133Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:03:02.497Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:03:02.497Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una ganancia del 0.12%, con un RSI en el rango alto (50.72), un MA...","module":"OllamaClient","timestamp":"2025-10-05T05:03:05.537Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una ganancia del 0.12%, con un RSI en el rango alto (50.72), un MACD con un...","module":"TradingStrategy","timestamp":"2025-10-05T05:03:05.538Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640585538","module":"BybitClient","timestamp":"2025-10-05T05:03:05.539Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:03:05.538Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:03:05.538Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:03:05.539Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759640444154%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"125148.7\",\"liqPrice\":\"118412.8\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126634.4\",\"positionValue\":\"36543.4204\",\"isReduceOnly\":false,\"positionIMByMp\":\"2168.52968778\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"118379\",\"unrealisedPnl\":\"47.16092\",\"markPrice\":\"125310.21\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11898.83581014\",\"positionMM\":\"201.63380358\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2168.52968778\",\"positionMMByMp\":\"201.86960817\",\"seq\":140697267038783,\"updatedTime\":\"1759640444154\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2168.52968778\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.09888122\",\"size\":\"0.292\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"125194.1\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759640585728}","module":"BybitClient","timestamp":"2025-10-05T05:03:05.911Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:03:05.912Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:03:05.912Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:03:05.912Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:03:48.679Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:03:49.122Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:03:49.122Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:03:49.122Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:04:05.915Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T05:04:05.916Z"}
{"level":"debug","message":"Predicción Kalman: 125283.29305816012 (Confianza: 0.877)","module":"KalmanFilter","timestamp":"2025-10-05T05:04:05.916Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:04:07.016Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:04:09.962Z"}
{"confidence":0.75,"decision":"BUY","indicators":{"bollinger":{"lower":125080.270362318,"middle":125213.47500000002,"upper":125346.67963768204},"ema":{"ema21":125234.48828060915,"ema50":125215.87410175262,"ema9":125252.170813922},"macd":{"histogram":0.8300064701528749,"macd":8.300064701528754,"signal":7.470058231375879},"rsi":54.14930751041612,"volume":{"avg":689.6657900000006,"current":357.195,"ratio":0.5179247762891062}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is at 45, MACD histogram is bullish and crossed above zero, Bollinger bands are expanding and the price is above the upper band, EMA9 is above EMA21 and EMA50, Kalman forecast is bullish with high confidence (87.7%). These indicators suggest a potential bullish trend, and I have a high degree of confidence in this decision.","symbol":"BTCUSDT","timestamp":1759640649963}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640649963","module":"BybitClient","timestamp":"2025-10-05T05:04:09.963Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:04:09.963Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759640444154%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"125148.7\",\"liqPrice\":\"118412.8\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126634.4\",\"positionValue\":\"36543.4204\",\"isReduceOnly\":false,\"positionIMByMp\":\"2168.52968778\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"118379\",\"unrealisedPnl\":\"25.3164\",\"markPrice\":\"125235.4\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11898.83581014\",\"positionMM\":\"201.63380358\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2168.52968778\",\"positionMMByMp\":\"201.76038557\",\"seq\":140697267038783,\"updatedTime\":\"1759640444154\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2168.52968778\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.09888122\",\"size\":\"0.292\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"125194.1\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759640650845}","module":"BybitClient","timestamp":"2025-10-05T05:04:11.028Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:04:11.029Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640651029","module":"BybitClient","timestamp":"2025-10-05T05:04:11.029Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:04:11.029Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216518.21380211\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"25.32594428\",\"totalWalletBalance\":\"216492.88785783\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49995.57375426\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123942.51536926\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4582.233311\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37983.57156111\",\"totalPositionMM\":\"201.63380358\",\"usdValue\":\"37997.89136758\",\"unrealisedPnl\":\"25.3164\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2168.52968778\",\"walletBalance\":\"37958.25516111\",\"cumRealisedPnl\":\"-12949.34772889\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759640651226}","module":"BybitClient","timestamp":"2025-10-05T05:04:11.409Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.292 BTCUSDT | PnL: 0.07%","module":"TradingStrategy","timestamp":"2025-10-05T05:04:11.410Z"}
{"level":"info","message":"Balance obtenido - Total: $216518.21, Disponible: $37958.26","module":"BybitClient","timestamp":"2025-10-05T05:04:11.409Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759640651410","module":"BybitClient","timestamp":"2025-10-05T05:04:11.410Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"stopLoss\":\"125194.10754000001\",\"slTriggerBy\":\"LastPrice\",\"positionIdx\":0}","module":"BybitClient","timestamp":"2025-10-05T05:04:11.410Z"}
{"level":"info","message":"📈 Actualizando trailing SL: 125194.11 (Max alcanzado: 125570.82)","module":"TradingStrategy","timestamp":"2025-10-05T05:04:11.410Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":34040,\"retMsg\":\"not modified\",\"result\":{},\"retExtInfo\":{},\"time\":1759640652289}","module":"BybitClient","timestamp":"2025-10-05T05:04:12.470Z"}
{"error":"Error: Error actualizando SL para BTCUSDT\n    at BybitClient.updatePositionStopLoss (/app/dist/exchange/bybit-client.js:314:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.updateTrailingStop (/app/dist/strategy/trading-strategy.js:442:25)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:370:17)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error actualizando trailing stop:","module":"TradingStrategy","timestamp":"2025-10-05T05:04:12.471Z"}
{"error":{"endpoint":"/v5/position/trading-stop","error":"Error API Bybit: not modified (Code: 34040)","method":"POST","params":{"category":"linear","positionIdx":0,"slTriggerBy":"LastPrice","stopLoss":"125194.10754000001","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T05:04:12.470Z"}
{"error":"Error: Error API Bybit: not modified (Code: 34040)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:405:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.updatePositionStopLoss (/app/dist/exchange/bybit-client.js:309:13)\n    at async TradingStrategy.updateTrailingStop (/app/dist/strategy/trading-strategy.js:442:25)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:370:17)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error actualizando stop loss:","module":"BybitClient","timestamp":"2025-10-05T05:04:12.471Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:04:13.531Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:04:13.532Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una tendencia alcista y indicadores técnicos bullish (RSI, MACD hi...","module":"OllamaClient","timestamp":"2025-10-05T05:04:15.540Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una tendencia alcista y indicadores técnicos bullish (RSI, MACD histogram)....","module":"TradingStrategy","timestamp":"2025-10-05T05:04:15.541Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640655541","module":"BybitClient","timestamp":"2025-10-05T05:04:15.541Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:04:15.540Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:04:15.541Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:04:15.542Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759640444154%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"125148.7\",\"liqPrice\":\"118412.8\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126634.4\",\"positionValue\":\"36543.4204\",\"isReduceOnly\":false,\"positionIMByMp\":\"2168.52968778\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"118379\",\"unrealisedPnl\":\"30.368\",\"markPrice\":\"125252.7\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11898.83581014\",\"positionMM\":\"201.63380358\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2168.52968778\",\"positionMMByMp\":\"201.78564357\",\"seq\":140697267038783,\"updatedTime\":\"1759640444154\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2168.52968778\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.09888122\",\"size\":\"0.292\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"125194.1\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759640655730}","module":"BybitClient","timestamp":"2025-10-05T05:04:15.912Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:04:15.913Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:04:15.913Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:04:15.915Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:04:48.680Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:04:49.113Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:04:49.113Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:04:49.113Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:05:15.921Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T05:05:15.921Z"}
{"level":"debug","message":"Predicción Kalman: 125310.11127648965 (Confianza: 0.874)","module":"KalmanFilter","timestamp":"2025-10-05T05:05:15.922Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:05:17.019Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:05:19.932Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":125093.90212700499,"middle":125238.73500000003,"upper":125383.56787299507},"ema":{"ema21":125260.85454648163,"ema50":125232.22895855879,"ema9":125291.77350830342},"macd":{"histogram":2.3189394264758434,"macd":23.189394264758448,"signal":20.870454838282605},"rsi":68.17352787910356,"volume":{"avg":690.6841100000006,"current":37.156,"ratio":0.05379593863828714}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima del 68%, MACD histogram es bullish y el precio actual está dentro de un rango superior en el Bollinger. Además, la Kalman predice una subida con confianza del 74.7%. Si detectas señales bajistas claras, sugeriré una posición short, pero por ahora, la dirección actual es BUY.","symbol":"BTCUSDT","timestamp":1759640719932}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640719932","module":"BybitClient","timestamp":"2025-10-05T05:05:19.932Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:05:19.932Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759640444154%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"125148.7\",\"liqPrice\":\"118412.8\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126634.4\",\"positionValue\":\"36543.4204\",\"isReduceOnly\":false,\"positionIMByMp\":\"2168.52968778\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"118379\",\"unrealisedPnl\":\"39.4784\",\"markPrice\":\"125283.9\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11898.83581014\",\"positionMM\":\"201.63380358\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2168.52968778\",\"positionMMByMp\":\"201.83119557\",\"seq\":140697267038783,\"updatedTime\":\"1759640444154\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2168.52968778\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.09888122\",\"size\":\"0.292\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"125194.1\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759640720821}","module":"BybitClient","timestamp":"2025-10-05T05:05:21.004Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:05:21.004Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640721004","module":"BybitClient","timestamp":"2025-10-05T05:05:21.004Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:05:21.004Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216548.99965814\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"39.48815116\",\"totalWalletBalance\":\"216509.51150698\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49990.02375162\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123971.16292721\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4580.693978\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37997.73356111\",\"totalPositionMM\":\"201.63380358\",\"usdValue\":\"38007.11900129\",\"unrealisedPnl\":\"39.4784\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2168.52968778\",\"walletBalance\":\"37958.25516111\",\"cumRealisedPnl\":\"-12949.34772889\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759640721886}","module":"BybitClient","timestamp":"2025-10-05T05:05:22.068Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.292 BTCUSDT | PnL: 0.11%","module":"TradingStrategy","timestamp":"2025-10-05T05:05:22.069Z"}
{"level":"info","message":"Balance obtenido - Total: $216549.00, Disponible: $37958.26","module":"BybitClient","timestamp":"2025-10-05T05:05:22.069Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759640722069","module":"BybitClient","timestamp":"2025-10-05T05:05:22.070Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"stopLoss\":\"125194.10754000001\",\"slTriggerBy\":\"LastPrice\",\"positionIdx\":0}","module":"BybitClient","timestamp":"2025-10-05T05:05:22.070Z"}
{"level":"info","message":"📈 Actualizando trailing SL: 125194.11 (Max alcanzado: 125570.82)","module":"TradingStrategy","timestamp":"2025-10-05T05:05:22.069Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":34040,\"retMsg\":\"not modified\",\"result\":{},\"retExtInfo\":{},\"time\":1759640722256}","module":"BybitClient","timestamp":"2025-10-05T05:05:22.435Z"}
{"error":"Error: Error actualizando SL para BTCUSDT\n    at BybitClient.updatePositionStopLoss (/app/dist/exchange/bybit-client.js:314:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.updateTrailingStop (/app/dist/strategy/trading-strategy.js:442:25)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:370:17)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error actualizando trailing stop:","module":"TradingStrategy","timestamp":"2025-10-05T05:05:22.437Z"}
{"error":{"endpoint":"/v5/position/trading-stop","error":"Error API Bybit: not modified (Code: 34040)","method":"POST","params":{"category":"linear","positionIdx":0,"slTriggerBy":"LastPrice","stopLoss":"125194.10754000001","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T05:05:22.436Z"}
{"error":"Error: Error API Bybit: not modified (Code: 34040)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:405:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.updatePositionStopLoss (/app/dist/exchange/bybit-client.js:309:13)\n    at async TradingStrategy.updateTrailingStop (/app/dist/strategy/trading-strategy.js:442:25)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:370:17)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error actualizando stop loss:","module":"BybitClient","timestamp":"2025-10-05T05:05:22.436Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:05:22.802Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:05:22.803Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una tendencia alcista (RSI>60, MACD>0, EMA9>EMA21), y no hay señal...","module":"OllamaClient","timestamp":"2025-10-05T05:05:24.939Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una tendencia alcista (RSI>60, MACD>0, EMA9>EMA21), y no hay señales de rev...","module":"TradingStrategy","timestamp":"2025-10-05T05:05:24.940Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640724940","module":"BybitClient","timestamp":"2025-10-05T05:05:24.940Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:05:24.939Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:05:24.940Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:05:24.941Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759640444154%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"125148.7\",\"liqPrice\":\"118412.8\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126634.4\",\"positionValue\":\"36543.4204\",\"isReduceOnly\":false,\"positionIMByMp\":\"2168.52968778\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"118379\",\"unrealisedPnl\":\"45.698\",\"markPrice\":\"125305.2\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11898.83581014\",\"positionMM\":\"201.63380358\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2168.52968778\",\"positionMMByMp\":\"201.86229357\",\"seq\":140697267038783,\"updatedTime\":\"1759640444154\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2168.52968778\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.09888122\",\"size\":\"0.292\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"125194.1\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759640725845}","module":"BybitClient","timestamp":"2025-10-05T05:05:26.026Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:05:26.027Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:05:26.026Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:05:26.027Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:05:48.681Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:05:49.790Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:05:49.791Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:05:49.790Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:06:26.028Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T05:06:26.029Z"}
{"level":"debug","message":"Predicción Kalman: 125290.4140064856 (Confianza: 0.877)","module":"KalmanFilter","timestamp":"2025-10-05T05:06:26.029Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:06:27.163Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:06:29.671Z"}
{"confidence":0.75,"decision":"BUY","indicators":{"bollinger":{"lower":125124.97233740051,"middle":125262.71500000001,"upper":125400.45766259951},"ema":{"ema21":125270.10337785649,"ema50":125244.99948041327,"ema9":125285.56920722299},"macd":{"histogram":1.613764609239297,"macd":16.13764609239297,"signal":14.523881483153673},"rsi":53.43116990491896,"volume":{"avg":689.2346700000005,"current":87.674,"ratio":0.12720486042874185}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima de 53.43, MACD histogram es bullish y el precio actual está dentro del rango superior del Bollinger. Además, la predicción de Kalman indica una subida probable con confianza del 75%","symbol":"BTCUSDT","timestamp":1759640789671}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640789673","module":"BybitClient","timestamp":"2025-10-05T05:06:29.673Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:06:29.673Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759640750094%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"124983.92\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-11906.7066205\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697267049910,\"updatedTime\":\"1759640750094\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759640790553}","module":"BybitClient","timestamp":"2025-10-05T05:06:30.737Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T05:06:30.737Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640790738","module":"BybitClient","timestamp":"2025-10-05T05:06:30.738Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:06:30.738Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759640750094%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"124983.92\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-11906.7066205\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697267049910,\"updatedTime\":\"1759640750094\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759640790925}","module":"BybitClient","timestamp":"2025-10-05T05:06:31.108Z"}
{"level":"info","message":"AI sugiere BUY con confianza 0.75","module":"TradingStrategy","timestamp":"2025-10-05T05:06:31.109Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T05:06:31.109Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640791109","module":"BybitClient","timestamp":"2025-10-05T05:06:31.109Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:06:31.109Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216402.22282996\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"216402.22282996\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49986.12374977\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123879.03387242\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4577.990219\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37950.38435075\",\"totalPositionMM\":\"0\",\"usdValue\":\"37959.07498876\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"37950.38435075\",\"cumRealisedPnl\":\"-12957.21853925\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759640792000}","module":"BybitClient","timestamp":"2025-10-05T05:06:32.182Z"}
{"level":"info","message":"Balance disponible: $37950.38, Precio: $124980","module":"TradingStrategy","timestamp":"2025-10-05T05:06:32.182Z"}
{"level":"info","message":"Balance obtenido - Total: $216402.22, Disponible: $37950.38","module":"BybitClient","timestamp":"2025-10-05T05:06:32.182Z"}
{"level":"debug","message":"Símbolo info - Min: 0.001, Step: 0.001","module":"TradingStrategy","timestamp":"2025-10-05T05:06:32.554Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640792556","module":"BybitClient","timestamp":"2025-10-05T05:06:32.556Z"}
{"level":"info","message":"Riesgo: 5.666666666666667%, Capital a arriesgar: $2150.52","module":"TradingStrategy","timestamp":"2025-10-05T05:06:32.554Z"}
{"level":"info","message":"Position value: $36558.87, Quantity raw: 0.292518","module":"TradingStrategy","timestamp":"2025-10-05T05:06:32.555Z"}
{"level":"info","message":"Cantidad final calculada: 0.292 BTC (valor: $36494.16)","module":"TradingStrategy","timestamp":"2025-10-05T05:06:32.555Z"}
{"level":"info","message":"Parámetros calculados - Leverage: 17x, Quantity: 0.292","module":"TradingStrategy","timestamp":"2025-10-05T05:06:32.555Z"}
{"level":"info","message":"Generando señal de trading: BUY 0.292 BTCUSDT @ 124980 (SL: 124230.12, TP: 126386.02500000001)","module":"TradingStrategy","timestamp":"2025-10-05T05:06:32.555Z"}
{"level":"info","message":"EJECUTANDO TRADE: BUY 0.292 BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-05T05:06:32.555Z"}
{"level":"info","message":"=== INICIO EJECUCIÓN DE TRADE ===","module":"TradingStrategy","timestamp":"2025-10-05T05:06:32.555Z"}
{"level":"info","message":"Señal: {\"symbol\":\"BTCUSDT\",\"action\":\"BUY\",\"leverage\":17,\"quantity\":0.292,\"stopLoss\":124230.12,\"takeProfit\":126386.02500000001,\"timestamp\":1759640792555,\"aiAnalysis\":{\"decision\":\"BUY\",\"confidence\":0.75,\"reasoning\":\"RSI está por encima de 53.43, MACD histogram es bullish y el precio actual está dentro del rango superior del Bollinger. Además, la predicción de Kalman indica una subida probable con confianza del 75%\",\"indicators\":{},\"kalman\":{},\"marketSentiment\":\"bullish\",\"riskLevel\":\"low\",\"suggestedLeverage\":20}}","module":"TradingStrategy","timestamp":"2025-10-05T05:06:32.556Z"}
{"level":"info","message":"Validando con Risk Manager...","module":"TradingStrategy","timestamp":"2025-10-05T05:06:32.556Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:06:32.556Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216402.22282996\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"216402.22282996\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49986.12374977\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123879.03387242\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4577.990219\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37950.38435075\",\"totalPositionMM\":\"0\",\"usdValue\":\"37959.07498876\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"37950.38435075\",\"cumRealisedPnl\":\"-12957.21853925\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759640793437}","module":"BybitClient","timestamp":"2025-10-05T05:06:33.621Z"}
{"level":"info","message":"Balance obtenido - Total: $216402.22, Disponible: $37950.38","module":"BybitClient","timestamp":"2025-10-05T05:06:33.621Z"}
{"level":"info","message":"Validando posición: Cantidad=0.292, Precio=124963.80, Valor=$36489.43","module":"RiskManager","timestamp":"2025-10-05T05:06:34.700Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640794701","module":"BybitClient","timestamp":"2025-10-05T05:06:34.701Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:06:34.704Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759640750094%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"124972.92\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-11906.7066205\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697267049910,\"updatedTime\":\"1759640750094\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759640794898}","module":"BybitClient","timestamp":"2025-10-05T05:06:35.080Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T05:06:35.080Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 20","module":"BybitClient","timestamp":"2025-10-05T05:06:35.453Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:06:35.826Z"}
{"level":"info","message":"Velas obtenidas: 20 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:06:35.826Z"}
{"level":"info","message":"Trade aprobado - Risk Score: 0.31","module":"RiskManager","timestamp":"2025-10-05T05:06:36.193Z"}
{"level":"info","message":"Resultado validación: {\"approved\":true,\"reason\":\"Trade aprobado por gestión de riesgo\",\"riskScore\":0.3087639863470675}","module":"TradingStrategy","timestamp":"2025-10-05T05:06:36.193Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759640796194","module":"BybitClient","timestamp":"2025-10-05T05:06:36.194Z"}
{"level":"info","message":"Trade aprobado por Risk Manager, ejecutando...","module":"TradingStrategy","timestamp":"2025-10-05T05:06:36.194Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"buyLeverage\":\"17\",\"sellLeverage\":\"17\"}","module":"BybitClient","timestamp":"2025-10-05T05:06:36.194Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":110043,\"retMsg\":\"leverage not modified\",\"result\":{},\"retExtInfo\":{},\"time\":1759640796383}","module":"BybitClient","timestamp":"2025-10-05T05:06:36.566Z"}
{"level":"warn","message":"Bybit warning (ignorado): leverage not modified (Code: 110043)","module":"BybitClient","timestamp":"2025-10-05T05:06:36.566Z"}
{"level":"info","message":"Leverage establecido a 17x para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:06:36.566Z"}
{"level":"info","message":"Ejecutando orden: Buy 0.292 BTCUSDT | SL: 124230.12 | TP: 126386.02500000001","module":"BybitClient","timestamp":"2025-10-05T05:06:36.567Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759640796567","module":"BybitClient","timestamp":"2025-10-05T05:06:36.567Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"side\":\"Buy\",\"orderType\":\"Market\",\"qty\":\"0.292\",\"timeInForce\":\"IOC\",\"stopLoss\":\"124230.12\",\"slTriggerBy\":\"LastPrice\",\"takeProfit\":\"126386.03\",\"tpTriggerBy\":\"LastPrice\"}","module":"BybitClient","timestamp":"2025-10-05T05:06:36.567Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"orderId\":\"0036d490-5f56-4e6b-ad4e-0148c2599668\",\"orderLinkId\":\"\"},\"retExtInfo\":{},\"time\":1759640797455}","module":"BybitClient","timestamp":"2025-10-05T05:06:37.636Z"}
{"level":"info","message":"TRADE_OPEN","module":"TradingStrategy","pnl":0,"price":0,"quantity":0.292,"side":"BUY","symbol":"BTCUSDT","timestamp":1759640797636}
{"level":"debug","message":"Trades ejecutados hoy: 4/20","module":"RiskManager","timestamp":"2025-10-05T05:06:37.637Z"}
{"level":"info","message":"Orden ejecutada exitosamente: 0036d490-5f56-4e6b-ad4e-0148c2599668","module":"BybitClient","timestamp":"2025-10-05T05:06:37.636Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640797637","module":"BybitClient","timestamp":"2025-10-05T05:06:37.637Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:06:37.637Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216146.75030075\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"4.00981349\",\"totalWalletBalance\":\"216142.74048725\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49987.57375046\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123649.62738668\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4569.039681\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37934.32618743\",\"totalPositionMM\":\"201.31721185\",\"usdValue\":\"37940.50948259\",\"unrealisedPnl\":\"4.00916\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2165.12480955\",\"walletBalance\":\"37930.31702743\",\"cumRealisedPnl\":\"-12977.28586257\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759640797830}","module":"BybitClient","timestamp":"2025-10-05T05:06:38.016Z"}
{"level":"info","message":"Balance obtenido - Total: $216146.75, Disponible: $37930.32","module":"BybitClient","timestamp":"2025-10-05T05:06:38.016Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:06:48.682Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:06:49.079Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:06:49.080Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:06:49.079Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:07:38.021Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T05:07:38.022Z"}
{"level":"debug","message":"Predicción Kalman: 125155.00076320357 (Confianza: 0.885)","module":"KalmanFilter","timestamp":"2025-10-05T05:07:38.022Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:07:39.140Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:07:41.913Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":125043.72897664776,"middle":125258.35500000001,"upper":125472.98102335226},"ema":{"ema21":125234.04990356033,"ema50":125232.29236104363,"ema9":125192.96110977251},"macd":{"histogram":-2.5171483451063956,"macd":-25.171483451063978,"signal":-22.654335105957582},"rsi":37.81501429616373,"volume":{"avg":646.9480600000002,"current":338.37,"ratio":0.5230249859625515}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está bajo (37.82) y MACD histogram es negativo y decreciente, indicando una posible reversión de la tendencia bajista. Además, el precio actual está dentro de la banda inferior del Bollinger, lo que sugiere una oportunidad de comprar. Kalman también predice una subida con confianza del 76.8%","symbol":"BTCUSDT","timestamp":1759640861914}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640861914","module":"BybitClient","timestamp":"2025-10-05T05:07:41.914Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:07:41.915Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759640797455%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"124952.2\",\"liqPrice\":\"118226.9\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126386\",\"positionValue\":\"36486.0424\",\"isReduceOnly\":false,\"positionIMByMp\":\"2165.12480955\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"118193.1\",\"unrealisedPnl\":\"-19.2428\",\"markPrice\":\"124886.3\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11926.77394382\",\"positionMM\":\"201.31721185\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2165.12480955\",\"positionMMByMp\":\"201.22099784\",\"seq\":140697267051217,\"updatedTime\":\"1759640797455\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2165.12480955\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.06732332\",\"size\":\"0.292\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124230.1\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759640862814}","module":"BybitClient","timestamp":"2025-10-05T05:07:42.995Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:07:42.996Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640862996","module":"BybitClient","timestamp":"2025-10-05T05:07:42.996Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:07:42.997Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216064.38394615\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-19.2476107\",\"totalWalletBalance\":\"216083.63155685\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49992.17375265\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123586.65210752\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4565.00609\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37911.07422743\",\"totalPositionMM\":\"201.31721185\",\"usdValue\":\"37920.55199598\",\"unrealisedPnl\":\"-19.2428\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2165.12480955\",\"walletBalance\":\"37930.31702743\",\"cumRealisedPnl\":\"-12977.28586257\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759640863192}","module":"BybitClient","timestamp":"2025-10-05T05:07:43.374Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.292 BTCUSDT | PnL: -0.05%","module":"TradingStrategy","timestamp":"2025-10-05T05:07:43.376Z"}
{"level":"info","message":"Balance obtenido - Total: $216064.38, Disponible: $37930.32","module":"BybitClient","timestamp":"2025-10-05T05:07:43.376Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759640863377","module":"BybitClient","timestamp":"2025-10-05T05:07:43.377Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"stopLoss\":\"125194.10754000001\",\"slTriggerBy\":\"LastPrice\",\"positionIdx\":0}","module":"BybitClient","timestamp":"2025-10-05T05:07:43.377Z"}
{"level":"info","message":"📈 Actualizando trailing SL: 125194.11 (Max alcanzado: 125570.82)","module":"TradingStrategy","timestamp":"2025-10-05T05:07:43.376Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10001,\"retMsg\":\"StopLoss:1251941000 set for Buy position should lower than base_price:1249049000??LastPrice\",\"result\":{},\"retExtInfo\":{},\"time\":1759640863567}","module":"BybitClient","timestamp":"2025-10-05T05:07:43.749Z"}
{"error":"Error: Error actualizando SL para BTCUSDT\n    at BybitClient.updatePositionStopLoss (/app/dist/exchange/bybit-client.js:314:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.updateTrailingStop (/app/dist/strategy/trading-strategy.js:442:25)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:370:17)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error actualizando trailing stop:","module":"TradingStrategy","timestamp":"2025-10-05T05:07:43.751Z"}
{"error":{"endpoint":"/v5/position/trading-stop","error":"Error API Bybit: StopLoss:1251941000 set for Buy position should lower than base_price:1249049000??LastPrice (Code: 10001)","method":"POST","params":{"category":"linear","positionIdx":0,"slTriggerBy":"LastPrice","stopLoss":"125194.10754000001","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T05:07:43.750Z"}
{"error":"Error: Error API Bybit: StopLoss:1251941000 set for Buy position should lower than base_price:1249049000??LastPrice (Code: 10001)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:405:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.updatePositionStopLoss (/app/dist/exchange/bybit-client.js:309:13)\n    at async TradingStrategy.updateTrailingStop (/app/dist/strategy/trading-strategy.js:442:25)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:370:17)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error actualizando stop loss:","module":"BybitClient","timestamp":"2025-10-05T05:07:43.750Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:07:44.124Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:07:44.125Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una pérdida del 0.05%, pero hay señales de reversión débiles (MACD...","module":"OllamaClient","timestamp":"2025-10-05T05:07:46.281Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una pérdida del 0.05%, pero hay señales de reversión débiles (MACD bajista,...","module":"TradingStrategy","timestamp":"2025-10-05T05:07:46.282Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640866283","module":"BybitClient","timestamp":"2025-10-05T05:07:46.283Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:07:46.283Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:07:46.281Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:07:46.284Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759640797455%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"124952.2\",\"liqPrice\":\"118226.9\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126386\",\"positionValue\":\"36486.0424\",\"isReduceOnly\":false,\"positionIMByMp\":\"2165.12480955\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"118193.1\",\"unrealisedPnl\":\"-13.8116\",\"markPrice\":\"124904.9\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11926.77394382\",\"positionMM\":\"201.31721185\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2165.12480955\",\"positionMMByMp\":\"201.24815384\",\"seq\":140697267051217,\"updatedTime\":\"1759640797455\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2165.12480955\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.06732332\",\"size\":\"0.292\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124230.1\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759640866480}","module":"BybitClient","timestamp":"2025-10-05T05:07:46.663Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:07:46.664Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:07:46.664Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:07:46.664Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:07:48.683Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:07:49.048Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:07:49.049Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:07:49.049Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:08:46.672Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T05:08:46.674Z"}
{"level":"debug","message":"Predicción Kalman: 125062.75775575524 (Confianza: 0.899)","module":"KalmanFilter","timestamp":"2025-10-05T05:08:46.675Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:08:47.767Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:08:48.685Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:08:49.748Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:08:49.748Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:08:49.748Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:08:49.970Z"}
{"confidence":0.6,"decision":"HOLD","indicators":{"bollinger":{"lower":124929.40321614091,"middle":125226.73000000003,"upper":125524.05678385914},"ema":{"ema21":125184.99079953456,"ema50":125209.14556429126,"ema9":125113.58357637058},"macd":{"histogram":-5.464868051414669,"macd":-54.64868051414669,"signal":-49.18381246273202},"rsi":40.83064402974645,"volume":{"avg":586.4811600000003,"current":295.256,"ratio":0.5034364616247857}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"No enough clear selling signals to justify a sell position. The market is neutral and the indicators are not showing any strong bearish momentum. Holding current position until there are clearer signs of a trend reversal.","symbol":"BTCUSDT","timestamp":1759640929970}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640929970","module":"BybitClient","timestamp":"2025-10-05T05:08:49.970Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:08:49.970Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759640797455%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"124952.2\",\"liqPrice\":\"118226.9\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126386\",\"positionValue\":\"36486.0424\",\"isReduceOnly\":false,\"positionIMByMp\":\"2165.12480955\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"118193.1\",\"unrealisedPnl\":\"2.482\",\"markPrice\":\"124960.7\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11926.77394382\",\"positionMM\":\"201.31721185\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2165.12480955\",\"positionMMByMp\":\"201.32962184\",\"seq\":140697267051217,\"updatedTime\":\"1759640797455\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2165.12480955\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.06732332\",\"size\":\"0.292\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124230.1\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759640930161}","module":"BybitClient","timestamp":"2025-10-05T05:08:50.345Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:08:50.345Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640930345","module":"BybitClient","timestamp":"2025-10-05T05:08:50.345Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:08:50.345Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216154.7609496\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"2.48256837\",\"totalWalletBalance\":\"216152.27838122\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49990.62375191\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123651.40195927\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4571.2496\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37932.79902743\",\"totalPositionMM\":\"201.31721185\",\"usdValue\":\"37941.4856384\",\"unrealisedPnl\":\"2.482\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2165.12480955\",\"walletBalance\":\"37930.31702743\",\"cumRealisedPnl\":\"-12977.28586257\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759640930539}","module":"BybitClient","timestamp":"2025-10-05T05:08:50.722Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.292 BTCUSDT | PnL: 0.01%","module":"TradingStrategy","timestamp":"2025-10-05T05:08:50.723Z"}
{"level":"info","message":"Balance obtenido - Total: $216154.76, Disponible: $37930.32","module":"BybitClient","timestamp":"2025-10-05T05:08:50.723Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759640930724","module":"BybitClient","timestamp":"2025-10-05T05:08:50.724Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"stopLoss\":\"125194.10754000001\",\"slTriggerBy\":\"LastPrice\",\"positionIdx\":0}","module":"BybitClient","timestamp":"2025-10-05T05:08:50.724Z"}
{"level":"info","message":"📈 Actualizando trailing SL: 125194.11 (Max alcanzado: 125570.82)","module":"TradingStrategy","timestamp":"2025-10-05T05:08:50.723Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10001,\"retMsg\":\"StopLoss:1251941000 set for Buy position should lower than base_price:1249706000??LastPrice\",\"result\":{},\"retExtInfo\":{},\"time\":1759640930916}","module":"BybitClient","timestamp":"2025-10-05T05:08:51.097Z"}
{"error":"Error: Error actualizando SL para BTCUSDT\n    at BybitClient.updatePositionStopLoss (/app/dist/exchange/bybit-client.js:314:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.updateTrailingStop (/app/dist/strategy/trading-strategy.js:442:25)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:370:17)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error actualizando trailing stop:","module":"TradingStrategy","timestamp":"2025-10-05T05:08:51.098Z"}
{"error":{"endpoint":"/v5/position/trading-stop","error":"Error API Bybit: StopLoss:1251941000 set for Buy position should lower than base_price:1249706000??LastPrice (Code: 10001)","method":"POST","params":{"category":"linear","positionIdx":0,"slTriggerBy":"LastPrice","stopLoss":"125194.10754000001","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T05:08:51.097Z"}
{"error":"Error: Error API Bybit: StopLoss:1251941000 set for Buy position should lower than base_price:1249706000??LastPrice (Code: 10001)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:405:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.updatePositionStopLoss (/app/dist/exchange/bybit-client.js:309:13)\n    at async TradingStrategy.updateTrailingStop (/app/dist/strategy/trading-strategy.js:442:25)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:370:17)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error actualizando stop loss:","module":"BybitClient","timestamp":"2025-10-05T05:08:51.098Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:08:51.471Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:08:51.471Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una ganancia del 0.01% y no hay señales de reversión fuertes. La t...","module":"OllamaClient","timestamp":"2025-10-05T05:08:53.906Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una ganancia del 0.01% y no hay señales de reversión fuertes. La tendencia ...","module":"TradingStrategy","timestamp":"2025-10-05T05:08:53.906Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640933908","module":"BybitClient","timestamp":"2025-10-05T05:08:53.908Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:08:53.906Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:08:53.907Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:08:53.908Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759640797455%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"124952.2\",\"liqPrice\":\"118226.9\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126386\",\"positionValue\":\"36486.0424\",\"isReduceOnly\":false,\"positionIMByMp\":\"2165.12480955\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"118193.1\",\"unrealisedPnl\":\"8.0884\",\"markPrice\":\"124979.9\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11926.77394382\",\"positionMM\":\"201.31721185\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2165.12480955\",\"positionMMByMp\":\"201.35765384\",\"seq\":140697267051217,\"updatedTime\":\"1759640797455\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2165.12480955\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.06732332\",\"size\":\"0.292\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124230.1\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759640934102}","module":"BybitClient","timestamp":"2025-10-05T05:08:54.283Z"}
{"level":"info","message":"Ya existe una posición abierta, no se abrirá nueva posición","module":"TradingStrategy","timestamp":"2025-10-05T05:08:54.284Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:08:54.284Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:08:54.284Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:09:48.685Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:09:49.786Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:09:49.786Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:09:49.786Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:09:54.285Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T05:09:54.285Z"}
{"level":"debug","message":"Predicción Kalman: 124951.79858966923 (Confianza: 0.867)","module":"KalmanFilter","timestamp":"2025-10-05T05:09:54.286Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:09:54.656Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:09:57.497Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":124738.98683104395,"middle":125092.78000000006,"upper":125446.57316895617},"ema":{"ema21":125073.85654395407,"ema50":125152.24941947612,"ema9":124997.98386807699},"macd":{"histogram":-7.530874318076528,"macd":-75.3087431807653,"signal":-67.77786886268878},"rsi":43.31171375092502,"volume":{"avg":408.9197600000004,"current":58.031,"ratio":0.14191292687836837}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is above 43, MACD histogram is bullish and crossed above zero, Bollinger bands are superior and the price is above the upper band, EMA9 is above EMA21 and EMA50, Kalman prediction is bullish with high confidence (86.7%). These indicators suggest a potential bullish trend, and I believe the price will continue to rise.","symbol":"BTCUSDT","timestamp":1759640997497}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640997497","module":"BybitClient","timestamp":"2025-10-05T05:09:57.498Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:09:57.498Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759640797455%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"124952.2\",\"liqPrice\":\"118226.9\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126386\",\"positionValue\":\"36486.0424\",\"isReduceOnly\":false,\"positionIMByMp\":\"2165.12480955\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"118193.1\",\"unrealisedPnl\":\"-4.6428\",\"markPrice\":\"124936.3\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11926.77394382\",\"positionMM\":\"201.31721185\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2165.12480955\",\"positionMMByMp\":\"201.29399784\",\"seq\":140697267051217,\"updatedTime\":\"1759640797455\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2165.12480955\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.06732332\",\"size\":\"0.292\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124230.1\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759640998380}","module":"BybitClient","timestamp":"2025-10-05T05:09:58.561Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:09:58.562Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759640998562","module":"BybitClient","timestamp":"2025-10-05T05:09:58.562Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:09:58.562Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216120.20461561\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-4.64385391\",\"totalWalletBalance\":\"216124.84846952\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49987.32375034\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123628.29986278\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4570.297647\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37925.67422743\",\"totalPositionMM\":\"201.31721185\",\"usdValue\":\"37934.28335547\",\"unrealisedPnl\":\"-4.6428\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2165.12480955\",\"walletBalance\":\"37930.31702743\",\"cumRealisedPnl\":\"-12977.28586257\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759640998756}","module":"BybitClient","timestamp":"2025-10-05T05:09:58.941Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.292 BTCUSDT | PnL: -0.01%","module":"TradingStrategy","timestamp":"2025-10-05T05:09:58.941Z"}
{"level":"info","message":"Balance obtenido - Total: $216120.20, Disponible: $37930.32","module":"BybitClient","timestamp":"2025-10-05T05:09:58.941Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759640998942","module":"BybitClient","timestamp":"2025-10-05T05:09:58.942Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"stopLoss\":\"125194.10754000001\",\"slTriggerBy\":\"LastPrice\",\"positionIdx\":0}","module":"BybitClient","timestamp":"2025-10-05T05:09:58.942Z"}
{"level":"info","message":"📈 Actualizando trailing SL: 125194.11 (Max alcanzado: 125570.82)","module":"TradingStrategy","timestamp":"2025-10-05T05:09:58.942Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10001,\"retMsg\":\"StopLoss:1251941000 set for Buy position should lower than base_price:1249620000??LastPrice\",\"result\":{},\"retExtInfo\":{},\"time\":1759640999132}","module":"BybitClient","timestamp":"2025-10-05T05:09:59.314Z"}
{"error":"Error: Error actualizando SL para BTCUSDT\n    at BybitClient.updatePositionStopLoss (/app/dist/exchange/bybit-client.js:314:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.updateTrailingStop (/app/dist/strategy/trading-strategy.js:442:25)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:370:17)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error actualizando trailing stop:","module":"TradingStrategy","timestamp":"2025-10-05T05:09:59.315Z"}
{"error":{"endpoint":"/v5/position/trading-stop","error":"Error API Bybit: StopLoss:1251941000 set for Buy position should lower than base_price:1249620000??LastPrice (Code: 10001)","method":"POST","params":{"category":"linear","positionIdx":0,"slTriggerBy":"LastPrice","stopLoss":"125194.10754000001","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T05:09:59.314Z"}
{"error":"Error: Error API Bybit: StopLoss:1251941000 set for Buy position should lower than base_price:1249620000??LastPrice (Code: 10001)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:405:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.updatePositionStopLoss (/app/dist/exchange/bybit-client.js:309:13)\n    at async TradingStrategy.updateTrailingStop (/app/dist/strategy/trading-strategy.js:442:25)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:370:17)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error actualizando stop loss:","module":"BybitClient","timestamp":"2025-10-05T05:09:59.315Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:09:59.693Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:09:59.693Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual es LONG con pérdida de 0.01%. Sin embargo, hay tres señales de reversión...","module":"OllamaClient","timestamp":"2025-10-05T05:10:02.696Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual es LONG con pérdida de...","module":"TradingStrategy","timestamp":"2025-10-05T05:10:02.704Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641002704","module":"BybitClient","timestamp":"2025-10-05T05:10:02.705Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-05T05:10:02.697Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-05T05:10:02.698Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 30%)","module":"OllamaClient","timestamp":"2025-10-05T05:10:02.703Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:10:02.704Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:10:02.707Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759640797455%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"124952.2\",\"liqPrice\":\"118226.9\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126386\",\"positionValue\":\"36486.0424\",\"isReduceOnly\":false,\"positionIMByMp\":\"2165.12480955\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"118193.1\",\"unrealisedPnl\":\"2.8616\",\"markPrice\":\"124962\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11926.77394382\",\"positionMM\":\"201.31721185\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2165.12480955\",\"positionMMByMp\":\"201.33151984\",\"seq\":140697267051217,\"updatedTime\":\"1759640797455\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2165.12480955\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.06732332\",\"size\":\"0.292\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124230.1\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759641002914}","module":"BybitClient","timestamp":"2025-10-05T05:10:03.097Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:10:03.097Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:10:03.097Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:10:03.098Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:10:48.686Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:10:49.774Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:10:49.774Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:10:49.774Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:11:03.100Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0716","module":"KalmanFilter","timestamp":"2025-10-05T05:11:03.100Z"}
{"level":"debug","message":"Predicción Kalman: 124947.12555928342 (Confianza: 0.878)","module":"KalmanFilter","timestamp":"2025-10-05T05:11:03.101Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:11:04.214Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:11:07.128Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":124718.6986713677,"middle":125028.04000000001,"upper":125337.38132863231},"ema":{"ema21":125020.35984968184,"ema50":125116.10784632196,"ema9":124951.54719388491},"macd":{"histogram":-7.422702922696772,"macd":-74.22702922696772,"signal":-66.80432630427094},"rsi":33.72822745901638,"volume":{"avg":331.37952999999993,"current":311.179,"ratio":0.9390411049228057}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is below 30 and MACD is bearish, indicating a potential sell opportunity. However, the Bollinger bands are narrow and the EMA9 is above the EMA21, suggesting a possible bounce. Kalman predicts a slight increase in price with 75% confidence. Given the neutral market sentiment and the high leverage available (10-50x), it's better to take a long position for now.","symbol":"BTCUSDT","timestamp":1759641067128}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641067128","module":"BybitClient","timestamp":"2025-10-05T05:11:07.128Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:11:07.130Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759640797455%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"124952.2\",\"liqPrice\":\"118226.9\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126386\",\"positionValue\":\"36486.0424\",\"isReduceOnly\":false,\"positionIMByMp\":\"2165.12480955\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"118193.1\",\"unrealisedPnl\":\"-21.4766\",\"markPrice\":\"124878.65\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11926.77394382\",\"positionMM\":\"201.31721185\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2165.12480955\",\"positionMMByMp\":\"201.20982884\",\"seq\":140697267051217,\"updatedTime\":\"1759640797455\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2165.12480955\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.06732332\",\"size\":\"0.292\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124230.1\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759641068028}","module":"BybitClient","timestamp":"2025-10-05T05:11:08.212Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:11:08.212Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641068213","module":"BybitClient","timestamp":"2025-10-05T05:11:08.213Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:11:08.213Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216059.09409589\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-21.48257049\",\"totalWalletBalance\":\"216080.57666638\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49993.47375326\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123580.49548955\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4565.745768\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37908.84042743\",\"totalPositionMM\":\"201.31721185\",\"usdValue\":\"37919.37908506\",\"unrealisedPnl\":\"-21.4766\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2165.12480955\",\"walletBalance\":\"37930.31702743\",\"cumRealisedPnl\":\"-12977.28586257\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759641068406}","module":"BybitClient","timestamp":"2025-10-05T05:11:08.588Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.292 BTCUSDT | PnL: -0.06%","module":"TradingStrategy","timestamp":"2025-10-05T05:11:08.589Z"}
{"level":"info","message":"Balance obtenido - Total: $216059.09, Disponible: $37930.32","module":"BybitClient","timestamp":"2025-10-05T05:11:08.589Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759641068590","module":"BybitClient","timestamp":"2025-10-05T05:11:08.590Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"stopLoss\":\"125194.10754000001\",\"slTriggerBy\":\"LastPrice\",\"positionIdx\":0}","module":"BybitClient","timestamp":"2025-10-05T05:11:08.590Z"}
{"level":"info","message":"📈 Actualizando trailing SL: 125194.11 (Max alcanzado: 125570.82)","module":"TradingStrategy","timestamp":"2025-10-05T05:11:08.589Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10001,\"retMsg\":\"StopLoss:1251941000 set for Buy position should lower than base_price:1248652000??LastPrice\",\"result\":{},\"retExtInfo\":{},\"time\":1759641068775}","module":"BybitClient","timestamp":"2025-10-05T05:11:08.957Z"}
{"error":"Error: Error actualizando SL para BTCUSDT\n    at BybitClient.updatePositionStopLoss (/app/dist/exchange/bybit-client.js:314:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.updateTrailingStop (/app/dist/strategy/trading-strategy.js:442:25)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:370:17)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error actualizando trailing stop:","module":"TradingStrategy","timestamp":"2025-10-05T05:11:08.958Z"}
{"error":{"endpoint":"/v5/position/trading-stop","error":"Error API Bybit: StopLoss:1251941000 set for Buy position should lower than base_price:1248652000??LastPrice (Code: 10001)","method":"POST","params":{"category":"linear","positionIdx":0,"slTriggerBy":"LastPrice","stopLoss":"125194.10754000001","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T05:11:08.957Z"}
{"error":"Error: Error API Bybit: StopLoss:1251941000 set for Buy position should lower than base_price:1248652000??LastPrice (Code: 10001)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:405:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.updatePositionStopLoss (/app/dist/exchange/bybit-client.js:309:13)\n    at async TradingStrategy.updateTrailingStop (/app/dist/strategy/trading-strategy.js:442:25)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:370:17)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error actualizando stop loss:","module":"BybitClient","timestamp":"2025-10-05T05:11:08.958Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:11:10.038Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:11:10.039Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una pérdida del 0.06%, pero no hay señales claras de reversión. La...","module":"OllamaClient","timestamp":"2025-10-05T05:11:12.656Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una pérdida del 0.06%, pero no hay señales claras de reversión. La tendenci...","module":"TradingStrategy","timestamp":"2025-10-05T05:11:12.658Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641072659","module":"BybitClient","timestamp":"2025-10-05T05:11:12.659Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:11:12.657Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:11:12.658Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:11:12.659Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759640797455%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"124952.2\",\"liqPrice\":\"118226.9\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126386\",\"positionValue\":\"36486.0424\",\"isReduceOnly\":false,\"positionIMByMp\":\"2165.12480955\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"118193.1\",\"unrealisedPnl\":\"-21.92336\",\"markPrice\":\"124877.12\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11926.77394382\",\"positionMM\":\"201.31721185\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2165.12480955\",\"positionMMByMp\":\"201.20759504\",\"seq\":140697267051217,\"updatedTime\":\"1759640797455\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2165.12480955\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.06732332\",\"size\":\"0.292\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124230.1\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759641072851}","module":"BybitClient","timestamp":"2025-10-05T05:11:13.033Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:11:13.033Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:11:13.033Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:11:13.034Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:11:48.688Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:11:49.802Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:11:49.805Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:11:49.802Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:12:13.035Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0635","module":"KalmanFilter","timestamp":"2025-10-05T05:12:13.036Z"}
{"level":"debug","message":"Predicción Kalman: 124941.576358135 (Confianza: 0.886)","module":"KalmanFilter","timestamp":"2025-10-05T05:12:13.036Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:12:14.144Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:12:16.704Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":124742.69115376334,"middle":124978.495,"upper":125214.29884623665},"ema":{"ema21":124985.97593473668,"ema50":125091.69701819634,"ema9":124937.2555285723},"macd":{"histogram":-6.027851045920393,"macd":-60.27851045920397,"signal":-54.25065941328358},"rsi":41.97698649995451,"volume":{"avg":267.7149699999998,"current":57.155,"ratio":0.21349198365709635}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is above 45, MACD histogram is bullish and crossed above zero, Bollinger bands are expanding and the price is above the upper band, EMA9 is above EMA21 and EMA50, Kalman predicts a bullish movement with confidence above 75%","symbol":"BTCUSDT","timestamp":1759641136704}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641136704","module":"BybitClient","timestamp":"2025-10-05T05:12:16.704Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:12:16.704Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759640797455%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"124952.2\",\"liqPrice\":\"118226.9\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126386\",\"positionValue\":\"36486.0424\",\"isReduceOnly\":false,\"positionIMByMp\":\"2165.12480955\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"118193.1\",\"unrealisedPnl\":\"28.1488\",\"markPrice\":\"125048.6\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11926.77394382\",\"positionMM\":\"201.31721185\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2165.12480955\",\"positionMMByMp\":\"201.45795584\",\"seq\":140697267051217,\"updatedTime\":\"1759640797455\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2165.12480955\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.06732332\",\"size\":\"0.292\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124230.1\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759641136893}","module":"BybitClient","timestamp":"2025-10-05T05:12:17.076Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:12:17.077Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641137077","module":"BybitClient","timestamp":"2025-10-05T05:12:17.077Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:12:17.078Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216268.12660616\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"28.15504903\",\"totalWalletBalance\":\"216239.97155713\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49991.62375238\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123739.16441193\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4570.445835\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37958.46582743\",\"totalPositionMM\":\"201.31721185\",\"usdValue\":\"37966.89260684\",\"unrealisedPnl\":\"28.1488\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2165.12480955\",\"walletBalance\":\"37930.31702743\",\"cumRealisedPnl\":\"-12977.28586257\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759641137960}","module":"BybitClient","timestamp":"2025-10-05T05:12:18.143Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.292 BTCUSDT | PnL: 0.08%","module":"TradingStrategy","timestamp":"2025-10-05T05:12:18.144Z"}
{"level":"info","message":"Balance obtenido - Total: $216268.13, Disponible: $37930.32","module":"BybitClient","timestamp":"2025-10-05T05:12:18.143Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759641138145","module":"BybitClient","timestamp":"2025-10-05T05:12:18.145Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"stopLoss\":\"125194.10754000001\",\"slTriggerBy\":\"LastPrice\",\"positionIdx\":0}","module":"BybitClient","timestamp":"2025-10-05T05:12:18.145Z"}
{"level":"info","message":"📈 Actualizando trailing SL: 125194.11 (Max alcanzado: 125570.82)","module":"TradingStrategy","timestamp":"2025-10-05T05:12:18.144Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10001,\"retMsg\":\"StopLoss:1251941000 set for Buy position should lower than base_price:1250592000??LastPrice\",\"result\":{},\"retExtInfo\":{},\"time\":1759641139023}","module":"BybitClient","timestamp":"2025-10-05T05:12:19.205Z"}
{"error":"Error: Error actualizando SL para BTCUSDT\n    at BybitClient.updatePositionStopLoss (/app/dist/exchange/bybit-client.js:314:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.updateTrailingStop (/app/dist/strategy/trading-strategy.js:442:25)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:370:17)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error actualizando trailing stop:","module":"TradingStrategy","timestamp":"2025-10-05T05:12:19.207Z"}
{"error":{"endpoint":"/v5/position/trading-stop","error":"Error API Bybit: StopLoss:1251941000 set for Buy position should lower than base_price:1250592000??LastPrice (Code: 10001)","method":"POST","params":{"category":"linear","positionIdx":0,"slTriggerBy":"LastPrice","stopLoss":"125194.10754000001","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T05:12:19.206Z"}
{"error":"Error: Error API Bybit: StopLoss:1251941000 set for Buy position should lower than base_price:1250592000??LastPrice (Code: 10001)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:405:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.updatePositionStopLoss (/app/dist/exchange/bybit-client.js:309:13)\n    at async TradingStrategy.updateTrailingStop (/app/dist/strategy/trading-strategy.js:442:25)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:370:17)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error actualizando stop loss:","module":"BybitClient","timestamp":"2025-10-05T05:12:19.206Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:12:19.572Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:12:19.573Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una ganancia del 0.08% y no hay señales de reversión fuertes. RSI ...","module":"OllamaClient","timestamp":"2025-10-05T05:12:22.170Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una ganancia del 0.08% y no hay señales de reversión fuertes. RSI está en e...","module":"TradingStrategy","timestamp":"2025-10-05T05:12:22.171Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641142173","module":"BybitClient","timestamp":"2025-10-05T05:12:22.173Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:12:22.170Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:12:22.172Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:12:22.174Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759640797455%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"124952.2\",\"liqPrice\":\"118226.9\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126386\",\"positionValue\":\"36486.0424\",\"isReduceOnly\":false,\"positionIMByMp\":\"2165.12480955\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"118193.1\",\"unrealisedPnl\":\"36.2372\",\"markPrice\":\"125076.3\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11926.77394382\",\"positionMM\":\"201.31721185\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2165.12480955\",\"positionMMByMp\":\"201.49839784\",\"seq\":140697267051217,\"updatedTime\":\"1759640797455\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2165.12480955\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.06732332\",\"size\":\"0.292\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124230.1\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759641142361}","module":"BybitClient","timestamp":"2025-10-05T05:12:22.544Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:12:22.545Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:12:22.545Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:12:22.545Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:12:48.688Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:12:49.803Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:12:49.803Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:12:49.803Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:13:22.548Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0580","module":"KalmanFilter","timestamp":"2025-10-05T05:13:22.549Z"}
{"level":"debug","message":"Predicción Kalman: 124992.0472304166 (Confianza: 0.859)","module":"KalmanFilter","timestamp":"2025-10-05T05:13:22.549Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:13:23.656Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:13:26.252Z"}
{"confidence":0.6,"decision":"HOLD","indicators":{"bollinger":{"lower":124815.9274433389,"middle":124959.70999999999,"upper":125103.49255666109},"ema":{"ema21":124989.59159870708,"ema50":125066.07316096273,"ema9":124982.37403554656},"macd":{"histogram":-2.578480277980269,"macd":-25.784802779802703,"signal":-23.206322501822434},"rsi":55.505337051639614,"volume":{"avg":223.6734899999999,"current":99.18,"ratio":0.4434141927145682}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"No enough evidence to suggest a clear directional move. RSI and MACD are neutral, Bollinger bands are wide and not indicating any clear momentum. Kalman forecast is also neutral with a confidence of 60%. Given the current market sentiment is neutral, it's better to hold rather than taking a position in either direction.","symbol":"BTCUSDT","timestamp":1759641206252}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641206253","module":"BybitClient","timestamp":"2025-10-05T05:13:26.253Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:13:26.253Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759640797455%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"124952.2\",\"liqPrice\":\"118226.9\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126386\",\"positionValue\":\"36486.0424\",\"isReduceOnly\":false,\"positionIMByMp\":\"2165.12480955\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"118193.1\",\"unrealisedPnl\":\"72.3284\",\"markPrice\":\"125199.9\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11926.77394382\",\"positionMM\":\"201.31721185\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2165.12480955\",\"positionMMByMp\":\"201.67885384\",\"seq\":140697267051217,\"updatedTime\":\"1759640797455\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2165.12480955\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.06732332\",\"size\":\"0.292\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124230.1\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759641206441}","module":"BybitClient","timestamp":"2025-10-05T05:13:26.626Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:13:26.626Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641206626","module":"BybitClient","timestamp":"2025-10-05T05:13:26.626Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:13:26.626Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216465.50995917\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"72.34655442\",\"totalWalletBalance\":\"216393.16340474\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49996.0737545\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123883.55074223\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4573.701371\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"38002.64542743\",\"totalPositionMM\":\"201.31721185\",\"usdValue\":\"38012.18409143\",\"unrealisedPnl\":\"72.3284\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"2165.12480955\",\"walletBalance\":\"37930.31702743\",\"cumRealisedPnl\":\"-12977.28586257\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759641206815}","module":"BybitClient","timestamp":"2025-10-05T05:13:27.001Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.292 BTCUSDT | PnL: 0.20%","module":"TradingStrategy","timestamp":"2025-10-05T05:13:27.001Z"}
{"level":"info","message":"📈 Actualizando trailing SL: 125194.11 (Max alcanzado: 125570.82)","module":"TradingStrategy","timestamp":"2025-10-05T05:13:27.002Z"}
{"level":"info","message":"Balance obtenido - Total: $216465.51, Disponible: $37930.32","module":"BybitClient","timestamp":"2025-10-05T05:13:27.001Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759641207002","module":"BybitClient","timestamp":"2025-10-05T05:13:27.002Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"stopLoss\":\"125194.10754000001\",\"slTriggerBy\":\"LastPrice\",\"positionIdx\":0}","module":"BybitClient","timestamp":"2025-10-05T05:13:27.002Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{},\"retExtInfo\":{},\"time\":1759641207883}","module":"BybitClient","timestamp":"2025-10-05T05:13:28.065Z"}
{"level":"info","message":"Stop Loss actualizado para BTCUSDT: SL=125194.10754000001","module":"BybitClient","timestamp":"2025-10-05T05:13:28.065Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:13:28.436Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:13:28.436Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una ganancia del 0.20%, con un RSI en el rango alto (55), un MACD ...","module":"OllamaClient","timestamp":"2025-10-05T05:13:31.010Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una ganancia del 0.20%, con un RSI en el rango alto (55), un MACD negativo ...","module":"TradingStrategy","timestamp":"2025-10-05T05:13:31.010Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641211010","module":"BybitClient","timestamp":"2025-10-05T05:13:31.011Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:13:31.010Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:13:31.010Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:13:31.011Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641207882%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"124952.2\",\"liqPrice\":\"118226.9\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126386\",\"positionValue\":\"36486.0424\",\"isReduceOnly\":false,\"positionIMByMp\":\"2165.12480955\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"118193.1\",\"unrealisedPnl\":\"72.3576\",\"markPrice\":\"125200\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11926.77394382\",\"positionMM\":\"201.31721185\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"2165.12480955\",\"positionMMByMp\":\"201.67899984\",\"seq\":140697267051217,\"updatedTime\":\"1759641207882\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"2165.12480955\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-20.06732332\",\"size\":\"0.292\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"125194.1\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759641211894}","module":"BybitClient","timestamp":"2025-10-05T05:13:32.078Z"}
{"level":"info","message":"Ya existe una posición abierta, no se abrirá nueva posición","module":"TradingStrategy","timestamp":"2025-10-05T05:13:32.078Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:13:32.078Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:13:32.081Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:13:48.689Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:13:49.798Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:13:49.799Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:13:49.798Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:14:32.088Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0704","module":"KalmanFilter","timestamp":"2025-10-05T05:14:32.088Z"}
{"level":"debug","message":"Predicción Kalman: 125053.63638911855 (Confianza: 0.834)","module":"KalmanFilter","timestamp":"2025-10-05T05:14:32.089Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:14:32.498Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:14:35.459Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":124800.73241331444,"middle":124971.14000000001,"upper":125141.54758668558},"ema":{"ema21":125010.01506438352,"ema50":125063.07900809382,"ema9":125034.95696397917},"macd":{"histogram":0.49953069618641166,"macd":4.995306961864117,"signal":4.495776265677705},"rsi":62.44921648287891,"volume":{"avg":200.39337,"current":118.581,"ratio":0.5917411339506891}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está en un nivel alto (62.45) y MACD histogram es bullish, indicando una posible subida. Además, el precio actual está dentro de la banda superior del Bollinger, lo que sugiere una posible reversión. Kalman también predice una subida con confianza del 83.4%. Considerando todos estos factores, es más probable que el precio continúe subiendo.","symbol":"BTCUSDT","timestamp":1759641275460}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641275469","module":"BybitClient","timestamp":"2025-10-05T05:14:35.469Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:14:35.469Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641216384%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"125144.3\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-11877.09165054\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697267062979,\"updatedTime\":\"1759641216384\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759641275655}","module":"BybitClient","timestamp":"2025-10-05T05:14:35.840Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T05:14:35.840Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641275841","module":"BybitClient","timestamp":"2025-10-05T05:14:35.841Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:14:35.841Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641216384%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"125144.3\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-11877.09165054\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697267062979,\"updatedTime\":\"1759641216384\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759641276030}","module":"BybitClient","timestamp":"2025-10-05T05:14:36.215Z"}
{"level":"info","message":"AI sugiere BUY con confianza 0.7","module":"TradingStrategy","timestamp":"2025-10-05T05:14:36.215Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T05:14:36.215Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641276216","module":"BybitClient","timestamp":"2025-10-05T05:14:36.216Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:14:36.216Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216430.67431071\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"216430.67431071\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49989.87375155\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123882.02099956\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4572.171719\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37979.99932071\",\"totalPositionMM\":\"0\",\"usdValue\":\"37986.60784059\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"37979.99932071\",\"cumRealisedPnl\":\"-12927.60356929\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759641276408}","module":"BybitClient","timestamp":"2025-10-05T05:14:36.590Z"}
{"level":"info","message":"Balance disponible: $37980.00, Precio: $125144.2","module":"TradingStrategy","timestamp":"2025-10-05T05:14:36.591Z"}
{"level":"info","message":"Balance obtenido - Total: $216430.67, Disponible: $37980.00","module":"BybitClient","timestamp":"2025-10-05T05:14:36.590Z"}
{"level":"debug","message":"Símbolo info - Min: 0.001, Step: 0.001","module":"TradingStrategy","timestamp":"2025-10-05T05:14:37.656Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641277658","module":"BybitClient","timestamp":"2025-10-05T05:14:37.658Z"}
{"level":"info","message":"Riesgo: 4.333333333333333%, Capital a arriesgar: $1645.80","module":"TradingStrategy","timestamp":"2025-10-05T05:14:37.656Z"}
{"level":"info","message":"Position value: $21395.40, Quantity raw: 0.170966","module":"TradingStrategy","timestamp":"2025-10-05T05:14:37.656Z"}
{"level":"info","message":"Cantidad final calculada: 0.17 BTC (valor: $21274.51)","module":"TradingStrategy","timestamp":"2025-10-05T05:14:37.657Z"}
{"level":"info","message":"Parámetros calculados - Leverage: 13x, Quantity: 0.17","module":"TradingStrategy","timestamp":"2025-10-05T05:14:37.657Z"}
{"level":"info","message":"Generando señal de trading: BUY 0.17 BTCUSDT @ 125144.2 (SL: 124393.3348, TP: 126533.30062)","module":"TradingStrategy","timestamp":"2025-10-05T05:14:37.657Z"}
{"level":"info","message":"EJECUTANDO TRADE: BUY 0.17 BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-05T05:14:37.657Z"}
{"level":"info","message":"=== INICIO EJECUCIÓN DE TRADE ===","module":"TradingStrategy","timestamp":"2025-10-05T05:14:37.657Z"}
{"level":"info","message":"Señal: {\"symbol\":\"BTCUSDT\",\"action\":\"BUY\",\"leverage\":13,\"quantity\":0.17,\"stopLoss\":124393.3348,\"takeProfit\":126533.30062,\"timestamp\":1759641277657,\"aiAnalysis\":{\"decision\":\"BUY\",\"confidence\":0.7,\"reasoning\":\"RSI está en un nivel alto (62.45) y MACD histogram es bullish, indicando una posible subida. Además, el precio actual está dentro de la banda superior del Bollinger, lo que sugiere una posible reversión. Kalman también predice una subida con confianza del 83.4%. Considerando todos estos factores, es más probable que el precio continúe subiendo.\",\"indicators\":{},\"kalman\":{},\"marketSentiment\":\"bullish\",\"riskLevel\":\"low\",\"suggestedLeverage\":20}}","module":"TradingStrategy","timestamp":"2025-10-05T05:14:37.657Z"}
{"level":"info","message":"Validando con Risk Manager...","module":"TradingStrategy","timestamp":"2025-10-05T05:14:37.658Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:14:37.658Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216430.67431071\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"216430.67431071\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49989.87375155\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123882.02099956\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4572.171719\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37979.99932071\",\"totalPositionMM\":\"0\",\"usdValue\":\"37986.60784059\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"37979.99932071\",\"cumRealisedPnl\":\"-12927.60356929\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759641277846}","module":"BybitClient","timestamp":"2025-10-05T05:14:38.030Z"}
{"level":"info","message":"Balance obtenido - Total: $216430.67, Disponible: $37980.00","module":"BybitClient","timestamp":"2025-10-05T05:14:38.030Z"}
{"level":"info","message":"Validando posición: Cantidad=0.17, Precio=125146.20, Valor=$21274.85","module":"RiskManager","timestamp":"2025-10-05T05:14:38.396Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641278396","module":"BybitClient","timestamp":"2025-10-05T05:14:38.396Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:14:38.396Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641216384%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"17\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"125158\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-11877.09165054\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697267062979,\"updatedTime\":\"1759641216384\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759641279285}","module":"BybitClient","timestamp":"2025-10-05T05:14:39.468Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T05:14:39.469Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 20","module":"BybitClient","timestamp":"2025-10-05T05:14:39.837Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:14:40.204Z"}
{"level":"info","message":"Velas obtenidas: 20 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:14:40.204Z"}
{"level":"info","message":"Trade aprobado - Risk Score: 0.28","module":"RiskManager","timestamp":"2025-10-05T05:14:41.278Z"}
{"level":"info","message":"Resultado validación: {\"approved\":true,\"reason\":\"Trade aprobado por gestión de riesgo\",\"riskScore\":0.28146374583705047}","module":"TradingStrategy","timestamp":"2025-10-05T05:14:41.278Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759641281279","module":"BybitClient","timestamp":"2025-10-05T05:14:41.279Z"}
{"level":"info","message":"Trade aprobado por Risk Manager, ejecutando...","module":"TradingStrategy","timestamp":"2025-10-05T05:14:41.278Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"buyLeverage\":\"13\",\"sellLeverage\":\"13\"}","module":"BybitClient","timestamp":"2025-10-05T05:14:41.279Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{},\"retExtInfo\":{},\"time\":1759641281469}","module":"BybitClient","timestamp":"2025-10-05T05:14:41.654Z"}
{"level":"info","message":"Leverage establecido a 13x para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:14:41.654Z"}
{"level":"info","message":"Ejecutando orden: Buy 0.17 BTCUSDT | SL: 124393.3348 | TP: 126533.30062","module":"BybitClient","timestamp":"2025-10-05T05:14:41.654Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759641281655","module":"BybitClient","timestamp":"2025-10-05T05:14:41.655Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"side\":\"Buy\",\"orderType\":\"Market\",\"qty\":\"0.17\",\"timeInForce\":\"IOC\",\"stopLoss\":\"124393.33\",\"slTriggerBy\":\"LastPrice\",\"takeProfit\":\"126533.3\",\"tpTriggerBy\":\"LastPrice\"}","module":"BybitClient","timestamp":"2025-10-05T05:14:41.655Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"orderId\":\"ca590511-ad0a-47ea-92f6-99682d39d55a\",\"orderLinkId\":\"\"},\"retExtInfo\":{},\"time\":1759641282552}","module":"BybitClient","timestamp":"2025-10-05T05:14:42.734Z"}
{"level":"info","message":"TRADE_OPEN","module":"TradingStrategy","pnl":0,"price":0,"quantity":0.17,"side":"BUY","symbol":"BTCUSDT","timestamp":1759641282734}
{"level":"debug","message":"Trades ejecutados hoy: 5/20","module":"RiskManager","timestamp":"2025-10-05T05:14:42.735Z"}
{"level":"info","message":"Orden ejecutada exitosamente: ca590511-ad0a-47ea-92f6-99682d39d55a","module":"BybitClient","timestamp":"2025-10-05T05:14:42.734Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641282735","module":"BybitClient","timestamp":"2025-10-05T05:14:42.736Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:14:42.736Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216376.47817907\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"1.02701049\",\"totalWalletBalance\":\"216375.45116857\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49990.72375196\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123838.68249044\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4569.963087\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37969.32513801\",\"totalPositionMM\":\"117.17364076\",\"usdValue\":\"37977.10884966\",\"unrealisedPnl\":\"1.0268\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1647.30221315\",\"walletBalance\":\"37968.29833801\",\"cumRealisedPnl\":\"-12939.30455199\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759641282929}","module":"BybitClient","timestamp":"2025-10-05T05:14:43.113Z"}
{"level":"info","message":"Balance obtenido - Total: $216376.48, Disponible: $37968.30","module":"BybitClient","timestamp":"2025-10-05T05:14:43.114Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:14:48.689Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:14:49.784Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:14:49.784Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:14:49.784Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:15:43.116Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0694","module":"KalmanFilter","timestamp":"2025-10-05T05:15:43.116Z"}
{"level":"debug","message":"Predicción Kalman: 125097.32952816952 (Confianza: 0.833)","module":"KalmanFilter","timestamp":"2025-10-05T05:15:43.117Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:15:44.209Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:15:47.303Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":124804.28097574161,"middle":125002.13,"upper":125199.9790242584},"ema":{"ema21":125033.16419887566,"ema50":125063.93507300637,"ema9":125068.81117796691},"macd":{"histogram":2.1296668104318073,"macd":21.296668104318087,"signal":19.16700129388628},"rsi":55.188413948256695,"volume":{"avg":192.64532000000005,"current":27.136,"ratio":0.1408598973491803}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima del 50, MACD tiene un histograma positivo y está cruzando a positivo, Bollinger está en el rango superior, EMA9 está cruzando por encima de EMA21, Kalman predice una subida con confianza del 83.3%, volumen alto y cambio reciente del 0.14% son señales bajistas claras pero no suficientes para justificar una posición short.","symbol":"BTCUSDT","timestamp":1759641347304}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641347304","module":"BybitClient","timestamp":"2025-10-05T05:15:47.304Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:15:47.305Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"-1.19\",\"markPrice\":\"125137.2\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.16769075\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759641347493}","module":"BybitClient","timestamp":"2025-10-05T05:15:47.676Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:15:47.677Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641347677","module":"BybitClient","timestamp":"2025-10-05T05:15:47.677Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:15:47.678Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216373.96638661\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-1.1903451\",\"totalWalletBalance\":\"216375.15673171\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49991.47375231\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123833.97777986\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4570.396055\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37967.10833801\",\"totalPositionMM\":\"117.17364076\",\"usdValue\":\"37978.11879942\",\"unrealisedPnl\":\"-1.19\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1647.30221315\",\"walletBalance\":\"37968.29833801\",\"cumRealisedPnl\":\"-12939.30455199\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759641347863}","module":"BybitClient","timestamp":"2025-10-05T05:15:48.048Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.17 BTCUSDT | PnL: -0.01%","module":"TradingStrategy","timestamp":"2025-10-05T05:15:48.048Z"}
{"level":"info","message":"Balance obtenido - Total: $216373.97, Disponible: $37968.30","module":"BybitClient","timestamp":"2025-10-05T05:15:48.048Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759641348049","module":"BybitClient","timestamp":"2025-10-05T05:15:48.049Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"stopLoss\":\"125194.10754000001\",\"slTriggerBy\":\"LastPrice\",\"positionIdx\":0}","module":"BybitClient","timestamp":"2025-10-05T05:15:48.049Z"}
{"level":"info","message":"📈 Actualizando trailing SL: 125194.11 (Max alcanzado: 125570.82)","module":"TradingStrategy","timestamp":"2025-10-05T05:15:48.049Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:15:48.690Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:15:49.095Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:15:49.096Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:15:49.095Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10001,\"retMsg\":\"StopLoss:1251941000 set for Buy position should lower than base_price:1251077000??LastPrice\",\"result\":{},\"retExtInfo\":{},\"time\":1759641348942}","module":"BybitClient","timestamp":"2025-10-05T05:15:49.124Z"}
{"error":"Error: Error actualizando SL para BTCUSDT\n    at BybitClient.updatePositionStopLoss (/app/dist/exchange/bybit-client.js:314:19)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async TradingStrategy.updateTrailingStop (/app/dist/strategy/trading-strategy.js:442:25)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:370:17)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error actualizando trailing stop:","module":"TradingStrategy","timestamp":"2025-10-05T05:15:49.125Z"}
{"error":{"endpoint":"/v5/position/trading-stop","error":"Error API Bybit: StopLoss:1251941000 set for Buy position should lower than base_price:1251077000??LastPrice (Code: 10001)","method":"POST","params":{"category":"linear","positionIdx":0,"slTriggerBy":"LastPrice","stopLoss":"125194.10754000001","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T05:15:49.124Z"}
{"error":"Error: Error API Bybit: StopLoss:1251941000 set for Buy position should lower than base_price:1251077000??LastPrice (Code: 10001)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:405:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.updatePositionStopLoss (/app/dist/exchange/bybit-client.js:309:13)\n    at async TradingStrategy.updateTrailingStop (/app/dist/strategy/trading-strategy.js:442:25)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:370:17)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error actualizando stop loss:","module":"BybitClient","timestamp":"2025-10-05T05:15:49.125Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:15:49.489Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:15:49.490Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"Tienes una posición LONG sólida con pérdida de 0.01%. No hay señales de reversión detectada...","module":"OllamaClient","timestamp":"2025-10-05T05:15:51.441Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: Tienes una posición LONG sólida con pérdida de 0.01%. No hay señales de reversión detectadas, y la t...","module":"TradingStrategy","timestamp":"2025-10-05T05:15:51.443Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641351444","module":"BybitClient","timestamp":"2025-10-05T05:15:51.445Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:15:51.442Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:15:51.444Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:15:51.446Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"-5.5913\",\"markPrice\":\"125111.31\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.14568425\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759641351638}","module":"BybitClient","timestamp":"2025-10-05T05:15:51.821Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:15:51.822Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:15:51.822Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:15:51.822Z"}
{"level":"info","message":"Recibida señal SIGTERM, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-05T05:16:24.886Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759641384887}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-05T05:16:24.887Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-05T05:16:24.888Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T05:16:30.631Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T05:16:30.624Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T05:16:30.643Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T05:16:30.635Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T05:16:30.637Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T05:16:30.642Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T05:16:30.641Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759641390656}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T05:16:30.649Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T05:16:30.652Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T05:16:30.651Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T05:16:30.653Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T05:16:30.655Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759641390655}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T05:16:30.656Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T05:16:30.656Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T05:16:30.656Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T05:16:30.691Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T05:16:30.691Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T05:16:30.644Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T05:16:30.644Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T05:16:30.645Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T05:16:30.645Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T05:16:30.645Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T05:16:30.645Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T05:16:30.646Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T05:16:30.646Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T05:16:30.646Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T05:16:30.646Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T05:16:30.647Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T05:16:30.692Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T05:16:30.635Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T05:16:30.649Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-05T05:16:30.722Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-05T05:16:31.885Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (1m)","module":"DataManager","timestamp":"2025-10-05T05:16:31.886Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 200","module":"BybitClient","timestamp":"2025-10-05T05:16:31.887Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-05T05:16:31.887Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:16:32.271Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-05T05:16:32.273Z"}
{"level":"info","message":"Datos suficientes recopilados para BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-05T05:16:32.274Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:16:32.278Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T05:16:32.280Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-05T05:16:32.282Z"}
{"level":"info","message":"Velas obtenidas: 200 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:16:32.272Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-05T05:16:32.273Z"}
{"level":"debug","message":"Predicción Kalman: 125109.56491340333 (Confianza: 0.893)","module":"KalmanFilter","timestamp":"2025-10-05T05:16:32.282Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:16:32.655Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:16:35.027Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":124844.82605246022,"middle":125117.99500000002,"upper":125391.16394753983},"ema":{"ema21":125068.39979273378,"ema50":124839.59953823652,"ema9":125083.21544503397},"macd":{"histogram":4.743767382987421,"macd":47.43767382987426,"signal":42.693906446886835},"rsi":40.44970228768406,"volume":{"avg":209.06882000000002,"current":25.826,"ratio":0.12352870217567592}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima de 40, MACD histogram es bullish y el precio actual está dentro del rango superior del Bollinger. Además, la Kalman predice una subida con confianza del 75%.","symbol":"BTCUSDT","timestamp":1759641395028}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641395030","module":"BybitClient","timestamp":"2025-10-05T05:16:35.033Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:16:35.033Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"-12.0292\",\"markPrice\":\"125073.44\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.11349475\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759641395932}","module":"BybitClient","timestamp":"2025-10-05T05:16:36.115Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:16:36.115Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641396116","module":"BybitClient","timestamp":"2025-10-05T05:16:36.116Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:16:36.116Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216299.09123152\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-12.03230353\",\"totalWalletBalance\":\"216311.12353505\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49993.47375326\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123770.8354398\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4568.720183\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37956.26913801\",\"totalPositionMM\":\"117.17364076\",\"usdValue\":\"37966.06185544\",\"unrealisedPnl\":\"-12.0292\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1647.30221315\",\"walletBalance\":\"37968.29833801\",\"cumRealisedPnl\":\"-12939.30455199\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759641396307}","module":"BybitClient","timestamp":"2025-10-05T05:16:36.494Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.17 BTCUSDT | PnL: -0.06%","module":"TradingStrategy","timestamp":"2025-10-05T05:16:36.495Z"}
{"level":"info","message":"Balance obtenido - Total: $216299.09, Disponible: $37968.30","module":"BybitClient","timestamp":"2025-10-05T05:16:36.495Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:16:37.558Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:16:37.560Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una pérdida del 0.06%, pero el RSI está en un nivel bajo (40.45), ...","module":"OllamaClient","timestamp":"2025-10-05T05:16:40.432Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una pérdida del ...","module":"TradingStrategy","timestamp":"2025-10-05T05:16:40.434Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641400436","module":"BybitClient","timestamp":"2025-10-05T05:16:40.436Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-05T05:16:40.433Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-05T05:16:40.433Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 30%)","module":"OllamaClient","timestamp":"2025-10-05T05:16:40.434Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:16:40.434Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:16:40.436Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"-15.5805\",\"markPrice\":\"125052.55\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.09573825\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759641400628}","module":"BybitClient","timestamp":"2025-10-05T05:16:40.812Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:16:40.813Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:16:40.813Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:16:40.813Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:17:32.276Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:17:32.678Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:17:32.679Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:17:32.679Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:17:40.816Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T05:17:40.817Z"}
{"level":"debug","message":"Predicción Kalman: 125017.22831633988 (Confianza: 0.892)","module":"KalmanFilter","timestamp":"2025-10-05T05:17:40.817Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:17:41.219Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:17:44.429Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":124810.8357695766,"middle":125081.39000000001,"upper":125351.94423042343},"ema":{"ema21":125057.41385332323,"ema50":124876.05232801309,"ema9":125042.03939701809},"macd":{"histogram":1.4491690132432264,"macd":14.491690132432268,"signal":13.042521119189042},"rsi":51.23554989924719,"volume":{"avg":210.07729000000003,"current":95.452,"ratio":0.454366104970223}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima de 50, MACD histogram es positivo y creciente, Bollinger superiors y medio, EMA9 cruza por encima de EMA21, Kalman predice subida con confianza del 89.2%, volumen alto y cambio reciente del -0.18% en las últimas 10 velas. Se sugieren una posición LONG con un leveraje moderado (20x) para aprovechar la tendencia actual.","symbol":"BTCUSDT","timestamp":1759641464430}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641464431","module":"BybitClient","timestamp":"2025-10-05T05:17:44.431Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:17:44.432Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"-46.614\",\"markPrice\":\"124870\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"116.94057075\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759641464627}","module":"BybitClient","timestamp":"2025-10-05T05:17:44.812Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:17:44.812Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641464813","module":"BybitClient","timestamp":"2025-10-05T05:17:44.813Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:17:44.813Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216057.96122188\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-46.62528058\",\"totalWalletBalance\":\"216104.58650247\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49992.77375293\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123571.34042633\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4562.985657\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37921.68433801\",\"totalPositionMM\":\"117.17364076\",\"usdValue\":\"37930.86138561\",\"unrealisedPnl\":\"-46.614\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1647.30221315\",\"walletBalance\":\"37968.29833801\",\"cumRealisedPnl\":\"-12939.30455199\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759641465692}","module":"BybitClient","timestamp":"2025-10-05T05:17:45.876Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.17 BTCUSDT | PnL: -0.22%","module":"TradingStrategy","timestamp":"2025-10-05T05:17:45.877Z"}
{"level":"info","message":"Balance obtenido - Total: $216057.96, Disponible: $37968.30","module":"BybitClient","timestamp":"2025-10-05T05:17:45.877Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:17:46.940Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:17:46.940Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una pérdida del 0.22%, pero no hay señales claras de reversión. La...","module":"OllamaClient","timestamp":"2025-10-05T05:17:49.437Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una pérdida del 0.22%, pero no hay señales claras de reversión. La tendenci...","module":"TradingStrategy","timestamp":"2025-10-05T05:17:49.438Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641469439","module":"BybitClient","timestamp":"2025-10-05T05:17:49.439Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:17:49.438Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:17:49.438Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:17:49.439Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"-42.993\",\"markPrice\":\"124891.3\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"116.95867575\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759641469628}","module":"BybitClient","timestamp":"2025-10-05T05:17:49.813Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:17:49.814Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:17:49.813Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:17:49.814Z"}
{"level":"info","message":"Recibida señal SIGTERM, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-05T05:18:04.433Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759641484434}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-05T05:18:04.435Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-05T05:18:04.436Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T05:18:04.872Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T05:18:04.867Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T05:18:04.881Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T05:18:04.875Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T05:18:04.876Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T05:18:04.879Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T05:18:04.879Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759641484890}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T05:18:04.885Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T05:18:04.887Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T05:18:04.887Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T05:18:04.888Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T05:18:04.889Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759641484889}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T05:18:04.889Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T05:18:04.890Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T05:18:04.890Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T05:18:04.917Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T05:18:04.917Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T05:18:04.881Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T05:18:04.881Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T05:18:04.882Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T05:18:04.882Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T05:18:04.882Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T05:18:04.882Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T05:18:04.882Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T05:18:04.882Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T05:18:04.883Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T05:18:04.883Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T05:18:04.883Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T05:18:04.918Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T05:18:04.875Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T05:18:04.885Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-05T05:18:04.942Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-05T05:18:06.082Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (1m)","module":"DataManager","timestamp":"2025-10-05T05:18:06.083Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 200","module":"BybitClient","timestamp":"2025-10-05T05:18:06.084Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-05T05:18:06.083Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:18:06.807Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-05T05:18:06.809Z"}
{"level":"info","message":"Datos suficientes recopilados para BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-05T05:18:06.810Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:18:06.815Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T05:18:06.816Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-05T05:18:06.819Z"}
{"level":"info","message":"Velas obtenidas: 200 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:18:06.808Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-05T05:18:06.810Z"}
{"level":"debug","message":"Predicción Kalman: 124971.80179708618 (Confianza: 0.892)","module":"KalmanFilter","timestamp":"2025-10-05T05:18:06.818Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:18:07.882Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:18:10.714Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":124794.12207871547,"middle":125090.05500000001,"upper":125385.98792128454},"ema":{"ema21":125037.3531638399,"ema50":124843.62451002904,"ema9":125016.14108482587},"macd":{"histogram":1.4287379280154706,"macd":14.28737928015471,"signal":12.858641352139239},"rsi":32.58021495253777,"volume":{"avg":209.64089999999996,"current":20.671,"ratio":0.09860194265527386}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is below 30 and MACD is bearish, indicating a potential sell opportunity. However, the Bollinger bands are narrow and the EMA9 is above the EMA21, which suggests that the market may be oversold and due for a bounce. The Kalman prediction also indicates a possible buy signal with a confidence level of 89.2%. Therefore, I suggest buying at this time.","symbol":"BTCUSDT","timestamp":1759641490714}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641490716","module":"BybitClient","timestamp":"2025-10-05T05:18:10.717Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:18:10.717Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"-31.314\",\"markPrice\":\"124960\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.01707075\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759641490904}","module":"BybitClient","timestamp":"2025-10-05T05:18:11.089Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:18:11.090Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641491091","module":"BybitClient","timestamp":"2025-10-05T05:18:11.091Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:18:11.091Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216151.59133691\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-31.31979309\",\"totalWalletBalance\":\"216182.91113\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49993.02375305\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123648.02268375\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4566.54222\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37936.98433801\",\"totalPositionMM\":\"117.17364076\",\"usdValue\":\"37944.00268011\",\"unrealisedPnl\":\"-31.314\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1647.30221315\",\"walletBalance\":\"37968.29833801\",\"cumRealisedPnl\":\"-12939.30455199\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759641491985}","module":"BybitClient","timestamp":"2025-10-05T05:18:12.171Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.17 BTCUSDT | PnL: -0.15%","module":"TradingStrategy","timestamp":"2025-10-05T05:18:12.172Z"}
{"level":"info","message":"Balance obtenido - Total: $216151.59, Disponible: $37968.30","module":"BybitClient","timestamp":"2025-10-05T05:18:12.172Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641492173","module":"BybitClient","timestamp":"2025-10-05T05:18:12.174Z"}
{"level":"debug","message":"Signature payload: category=linear&limit=20&orderStatus=Filled&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:18:12.174Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10004,\"retMsg\":\"error sign! origin_string[1759641492173jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20]\",\"result\":{},\"retExtInfo\":{},\"time\":1759641492360}","module":"BybitClient","timestamp":"2025-10-05T05:18:12.544Z"}
{"error":{"endpoint":"/v5/order/history","error":"Error API Bybit: error sign! origin_string[1759641492173jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)","method":"GET","params":{"category":"linear","limit":20,"orderStatus":"Filled","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T05:18:12.545Z"}
{"error":"Error: Error API Bybit: error sign! origin_string[1759641492173jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:459:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.getOrderHistory (/app/dist/exchange/bybit-client.js:328:30)\n    at async BybitClient.checkTPSLExecutions (/app/dist/exchange/bybit-client.js:345:29)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:365:39)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error obteniendo historial de órdenes:","module":"BybitClient","timestamp":"2025-10-05T05:18:12.546Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:18:12.918Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:18:12.919Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una pérdida del 0.15%, pero no hay señales claras de reversión. La...","module":"OllamaClient","timestamp":"2025-10-05T05:18:15.293Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una pérdida del 0.15%, pero no hay señales claras de reversión. La tendenci...","module":"TradingStrategy","timestamp":"2025-10-05T05:18:15.293Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641495294","module":"BybitClient","timestamp":"2025-10-05T05:18:15.294Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:18:15.293Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:18:15.293Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:18:15.294Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"-31.331\",\"markPrice\":\"124959.9\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.01698575\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759641496177}","module":"BybitClient","timestamp":"2025-10-05T05:18:16.361Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:18:16.362Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:18:16.361Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:18:16.362Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:19:06.812Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:19:07.246Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:19:07.247Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:19:07.247Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:19:16.368Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T05:19:16.368Z"}
{"level":"debug","message":"Predicción Kalman: 124996.69600840166 (Confianza: 0.892)","module":"KalmanFilter","timestamp":"2025-10-05T05:19:16.369Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:19:17.466Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:19:20.828Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":124797.13658749602,"middle":125031.15999999999,"upper":125265.18341250396},"ema":{"ema21":125027.89156350562,"ema50":124873.90991331714,"ema9":125013.8294946776},"macd":{"histogram":0.504467013708199,"macd":5.044670137081994,"signal":4.540203123373795},"rsi":53.90718700987159,"volume":{"avg":210.03767999999994,"current":2.477,"ratio":0.011793122072192002}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is at 53.91, which is slightly above the neutral zone of 50. MACD histogram is bullish and crossed above the signal line, indicating a potential buy signal. Bollinger bands are expanding, indicating high volatility and a possible breakout. EMA9 is crossing above EMA21, which is a bullish sign. Kalman predicts a price increase with 75% confidence. The current price of $125036.3 is within the Bollinger bands, indicating a potential buying opportunity.","symbol":"BTCUSDT","timestamp":1759641560829}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641560829","module":"BybitClient","timestamp":"2025-10-05T05:19:20.829Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:19:20.829Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"-18.326\",\"markPrice\":\"125036.4\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.08201075\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759641561022}","module":"BybitClient","timestamp":"2025-10-05T05:19:21.206Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:19:21.207Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641561207","module":"BybitClient","timestamp":"2025-10-05T05:19:21.207Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:19:21.207Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216240.02679301\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-18.33050819\",\"totalWalletBalance\":\"216258.3573012\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49993.1237531\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123719.2622457\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4568.332763\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37949.97233801\",\"totalPositionMM\":\"117.17364076\",\"usdValue\":\"37959.3080312\",\"unrealisedPnl\":\"-18.326\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1647.30221315\",\"walletBalance\":\"37968.29833801\",\"cumRealisedPnl\":\"-12939.30455199\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759641561399}","module":"BybitClient","timestamp":"2025-10-05T05:19:21.585Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.17 BTCUSDT | PnL: -0.09%","module":"TradingStrategy","timestamp":"2025-10-05T05:19:21.586Z"}
{"level":"info","message":"Balance obtenido - Total: $216240.03, Disponible: $37968.30","module":"BybitClient","timestamp":"2025-10-05T05:19:21.585Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641561586","module":"BybitClient","timestamp":"2025-10-05T05:19:21.586Z"}
{"level":"debug","message":"Signature payload: category=linear&limit=20&orderStatus=Filled&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:19:21.587Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10004,\"retMsg\":\"error sign! origin_string[1759641561586jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20]\",\"result\":{},\"retExtInfo\":{},\"time\":1759641561776}","module":"BybitClient","timestamp":"2025-10-05T05:19:22.003Z"}
{"error":{"endpoint":"/v5/order/history","error":"Error API Bybit: error sign! origin_string[1759641561586jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)","method":"GET","params":{"category":"linear","limit":20,"orderStatus":"Filled","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T05:19:22.003Z"}
{"error":"Error: Error API Bybit: error sign! origin_string[1759641561586jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:459:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.getOrderHistory (/app/dist/exchange/bybit-client.js:328:30)\n    at async BybitClient.checkTPSLExecutions (/app/dist/exchange/bybit-client.js:345:29)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:365:39)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error obteniendo historial de órdenes:","module":"BybitClient","timestamp":"2025-10-05T05:19:22.004Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:19:22.378Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:19:22.378Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una tendencia ALCISTA (RSI<60, MACD>0, EMA9>EMA21), aunque hay una...","module":"OllamaClient","timestamp":"2025-10-05T05:19:24.798Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una tendencia ALCISTA (RSI<60, MACD>0, EMA9>EMA21), aunque hay una señal de...","module":"TradingStrategy","timestamp":"2025-10-05T05:19:24.799Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641564800","module":"BybitClient","timestamp":"2025-10-05T05:19:24.800Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:19:24.799Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:19:24.799Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:19:24.800Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"-18.3838\",\"markPrice\":\"125036.06\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.08172175\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759641564995}","module":"BybitClient","timestamp":"2025-10-05T05:19:25.179Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:19:25.180Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:19:25.180Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:19:25.181Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:20:06.813Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:20:07.210Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:20:07.211Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:20:07.210Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:20:25.181Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T05:20:25.182Z"}
{"level":"debug","message":"Predicción Kalman: 125024.77425473381 (Confianza: 0.892)","module":"KalmanFilter","timestamp":"2025-10-05T05:20:25.182Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:20:25.590Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:20:28.161Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":124857.47595143394,"middle":125015.39499999997,"upper":125173.31404856601},"ema":{"ema21":125022.17466247398,"ema50":124898.01081687114,"ema9":125018.41139281204},"macd":{"histogram":0.4384293457114836,"macd":4.384293457114836,"signal":3.9458641114033526},"rsi":45.852973623508404,"volume":{"avg":210.54528999999985,"current":11.247,"ratio":0.05341843552995181}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima de 70, MACD es bullish y hay un cruce positivo entre EMA9 y EMA21. Además, el precio actual está dentro del rango superior del Bollinger y la confianza Kalman es alta. Se sugiere apostar a la subida.","symbol":"BTCUSDT","timestamp":1759641628162}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641628163","module":"BybitClient","timestamp":"2025-10-05T05:20:28.163Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:20:28.163Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"-10.2884\",\"markPrice\":\"125083.68\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.12219875\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759641628358}","module":"BybitClient","timestamp":"2025-10-05T05:20:28.543Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:20:28.543Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641628543","module":"BybitClient","timestamp":"2025-10-05T05:20:28.544Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:20:28.544Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216302.10627692\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-10.52198794\",\"totalWalletBalance\":\"216312.62826487\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49994.77375388\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123770.45688225\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4570.480487\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37957.77873801\",\"totalPositionMM\":\"117.17364076\",\"usdValue\":\"37966.39515378\",\"unrealisedPnl\":\"-10.5196\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1647.30221315\",\"walletBalance\":\"37968.29833801\",\"cumRealisedPnl\":\"-12939.30455199\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759641629426}","module":"BybitClient","timestamp":"2025-10-05T05:20:29.609Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.17 BTCUSDT | PnL: -0.05%","module":"TradingStrategy","timestamp":"2025-10-05T05:20:29.610Z"}
{"level":"info","message":"Balance obtenido - Total: $216302.11, Disponible: $37968.30","module":"BybitClient","timestamp":"2025-10-05T05:20:29.609Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641629610","module":"BybitClient","timestamp":"2025-10-05T05:20:29.610Z"}
{"level":"debug","message":"Signature payload: category=linear&limit=20&orderStatus=Filled&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:20:29.611Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10004,\"retMsg\":\"error sign! origin_string[1759641629610jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20]\",\"result\":{},\"retExtInfo\":{},\"time\":1759641629798}","module":"BybitClient","timestamp":"2025-10-05T05:20:29.979Z"}
{"error":{"endpoint":"/v5/order/history","error":"Error API Bybit: error sign! origin_string[1759641629610jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)","method":"GET","params":{"category":"linear","limit":20,"orderStatus":"Filled","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T05:20:29.980Z"}
{"error":"Error: Error API Bybit: error sign! origin_string[1759641629610jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:459:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.getOrderHistory (/app/dist/exchange/bybit-client.js:328:30)\n    at async BybitClient.checkTPSLExecutions (/app/dist/exchange/bybit-client.js:345:29)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:365:39)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error obteniendo historial de órdenes:","module":"BybitClient","timestamp":"2025-10-05T05:20:29.981Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:20:30.347Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:20:30.348Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una tendencia ALCISTA (RSI<60, MACD>0, EMA9>EMA21) y el PnL es sol...","module":"OllamaClient","timestamp":"2025-10-05T05:20:32.425Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una tendencia ALCISTA (RSI<60, MACD>0, EMA9>EMA21) y el PnL es solo de -0.0...","module":"TradingStrategy","timestamp":"2025-10-05T05:20:32.425Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641632426","module":"BybitClient","timestamp":"2025-10-05T05:20:32.426Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:20:32.425Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:20:32.426Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:20:32.427Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"-10.5196\",\"markPrice\":\"125082.32\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.12104275\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759641633322}","module":"BybitClient","timestamp":"2025-10-05T05:20:33.504Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:20:33.505Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:20:33.505Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:20:33.505Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:21:06.814Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:21:07.224Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:21:07.225Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:21:07.224Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:21:33.507Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T05:21:33.508Z"}
{"level":"debug","message":"Predicción Kalman: 125046.66435875367 (Confianza: 0.892)","module":"KalmanFilter","timestamp":"2025-10-05T05:21:33.511Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:21:33.921Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:21:36.561Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":124880.96236544383,"middle":125014.15499999996,"upper":125147.34763455608},"ema":{"ema21":125023.27509335292,"ema50":124917.69816903178,"ema9":125027.29445317177},"macd":{"histogram":0.7103423834996647,"macd":7.103423834996647,"signal":6.3930814514969825},"rsi":47.32646961142471,"volume":{"avg":210.81755999999987,"current":8.494,"ratio":0.04029076135782999}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima del 50, MACD histogram es positivo y creciente, Bollinger está en el superior, EMA9 cruza por encima de EMA21, Kalman predice una subida con confianza del 75%, volumen alto y cambio reciente del 0.05%","symbol":"BTCUSDT","timestamp":1759641696561}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641696561","module":"BybitClient","timestamp":"2025-10-05T05:21:36.561Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:21:36.561Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"-25.568\",\"markPrice\":\"124993.8\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.04580075\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759641696746}","module":"BybitClient","timestamp":"2025-10-05T05:21:36.931Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:21:36.931Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641696932","module":"BybitClient","timestamp":"2025-10-05T05:21:36.932Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:21:36.932Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216190.1540349\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-25.57324144\",\"totalWalletBalance\":\"216215.72727634\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49990.62375191\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123678.79231625\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4570.229369\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37942.73033801\",\"totalPositionMM\":\"117.17364076\",\"usdValue\":\"37950.50859772\",\"unrealisedPnl\":\"-25.568\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1647.30221315\",\"walletBalance\":\"37968.29833801\",\"cumRealisedPnl\":\"-12939.30455199\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759641697117}","module":"BybitClient","timestamp":"2025-10-05T05:21:37.303Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.17 BTCUSDT | PnL: -0.12%","module":"TradingStrategy","timestamp":"2025-10-05T05:21:37.304Z"}
{"level":"info","message":"Balance obtenido - Total: $216190.15, Disponible: $37968.30","module":"BybitClient","timestamp":"2025-10-05T05:21:37.304Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641697305","module":"BybitClient","timestamp":"2025-10-05T05:21:37.305Z"}
{"level":"debug","message":"Signature payload: category=linear&limit=20&orderStatus=Filled&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:21:37.305Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10004,\"retMsg\":\"error sign! origin_string[1759641697305jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20]\",\"result\":{},\"retExtInfo\":{},\"time\":1759641698197}","module":"BybitClient","timestamp":"2025-10-05T05:21:38.379Z"}
{"error":{"endpoint":"/v5/order/history","error":"Error API Bybit: error sign! origin_string[1759641697305jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)","method":"GET","params":{"category":"linear","limit":20,"orderStatus":"Filled","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T05:21:38.379Z"}
{"error":"Error: Error API Bybit: error sign! origin_string[1759641697305jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:459:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.getOrderHistory (/app/dist/exchange/bybit-client.js:328:30)\n    at async BybitClient.checkTPSLExecutions (/app/dist/exchange/bybit-client.js:345:29)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:365:39)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error obteniendo historial de órdenes:","module":"BybitClient","timestamp":"2025-10-05T05:21:38.380Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:21:39.455Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:21:39.455Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"Tienes una posición LONG saludable con pérdida moderada (0.12%). No hay señales de reversió...","module":"OllamaClient","timestamp":"2025-10-05T05:21:41.457Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: Tienes una posición LONG saludable con pérdida moderada (0.12%). No hay señales de reversión detecta...","module":"TradingStrategy","timestamp":"2025-10-05T05:21:41.457Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641701458","module":"BybitClient","timestamp":"2025-10-05T05:21:41.458Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:21:41.457Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:21:41.458Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:21:41.458Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"-27.5621\",\"markPrice\":\"124982.07\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.03583025\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759641702359}","module":"BybitClient","timestamp":"2025-10-05T05:21:42.541Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:21:42.541Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:21:42.541Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:21:42.542Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:22:06.817Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:22:07.902Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:22:07.903Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:22:07.902Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:22:42.544Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T05:22:42.544Z"}
{"level":"debug","message":"Predicción Kalman: 125025.86097384484 (Confianza: 0.893)","module":"KalmanFilter","timestamp":"2025-10-05T05:22:42.545Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:22:42.942Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:22:45.351Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":124916.51207780265,"middle":125016.69499999999,"upper":125116.87792219734},"ema":{"ema21":125024.01681849854,"ema50":124936.45548893117,"ema9":125023.939942408},"macd":{"histogram":0.40123715339868804,"macd":4.0123715339868795,"signal":3.6111343805881915},"rsi":50.72485207100612,"volume":{"avg":211.4472899999999,"current":8,"ratio":0.03783448820743933}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima del 50, MACD histogram es positivo y creciente, Bollinger está en el superior, EMA9 cruza por encima de EMA21, Kalman predice una subida con confianza del 75%","symbol":"BTCUSDT","timestamp":1759641765352}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641765352","module":"BybitClient","timestamp":"2025-10-05T05:22:45.352Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:22:45.353Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"-31.7475\",\"markPrice\":\"124957.45\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.01490325\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759641766233}","module":"BybitClient","timestamp":"2025-10-05T05:22:46.414Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:22:46.415Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641766416","module":"BybitClient","timestamp":"2025-10-05T05:22:46.416Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:22:46.416Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216155.19369048\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-31.75486542\",\"totalWalletBalance\":\"216186.9485559\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49992.62375286\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123650.29908581\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4566.918734\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37936.55083801\",\"totalPositionMM\":\"117.17364076\",\"usdValue\":\"37945.3521178\",\"unrealisedPnl\":\"-31.7475\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1647.30221315\",\"walletBalance\":\"37968.29833801\",\"cumRealisedPnl\":\"-12939.30455199\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759641767313}","module":"BybitClient","timestamp":"2025-10-05T05:22:47.498Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.17 BTCUSDT | PnL: -0.15%","module":"TradingStrategy","timestamp":"2025-10-05T05:22:47.499Z"}
{"level":"info","message":"Balance obtenido - Total: $216155.19, Disponible: $37968.30","module":"BybitClient","timestamp":"2025-10-05T05:22:47.499Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641767499","module":"BybitClient","timestamp":"2025-10-05T05:22:47.501Z"}
{"level":"debug","message":"Signature payload: category=linear&limit=20&orderStatus=Filled&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:22:47.501Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10004,\"retMsg\":\"error sign! origin_string[1759641767499jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20]\",\"result\":{},\"retExtInfo\":{},\"time\":1759641768377}","module":"BybitClient","timestamp":"2025-10-05T05:22:48.561Z"}
{"error":{"endpoint":"/v5/order/history","error":"Error API Bybit: error sign! origin_string[1759641767499jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)","method":"GET","params":{"category":"linear","limit":20,"orderStatus":"Filled","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T05:22:48.561Z"}
{"error":"Error: Error API Bybit: error sign! origin_string[1759641767499jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:459:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.getOrderHistory (/app/dist/exchange/bybit-client.js:328:30)\n    at async BybitClient.checkTPSLExecutions (/app/dist/exchange/bybit-client.js:345:29)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:365:39)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error obteniendo historial de órdenes:","module":"BybitClient","timestamp":"2025-10-05T05:22:48.562Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:22:48.932Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:22:48.932Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una pérdida del 0.15%, pero todavía estamos dentro de la tendencia...","module":"OllamaClient","timestamp":"2025-10-05T05:22:51.144Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una pérdida del 0.15%, pero todavía estamos dentro de la tendencia alcista ...","module":"TradingStrategy","timestamp":"2025-10-05T05:22:51.144Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641771145","module":"BybitClient","timestamp":"2025-10-05T05:22:51.145Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:22:51.144Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:22:51.144Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:22:51.145Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"-31.11\",\"markPrice\":\"124961.2\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.01809075\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759641771332}","module":"BybitClient","timestamp":"2025-10-05T05:22:51.517Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:22:51.518Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:22:51.517Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:22:51.518Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:23:06.818Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:23:07.224Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:23:07.225Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:23:07.225Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:23:51.522Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T05:23:51.522Z"}
{"level":"debug","message":"Predicción Kalman: 125001.68022052904 (Confianza: 0.891)","module":"KalmanFilter","timestamp":"2025-10-05T05:23:51.523Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:23:51.915Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:23:54.622Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":124929.48641124656,"middle":125017.24500000002,"upper":125105.00358875349},"ema":{"ema21":125019.21870933581,"ema50":124955.20793829099,"ema9":125012.02652836847},"macd":{"histogram":-0.23952504273620434,"macd":-2.3952504273620434,"signal":-2.155725384625839},"rsi":56.752506388835265,"volume":{"avg":211.94130999999987,"current":2.755,"ratio":0.01299888162435158}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima del 50, MACD tiene una línea negativa y el histograma es positivo. Además, el precio actual está por encima de los EMAs de 9, 21 y 50. Kalman también predice una subida con una confianza del 89%","symbol":"BTCUSDT","timestamp":1759641834622}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641834623","module":"BybitClient","timestamp":"2025-10-05T05:23:54.623Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:23:54.623Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"-28.6892\",\"markPrice\":\"124975.44\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.03019475\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759641834815}","module":"BybitClient","timestamp":"2025-10-05T05:23:54.997Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:23:54.998Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641834998","module":"BybitClient","timestamp":"2025-10-05T05:23:54.998Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:23:54.999Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216185.07806175\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-28.69611409\",\"totalWalletBalance\":\"216213.77417585\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49994.47375374\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123672.98023819\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4568.871486\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37939.60913801\",\"totalPositionMM\":\"117.17364076\",\"usdValue\":\"37948.75258381\",\"unrealisedPnl\":\"-28.6892\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1647.30221315\",\"walletBalance\":\"37968.29833801\",\"cumRealisedPnl\":\"-12939.30455199\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759641835184}","module":"BybitClient","timestamp":"2025-10-05T05:23:55.368Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.17 BTCUSDT | PnL: -0.13%","module":"TradingStrategy","timestamp":"2025-10-05T05:23:55.369Z"}
{"level":"info","message":"Balance obtenido - Total: $216185.08, Disponible: $37968.30","module":"BybitClient","timestamp":"2025-10-05T05:23:55.369Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641835369","module":"BybitClient","timestamp":"2025-10-05T05:23:55.370Z"}
{"level":"debug","message":"Signature payload: category=linear&limit=20&orderStatus=Filled&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:23:55.370Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10004,\"retMsg\":\"error sign! origin_string[1759641835369jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20]\",\"result\":{},\"retExtInfo\":{},\"time\":1759641835551}","module":"BybitClient","timestamp":"2025-10-05T05:23:55.735Z"}
{"error":{"endpoint":"/v5/order/history","error":"Error API Bybit: error sign! origin_string[1759641835369jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)","method":"GET","params":{"category":"linear","limit":20,"orderStatus":"Filled","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T05:23:55.735Z"}
{"error":"Error: Error API Bybit: error sign! origin_string[1759641835369jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:459:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.getOrderHistory (/app/dist/exchange/bybit-client.js:328:30)\n    at async BybitClient.checkTPSLExecutions (/app/dist/exchange/bybit-client.js:345:29)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:365:39)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error obteniendo historial de órdenes:","module":"BybitClient","timestamp":"2025-10-05T05:23:55.736Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:23:56.105Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:23:56.106Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una pérdida del 0.13%, pero no hay señales claras de reversión. La...","module":"OllamaClient","timestamp":"2025-10-05T05:23:58.855Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una pérdida del 0.13%, pero no hay señales claras de reversión. La tendenci...","module":"TradingStrategy","timestamp":"2025-10-05T05:23:58.856Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641838857","module":"BybitClient","timestamp":"2025-10-05T05:23:58.857Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:23:58.856Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:23:58.857Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:23:58.857Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"-25.245\",\"markPrice\":\"124995.7\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.04741575\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759641839049}","module":"BybitClient","timestamp":"2025-10-05T05:23:59.233Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:23:59.234Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:23:59.233Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:23:59.234Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:24:06.820Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:24:07.913Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:24:07.914Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:24:07.914Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:24:59.239Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T05:24:59.240Z"}
{"level":"debug","message":"Predicción Kalman: 125013.8089996583 (Confianza: 0.892)","module":"KalmanFilter","timestamp":"2025-10-05T05:24:59.240Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:25:00.381Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:25:02.749Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":124944.4576127433,"middle":125021.43000000002,"upper":125098.40238725675},"ema":{"ema21":125020.78875776059,"ema50":124964.15200695195,"ema9":125019.86917278686},"macd":{"histogram":0.05123888288217132,"macd":0.5123888288217131,"signal":0.4611499459395418},"rsi":52.13335636552053,"volume":{"avg":212.6530799999999,"current":2.77,"ratio":0.01302591055817297}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima de 50, MACD histogram es positivo y creciente, Bollinger Bandas están en el inferior, EMAs están en el superior, Kalman predice subida con confianza del 75%","symbol":"BTCUSDT","timestamp":1759641902749}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641902750","module":"BybitClient","timestamp":"2025-10-05T05:25:02.750Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:25:02.750Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"2.329\",\"markPrice\":\"125157.9\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.18528575\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759641902937}","module":"BybitClient","timestamp":"2025-10-05T05:25:03.121Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:25:03.121Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641903122","module":"BybitClient","timestamp":"2025-10-05T05:25:03.122Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:25:03.122Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216375.75676983\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"2.32942853\",\"totalWalletBalance\":\"216373.4273413\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49989.62375143\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123835.02557196\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4573.493513\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37970.62733801\",\"totalPositionMM\":\"117.17364076\",\"usdValue\":\"37977.61393344\",\"unrealisedPnl\":\"2.329\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1647.30221315\",\"walletBalance\":\"37968.29833801\",\"cumRealisedPnl\":\"-12939.30455199\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759641904001}","module":"BybitClient","timestamp":"2025-10-05T05:25:04.185Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.17 BTCUSDT | PnL: 0.01%","module":"TradingStrategy","timestamp":"2025-10-05T05:25:04.185Z"}
{"level":"info","message":"Balance obtenido - Total: $216375.76, Disponible: $37968.30","module":"BybitClient","timestamp":"2025-10-05T05:25:04.185Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641904186","module":"BybitClient","timestamp":"2025-10-05T05:25:04.186Z"}
{"level":"debug","message":"Signature payload: category=linear&limit=20&orderStatus=Filled&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:25:04.186Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10004,\"retMsg\":\"error sign! origin_string[1759641904186jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20]\",\"result\":{},\"retExtInfo\":{},\"time\":1759641904375}","module":"BybitClient","timestamp":"2025-10-05T05:25:04.559Z"}
{"error":{"endpoint":"/v5/order/history","error":"Error API Bybit: error sign! origin_string[1759641904186jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)","method":"GET","params":{"category":"linear","limit":20,"orderStatus":"Filled","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T05:25:04.560Z"}
{"error":"Error: Error API Bybit: error sign! origin_string[1759641904186jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:459:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.getOrderHistory (/app/dist/exchange/bybit-client.js:328:30)\n    at async BybitClient.checkTPSLExecutions (/app/dist/exchange/bybit-client.js:345:29)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:365:39)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error obteniendo historial de órdenes:","module":"BybitClient","timestamp":"2025-10-05T05:25:04.560Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:25:04.926Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:25:04.926Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:25:06.823Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:25:07.193Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:25:07.194Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:25:07.194Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una ganancia del 0.01% y la tendencia es alçista según los indicad...","module":"OllamaClient","timestamp":"2025-10-05T05:25:07.237Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una ganancia del 0.01% y la tendencia es alçista según los indicadores técn...","module":"TradingStrategy","timestamp":"2025-10-05T05:25:07.238Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641907239","module":"BybitClient","timestamp":"2025-10-05T05:25:07.239Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:25:07.238Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:25:07.238Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:25:07.239Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"2.329\",\"markPrice\":\"125157.9\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.18528575\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759641907432}","module":"BybitClient","timestamp":"2025-10-05T05:25:07.614Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:25:07.615Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:25:07.615Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:25:07.616Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:26:06.825Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:26:07.264Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:26:07.265Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:26:07.265Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:26:07.617Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0590","module":"KalmanFilter","timestamp":"2025-10-05T05:26:07.618Z"}
{"level":"debug","message":"Predicción Kalman: 125171.90058406947 (Confianza: 0.876)","module":"KalmanFilter","timestamp":"2025-10-05T05:26:07.618Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:26:07.994Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:26:10.738Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":124884.68589558537,"middle":125056.975,"upper":125229.26410441464},"ema":{"ema21":125078.57654195826,"ema50":125011.69236670202,"ema9":125128.79977868726},"macd":{"histogram":4.095811959561253,"macd":40.958119595612516,"signal":36.86230763605126},"rsi":59.648751586965,"volume":{"avg":218.1073599999999,"current":127.431,"ratio":0.5842581378271694}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima de 59, MACD histogram es bullish y Bollinger band superior, indicando una posible subida. Además, Kalman predice una subida con confianza del 71.7%. Sugiero apostar a la subida con un leverage moderado (20x) y un riesgo bajo (low).","symbol":"BTCUSDT","timestamp":1759641970738}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641970739","module":"BybitClient","timestamp":"2025-10-05T05:26:10.739Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:26:10.739Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"20.8811\",\"markPrice\":\"125267.03\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.27804625\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759641970928}","module":"BybitClient","timestamp":"2025-10-05T05:26:11.111Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:26:11.112Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641971112","module":"BybitClient","timestamp":"2025-10-05T05:26:11.113Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:26:11.113Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216510.95424748\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"20.88456626\",\"totalWalletBalance\":\"216490.06968122\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49992.47375279\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123945.8129079\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4577.181945\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37989.17943801\",\"totalPositionMM\":\"117.17364076\",\"usdValue\":\"37995.48564179\",\"unrealisedPnl\":\"20.8811\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1647.30221315\",\"walletBalance\":\"37968.29833801\",\"cumRealisedPnl\":\"-12939.30455199\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759641971301}","module":"BybitClient","timestamp":"2025-10-05T05:26:11.486Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.17 BTCUSDT | PnL: 0.10%","module":"TradingStrategy","timestamp":"2025-10-05T05:26:11.487Z"}
{"level":"info","message":"Balance obtenido - Total: $216510.95, Disponible: $37968.30","module":"BybitClient","timestamp":"2025-10-05T05:26:11.487Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641971487","module":"BybitClient","timestamp":"2025-10-05T05:26:11.487Z"}
{"level":"debug","message":"Signature payload: category=linear&limit=20&orderStatus=Filled&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:26:11.488Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10004,\"retMsg\":\"error sign! origin_string[1759641971487jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20]\",\"result\":{},\"retExtInfo\":{},\"time\":1759641971670}","module":"BybitClient","timestamp":"2025-10-05T05:26:11.852Z"}
{"error":{"endpoint":"/v5/order/history","error":"Error API Bybit: error sign! origin_string[1759641971487jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)","method":"GET","params":{"category":"linear","limit":20,"orderStatus":"Filled","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T05:26:11.853Z"}
{"error":"Error: Error API Bybit: error sign! origin_string[1759641971487jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:459:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.getOrderHistory (/app/dist/exchange/bybit-client.js:328:30)\n    at async BybitClient.checkTPSLExecutions (/app/dist/exchange/bybit-client.js:345:29)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:365:39)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error obteniendo historial de órdenes:","module":"BybitClient","timestamp":"2025-10-05T05:26:11.853Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:26:12.217Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:26:12.218Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una tendencia alcista (RSI < 60, MACD > 0, EMA9 > EMA21), y no hay...","module":"OllamaClient","timestamp":"2025-10-05T05:26:14.526Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una tendencia alcista (RSI < 60, MACD > 0, EMA9 > EMA21), y no hay señales ...","module":"TradingStrategy","timestamp":"2025-10-05T05:26:14.527Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759641974527","module":"BybitClient","timestamp":"2025-10-05T05:26:14.527Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:26:14.526Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:26:14.527Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:26:14.527Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"18.7153\",\"markPrice\":\"125254.29\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.26721725\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759641975416}","module":"BybitClient","timestamp":"2025-10-05T05:26:15.604Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:26:15.604Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:26:15.604Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:26:15.605Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:27:06.826Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:27:07.925Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:27:07.926Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:27:07.926Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:27:15.607Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0729","module":"KalmanFilter","timestamp":"2025-10-05T05:27:15.608Z"}
{"level":"debug","message":"Predicción Kalman: 125194.6733870329 (Confianza: 0.867)","module":"KalmanFilter","timestamp":"2025-10-05T05:27:15.609Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:27:16.013Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:27:18.571Z"}
{"confidence":0.75,"decision":"BUY","indicators":{"bollinger":{"lower":124894.37682600415,"middle":125096.08,"upper":125297.78317399585},"ema":{"ema21":125116.90990125129,"ema50":125041.6916441767,"ema9":125169.18805548166},"macd":{"histogram":4.872122673559353,"macd":48.72122673559352,"signal":43.849104062034165},"rsi":57.30499879256191,"volume":{"avg":224.10106999999988,"current":111.23,"ratio":0.4963385493875601}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is above 50, MACD histogram is bullish, Bollinger bands are expanding and the price is above the upper band. These indicators suggest a potential upward movement in the near term. Additionally, Kalman forecast predicts a price increase with high confidence (86.7%).","symbol":"BTCUSDT","timestamp":1759642038571}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642038572","module":"BybitClient","timestamp":"2025-10-05T05:27:18.572Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:27:18.573Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"11.832\",\"markPrice\":\"125213.8\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.23280075\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759642039460}","module":"BybitClient","timestamp":"2025-10-05T05:27:19.648Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:27:19.650Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642039650","module":"BybitClient","timestamp":"2025-10-05T05:27:19.651Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:27:19.651Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216451.35543341\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"11.8349225\",\"totalWalletBalance\":\"216439.5205109\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49990.823752\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123896.72467519\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4574.295576\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37980.13033801\",\"totalPositionMM\":\"117.17364076\",\"usdValue\":\"37989.5114302\",\"unrealisedPnl\":\"11.832\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1647.30221315\",\"walletBalance\":\"37968.29833801\",\"cumRealisedPnl\":\"-12939.30455199\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759642039837}","module":"BybitClient","timestamp":"2025-10-05T05:27:20.026Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.17 BTCUSDT | PnL: 0.06%","module":"TradingStrategy","timestamp":"2025-10-05T05:27:20.027Z"}
{"level":"info","message":"Balance obtenido - Total: $216451.36, Disponible: $37968.30","module":"BybitClient","timestamp":"2025-10-05T05:27:20.027Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642040027","module":"BybitClient","timestamp":"2025-10-05T05:27:20.028Z"}
{"level":"debug","message":"Signature payload: category=linear&limit=20&orderStatus=Filled&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:27:20.028Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10004,\"retMsg\":\"error sign! origin_string[1759642040027jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20]\",\"result\":{},\"retExtInfo\":{},\"time\":1759642040210}","module":"BybitClient","timestamp":"2025-10-05T05:27:20.394Z"}
{"error":{"endpoint":"/v5/order/history","error":"Error API Bybit: error sign! origin_string[1759642040027jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)","method":"GET","params":{"category":"linear","limit":20,"orderStatus":"Filled","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T05:27:20.395Z"}
{"error":"Error: Error API Bybit: error sign! origin_string[1759642040027jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:459:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.getOrderHistory (/app/dist/exchange/bybit-client.js:328:30)\n    at async BybitClient.checkTPSLExecutions (/app/dist/exchange/bybit-client.js:345:29)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:365:39)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error obteniendo historial de órdenes:","module":"BybitClient","timestamp":"2025-10-05T05:27:20.396Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:27:20.764Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:27:20.765Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual es saludable con una ganancia del 0.06% y sin señales de reversión. Mant...","module":"OllamaClient","timestamp":"2025-10-05T05:27:22.425Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual es saludable con una ganancia del 0.06% y sin señales de reversión. Mantener la p...","module":"TradingStrategy","timestamp":"2025-10-05T05:27:22.425Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642042425","module":"BybitClient","timestamp":"2025-10-05T05:27:22.425Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:27:22.425Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:27:22.426Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:27:22.425Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"19.21\",\"markPrice\":\"125257.2\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.26969075\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759642043304}","module":"BybitClient","timestamp":"2025-10-05T05:27:23.489Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:27:23.489Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:27:23.489Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:27:23.490Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:28:06.828Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:28:07.235Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:28:07.236Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:28:07.236Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:28:23.493Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0902","module":"KalmanFilter","timestamp":"2025-10-05T05:28:23.494Z"}
{"level":"debug","message":"Predicción Kalman: 125239.54648209934 (Confianza: 0.861)","module":"KalmanFilter","timestamp":"2025-10-05T05:28:23.495Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:28:23.894Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:28:27.131Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":124933.93057812577,"middle":125151.53,"upper":125369.12942187423},"ema":{"ema21":125168.00987061475,"ema50":125079.3927475104,"ema9":125229.7894620184},"macd":{"histogram":6.055187018055584,"macd":60.55187018055585,"signal":54.49668316250027},"rsi":65.36147454875284,"volume":{"avg":231.13391999999982,"current":36.208,"ratio":0.1566537702471365}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is at 65, which is considered high and could indicate a potential short opportunity. However, MACD histogram is bullish and EMA9 is crossing above EMA21, which are both bullish signs. Additionally, Bollinger bands are expanding and the volume is high, indicating a strong buying pressure. Kalman forecast also suggests a slight increase in price. Given these factors, it seems more likely that the price will continue to rise than fall, so I suggest going long.","symbol":"BTCUSDT","timestamp":1759642107131}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642107132","module":"BybitClient","timestamp":"2025-10-05T05:28:27.132Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:28:27.133Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"28.169\",\"markPrice\":\"125309.9\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.31448575\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759642107320}","module":"BybitClient","timestamp":"2025-10-05T05:28:27.506Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:28:27.507Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642107507","module":"BybitClient","timestamp":"2025-10-05T05:28:27.507Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:28:27.507Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216566.4496284\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"28.17460563\",\"totalWalletBalance\":\"216538.27502277\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49992.52375281\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123993.43643357\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4576.460807\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37996.46733801\",\"totalPositionMM\":\"117.17364076\",\"usdValue\":\"38004.02863501\",\"unrealisedPnl\":\"28.169\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1647.30221315\",\"walletBalance\":\"37968.29833801\",\"cumRealisedPnl\":\"-12939.30455199\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759642107692}","module":"BybitClient","timestamp":"2025-10-05T05:28:27.876Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.17 BTCUSDT | PnL: 0.13%","module":"TradingStrategy","timestamp":"2025-10-05T05:28:27.876Z"}
{"level":"info","message":"Balance obtenido - Total: $216566.45, Disponible: $37968.30","module":"BybitClient","timestamp":"2025-10-05T05:28:27.876Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642107877","module":"BybitClient","timestamp":"2025-10-05T05:28:27.877Z"}
{"level":"debug","message":"Signature payload: category=linear&limit=20&orderStatus=Filled&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:28:27.877Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10004,\"retMsg\":\"error sign! origin_string[1759642107877jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20]\",\"result\":{},\"retExtInfo\":{},\"time\":1759642108058}","module":"BybitClient","timestamp":"2025-10-05T05:28:28.239Z"}
{"error":{"endpoint":"/v5/order/history","error":"Error API Bybit: error sign! origin_string[1759642107877jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)","method":"GET","params":{"category":"linear","limit":20,"orderStatus":"Filled","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T05:28:28.240Z"}
{"error":"Error: Error API Bybit: error sign! origin_string[1759642107877jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:459:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.getOrderHistory (/app/dist/exchange/bybit-client.js:328:30)\n    at async BybitClient.checkTPSLExecutions (/app/dist/exchange/bybit-client.js:345:29)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:365:39)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error obteniendo historial de órdenes:","module":"BybitClient","timestamp":"2025-10-05T05:28:28.241Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:28:29.303Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:28:29.303Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"Tienes una posición LONG con ganancia de 0.13%. Sin señales de reversión detectadas y con i...","module":"OllamaClient","timestamp":"2025-10-05T05:28:31.753Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: Tienes una posición LONG con ganancia de 0.13%. Sin señales de reversión detectadas y con indicadore...","module":"TradingStrategy","timestamp":"2025-10-05T05:28:31.753Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642111754","module":"BybitClient","timestamp":"2025-10-05T05:28:31.754Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:28:31.753Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:28:31.754Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:28:31.754Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"29.325\",\"markPrice\":\"125316.7\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.32026575\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759642111945}","module":"BybitClient","timestamp":"2025-10-05T05:28:32.134Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:28:32.134Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:28:32.134Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:28:32.135Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:29:06.830Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:29:07.942Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:29:07.943Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:29:07.943Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:29:32.137Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0858","module":"KalmanFilter","timestamp":"2025-10-05T05:29:32.137Z"}
{"level":"debug","message":"Predicción Kalman: 125274.21905637962 (Confianza: 0.868)","module":"KalmanFilter","timestamp":"2025-10-05T05:29:32.138Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:29:32.537Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:29:35.387Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":125007.92557926761,"middle":125207.31500000002,"upper":125406.70442073242},"ema":{"ema21":125213.80134012268,"ema50":125117.31984988107,"ema9":125272.76416291612},"macd":{"histogram":6.220336790363945,"macd":62.203367903639446,"signal":55.9830311132755},"rsi":72.66748241052265,"volume":{"avg":238.7216199999999,"current":3.075,"ratio":0.012881112318188866}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está sobrecompra (72.67) y MACD es bullish (6.220337). Además, el precio actual está dentro del rango de Bollinger superior (125406.70 - 125207.32). Kalman predice una subida con confianza del 86.8%","symbol":"BTCUSDT","timestamp":1759642175387}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642175388","module":"BybitClient","timestamp":"2025-10-05T05:29:35.388Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:29:35.388Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"30.3433\",\"markPrice\":\"125322.69\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.32535725\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759642175575}","module":"BybitClient","timestamp":"2025-10-05T05:29:35.757Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:29:35.757Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642175757","module":"BybitClient","timestamp":"2025-10-05T05:29:35.758Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:29:35.758Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216562.24680115\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"28.8220599\",\"totalWalletBalance\":\"216533.42474125\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49989.47375136\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123991.20301938\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4577.387529\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37997.11503801\",\"totalPositionMM\":\"117.17364076\",\"usdValue\":\"38004.1825014\",\"unrealisedPnl\":\"28.8167\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1647.30221315\",\"walletBalance\":\"37968.29833801\",\"cumRealisedPnl\":\"-12939.30455199\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759642176637}","module":"BybitClient","timestamp":"2025-10-05T05:29:36.822Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.17 BTCUSDT | PnL: 0.14%","module":"TradingStrategy","timestamp":"2025-10-05T05:29:36.823Z"}
{"level":"info","message":"Balance obtenido - Total: $216562.25, Disponible: $37968.30","module":"BybitClient","timestamp":"2025-10-05T05:29:36.822Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642176823","module":"BybitClient","timestamp":"2025-10-05T05:29:36.823Z"}
{"level":"debug","message":"Signature payload: category=linear&limit=20&orderStatus=Filled&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:29:36.824Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10004,\"retMsg\":\"error sign! origin_string[1759642176823jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20]\",\"result\":{},\"retExtInfo\":{},\"time\":1759642177005}","module":"BybitClient","timestamp":"2025-10-05T05:29:37.191Z"}
{"error":{"endpoint":"/v5/order/history","error":"Error API Bybit: error sign! origin_string[1759642176823jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)","method":"GET","params":{"category":"linear","limit":20,"orderStatus":"Filled","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T05:29:37.192Z"}
{"error":"Error: Error API Bybit: error sign! origin_string[1759642176823jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:459:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.getOrderHistory (/app/dist/exchange/bybit-client.js:328:30)\n    at async BybitClient.checkTPSLExecutions (/app/dist/exchange/bybit-client.js:345:29)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:365:39)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error obteniendo historial de órdenes:","module":"BybitClient","timestamp":"2025-10-05T05:29:37.192Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:29:37.559Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:29:37.559Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una ganancia del 0.14%, con indicadores técnicos bajistas (RSI sob...","module":"OllamaClient","timestamp":"2025-10-05T05:29:39.432Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una ganancia del 0.14%, con indicadores técnicos bajistas (RSI sobrecomprad...","module":"TradingStrategy","timestamp":"2025-10-05T05:29:39.433Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642179434","module":"BybitClient","timestamp":"2025-10-05T05:29:39.434Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:29:39.433Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:29:39.433Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:29:39.434Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"28.8167\",\"markPrice\":\"125313.71\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.31772425\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759642179621}","module":"BybitClient","timestamp":"2025-10-05T05:29:39.810Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:29:39.811Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:29:39.810Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:29:39.811Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:30:06.832Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:30:07.932Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:30:07.933Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:30:07.932Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:30:39.815Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0750","module":"KalmanFilter","timestamp":"2025-10-05T05:30:39.816Z"}
{"level":"debug","message":"Predicción Kalman: 125307.15110847134 (Confianza: 0.876)","module":"KalmanFilter","timestamp":"2025-10-05T05:30:39.816Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:30:40.217Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:30:42.722Z"}
{"confidence":0.75,"decision":"BUY","indicators":{"bollinger":{"lower":125101.5743124745,"middle":125251.66,"upper":125401.7456875255},"ema":{"ema21":125249.69084744921,"ema50":125154.85697032764,"ema9":125300.0296009274},"macd":{"histogram":5.687088634379322,"macd":56.870886343793245,"signal":51.18379770941392},"rsi":68.58513189448355,"volume":{"avg":238.29433999999995,"current":5.599,"ratio":0.023496151859922487}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is above 68, MACD histogram is bullish and the recent price action is upward trending. Bollinger bands are also expanding, indicating high volatility. Kalman predicts a price increase with high confidence. Signals for a long position are present.","symbol":"BTCUSDT","timestamp":1759642242723}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642242723","module":"BybitClient","timestamp":"2025-10-05T05:30:42.723Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:30:42.723Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"25.9624\",\"markPrice\":\"125296.92\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.30345275\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759642243604}","module":"BybitClient","timestamp":"2025-10-05T05:30:43.787Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:30:43.788Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642243788","module":"BybitClient","timestamp":"2025-10-05T05:30:43.788Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:30:43.788Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216549.00932162\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"25.96712515\",\"totalWalletBalance\":\"216523.04219646\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49991.22375219\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123980.15772595\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4576.45215\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37994.26073801\",\"totalPositionMM\":\"117.17364076\",\"usdValue\":\"38001.17569346\",\"unrealisedPnl\":\"25.9624\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1647.30221315\",\"walletBalance\":\"37968.29833801\",\"cumRealisedPnl\":\"-12939.30455199\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759642243976}","module":"BybitClient","timestamp":"2025-10-05T05:30:44.163Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.17 BTCUSDT | PnL: 0.12%","module":"TradingStrategy","timestamp":"2025-10-05T05:30:44.164Z"}
{"level":"info","message":"Balance obtenido - Total: $216549.01, Disponible: $37968.30","module":"BybitClient","timestamp":"2025-10-05T05:30:44.163Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642244164","module":"BybitClient","timestamp":"2025-10-05T05:30:44.164Z"}
{"level":"debug","message":"Signature payload: category=linear&limit=20&orderStatus=Filled&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:30:44.164Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10004,\"retMsg\":\"error sign! origin_string[1759642244164jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20]\",\"result\":{},\"retExtInfo\":{},\"time\":1759642244346}","module":"BybitClient","timestamp":"2025-10-05T05:30:44.530Z"}
{"error":{"endpoint":"/v5/order/history","error":"Error API Bybit: error sign! origin_string[1759642244164jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)","method":"GET","params":{"category":"linear","limit":20,"orderStatus":"Filled","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T05:30:44.530Z"}
{"error":"Error: Error API Bybit: error sign! origin_string[1759642244164jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:459:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.getOrderHistory (/app/dist/exchange/bybit-client.js:328:30)\n    at async BybitClient.checkTPSLExecutions (/app/dist/exchange/bybit-client.js:345:29)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:365:39)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error obteniendo historial de órdenes:","module":"BybitClient","timestamp":"2025-10-05T05:30:44.531Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:30:44.897Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:30:44.897Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una tendencia alcista (RSI>60, MACD>0, EMA9>EMA21), y no hay señal...","module":"OllamaClient","timestamp":"2025-10-05T05:30:47.330Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una tendencia alcista (RSI>60, MACD>0, EMA9>EMA21), y no hay señales de rev...","module":"TradingStrategy","timestamp":"2025-10-05T05:30:47.331Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642247331","module":"BybitClient","timestamp":"2025-10-05T05:30:47.331Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:30:47.330Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:30:47.331Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:30:47.332Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"25.9624\",\"markPrice\":\"125296.92\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.30345275\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759642247520}","module":"BybitClient","timestamp":"2025-10-05T05:30:47.704Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:30:47.705Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:30:47.705Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:30:47.706Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:31:06.832Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:31:07.239Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:31:07.240Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:31:07.240Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:31:47.713Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0600","module":"KalmanFilter","timestamp":"2025-10-05T05:31:47.714Z"}
{"level":"debug","message":"Predicción Kalman: 125330.99841211895 (Confianza: 0.911)","module":"KalmanFilter","timestamp":"2025-10-05T05:31:47.714Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:31:48.173Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:31:51.120Z"}
{"confidence":0.75,"decision":"BUY","indicators":{"bollinger":{"lower":125194.84894778646,"middle":125290.6,"upper":125386.35105221355},"ema":{"ema21":125280.06598450425,"ema50":125187.43320948098,"ema9":125322.07817963533},"macd":{"histogram":5.022480890697622,"macd":50.22480890697625,"signal":45.20232801627863},"rsi":63.47705146035972,"volume":{"avg":239.92461000000003,"current":6.419,"ratio":0.026754237508190587}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está en un nivel alto (63.48) y MACD tiene un histograma positivo y creciente, indicando una posible subida. Además, el precio actual está por encima del Bollinger superior y el EMA9 cruza por encima del EMA21, lo que sugiere una tendencia alcista. Confianza del modelo de Kalman es del 74.7%","symbol":"BTCUSDT","timestamp":1759642311120}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642311121","module":"BybitClient","timestamp":"2025-10-05T05:31:51.121Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:31:51.121Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"27.2901\",\"markPrice\":\"125304.73\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.31009125\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759642312000}","module":"BybitClient","timestamp":"2025-10-05T05:31:52.183Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:31:52.184Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642312184","module":"BybitClient","timestamp":"2025-10-05T05:31:52.184Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:31:52.184Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216558.87311147\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"27.29528511\",\"totalWalletBalance\":\"216531.57782635\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49990.32375177\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123989.39400289\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4576.347757\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37995.58843801\",\"totalPositionMM\":\"117.17364076\",\"usdValue\":\"38002.80759981\",\"unrealisedPnl\":\"27.2901\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1647.30221315\",\"walletBalance\":\"37968.29833801\",\"cumRealisedPnl\":\"-12939.30455199\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759642312369}","module":"BybitClient","timestamp":"2025-10-05T05:31:52.551Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.17 BTCUSDT | PnL: 0.13%","module":"TradingStrategy","timestamp":"2025-10-05T05:31:52.552Z"}
{"level":"info","message":"Balance obtenido - Total: $216558.87, Disponible: $37968.30","module":"BybitClient","timestamp":"2025-10-05T05:31:52.551Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642312552","module":"BybitClient","timestamp":"2025-10-05T05:31:52.552Z"}
{"level":"debug","message":"Signature payload: category=linear&limit=20&orderStatus=Filled&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:31:52.552Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10004,\"retMsg\":\"error sign! origin_string[1759642312552jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20]\",\"result\":{},\"retExtInfo\":{},\"time\":1759642313430}","module":"BybitClient","timestamp":"2025-10-05T05:31:53.612Z"}
{"error":{"endpoint":"/v5/order/history","error":"Error API Bybit: error sign! origin_string[1759642312552jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)","method":"GET","params":{"category":"linear","limit":20,"orderStatus":"Filled","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T05:31:53.613Z"}
{"error":"Error: Error API Bybit: error sign! origin_string[1759642312552jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:459:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.getOrderHistory (/app/dist/exchange/bybit-client.js:328:30)\n    at async BybitClient.checkTPSLExecutions (/app/dist/exchange/bybit-client.js:345:29)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:365:39)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error obteniendo historial de órdenes:","module":"BybitClient","timestamp":"2025-10-05T05:31:53.613Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:31:53.977Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:31:53.977Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.9,\n  \"reasoning\": \"La posición actual tiene una tendencia alcista y no hay señales de reversión. Mantener la p...","module":"OllamaClient","timestamp":"2025-10-05T05:31:56.157Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una tendencia alcista y no hay señales de reversión. Mantener la posición p...","module":"TradingStrategy","timestamp":"2025-10-05T05:31:56.158Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642316158","module":"BybitClient","timestamp":"2025-10-05T05:31:56.158Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 90%)","module":"OllamaClient","timestamp":"2025-10-05T05:31:56.157Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:31:56.158Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:31:56.158Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"25.2161\",\"markPrice\":\"125292.53\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.29972125\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759642316347}","module":"BybitClient","timestamp":"2025-10-05T05:31:56.530Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:31:56.530Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:31:56.530Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:31:56.531Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:32:06.835Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:32:07.236Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:32:07.237Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:32:07.237Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:32:56.532Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0626","module":"KalmanFilter","timestamp":"2025-10-05T05:32:56.533Z"}
{"level":"debug","message":"Predicción Kalman: 125315.59045120802 (Confianza: 0.851)","module":"KalmanFilter","timestamp":"2025-10-05T05:32:56.533Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:32:57.687Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:33:00.243Z"}
{"confidence":0.85,"decision":"BUY","indicators":{"bollinger":{"lower":125246.89648990874,"middle":125308.71999999997,"upper":125370.5435100912},"ema":{"ema21":125294.049310842,"ema50":125226.92267995572,"ema9":125317.3605939874},"macd":{"histogram":3.4291738292158698,"macd":34.2917382921587,"signal":30.862564462942828},"rsi":59.51283739302212,"volume":{"avg":145.99670999999992,"current":4.916,"ratio":0.03367199164967487}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is above 50, MACD histogram is bullish and crossed above 0, Bollinger bands are wide and the price is inside the upper band, EMA9 crossed above EMA21 and EMA50, Kalman prediction is bullish with high confidence (85.1%)","symbol":"BTCUSDT","timestamp":1759642380243}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642380244","module":"BybitClient","timestamp":"2025-10-05T05:33:00.244Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:33:00.244Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"26.197\",\"markPrice\":\"125298.3\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.30462575\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759642381124}","module":"BybitClient","timestamp":"2025-10-05T05:33:01.308Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:33:01.308Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642381308","module":"BybitClient","timestamp":"2025-10-05T05:33:01.308Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:33:01.309Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216551.33479329\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"26.20226559\",\"totalWalletBalance\":\"216525.13252769\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49993.17375312\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123981.86441259\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4574.164396\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37994.49533801\",\"totalPositionMM\":\"117.17364076\",\"usdValue\":\"38002.13223157\",\"unrealisedPnl\":\"26.197\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1647.30221315\",\"walletBalance\":\"37968.29833801\",\"cumRealisedPnl\":\"-12939.30455199\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759642381493}","module":"BybitClient","timestamp":"2025-10-05T05:33:01.685Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.17 BTCUSDT | PnL: 0.12%","module":"TradingStrategy","timestamp":"2025-10-05T05:33:01.686Z"}
{"level":"info","message":"Balance obtenido - Total: $216551.33, Disponible: $37968.30","module":"BybitClient","timestamp":"2025-10-05T05:33:01.685Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642381686","module":"BybitClient","timestamp":"2025-10-05T05:33:01.686Z"}
{"level":"debug","message":"Signature payload: category=linear&limit=20&orderStatus=Filled&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:33:01.686Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10004,\"retMsg\":\"error sign! origin_string[1759642381686jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20]\",\"result\":{},\"retExtInfo\":{},\"time\":1759642382562}","module":"BybitClient","timestamp":"2025-10-05T05:33:02.743Z"}
{"error":{"endpoint":"/v5/order/history","error":"Error API Bybit: error sign! origin_string[1759642381686jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)","method":"GET","params":{"category":"linear","limit":20,"orderStatus":"Filled","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T05:33:02.744Z"}
{"error":"Error: Error API Bybit: error sign! origin_string[1759642381686jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:459:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.getOrderHistory (/app/dist/exchange/bybit-client.js:328:30)\n    at async BybitClient.checkTPSLExecutions (/app/dist/exchange/bybit-client.js:345:29)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:365:39)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error obteniendo historial de órdenes:","module":"BybitClient","timestamp":"2025-10-05T05:33:02.744Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:33:03.805Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:33:03.805Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una ganancia del 0.12%, con indicadores técnicos bajistas (RSI < 6...","module":"OllamaClient","timestamp":"2025-10-05T05:33:06.611Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una ganancia del 0.12%, con indicadores técnicos bajistas (RSI < 60, MACD <...","module":"TradingStrategy","timestamp":"2025-10-05T05:33:06.612Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642386612","module":"BybitClient","timestamp":"2025-10-05T05:33:06.612Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:33:06.612Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:33:06.612Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:33:06.612Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:33:06.835Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"26.197\",\"markPrice\":\"125298.3\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.30462575\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759642387517}","module":"BybitClient","timestamp":"2025-10-05T05:33:07.700Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:33:07.702Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:33:07.701Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:33:07.702Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:33:07.931Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:33:07.932Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:33:07.931Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:34:06.836Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:34:07.232Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:34:07.232Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:34:07.232Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:34:07.703Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0515","module":"KalmanFilter","timestamp":"2025-10-05T05:34:07.704Z"}
{"level":"debug","message":"Predicción Kalman: 125244.18745144522 (Confianza: 0.850)","module":"KalmanFilter","timestamp":"2025-10-05T05:34:07.705Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:34:08.765Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:34:11.548Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":125224.88832849749,"middle":125306.455,"upper":125388.02167150252},"ema":{"ema21":125284.8882728895,"ema50":125243.67326983537,"ema9":125269.73746242175},"macd":{"histogram":-0.18597102602652726,"macd":-1.859710260265274,"signal":-1.6737392342387467},"rsi":33.63923143102788,"volume":{"avg":111.02650000000003,"current":31.11,"ratio":0.2802033748699634}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está bajo (33.64) y MACD histogram es negativo y decreciente, indicando una posible reversión de la tendencia. Además, el precio actual se encuentra dentro de la banda inferior del Bollinger, lo que sugiere una posible oportunidad de compra. Kalman también predice una subida con confianza del 75%","symbol":"BTCUSDT","timestamp":1759642451549}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642451549","module":"BybitClient","timestamp":"2025-10-05T05:34:11.549Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:34:11.549Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"7.123\",\"markPrice\":\"125186.1\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.20925575\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759642451737}","module":"BybitClient","timestamp":"2025-10-05T05:34:11.921Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:34:11.921Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642451921","module":"BybitClient","timestamp":"2025-10-05T05:34:11.922Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:34:11.922Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216420.02623671\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"7.12438186\",\"totalWalletBalance\":\"216412.90185485\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49994.52375376\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123871.8126642\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4570.901249\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37975.42133801\",\"totalPositionMM\":\"117.17364076\",\"usdValue\":\"37982.78856974\",\"unrealisedPnl\":\"7.123\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1647.30221315\",\"walletBalance\":\"37968.29833801\",\"cumRealisedPnl\":\"-12939.30455199\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759642452803}","module":"BybitClient","timestamp":"2025-10-05T05:34:12.986Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.17 BTCUSDT | PnL: 0.03%","module":"TradingStrategy","timestamp":"2025-10-05T05:34:12.986Z"}
{"level":"info","message":"Balance obtenido - Total: $216420.03, Disponible: $37968.30","module":"BybitClient","timestamp":"2025-10-05T05:34:12.986Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642452987","module":"BybitClient","timestamp":"2025-10-05T05:34:12.987Z"}
{"level":"debug","message":"Signature payload: category=linear&limit=20&orderStatus=Filled&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:34:12.987Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10004,\"retMsg\":\"error sign! origin_string[1759642452987jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20]\",\"result\":{},\"retExtInfo\":{},\"time\":1759642453173}","module":"BybitClient","timestamp":"2025-10-05T05:34:13.357Z"}
{"error":{"endpoint":"/v5/order/history","error":"Error API Bybit: error sign! origin_string[1759642452987jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)","method":"GET","params":{"category":"linear","limit":20,"orderStatus":"Filled","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T05:34:13.357Z"}
{"error":"Error: Error API Bybit: error sign! origin_string[1759642452987jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:459:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.getOrderHistory (/app/dist/exchange/bybit-client.js:328:30)\n    at async BybitClient.checkTPSLExecutions (/app/dist/exchange/bybit-client.js:345:29)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:365:39)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error obteniendo historial de órdenes:","module":"BybitClient","timestamp":"2025-10-05T05:34:13.358Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:34:14.417Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:34:14.417Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una ganancia del 0.03%, y aunque hay señales de reversión (MACD ba...","module":"OllamaClient","timestamp":"2025-10-05T05:34:17.649Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una ganancia del 0.03%, y aunque hay señales de reversión (MACD bajista, EM...","module":"TradingStrategy","timestamp":"2025-10-05T05:34:17.649Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642457649","module":"BybitClient","timestamp":"2025-10-05T05:34:17.650Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:34:17.649Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:34:17.649Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:34:17.650Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"9.486\",\"markPrice\":\"125200\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.22107075\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759642458529}","module":"BybitClient","timestamp":"2025-10-05T05:34:18.713Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:34:18.714Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:34:18.713Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:34:18.714Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:35:06.839Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:35:07.237Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:35:07.237Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:35:07.237Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:35:18.715Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0608","module":"KalmanFilter","timestamp":"2025-10-05T05:35:18.716Z"}
{"level":"debug","message":"Predicción Kalman: 125214.18661120404 (Confianza: 0.860)","module":"KalmanFilter","timestamp":"2025-10-05T05:35:18.716Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:35:19.814Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:35:22.739Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":125172.79705872922,"middle":125282.87,"upper":125392.94294127077},"ema":{"ema21":125262.68657601194,"ema50":125245.25810189874,"ema9":125234.7241797188},"macd":{"histogram":-1.7535554591711833,"macd":-17.535554591711843,"signal":-15.78199913254066},"rsi":32.77506889972376,"volume":{"avg":105.11675000000005,"current":16.261,"ratio":0.15469466093653}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is below 30 and MACD is bearish, indicating a potential sell opportunity. However, the Bollinger bands are expanding and the EMA9 is crossing above the EMA21, which suggests a possible bullish reversal. The Kalman predicts a slight bullish movement with a confidence of 76.8%. Given the neutral market sentiment and the potential for a bullish reversal, I suggest buying.","symbol":"BTCUSDT","timestamp":1759642522739}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642522739","module":"BybitClient","timestamp":"2025-10-05T05:35:22.740Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:35:22.740Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"6.9666\",\"markPrice\":\"125185.18\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.20847375\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759642522925}","module":"BybitClient","timestamp":"2025-10-05T05:35:23.110Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:35:23.110Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642523110","module":"BybitClient","timestamp":"2025-10-05T05:35:23.110Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:35:23.111Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216418.00513787\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"6.96790275\",\"totalWalletBalance\":\"216411.03723512\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49989.1237512\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123874.59877412\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4571.9163\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37975.26493801\",\"totalPositionMM\":\"117.17364076\",\"usdValue\":\"37982.36631255\",\"unrealisedPnl\":\"6.9666\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1647.30221315\",\"walletBalance\":\"37968.29833801\",\"cumRealisedPnl\":\"-12939.30455199\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759642523990}","module":"BybitClient","timestamp":"2025-10-05T05:35:24.174Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.17 BTCUSDT | PnL: 0.03%","module":"TradingStrategy","timestamp":"2025-10-05T05:35:24.175Z"}
{"level":"info","message":"Balance obtenido - Total: $216418.01, Disponible: $37968.30","module":"BybitClient","timestamp":"2025-10-05T05:35:24.174Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642524175","module":"BybitClient","timestamp":"2025-10-05T05:35:24.175Z"}
{"level":"debug","message":"Signature payload: category=linear&limit=20&orderStatus=Filled&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:35:24.175Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10004,\"retMsg\":\"error sign! origin_string[1759642524175jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20]\",\"result\":{},\"retExtInfo\":{},\"time\":1759642525051}","module":"BybitClient","timestamp":"2025-10-05T05:35:25.237Z"}
{"error":{"endpoint":"/v5/order/history","error":"Error API Bybit: error sign! origin_string[1759642524175jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)","method":"GET","params":{"category":"linear","limit":20,"orderStatus":"Filled","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T05:35:25.237Z"}
{"error":"Error: Error API Bybit: error sign! origin_string[1759642524175jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:459:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.getOrderHistory (/app/dist/exchange/bybit-client.js:328:30)\n    at async BybitClient.checkTPSLExecutions (/app/dist/exchange/bybit-client.js:345:29)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:365:39)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error obteniendo historial de órdenes:","module":"BybitClient","timestamp":"2025-10-05T05:35:25.238Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:35:26.321Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:35:26.321Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una ganancia del 0.03%, pero hay señales de reversión débiles (MAC...","module":"OllamaClient","timestamp":"2025-10-05T05:35:28.287Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una ganancia del 0.03%, pero hay señales de reversión débiles (MACD bajista...","module":"TradingStrategy","timestamp":"2025-10-05T05:35:28.288Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642528288","module":"BybitClient","timestamp":"2025-10-05T05:35:28.288Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:35:28.287Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:35:28.288Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:35:28.288Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"7.9475\",\"markPrice\":\"125190.95\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.21337825\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759642528477}","module":"BybitClient","timestamp":"2025-10-05T05:35:28.664Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:35:28.665Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:35:28.664Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:35:28.665Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:36:06.840Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:36:07.934Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:36:07.934Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:36:07.934Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:36:28.669Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0608","module":"KalmanFilter","timestamp":"2025-10-05T05:36:28.670Z"}
{"level":"debug","message":"Predicción Kalman: 125204.1710354656 (Confianza: 0.866)","module":"KalmanFilter","timestamp":"2025-10-05T05:36:28.670Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:36:29.783Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:36:32.627Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":125139.79523246977,"middle":125257.87500000003,"upper":125375.95476753029},"ema":{"ema21":125244.45118195948,"ema50":125233.4536203339,"ema9":125218.67208317333},"macd":{"histogram":-2.1061972706229426,"macd":-21.061972706229426,"signal":-18.955775435606483},"rsi":39.21568627450949,"volume":{"avg":98.39745000000008,"current":0.857,"ratio":0.00870957529895337}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is below 39, MACD histogram is negative and decreasing, Bollinger bands are superior, EMA9 is crossing above EMA21, Kalman predicts a bullish movement with confidence above 75%, and the market sentiment is neutral. These indicators suggest a potential bullish trend, and I believe it's a good time to buy.","symbol":"BTCUSDT","timestamp":1759642592627}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642592628","module":"BybitClient","timestamp":"2025-10-05T05:36:32.628Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:36:32.628Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"11.832\",\"markPrice\":\"125213.8\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.23280075\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759642592818}","module":"BybitClient","timestamp":"2025-10-05T05:36:33.000Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:36:33.000Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642593001","module":"BybitClient","timestamp":"2025-10-05T05:36:33.001Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:36:33.001Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216450.26911447\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"11.83398777\",\"totalWalletBalance\":\"216438.43512669\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49990.52375186\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123902.06190369\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4571.172459\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37980.13033801\",\"totalPositionMM\":\"117.17364076\",\"usdValue\":\"37986.5109999\",\"unrealisedPnl\":\"11.832\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1647.30221315\",\"walletBalance\":\"37968.29833801\",\"cumRealisedPnl\":\"-12939.30455199\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759642593896}","module":"BybitClient","timestamp":"2025-10-05T05:36:34.081Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.17 BTCUSDT | PnL: 0.06%","module":"TradingStrategy","timestamp":"2025-10-05T05:36:34.082Z"}
{"level":"info","message":"Balance obtenido - Total: $216450.27, Disponible: $37968.30","module":"BybitClient","timestamp":"2025-10-05T05:36:34.081Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642594082","module":"BybitClient","timestamp":"2025-10-05T05:36:34.082Z"}
{"level":"debug","message":"Signature payload: category=linear&limit=20&orderStatus=Filled&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:36:34.082Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10004,\"retMsg\":\"error sign! origin_string[1759642594082jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20]\",\"result\":{},\"retExtInfo\":{},\"time\":1759642594969}","module":"BybitClient","timestamp":"2025-10-05T05:36:35.152Z"}
{"error":{"endpoint":"/v5/order/history","error":"Error API Bybit: error sign! origin_string[1759642594082jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)","method":"GET","params":{"category":"linear","limit":20,"orderStatus":"Filled","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T05:36:35.152Z"}
{"error":"Error: Error API Bybit: error sign! origin_string[1759642594082jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:459:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.getOrderHistory (/app/dist/exchange/bybit-client.js:328:30)\n    at async BybitClient.checkTPSLExecutions (/app/dist/exchange/bybit-client.js:345:29)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:365:39)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error obteniendo historial de órdenes:","module":"BybitClient","timestamp":"2025-10-05T05:36:35.153Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:36:36.213Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:36:36.213Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una ganancia del 0.06% y no hay señales de reversión fuertes. La t...","module":"OllamaClient","timestamp":"2025-10-05T05:36:38.083Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una ganancia del 0.06% y no hay señales de reversión fuertes. La tendencia ...","module":"TradingStrategy","timestamp":"2025-10-05T05:36:38.083Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642598083","module":"BybitClient","timestamp":"2025-10-05T05:36:38.084Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:36:38.083Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:36:38.083Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:36:38.084Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"6.6351\",\"markPrice\":\"125183.23\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.20681625\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759642598964}","module":"BybitClient","timestamp":"2025-10-05T05:36:39.148Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:36:39.149Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:36:39.148Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:36:39.149Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:37:06.843Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:37:07.247Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:37:07.249Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:37:07.249Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:37:39.152Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0589","module":"KalmanFilter","timestamp":"2025-10-05T05:37:39.153Z"}
{"level":"debug","message":"Predicción Kalman: 125191.74214955443 (Confianza: 0.859)","module":"KalmanFilter","timestamp":"2025-10-05T05:37:39.153Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:37:40.246Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:37:43.372Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":125121.07359697213,"middle":125227.095,"upper":125333.11640302787},"ema":{"ema21":125223.81565481667,"ema50":125228.92053212409,"ema9":125198.88976424103},"macd":{"histogram":-2.3848560520520543,"macd":-23.84856052052055,"signal":-21.463704468468496},"rsi":37.36924104161915,"volume":{"avg":94.06540000000008,"current":1.504,"ratio":0.01598887582469217}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está bajo (37.37) y MACD histogram es negativo, indicando una posible tendencia bajista. Sin embargo, el precio actual está dentro del rango de Bollinger superior, lo que sugiere una posible reversión. Además, la Kalman predice una subida con confianza del 85.9%. Considerando todos estos factores, es más probable que el precio suba en lugar de bajar.","symbol":"BTCUSDT","timestamp":1759642663373}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642663373","module":"BybitClient","timestamp":"2025-10-05T05:37:43.373Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:37:43.374Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"13.5235\",\"markPrice\":\"125223.75\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.24125825\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759642664266}","module":"BybitClient","timestamp":"2025-10-05T05:37:44.450Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:37:44.450Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642664451","module":"BybitClient","timestamp":"2025-10-05T05:37:44.451Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:37:44.451Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216467.80259565\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"13.52600184\",\"totalWalletBalance\":\"216454.27659381\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49991.27375222\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123914.24191638\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4573.438452\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37981.82183801\",\"totalPositionMM\":\"117.17364076\",\"usdValue\":\"37988.84847505\",\"unrealisedPnl\":\"13.5235\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1647.30221315\",\"walletBalance\":\"37968.29833801\",\"cumRealisedPnl\":\"-12939.30455199\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759642665331}","module":"BybitClient","timestamp":"2025-10-05T05:37:45.514Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.17 BTCUSDT | PnL: 0.06%","module":"TradingStrategy","timestamp":"2025-10-05T05:37:45.514Z"}
{"level":"info","message":"Balance obtenido - Total: $216467.80, Disponible: $37968.30","module":"BybitClient","timestamp":"2025-10-05T05:37:45.514Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642665514","module":"BybitClient","timestamp":"2025-10-05T05:37:45.515Z"}
{"level":"debug","message":"Signature payload: category=linear&limit=20&orderStatus=Filled&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:37:45.515Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10004,\"retMsg\":\"error sign! origin_string[1759642665514jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20]\",\"result\":{},\"retExtInfo\":{},\"time\":1759642666389}","module":"BybitClient","timestamp":"2025-10-05T05:37:46.571Z"}
{"error":{"endpoint":"/v5/order/history","error":"Error API Bybit: error sign! origin_string[1759642665514jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)","method":"GET","params":{"category":"linear","limit":20,"orderStatus":"Filled","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T05:37:46.571Z"}
{"error":"Error: Error API Bybit: error sign! origin_string[1759642665514jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:459:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.getOrderHistory (/app/dist/exchange/bybit-client.js:328:30)\n    at async BybitClient.checkTPSLExecutions (/app/dist/exchange/bybit-client.js:345:29)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:365:39)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:81:17)","level":"error","message":"Error obteniendo historial de órdenes:","module":"BybitClient","timestamp":"2025-10-05T05:37:46.571Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:37:46.935Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:37:46.935Z"}
{"level":"info","message":"Recibida señal SIGTERM, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-05T05:37:47.909Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759642667910}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-05T05:37:47.911Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-05T05:37:47.912Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T05:37:48.402Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T05:37:48.396Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T05:37:48.413Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T05:37:48.408Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T05:37:48.410Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T05:37:48.412Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T05:37:48.412Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759642668424}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T05:37:48.417Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T05:37:48.420Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T05:37:48.419Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T05:37:48.420Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T05:37:48.421Z"}
{"level":"info","message":"✅ Conectado a Redis: localhost:6379","module":"RedisHistory","timestamp":"2025-10-05T05:37:48.468Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759642668423}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T05:37:48.423Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T05:37:48.424Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T05:37:48.424Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T05:37:48.442Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T05:37:48.443Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T05:37:48.414Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T05:37:48.414Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T05:37:48.414Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T05:37:48.415Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T05:37:48.415Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T05:37:48.415Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T05:37:48.415Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T05:37:48.415Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T05:37:48.415Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T05:37:48.416Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T05:37:48.416Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T05:37:48.443Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T05:37:48.408Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T05:37:48.417Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-05T05:37:48.477Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-05T05:37:48.921Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (1m)","module":"DataManager","timestamp":"2025-10-05T05:37:48.922Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 200","module":"BybitClient","timestamp":"2025-10-05T05:37:48.923Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-05T05:37:48.922Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:37:49.301Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-05T05:37:49.303Z"}
{"level":"info","message":"Datos suficientes recopilados para BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-05T05:37:49.304Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:37:49.306Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T05:37:49.307Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-05T05:37:49.308Z"}
{"level":"info","message":"Velas obtenidas: 200 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:37:49.302Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-05T05:37:49.303Z"}
{"level":"debug","message":"Predicción Kalman: 125197.03615394037 (Confianza: 0.891)","module":"KalmanFilter","timestamp":"2025-10-05T05:37:49.308Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:37:50.373Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:37:53.567Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":124946.50809956665,"middle":125182.34999999998,"upper":125418.1919004333},"ema":{"ema21":125188.06070617263,"ema50":125033.08483409145,"ema9":125219.39417490087},"macd":{"histogram":4.603163637280524,"macd":46.031636372805224,"signal":41.4284727355247},"rsi":66.94668266758066,"volume":{"avg":221.97500999999997,"current":18.835,"ratio":0.08485189391364371}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima de 70, MACD es bullish y hay un cruce positivo entre EMA9 y EMA21. Además, el precio actual está por encima del nivel superior del Bollinger en los últimos 10 velas. Kalman predice una subida con confianza del 89.1%. Considerando que el mercado es neutral y no hay señales claras de una posible reversión inminente, la mejor opción es apostar a la subida.","symbol":"BTCUSDT","timestamp":1759642673568}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642673571","module":"BybitClient","timestamp":"2025-10-05T05:37:53.572Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:37:53.573Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"13.3008\",\"markPrice\":\"125222.44\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.24014475\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759642673761}","module":"BybitClient","timestamp":"2025-10-05T05:37:53.945Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:37:53.946Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642673947","module":"BybitClient","timestamp":"2025-10-05T05:37:53.947Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:37:53.947Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216454.84323819\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"13.30263551\",\"totalWalletBalance\":\"216441.54060268\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49987.62375048\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123907.48303401\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4572.895855\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37981.59913801\",\"totalPositionMM\":\"117.17364076\",\"usdValue\":\"37986.84059869\",\"unrealisedPnl\":\"13.3008\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1647.30221315\",\"walletBalance\":\"37968.29833801\",\"cumRealisedPnl\":\"-12939.30455199\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759642674827}","module":"BybitClient","timestamp":"2025-10-05T05:37:55.013Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.17 BTCUSDT | PnL: 0.06%","module":"TradingStrategy","timestamp":"2025-10-05T05:37:55.014Z"}
{"level":"info","message":"Balance obtenido - Total: $216454.84, Disponible: $37968.30","module":"BybitClient","timestamp":"2025-10-05T05:37:55.013Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642675015","module":"BybitClient","timestamp":"2025-10-05T05:37:55.015Z"}
{"level":"debug","message":"Signature payload: category=linear&limit=20&orderStatus=Filled&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:37:55.015Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10004,\"retMsg\":\"error sign! origin_string[1759642675015jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20]\",\"result\":{},\"retExtInfo\":{},\"time\":1759642675906}","module":"BybitClient","timestamp":"2025-10-05T05:37:56.091Z"}
{"error":{"endpoint":"/v5/order/history","error":"Error API Bybit: error sign! origin_string[1759642675015jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)","method":"GET","params":{"category":"linear","limit":20,"orderStatus":"Filled","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T05:37:56.091Z"}
{"error":"Error: Error API Bybit: error sign! origin_string[1759642675015jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:459:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.getOrderHistory (/app/dist/exchange/bybit-client.js:328:30)\n    at async BybitClient.checkTPSLExecutions (/app/dist/exchange/bybit-client.js:345:29)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:397:39)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:84:17)","level":"error","message":"Error obteniendo historial de órdenes:","module":"BybitClient","timestamp":"2025-10-05T05:37:56.093Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:37:57.160Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:37:57.162Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una ganancia del 0.06%, que es una ganancia razonable para un scal...","module":"OllamaClient","timestamp":"2025-10-05T05:37:59.629Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una ganancia del 0.06%, que es una ganancia razonable para un scalping. Ade...","module":"TradingStrategy","timestamp":"2025-10-05T05:37:59.630Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642679631","module":"BybitClient","timestamp":"2025-10-05T05:37:59.631Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:37:59.630Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:37:59.630Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:37:59.631Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"14.773\",\"markPrice\":\"125231.1\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.24750575\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759642680514}","module":"BybitClient","timestamp":"2025-10-05T05:38:00.699Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:38:00.700Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:38:00.700Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:38:00.700Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:38:49.303Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:38:49.707Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:38:49.708Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:38:49.708Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:39:00.702Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T05:39:00.703Z"}
{"level":"debug","message":"Predicción Kalman: 125211.09902118715 (Confianza: 0.890)","module":"KalmanFilter","timestamp":"2025-10-05T05:39:00.704Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:39:01.107Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:39:03.777Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":125080.3059892814,"middle":125227.9,"upper":125375.49401071858},"ema":{"ema21":125195.00479798076,"ema50":125067.6606611571,"ema9":125212.12199526012},"macd":{"histogram":2.9983419881056754,"macd":29.98341988105676,"signal":26.985077892951086},"rsi":39.32391955498424,"volume":{"avg":222.52918999999994,"current":11.932,"ratio":0.05361993183905448}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is below 39, MACD histogram is bullish, and Bollinger bands are superior. These indicators suggest a potential uptrend. Additionally, Kalman prediction indicates a high probability of the price increasing. With a leverage of 20-30x, I suggest going long on this trade.","symbol":"BTCUSDT","timestamp":1759642743778}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642743778","module":"BybitClient","timestamp":"2025-10-05T05:39:03.778Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:39:03.779Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"4.0834\",\"markPrice\":\"125168.22\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.19405775\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759642743967}","module":"BybitClient","timestamp":"2025-10-05T05:39:04.155Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:39:04.156Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642744156","module":"BybitClient","timestamp":"2025-10-05T05:39:04.156Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:39:04.157Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216398.47854631\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"4.08404109\",\"totalWalletBalance\":\"216394.39450521\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49988.87375108\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123861.73294828\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4569.528445\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37972.38173801\",\"totalPositionMM\":\"117.17364076\",\"usdValue\":\"37978.34340194\",\"unrealisedPnl\":\"4.0834\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1647.30221315\",\"walletBalance\":\"37968.29833801\",\"cumRealisedPnl\":\"-12939.30455199\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759642744343}","module":"BybitClient","timestamp":"2025-10-05T05:39:04.533Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.17 BTCUSDT | PnL: 0.02%","module":"TradingStrategy","timestamp":"2025-10-05T05:39:04.533Z"}
{"level":"info","message":"Balance obtenido - Total: $216398.48, Disponible: $37968.30","module":"BybitClient","timestamp":"2025-10-05T05:39:04.533Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642744534","module":"BybitClient","timestamp":"2025-10-05T05:39:04.534Z"}
{"level":"debug","message":"Signature payload: category=linear&limit=20&orderStatus=Filled&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:39:04.534Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10004,\"retMsg\":\"error sign! origin_string[1759642744534jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20]\",\"result\":{},\"retExtInfo\":{},\"time\":1759642745410}","module":"BybitClient","timestamp":"2025-10-05T05:39:05.592Z"}
{"error":{"endpoint":"/v5/order/history","error":"Error API Bybit: error sign! origin_string[1759642744534jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)","method":"GET","params":{"category":"linear","limit":20,"orderStatus":"Filled","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T05:39:05.592Z"}
{"error":"Error: Error API Bybit: error sign! origin_string[1759642744534jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:459:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.getOrderHistory (/app/dist/exchange/bybit-client.js:328:30)\n    at async BybitClient.checkTPSLExecutions (/app/dist/exchange/bybit-client.js:345:29)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:397:39)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:84:17)","level":"error","message":"Error obteniendo historial de órdenes:","module":"BybitClient","timestamp":"2025-10-05T05:39:05.593Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:39:06.661Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:39:06.661Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual es saludable con una ganancia del 0.02% y sin señales de reversión. La t...","module":"OllamaClient","timestamp":"2025-10-05T05:39:09.183Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual es saludable con una ganancia del 0.02% y sin señales de reversión. La tendencia ...","module":"TradingStrategy","timestamp":"2025-10-05T05:39:09.184Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642749184","module":"BybitClient","timestamp":"2025-10-05T05:39:09.185Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:39:09.184Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:39:09.184Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:39:09.185Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"9.486\",\"markPrice\":\"125200\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.22107075\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759642749371}","module":"BybitClient","timestamp":"2025-10-05T05:39:09.553Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:39:09.554Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:39:09.554Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:39:09.554Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:39:49.303Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:39:49.727Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:39:49.727Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:39:49.727Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:40:09.560Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T05:40:09.561Z"}
{"level":"debug","message":"Predicción Kalman: 125196.84027628123 (Confianza: 0.890)","module":"KalmanFilter","timestamp":"2025-10-05T05:40:09.562Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:40:09.959Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:40:12.657Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":125116.92225838956,"middle":125228.97,"upper":125341.01774161044},"ema":{"ema21":125195.44030808397,"ema50":125090.46013897375,"ema9":125200.68307940025},"macd":{"histogram":1.645074671955081,"macd":16.450746719550807,"signal":14.805672047595726},"rsi":48.89108910891121,"volume":{"avg":222.10717999999994,"current":77.675,"ratio":0.34971854579397216}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima de 70, MACD es bullish y hay un cruce positivo entre EMA9 y EMA21. Además, el precio actual está por encima del nivel superior del Bollinger en los últimos 10 velas. Kalman predice una subida con confianza del 75%","symbol":"BTCUSDT","timestamp":1759642812658}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642812659","module":"BybitClient","timestamp":"2025-10-05T05:40:12.659Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:40:12.660Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"15.4632\",\"markPrice\":\"125235.16\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.25095675\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759642812847}","module":"BybitClient","timestamp":"2025-10-05T05:40:13.029Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:40:13.030Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642813030","module":"BybitClient","timestamp":"2025-10-05T05:40:13.030Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:40:13.031Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216468.81673799\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"15.46528753\",\"totalWalletBalance\":\"216453.35145046\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49988.82375105\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123922.44362712\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4568.660014\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37983.76153801\",\"totalPositionMM\":\"117.17364076\",\"usdValue\":\"37988.88934581\",\"unrealisedPnl\":\"15.4632\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1647.30221315\",\"walletBalance\":\"37968.29833801\",\"cumRealisedPnl\":\"-12939.30455199\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759642813217}","module":"BybitClient","timestamp":"2025-10-05T05:40:13.402Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.17 BTCUSDT | PnL: 0.07%","module":"TradingStrategy","timestamp":"2025-10-05T05:40:13.403Z"}
{"level":"info","message":"Balance obtenido - Total: $216468.82, Disponible: $37968.30","module":"BybitClient","timestamp":"2025-10-05T05:40:13.402Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642813403","module":"BybitClient","timestamp":"2025-10-05T05:40:13.403Z"}
{"level":"debug","message":"Signature payload: category=linear&limit=20&orderStatus=Filled&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:40:13.404Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10004,\"retMsg\":\"error sign! origin_string[1759642813403jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20]\",\"result\":{},\"retExtInfo\":{},\"time\":1759642814282}","module":"BybitClient","timestamp":"2025-10-05T05:40:14.464Z"}
{"error":{"endpoint":"/v5/order/history","error":"Error API Bybit: error sign! origin_string[1759642813403jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)","method":"GET","params":{"category":"linear","limit":20,"orderStatus":"Filled","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T05:40:14.465Z"}
{"error":"Error: Error API Bybit: error sign! origin_string[1759642813403jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:459:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.getOrderHistory (/app/dist/exchange/bybit-client.js:328:30)\n    at async BybitClient.checkTPSLExecutions (/app/dist/exchange/bybit-client.js:345:29)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:397:39)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:84:17)","level":"error","message":"Error obteniendo historial de órdenes:","module":"BybitClient","timestamp":"2025-10-05T05:40:14.465Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:40:15.527Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:40:15.527Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una ganancia del 0.07%, con indicadores técnicos bajistas (RSI < 6...","module":"OllamaClient","timestamp":"2025-10-05T05:40:18.346Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una ganancia del...","module":"TradingStrategy","timestamp":"2025-10-05T05:40:18.347Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642818348","module":"BybitClient","timestamp":"2025-10-05T05:40:18.348Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-05T05:40:18.347Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-05T05:40:18.347Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 30%)","module":"OllamaClient","timestamp":"2025-10-05T05:40:18.347Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:40:18.348Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:40:18.348Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"21.012\",\"markPrice\":\"125267.8\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.27870075\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759642818532}","module":"BybitClient","timestamp":"2025-10-05T05:40:18.715Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:40:18.716Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:40:18.716Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:40:18.717Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:40:49.304Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:40:50.409Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:40:50.410Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:40:50.410Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:41:18.717Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T05:41:18.717Z"}
{"level":"debug","message":"Predicción Kalman: 125230.41933001712 (Confianza: 0.887)","module":"KalmanFilter","timestamp":"2025-10-05T05:41:18.718Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:41:19.833Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:41:22.917Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":125142.06066624518,"middle":125204.8,"upper":125267.53933375483},"ema":{"ema21":125206.54433623186,"ema50":125113.76020715448,"ema9":125220.3276394573},"macd":{"histogram":1.8650060110885534,"macd":18.650060110885534,"signal":16.78505409979698},"rsi":57.136215713620224,"volume":{"avg":222.88014999999993,"current":71.876,"ratio":0.32248722014948406}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima de 50, MACD histogram es positivo y creciente, Bollinger Bandas están en el centro, EMAs están en una posición baja y el Kalman Prediction indica una subida. Además, el mercado actualmente está en un estado neutral y no hay señales claras de una posible caída. Por lo tanto, sugiero una posición LONG con un leverage moderado (20-30x)","symbol":"BTCUSDT","timestamp":1759642882918}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642882918","module":"BybitClient","timestamp":"2025-10-05T05:41:22.919Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:41:22.919Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"22.4536\",\"markPrice\":\"125276.28\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.28590875\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759642883104}","module":"BybitClient","timestamp":"2025-10-05T05:41:23.290Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:41:23.291Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642883291","module":"BybitClient","timestamp":"2025-10-05T05:41:23.291Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:41:23.291Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216527.24475317\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"22.69727132\",\"totalWalletBalance\":\"216504.54748184\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49990.42375181\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123969.7245088\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4569.456431\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37990.99163801\",\"totalPositionMM\":\"117.17364076\",\"usdValue\":\"37997.64006154\",\"unrealisedPnl\":\"22.6933\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1647.30221315\",\"walletBalance\":\"37968.29833801\",\"cumRealisedPnl\":\"-12939.30455199\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759642883483}","module":"BybitClient","timestamp":"2025-10-05T05:41:23.666Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.17 BTCUSDT | PnL: 0.11%","module":"TradingStrategy","timestamp":"2025-10-05T05:41:23.667Z"}
{"level":"info","message":"Balance obtenido - Total: $216527.24, Disponible: $37968.30","module":"BybitClient","timestamp":"2025-10-05T05:41:23.666Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642883667","module":"BybitClient","timestamp":"2025-10-05T05:41:23.667Z"}
{"level":"debug","message":"Signature payload: category=linear&limit=20&orderStatus=Filled&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:41:23.668Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10004,\"retMsg\":\"error sign! origin_string[1759642883667jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20]\",\"result\":{},\"retExtInfo\":{},\"time\":1759642884557}","module":"BybitClient","timestamp":"2025-10-05T05:41:24.738Z"}
{"error":{"endpoint":"/v5/order/history","error":"Error API Bybit: error sign! origin_string[1759642883667jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)","method":"GET","params":{"category":"linear","limit":20,"orderStatus":"Filled","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T05:41:24.739Z"}
{"error":"Error: Error API Bybit: error sign! origin_string[1759642883667jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:459:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.getOrderHistory (/app/dist/exchange/bybit-client.js:328:30)\n    at async BybitClient.checkTPSLExecutions (/app/dist/exchange/bybit-client.js:345:29)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:397:39)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:84:17)","level":"error","message":"Error obteniendo historial de órdenes:","module":"BybitClient","timestamp":"2025-10-05T05:41:24.739Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:41:25.799Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:41:25.799Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual es saludable con una ganancia del 0.11%. No hay señales de reversión det...","module":"OllamaClient","timestamp":"2025-10-05T05:41:27.906Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual es saludable con una ganancia del 0.11%. No hay señales de reversión detectadas y...","module":"TradingStrategy","timestamp":"2025-10-05T05:41:27.907Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642887907","module":"BybitClient","timestamp":"2025-10-05T05:41:27.907Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:41:27.906Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:41:27.907Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:41:27.908Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"22.6933\",\"markPrice\":\"125277.69\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.28710725\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759642888101}","module":"BybitClient","timestamp":"2025-10-05T05:41:28.284Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:41:28.285Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:41:28.285Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:41:28.285Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:41:49.304Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:41:50.396Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:41:50.396Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:41:50.396Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:42:28.289Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T05:42:28.289Z"}
{"level":"debug","message":"Predicción Kalman: 125236.73768471913 (Confianza: 0.883)","module":"KalmanFilter","timestamp":"2025-10-05T05:42:28.290Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:42:28.689Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:42:31.321Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":125139.10923948337,"middle":125213.845,"upper":125288.58076051663},"ema":{"ema21":125217.05234437573,"ema50":125136.15824876557,"ema9":125230.80649690265},"macd":{"histogram":1.7658312438477868,"macd":17.65831243847788,"signal":15.892481194630092},"rsi":51.35205071807528,"volume":{"avg":223.20663999999994,"current":18.794,"ratio":0.08420000408589998}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is at 51.35, MACD histogram is bullish and crossed above 0, Bollinger bands are superior and the price is above the middle band. Kalman predicts a price increase with confidence of 88.3%. Signals for a long position are more clear-cut than those for a short position.","symbol":"BTCUSDT","timestamp":1759642951322}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642951322","module":"BybitClient","timestamp":"2025-10-05T05:42:31.322Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:42:31.323Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"4.386\",\"markPrice\":\"125170\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.19557075\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759642951512}","module":"BybitClient","timestamp":"2025-10-05T05:42:31.697Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:42:31.697Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642951697","module":"BybitClient","timestamp":"2025-10-05T05:42:31.697Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:42:31.698Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216395.40564688\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"4.38680702\",\"totalWalletBalance\":\"216391.01883986\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49989.02375115\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123862.6219228\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4564.088661\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37972.68433801\",\"totalPositionMM\":\"117.17364076\",\"usdValue\":\"37979.67131192\",\"unrealisedPnl\":\"4.386\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1647.30221315\",\"walletBalance\":\"37968.29833801\",\"cumRealisedPnl\":\"-12939.30455199\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759642952580}","module":"BybitClient","timestamp":"2025-10-05T05:42:32.764Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.17 BTCUSDT | PnL: 0.02%","module":"TradingStrategy","timestamp":"2025-10-05T05:42:32.764Z"}
{"level":"info","message":"Balance obtenido - Total: $216395.41, Disponible: $37968.30","module":"BybitClient","timestamp":"2025-10-05T05:42:32.764Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642952765","module":"BybitClient","timestamp":"2025-10-05T05:42:32.765Z"}
{"level":"debug","message":"Signature payload: category=linear&limit=20&orderStatus=Filled&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:42:32.766Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10004,\"retMsg\":\"error sign! origin_string[1759642952765jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20]\",\"result\":{},\"retExtInfo\":{},\"time\":1759642953657}","module":"BybitClient","timestamp":"2025-10-05T05:42:33.839Z"}
{"error":{"endpoint":"/v5/order/history","error":"Error API Bybit: error sign! origin_string[1759642952765jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)","method":"GET","params":{"category":"linear","limit":20,"orderStatus":"Filled","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T05:42:33.840Z"}
{"error":"Error: Error API Bybit: error sign! origin_string[1759642952765jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:459:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.getOrderHistory (/app/dist/exchange/bybit-client.js:328:30)\n    at async BybitClient.checkTPSLExecutions (/app/dist/exchange/bybit-client.js:345:29)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:397:39)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:84:17)","level":"error","message":"Error obteniendo historial de órdenes:","module":"BybitClient","timestamp":"2025-10-05T05:42:33.840Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:42:34.897Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:42:34.898Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"Tienes una posición LONG con ganancia de 0.02%. Sin señales de reversión detectadas y con i...","module":"OllamaClient","timestamp":"2025-10-05T05:42:36.865Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: Tienes una posición LONG con ganancia de 0.02%. Sin señales de reversión detectadas y con indicadore...","module":"TradingStrategy","timestamp":"2025-10-05T05:42:36.865Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759642956866","module":"BybitClient","timestamp":"2025-10-05T05:42:36.866Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:42:36.865Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:42:36.866Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:42:36.866Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"3.5734\",\"markPrice\":\"125165.22\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.19150775\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759642957748}","module":"BybitClient","timestamp":"2025-10-05T05:42:37.931Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:42:37.932Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:42:37.932Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:42:37.932Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:42:49.304Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:42:49.701Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:42:49.701Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:42:49.701Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:43:37.937Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T05:43:37.938Z"}
{"level":"debug","message":"Predicción Kalman: 125225.4119376938 (Confianza: 0.880)","module":"KalmanFilter","timestamp":"2025-10-05T05:43:37.938Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:43:38.347Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:43:41.575Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":125130.4009938207,"middle":125216.495,"upper":125302.58900617929},"ema":{"ema21":125215.90988331875,"ema50":125151.12167836915,"ema9":125217.73617690743},"macd":{"histogram":0.79160107037751,"macd":7.9160107037751,"signal":7.12440963339759},"rsi":48.45289938115976,"volume":{"avg":223.07933999999986,"current":26.279,"ratio":0.11780113747871056}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is at 48.45, which is slightly above the neutral zone (30-70). MACD histogram is bullish and crossed above the signal line. Bollinger bands are expanding, indicating high volatility. EMA9 is crossing above EMA21, which is a golden cross. Kalman prediction is for a price increase of 0.10% with 88.0% confidence. These indicators suggest a bullish trend, and I recommend buying.","symbol":"BTCUSDT","timestamp":1759643021575}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643021575","module":"BybitClient","timestamp":"2025-10-05T05:43:41.575Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:43:41.575Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"-7.004\",\"markPrice\":\"125103\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.13862075\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759643022452}","module":"BybitClient","timestamp":"2025-10-05T05:43:42.635Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:43:42.635Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643022635","module":"BybitClient","timestamp":"2025-10-05T05:43:42.636Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:43:42.636Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216304.37225155\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-6.98807599\",\"totalWalletBalance\":\"216311.36032754\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49990.02375162\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123784.07274096\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4563.118379\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37961.31133801\",\"totalPositionMM\":\"117.17364076\",\"usdValue\":\"37967.15737995\",\"unrealisedPnl\":\"-6.987\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1647.30221315\",\"walletBalance\":\"37968.29833801\",\"cumRealisedPnl\":\"-12939.30455199\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759643022827}","module":"BybitClient","timestamp":"2025-10-05T05:43:43.008Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.17 BTCUSDT | PnL: -0.03%","module":"TradingStrategy","timestamp":"2025-10-05T05:43:43.009Z"}
{"level":"info","message":"Balance obtenido - Total: $216304.37, Disponible: $37968.30","module":"BybitClient","timestamp":"2025-10-05T05:43:43.009Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643023009","module":"BybitClient","timestamp":"2025-10-05T05:43:43.009Z"}
{"level":"debug","message":"Signature payload: category=linear&limit=20&orderStatus=Filled&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:43:43.010Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10004,\"retMsg\":\"error sign! origin_string[1759643023009jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20]\",\"result\":{},\"retExtInfo\":{},\"time\":1759643023192}","module":"BybitClient","timestamp":"2025-10-05T05:43:43.374Z"}
{"error":{"endpoint":"/v5/order/history","error":"Error API Bybit: error sign! origin_string[1759643023009jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)","method":"GET","params":{"category":"linear","limit":20,"orderStatus":"Filled","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T05:43:43.375Z"}
{"error":"Error: Error API Bybit: error sign! origin_string[1759643023009jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:459:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.getOrderHistory (/app/dist/exchange/bybit-client.js:328:30)\n    at async BybitClient.checkTPSLExecutions (/app/dist/exchange/bybit-client.js:345:29)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:397:39)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:84:17)","level":"error","message":"Error obteniendo historial de órdenes:","module":"BybitClient","timestamp":"2025-10-05T05:43:43.376Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:43:43.742Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:43:43.742Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una pérdida del 0.03%, pero todavía está dentro de la tendencia al...","module":"OllamaClient","timestamp":"2025-10-05T05:43:45.905Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una pérdida del 0.03%, pero todavía está dentro de la tendencia alcista seg...","module":"TradingStrategy","timestamp":"2025-10-05T05:43:45.906Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643025907","module":"BybitClient","timestamp":"2025-10-05T05:43:45.907Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:43:45.906Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:43:45.907Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:43:45.908Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"-6.987\",\"markPrice\":\"125103.1\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.13870575\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759643026789}","module":"BybitClient","timestamp":"2025-10-05T05:43:46.973Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:43:46.973Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:43:46.973Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:43:46.974Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:43:49.305Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:43:50.367Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:43:50.368Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:43:50.368Z"}
{"level":"info","message":"Recibida señal SIGTERM, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-05T05:44:03.666Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759643043667}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-05T05:44:03.667Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-05T05:44:03.669Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T05:44:04.199Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T05:44:04.193Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T05:44:04.212Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T05:44:04.205Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T05:44:04.207Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T05:44:04.211Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T05:44:04.210Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759643044223}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T05:44:04.216Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T05:44:04.218Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T05:44:04.218Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T05:44:04.219Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T05:44:04.220Z"}
{"level":"info","message":"✅ Conectado a Redis: localhost:6379","module":"RedisHistory","timestamp":"2025-10-05T05:44:04.262Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759643044222}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T05:44:04.222Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T05:44:04.222Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T05:44:04.222Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T05:44:04.239Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T05:44:04.240Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T05:44:04.212Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T05:44:04.213Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T05:44:04.213Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T05:44:04.213Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T05:44:04.213Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T05:44:04.213Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T05:44:04.214Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T05:44:04.214Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T05:44:04.214Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T05:44:04.214Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T05:44:04.214Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T05:44:04.240Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T05:44:04.205Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T05:44:04.216Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-05T05:44:04.273Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-05T05:44:05.460Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (1m)","module":"DataManager","timestamp":"2025-10-05T05:44:05.460Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 200","module":"BybitClient","timestamp":"2025-10-05T05:44:05.462Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-05T05:44:05.461Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:44:05.847Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-05T05:44:05.848Z"}
{"level":"info","message":"Datos suficientes recopilados para BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-05T05:44:05.849Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:44:05.851Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T05:44:05.853Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-05T05:44:05.854Z"}
{"level":"info","message":"Velas obtenidas: 200 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:44:05.848Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-05T05:44:05.849Z"}
{"level":"debug","message":"Predicción Kalman: 125132.10270277699 (Confianza: 0.890)","module":"KalmanFilter","timestamp":"2025-10-05T05:44:05.854Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:44:06.235Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:44:08.657Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":125088.50851280859,"middle":125232.63999999997,"upper":125376.77148719135},"ema":{"ema21":125180.81543099976,"ema50":125073.05222524363,"ema9":125171.75219819283},"macd":{"histogram":0.9065214280955836,"macd":9.065214280955843,"signal":8.15869285286026},"rsi":32.01827875095229,"volume":{"avg":222.53875999999994,"current":1.314,"ratio":0.005904589384788521}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is below 30 and MACD is bearish, indicating a potential sell opportunity. However, the Bollinger bands are contracting, which could indicate a possible bounce. The Kalman forecast also suggests a slight chance of a price increase. Therefore, I suggest buying.","symbol":"BTCUSDT","timestamp":1759643048658}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643048659","module":"BybitClient","timestamp":"2025-10-05T05:44:08.660Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:44:08.660Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"-7.378\",\"markPrice\":\"125100.8\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.13675075\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759643049546}","module":"BybitClient","timestamp":"2025-10-05T05:44:09.731Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:44:09.731Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643049732","module":"BybitClient","timestamp":"2025-10-05T05:44:09.732Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:44:09.732Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216312.57952582\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-7.3790034\",\"totalWalletBalance\":\"216319.95852922\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49991.77375246\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123791.53886218\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4563.183888\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37960.92033801\",\"totalPositionMM\":\"117.17364076\",\"usdValue\":\"37966.08302317\",\"unrealisedPnl\":\"-7.378\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1647.30221315\",\"walletBalance\":\"37968.29833801\",\"cumRealisedPnl\":\"-12939.30455199\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759643050613}","module":"BybitClient","timestamp":"2025-10-05T05:44:10.799Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.17 BTCUSDT | PnL: -0.03%","module":"TradingStrategy","timestamp":"2025-10-05T05:44:10.800Z"}
{"level":"info","message":"Balance obtenido - Total: $216312.58, Disponible: $37968.30","module":"BybitClient","timestamp":"2025-10-05T05:44:10.800Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643050801","module":"BybitClient","timestamp":"2025-10-05T05:44:10.801Z"}
{"level":"debug","message":"Signature payload: category=linear&limit=20&orderStatus=Filled&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:44:10.801Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10004,\"retMsg\":\"error sign! origin_string[1759643050801jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20]\",\"result\":{},\"retExtInfo\":{},\"time\":1759643051677}","module":"BybitClient","timestamp":"2025-10-05T05:44:11.861Z"}
{"error":{"endpoint":"/v5/order/history","error":"Error API Bybit: error sign! origin_string[1759643050801jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)","method":"GET","params":{"category":"linear","limit":20,"orderStatus":"Filled","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T05:44:11.861Z"}
{"error":"Error: Error API Bybit: error sign! origin_string[1759643050801jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:460:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.getOrderHistory (/app/dist/exchange/bybit-client.js:328:30)\n    at async BybitClient.checkTPSLExecutions (/app/dist/exchange/bybit-client.js:345:29)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:397:39)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:84:17)","level":"error","message":"Error obteniendo historial de órdenes:","module":"BybitClient","timestamp":"2025-10-05T05:44:11.863Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:44:12.927Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:44:12.929Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una pérdida del 0.03%, pero no hay señales de reversión fuertes o ...","module":"OllamaClient","timestamp":"2025-10-05T05:44:15.732Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una pérdida del 0.03%, pero no hay señales de reversión fuertes o confirmac...","module":"TradingStrategy","timestamp":"2025-10-05T05:44:15.733Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643055734","module":"BybitClient","timestamp":"2025-10-05T05:44:15.734Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:44:15.733Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:44:15.733Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:44:15.734Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"-4.097\",\"markPrice\":\"125120.1\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.15315575\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759643056615}","module":"BybitClient","timestamp":"2025-10-05T05:44:16.800Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:44:16.801Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:44:16.800Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:44:16.801Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:45:05.850Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:45:06.300Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:45:06.301Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:45:06.300Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:45:16.803Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T05:45:16.804Z"}
{"level":"debug","message":"Predicción Kalman: 125154.52880533897 (Confianza: 0.890)","module":"KalmanFilter","timestamp":"2025-10-05T05:45:16.804Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:45:17.209Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:45:20.286Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":125063.51724991904,"middle":125202.06000000001,"upper":125340.60275008099},"ema":{"ema21":125175.21484079446,"ema50":125086.0482307303,"ema9":125167.880304272},"macd":{"histogram":0.2554745864879804,"macd":2.5547458648798056,"signal":2.299271278391825},"rsi":48.6683649837888,"volume":{"avg":222.95553999999993,"current":2.959,"ratio":0.013271704304813422}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is at 48.67, MACD histogram is bullish and crossed above the signal line, Bollinger bands are expanding and the price is above the upper band, EMA9 is above EMA21 and EMA50, Kalman predicts a price increase of $125154.53 with a confidence of 89.0%. These indicators suggest a bullish trend and a good moment to buy.","symbol":"BTCUSDT","timestamp":1759643120287}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643120287","module":"BybitClient","timestamp":"2025-10-05T05:45:20.287Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:45:20.288Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"-1.683\",\"markPrice\":\"125134.3\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.16522575\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759643121166}","module":"BybitClient","timestamp":"2025-10-05T05:45:21.349Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:45:21.351Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643121351","module":"BybitClient","timestamp":"2025-10-05T05:45:21.352Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:45:21.352Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216354.29195021\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-1.68327937\",\"totalWalletBalance\":\"216355.97522959\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49992.02375257\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123822.23047248\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4567.119929\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37966.61533801\",\"totalPositionMM\":\"117.17364076\",\"usdValue\":\"37972.91779615\",\"unrealisedPnl\":\"-1.683\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1647.30221315\",\"walletBalance\":\"37968.29833801\",\"cumRealisedPnl\":\"-12939.30455199\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759643121540}","module":"BybitClient","timestamp":"2025-10-05T05:45:21.726Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.17 BTCUSDT | PnL: -0.01%","module":"TradingStrategy","timestamp":"2025-10-05T05:45:21.727Z"}
{"level":"info","message":"Balance obtenido - Total: $216354.29, Disponible: $37968.30","module":"BybitClient","timestamp":"2025-10-05T05:45:21.726Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643121727","module":"BybitClient","timestamp":"2025-10-05T05:45:21.727Z"}
{"level":"debug","message":"Signature payload: category=linear&limit=20&orderStatus=Filled&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:45:21.727Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":10004,\"retMsg\":\"error sign! origin_string[1759643121727jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20]\",\"result\":{},\"retExtInfo\":{},\"time\":1759643122607}","module":"BybitClient","timestamp":"2025-10-05T05:45:22.790Z"}
{"error":{"endpoint":"/v5/order/history","error":"Error API Bybit: error sign! origin_string[1759643121727jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)","method":"GET","params":{"category":"linear","limit":20,"orderStatus":"Filled","symbol":"BTCUSDT"}},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-05T05:45:22.791Z"}
{"error":"Error: Error API Bybit: error sign! origin_string[1759643121727jZVZskvC82vQUZhMzV5000category=linear&symbol=BTCUSDT&orderStatus=Filled&limit=20] (Code: 10004)\n    at BybitClient.makeAuthenticatedRequest (/app/dist/exchange/bybit-client.js:460:23)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at async BybitClient.getOrderHistory (/app/dist/exchange/bybit-client.js:328:30)\n    at async BybitClient.checkTPSLExecutions (/app/dist/exchange/bybit-client.js:345:29)\n    at async TradingStrategy.manageExistingPositions (/app/dist/strategy/trading-strategy.js:397:39)\n    at async TradingStrategy.tradingLoop (/app/dist/strategy/trading-strategy.js:84:17)","level":"error","message":"Error obteniendo historial de órdenes:","module":"BybitClient","timestamp":"2025-10-05T05:45:22.792Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:45:23.857Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:45:23.858Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una tendencia ALCISTA (RSI<60, MACD>0, EMA9>EMA21), aunque hay una...","module":"OllamaClient","timestamp":"2025-10-05T05:45:26.207Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una tendencia ALCISTA (RSI<60, MACD>0, EMA9>EMA21), aunque hay una señal de...","module":"TradingStrategy","timestamp":"2025-10-05T05:45:26.208Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643126209","module":"BybitClient","timestamp":"2025-10-05T05:45:26.209Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:45:26.208Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:45:26.209Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:45:26.210Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"0.493\",\"markPrice\":\"125147.1\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.17610575\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759643126399}","module":"BybitClient","timestamp":"2025-10-05T05:45:26.582Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:45:26.583Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:45:26.583Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:45:26.583Z"}
{"level":"info","message":"Recibida señal SIGTERM, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-05T05:45:27.395Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759643127396}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-05T05:45:27.396Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_STOP","module":"TradingSystem","status":"stop","timestamp":1759643127396}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-05T05:45:29.259Z"}
{"level":"info","message":"Sistema detenido exitosamente","module":"TradingSystem","timestamp":"2025-10-05T05:45:29.259Z"}
{"level":"info","message":"Sistema de métricas iniciado en puerto 9090","module":"TradingSystem","timestamp":"2025-10-05T05:45:29.928Z"}
{"level":"info","message":"26 métricas inicializadas","module":"MetricsCollector","timestamp":"2025-10-05T05:45:29.922Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-05T05:45:29.940Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T05:45:29.931Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T05:45:29.936Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T05:45:29.939Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T05:45:29.938Z"}
{"component":"TradingStrategy","interval":"1m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759643129950}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat (timeout: 120000ms)","module":"OllamaClient","timestamp":"2025-10-05T05:45:29.943Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":10000000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-05T05:45:29.946Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T05:45:29.945Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T05:45:29.947Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-05T05:45:29.948Z"}
{"level":"info","message":"✅ Conectado a Redis: localhost:6379","module":"RedisHistory","timestamp":"2025-10-05T05:45:29.989Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759643129950}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-05T05:45:29.950Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-05T05:45:29.950Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (1m)","module":"TradingSystem","timestamp":"2025-10-05T05:45:29.950Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-05T05:45:29.940Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-05T05:45:29.940Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-05T05:45:29.941Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-05T05:45:29.941Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-05T05:45:29.941Z"}
{"level":"debug","message":"Herramienta registrada: close_position","module":"MCPServer","timestamp":"2025-10-05T05:45:29.941Z"}
{"level":"debug","message":"Herramienta registrada: get_market_data_1m","module":"MCPServer","timestamp":"2025-10-05T05:45:29.941Z"}
{"level":"debug","message":"Herramienta registrada: analyze_candle_pattern","module":"MCPServer","timestamp":"2025-10-05T05:45:29.942Z"}
{"level":"debug","message":"Herramienta registrada: detect_micro_trend","module":"MCPServer","timestamp":"2025-10-05T05:45:29.942Z"}
{"level":"debug","message":"Herramienta registrada: analyze_order_book","module":"MCPServer","timestamp":"2025-10-05T05:45:29.942Z"}
{"level":"info","message":"11 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-05T05:45:29.942Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-05T05:45:29.968Z"}
{"level":"info","message":"Servidor de métricas iniciado en puerto 9090","module":"MetricsCollector","timestamp":"2025-10-05T05:45:29.967Z"}
{"level":"info","message":"Métricas disponibles en http://localhost:9090/metrics","module":"MetricsCollector","timestamp":"2025-10-05T05:45:29.968Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T05:45:29.931Z"}
{"level":"info","message":"ℹ️  Modelo llama2:7b-chat usa análisis directo (sin function calling)","module":"OllamaClient","timestamp":"2025-10-05T05:45:29.944Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-05T05:45:29.998Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-05T05:45:31.145Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (1m)","module":"DataManager","timestamp":"2025-10-05T05:45:31.146Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 200","module":"BybitClient","timestamp":"2025-10-05T05:45:31.147Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-05T05:45:31.146Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:45:31.869Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-05T05:45:31.870Z"}
{"level":"info","message":"Datos suficientes recopilados para BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-05T05:45:31.871Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:45:31.873Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T05:45:31.874Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-05T05:45:31.876Z"}
{"level":"info","message":"Velas obtenidas: 200 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:45:31.870Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-05T05:45:31.871Z"}
{"level":"debug","message":"Predicción Kalman: 125135.70489151866 (Confianza: 0.890)","module":"KalmanFilter","timestamp":"2025-10-05T05:45:31.876Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:45:32.249Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:45:35.455Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":125085.40070736909,"middle":125229.68499999998,"upper":125373.96929263088},"ema":{"ema21":125181.26848013424,"ema50":125075.96632718887,"ema9":125172.62575853542},"macd":{"histogram":0.7877746764177571,"macd":7.877746764177573,"signal":7.089972087759816},"rsi":37.54073702682431,"volume":{"avg":223.62976999999995,"current":125.112,"ratio":0.5594603974238315}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is below 30 and MACD is bearish, indicating a potential sell opportunity. However, the Bollinger bands are narrow and the EMAs are flat, suggesting a possible bounce. Kalman predicts a slight increase in price, but with low confidence. Given the high volatility of cryptocurrencies, it's important to keep a close eye on market conditions and adjust the leverage accordingly. With a suggested leverage of 10-50, I would advise a cautious Buy position.","symbol":"BTCUSDT","timestamp":1759643135456}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643135459","module":"BybitClient","timestamp":"2025-10-05T05:45:35.462Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:45:35.462Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"-3.9763\",\"markPrice\":\"125120.81\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.15375925\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759643135653}","module":"BybitClient","timestamp":"2025-10-05T05:45:35.837Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:45:35.838Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643135839","module":"BybitClient","timestamp":"2025-10-05T05:45:35.839Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:45:35.839Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216301.34513418\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-8.96754833\",\"totalWalletBalance\":\"216310.31268251\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49989.87375155\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123781.70194577\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4563.034829\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37959.33253801\",\"totalPositionMM\":\"117.17364076\",\"usdValue\":\"37966.73460785\",\"unrealisedPnl\":\"-8.9658\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1647.30221315\",\"walletBalance\":\"37968.29833801\",\"cumRealisedPnl\":\"-12939.30455199\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759643136718}","module":"BybitClient","timestamp":"2025-10-05T05:45:36.902Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.17 BTCUSDT | PnL: -0.02%","module":"TradingStrategy","timestamp":"2025-10-05T05:45:36.903Z"}
{"level":"info","message":"Balance obtenido - Total: $216301.35, Disponible: $37968.30","module":"BybitClient","timestamp":"2025-10-05T05:45:36.903Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643136904","module":"BybitClient","timestamp":"2025-10-05T05:45:36.904Z"}
{"level":"debug","message":"Signature payload: category=linear&limit=20&orderStatus=Filled&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:45:36.905Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"ca590511-ad0a-47ea-92f6-99682d39d55a%3A1759641282552%2C8c741094-6907-4866-a9ea-127edb792b70%3A1759618277790\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"ca590511-ad0a-47ea-92f6-99682d39d55a\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125144.2\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125144.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126533.3\",\"cumExecValue\":\"21274.514\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126401.7\",\"orderIv\":\"\",\"createdTime\":\"1759641282552\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"11.7009827\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.17\",\"reduceOnly\":false,\"qty\":\"0.17\",\"stopLoss\":\"124393.3\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"ff981acf-2f62-4ac0-bc1d-2be3f0c1b2dd\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125191.2\",\"stopOrderType\":\"StopLoss\",\"lastPriceOnCreated\":\"125199.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByStopLoss\",\"takeProfit\":\"\",\"cumExecValue\":\"36555.8304\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":2,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123947.3\",\"orderIv\":\"\",\"createdTime\":\"1759640797455\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759641216384\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125194.1\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.10570672\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.292\",\"reduceOnly\":true,\"qty\":\"0.292\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"0036d490-5f56-4e6b-ad4e-0148c2599668\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"124952.2\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"124952.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126386\",\"cumExecValue\":\"36486.0424\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126215.5\",\"orderIv\":\"\",\"createdTime\":\"1759640797455\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640797455\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.06732332\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.292\",\"reduceOnly\":false,\"qty\":\"0.292\",\"stopLoss\":\"124230.1\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"83854777-9ba8-4fe1-894a-479f041273b3\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125190.6\",\"stopOrderType\":\"StopLoss\",\"lastPriceOnCreated\":\"125194.3\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByStopLoss\",\"takeProfit\":\"\",\"cumExecValue\":\"36555.6552\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":2,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123954.9\",\"orderIv\":\"\",\"createdTime\":\"1759640378407\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640750094\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125194.1\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.10561036\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.292\",\"reduceOnly\":true,\"qty\":\"0.292\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"7c23ac21-dd21-4370-a713-f8c8c42a9883\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125148.7\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125148.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126634.4\",\"cumExecValue\":\"36543.4204\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126410.9\",\"orderIv\":\"\",\"createdTime\":\"1759640378407\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640378407\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.09888122\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.292\",\"reduceOnly\":false,\"qty\":\"0.292\",\"stopLoss\":\"124455.8\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"8509dfb8-d6fa-4cc0-8d17-31e38fdb97ed\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125192\",\"stopOrderType\":\"StopLoss\",\"lastPriceOnCreated\":\"125198.3\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByStopLoss\",\"takeProfit\":\"\",\"cumExecValue\":\"28418.584\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":2,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123961.7\",\"orderIv\":\"\",\"createdTime\":\"1759640302745\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640370605\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125194.1\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"15.6302212\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.227\",\"reduceOnly\":true,\"qty\":\"0.227\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"d8de2cf9-5b9c-4d22-95af-93267eb7de33\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125203.7\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125203.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126573.7\",\"cumExecValue\":\"28421.2399\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126453.6\",\"orderIv\":\"\",\"createdTime\":\"1759640302744\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640302745\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"15.63168195\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.227\",\"reduceOnly\":false,\"qty\":\"0.227\",\"stopLoss\":\"124433\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"d4f4fc46-688d-4b4e-b9e9-5815257b5fa7\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125190.9\",\"stopOrderType\":\"StopLoss\",\"lastPriceOnCreated\":\"125194.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByStopLoss\",\"takeProfit\":\"\",\"cumExecValue\":\"50577.1236\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":2,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123973.8\",\"orderIv\":\"\",\"createdTime\":\"1759639752464\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640280814\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125194.1\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"27.81741798\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.404\",\"reduceOnly\":true,\"qty\":\"0.404\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"b0fdbb11-eae6-4ab1-a51a-c59c6f23ae9b\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125381.5\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125381.5\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"127188.1\",\"cumExecValue\":\"50654.126\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126670.9\",\"orderIv\":\"\",\"createdTime\":\"1759639752463\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639752464\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"27.8597693\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.404\",\"reduceOnly\":false,\"qty\":\"0.404\",\"stopLoss\":\"124981.4\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"bab14857-9c51-433c-86a5-cfc456f1c0d1\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125147.8\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125147.8\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"6883.129\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123925.2\",\"orderIv\":\"\",\"createdTime\":\"1759639681340\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639681340\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"3.78572095\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.055\",\"reduceOnly\":false,\"qty\":\"0.055\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"f4d8a761-2ead-469e-a1d5-59fd070f48f1\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"124910.5\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"124910.5\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"13740.155\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123667.3\",\"orderIv\":\"\",\"createdTime\":\"1759639609922\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639609923\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"7.55708525\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.11\",\"reduceOnly\":false,\"qty\":\"0.11\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"d156c6ca-629c-4882-b9f8-280959c0e20b\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"124383.2\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"124383.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"9079.9736\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123150\",\"orderIv\":\"\",\"createdTime\":\"1759639539819\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639539820\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"4.99398548\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.073\",\"reduceOnly\":false,\"qty\":\"0.073\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"51e03e67-fa97-4def-8265-bf0901dab45f\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125413.6\",\"stopOrderType\":\"TakeProfit\",\"lastPriceOnCreated\":\"125400.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByTakeProfit\",\"takeProfit\":\"\",\"cumExecValue\":\"7023.1616\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":1,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"124112.9\",\"orderIv\":\"\",\"createdTime\":\"1759635645771\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639735096\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125403.4\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"3.86273888\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.056\",\"reduceOnly\":true,\"qty\":\"0.056\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"4f86d877-0375-4631-9967-9c01f601e8e5\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"123950.7\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"123950.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"125403.4\",\"cumExecValue\":\"36441.5058\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"125198.4\",\"orderIv\":\"\",\"createdTime\":\"1759635645771\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.04282819\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.294\",\"reduceOnly\":false,\"qty\":\"0.294\",\"stopLoss\":\"123246\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"a1f8524c-ec36-471d-8ad5-cc2512544abe\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"122199.6\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"122199.6\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"4521.3852\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"120980\",\"orderIv\":\"\",\"createdTime\":\"1759627473299\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759627473299\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"2.48676186\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.037\",\"reduceOnly\":false,\"qty\":\"0.037\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"8b69d590-2750-428a-814c-d6dd4d65898f\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"123480\",\"stopOrderType\":\"TakeProfit\",\"lastPriceOnCreated\":\"123478.8\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByTakeProfit\",\"takeProfit\":\"\",\"cumExecValue\":\"13706.28\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":1,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"122233.8\",\"orderIv\":\"\",\"createdTime\":\"1759626984495\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759631557724\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"123479.3\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"7.538454\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.111\",\"reduceOnly\":true,\"qty\":\"0.111\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"f220410a-cf85-4183-ae3b-65de31cb4e4f\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"122265.7\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"122265.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"123479.3\",\"cumExecValue\":\"18095.3236\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123495\",\"orderIv\":\"\",\"createdTime\":\"1759626984494\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759626984495\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"9.95242798\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.148\",\"reduceOnly\":false,\"qty\":\"0.148\",\"stopLoss\":\"121535.2\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"cfcbe5be-ee15-494e-86c5-8ae0bd072ac5\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"122236\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"122236\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByClosing\",\"takeProfit\":\"\",\"cumExecValue\":\"37404.216\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"121013.7\",\"orderIv\":\"\",\"createdTime\":\"1759620729848\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759620729849\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.5723188\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.306\",\"reduceOnly\":true,\"qty\":\"0.306\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"7b1b60eb-6d1e-4357-93d4-0141f523fcbb\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"122236.9\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"122236.9\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"123630.5\",\"cumExecValue\":\"37404.4914\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123459.2\",\"orderIv\":\"\",\"createdTime\":\"1759618805046\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759618805047\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.57247027\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.306\",\"reduceOnly\":false,\"qty\":\"0.306\",\"stopLoss\":\"121503.5\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"8c741094-6907-4866-a9ea-127edb792b70\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"122273.5\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"122273.5\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByClosing\",\"takeProfit\":\"\",\"cumExecValue\":\"107111.586\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"121051.1\",\"orderIv\":\"\",\"createdTime\":\"1759618277790\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759618277791\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"58.9113723\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.876\",\"reduceOnly\":true,\"qty\":\"0.876\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"}]},\"retExtInfo\":{},\"time\":1759643137798}","module":"BybitClient","timestamp":"2025-10-05T05:45:38.332Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:45:39.398Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:45:39.400Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una pérdida del 0.02%, pero no hay señales claras de reversión. La...","module":"OllamaClient","timestamp":"2025-10-05T05:45:41.834Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una pérdida del 0.02%, pero no hay señales claras de reversión. La tendenci...","module":"TradingStrategy","timestamp":"2025-10-05T05:45:41.835Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643141836","module":"BybitClient","timestamp":"2025-10-05T05:45:41.836Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:45:41.835Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:45:41.835Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:45:41.837Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759641282552%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"125144.2\",\"liqPrice\":\"116143.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126533.3\",\"positionValue\":\"21274.514\",\"isReduceOnly\":false,\"positionIMByMp\":\"1647.30221315\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"116098.3\",\"unrealisedPnl\":\"-13.7224\",\"markPrice\":\"125063.48\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11888.79263324\",\"positionMM\":\"117.17364076\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1647.30221315\",\"positionMMByMp\":\"117.10502875\",\"seq\":140697267064798,\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1647.30221315\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-11.7009827\",\"size\":\"0.17\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124393.3\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759643142721}","module":"BybitClient","timestamp":"2025-10-05T05:45:42.904Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:45:42.905Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:45:42.905Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:45:42.905Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:46:31.873Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:46:32.978Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:46:32.979Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:46:32.978Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:46:42.906Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T05:46:42.908Z"}
{"level":"debug","message":"Predicción Kalman: 125099.9470653091 (Confianza: 0.886)","module":"KalmanFilter","timestamp":"2025-10-05T05:46:42.910Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:46:44.023Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:46:46.609Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":125031.92240651416,"middle":125179.50499999998,"upper":125327.08759348579},"ema":{"ema21":125150.98390980184,"ema50":125080.02849288484,"ema9":125121.15330455368},"macd":{"histogram":-1.6071197402547117,"macd":-16.071197402547114,"signal":-14.464077662292402},"rsi":43.49209833187073,"volume":{"avg":225.96665999999996,"current":20.243,"ratio":0.08958401208390655}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is above 45, MACD histogram is bullish and crossed above zero, Bollinger bands are expanding and the price is above the upper band, EMA9 crossed above EMA21 and EMA50, Kalman predicts a bullish movement with confidence above 75%","symbol":"BTCUSDT","timestamp":1759643206609}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643206610","module":"BybitClient","timestamp":"2025-10-05T05:46:46.610Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:46:46.610Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759643189242%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"125004.21\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-11915.58131314\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697267117879,\"updatedTime\":\"1759643189242\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759643207488}","module":"BybitClient","timestamp":"2025-10-05T05:46:47.671Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T05:46:47.671Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643207671","module":"BybitClient","timestamp":"2025-10-05T05:46:47.672Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:46:47.672Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759643189242%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"125004.27\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-11915.58131314\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697267117879,\"updatedTime\":\"1759643189242\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759643208552}","module":"BybitClient","timestamp":"2025-10-05T05:46:48.733Z"}
{"level":"info","message":"AI sugiere BUY con confianza 0.7","module":"TradingStrategy","timestamp":"2025-10-05T05:46:48.733Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T05:46:48.733Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643208734","module":"BybitClient","timestamp":"2025-10-05T05:46:48.734Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:46:48.735Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216241.70081144\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"216241.70081144\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49989.9737516\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123744.03910491\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4560.98031\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37941.50965811\",\"totalPositionMM\":\"0\",\"usdValue\":\"37946.70764493\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"37941.50965811\",\"cumRealisedPnl\":\"-12966.09323189\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759643208924}","module":"BybitClient","timestamp":"2025-10-05T05:46:49.108Z"}
{"level":"info","message":"Balance disponible: $37941.51, Precio: $125004","module":"TradingStrategy","timestamp":"2025-10-05T05:46:49.108Z"}
{"level":"info","message":"Balance obtenido - Total: $216241.70, Disponible: $37941.51","module":"BybitClient","timestamp":"2025-10-05T05:46:49.108Z"}
{"level":"debug","message":"Símbolo info - Min: 0.001, Step: 0.001","module":"TradingStrategy","timestamp":"2025-10-05T05:46:50.169Z"}
{"level":"info","message":"Contador diario de trades reseteado","module":"RiskManager","timestamp":"2025-10-05T05:46:50.173Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643210173","module":"BybitClient","timestamp":"2025-10-05T05:46:50.174Z"}
{"level":"info","message":"Riesgo: 5%, Capital a arriesgar: $1897.08","module":"TradingStrategy","timestamp":"2025-10-05T05:46:50.169Z"}
{"level":"info","message":"Position value: $28456.13, Quantity raw: 0.227642","module":"TradingStrategy","timestamp":"2025-10-05T05:46:50.170Z"}
{"level":"info","message":"Cantidad final calculada: 0.227 BTC (valor: $28375.91)","module":"TradingStrategy","timestamp":"2025-10-05T05:46:50.170Z"}
{"level":"info","message":"Parámetros calculados - Leverage: 15x, Quantity: 0.227","module":"TradingStrategy","timestamp":"2025-10-05T05:46:50.170Z"}
{"level":"info","message":"Generando señal de trading: BUY 0.227 BTCUSDT @ 125004 (SL: 124253.976, TP: 126391.54440000001)","module":"TradingStrategy","timestamp":"2025-10-05T05:46:50.171Z"}
{"level":"info","message":"EJECUTANDO TRADE: BUY 0.227 BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-05T05:46:50.171Z"}
{"level":"info","message":"=== INICIO EJECUCIÓN DE TRADE ===","module":"TradingStrategy","timestamp":"2025-10-05T05:46:50.172Z"}
{"level":"info","message":"Señal: {\"symbol\":\"BTCUSDT\",\"action\":\"BUY\",\"leverage\":15,\"quantity\":0.227,\"stopLoss\":124253.976,\"takeProfit\":126391.54440000001,\"timestamp\":1759643210171,\"aiAnalysis\":{\"decision\":\"BUY\",\"confidence\":0.7,\"reasoning\":\"RSI is above 45, MACD histogram is bullish and crossed above zero, Bollinger bands are expanding and the price is above the upper band, EMA9 crossed above EMA21 and EMA50, Kalman predicts a bullish movement with confidence above 75%\",\"indicators\":{},\"kalman\":{},\"marketSentiment\":\"bullish\",\"riskLevel\":\"medium\",\"suggestedLeverage\":20}}","module":"TradingStrategy","timestamp":"2025-10-05T05:46:50.172Z"}
{"level":"info","message":"Validando con Risk Manager...","module":"TradingStrategy","timestamp":"2025-10-05T05:46:50.172Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:46:50.174Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216241.70081144\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"0\",\"totalWalletBalance\":\"216241.70081144\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49989.9737516\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123744.03910491\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4560.98031\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37941.50965811\",\"totalPositionMM\":\"0\",\"usdValue\":\"37946.70764493\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"37941.50965811\",\"cumRealisedPnl\":\"-12966.09323189\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759643210390}","module":"BybitClient","timestamp":"2025-10-05T05:46:50.573Z"}
{"level":"info","message":"Balance obtenido - Total: $216241.70, Disponible: $37941.51","module":"BybitClient","timestamp":"2025-10-05T05:46:50.573Z"}
{"level":"info","message":"Validando posición: Cantidad=0.227, Precio=125026.00, Valor=$28380.90","module":"RiskManager","timestamp":"2025-10-05T05:46:51.632Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643211633","module":"BybitClient","timestamp":"2025-10-05T05:46:51.633Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:46:51.633Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759643189242%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"13\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"125030.5\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-11915.58131314\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697267117879,\"updatedTime\":\"1759643189242\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759643212518}","module":"BybitClient","timestamp":"2025-10-05T05:46:52.702Z"}
{"level":"info","message":"Posiciones activas encontradas: 0","module":"BybitClient","timestamp":"2025-10-05T05:46:52.703Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 20","module":"BybitClient","timestamp":"2025-10-05T05:46:53.072Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:46:54.131Z"}
{"level":"info","message":"Velas obtenidas: 20 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:46:54.131Z"}
{"level":"info","message":"Trade aprobado - Risk Score: 0.30","module":"RiskManager","timestamp":"2025-10-05T05:46:55.186Z"}
{"level":"info","message":"Resultado validación: {\"approved\":true,\"reason\":\"Trade aprobado por gestión de riesgo\",\"riskScore\":0.29674549859276605}","module":"TradingStrategy","timestamp":"2025-10-05T05:46:55.187Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759643215189","module":"BybitClient","timestamp":"2025-10-05T05:46:55.189Z"}
{"level":"info","message":"Trade aprobado por Risk Manager, ejecutando...","module":"TradingStrategy","timestamp":"2025-10-05T05:46:55.187Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"buyLeverage\":\"15\",\"sellLeverage\":\"15\"}","module":"BybitClient","timestamp":"2025-10-05T05:46:55.189Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{},\"retExtInfo\":{},\"time\":1759643215378}","module":"BybitClient","timestamp":"2025-10-05T05:46:55.559Z"}
{"level":"info","message":"Leverage establecido a 15x para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:46:55.559Z"}
{"level":"info","message":"Ejecutando orden: Buy 0.227 BTCUSDT | SL: 124253.976 | TP: 126391.54440000001","module":"BybitClient","timestamp":"2025-10-05T05:46:55.560Z"}
{"level":"debug","message":"Autenticación [POST]: timestamp=1759643215560","module":"BybitClient","timestamp":"2025-10-05T05:46:55.560Z"}
{"level":"debug","message":"Signature payload: {\"category\":\"linear\",\"symbol\":\"BTCUSDT\",\"side\":\"Buy\",\"orderType\":\"Market\",\"qty\":\"0.227\",\"timeInForce\":\"IOC\",\"stopLoss\":\"124253.98\",\"slTriggerBy\":\"LastPrice\",\"takeProfit\":\"126391.54\",\"tpTriggerBy\":\"LastPrice\"}","module":"BybitClient","timestamp":"2025-10-05T05:46:55.561Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"orderId\":\"b81e82e8-d45b-41da-9e4a-66da7edb0e9e\",\"orderLinkId\":\"\"},\"retExtInfo\":{},\"time\":1759643215748}","module":"BybitClient","timestamp":"2025-10-05T05:46:55.929Z"}
{"level":"info","message":"TRADE_OPEN","module":"TradingStrategy","pnl":0,"price":0,"quantity":0.227,"side":"BUY","symbol":"BTCUSDT","timestamp":1759643215930}
{"level":"info","message":"Orden ejecutada exitosamente: b81e82e8-d45b-41da-9e4a-66da7edb0e9e","module":"BybitClient","timestamp":"2025-10-05T05:46:55.930Z"}
{"level":"info","message":"📝 Trade registrado: ab028f48-99e8-4271-b64a-81d6ac0a38f4 | BUY @ $0","module":"RedisHistory","timestamp":"2025-10-05T05:46:55.937Z"}
{"level":"debug","message":"Trades ejecutados hoy: 1/20","module":"RiskManager","timestamp":"2025-10-05T05:46:55.937Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643215939","module":"BybitClient","timestamp":"2025-10-05T05:46:55.940Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:46:55.940Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216188.51401626\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"7.10623681\",\"totalWalletBalance\":\"216181.40777944\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49986.27374984\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123703.70620042\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4559.456776\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37933.00800871\",\"totalPositionMM\":\"156.44602862\",\"usdValue\":\"37939.07728999\",\"unrealisedPnl\":\"7.1051\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1906.2937832\",\"walletBalance\":\"37925.90290871\",\"cumRealisedPnl\":\"-12981.69998129\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759643216823}","module":"BybitClient","timestamp":"2025-10-05T05:46:57.007Z"}
{"level":"info","message":"Balance obtenido - Total: $216188.51, Disponible: $37925.90","module":"BybitClient","timestamp":"2025-10-05T05:46:57.007Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:47:31.874Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:47:33.016Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:47:33.017Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:47:33.017Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:47:57.010Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T05:47:57.011Z"}
{"level":"debug","message":"Predicción Kalman: 125052.82622162887 (Confianza: 0.882)","module":"KalmanFilter","timestamp":"2025-10-05T05:47:57.011Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:47:58.106Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:48:00.809Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":124979.60266678904,"middle":125138.05500000001,"upper":125296.50733321098},"ema":{"ema21":125118.34786841644,"ema50":125079.17289666763,"ema9":125076.56892284777},"macd":{"histogram":-3.1704890666849685,"macd":-31.70489066684968,"signal":-28.53440160016471},"rsi":36.51155222909238,"volume":{"avg":228.66456,"current":62.232,"ratio":0.2721541108075515}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is below 36, MACD histogram is red and negative, Bollinger bands are above the price, EMA9 crosses above EMA21, Kalman predicts a bullish movement with high confidence (>75%). These indicators suggest a potential upside opportunity. Leverage of 10-20x is recommended to maximize profits.","symbol":"BTCUSDT","timestamp":1759643280810}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643280810","module":"BybitClient","timestamp":"2025-10-05T05:48:00.810Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:48:00.810Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759643215748%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"125004\",\"liqPrice\":\"117295.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126391.5\",\"positionValue\":\"28375.908\",\"isReduceOnly\":false,\"positionIMByMp\":\"1906.2937832\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117256.7\",\"unrealisedPnl\":\"-4.19269\",\"markPrice\":\"124985.53\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11931.18806254\",\"positionMM\":\"156.44602862\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1906.2937832\",\"positionMMByMp\":\"156.42506516\",\"seq\":140697267118621,\"updatedTime\":\"1759643215748\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1906.2937832\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.6067494\",\"size\":\"0.227\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124253.9\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759643280997}","module":"BybitClient","timestamp":"2025-10-05T05:48:01.179Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:48:01.180Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643281180","module":"BybitClient","timestamp":"2025-10-05T05:48:01.180Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:48:01.181Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216150.16639148\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-4.19332309\",\"totalWalletBalance\":\"216154.35971457\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49986.8237501\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123676.94008442\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4558.96616\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37921.71021871\",\"totalPositionMM\":\"156.44602862\",\"usdValue\":\"37927.43639695\",\"unrealisedPnl\":\"-4.19269\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1906.2937832\",\"walletBalance\":\"37925.90290871\",\"cumRealisedPnl\":\"-12981.69998129\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759643282062}","module":"BybitClient","timestamp":"2025-10-05T05:48:02.244Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.227 BTCUSDT | PnL: -0.01%","module":"TradingStrategy","timestamp":"2025-10-05T05:48:02.245Z"}
{"level":"info","message":"Balance obtenido - Total: $216150.17, Disponible: $37925.90","module":"BybitClient","timestamp":"2025-10-05T05:48:02.245Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643282245","module":"BybitClient","timestamp":"2025-10-05T05:48:02.246Z"}
{"level":"debug","message":"Signature payload: category=linear&limit=20&orderStatus=Filled&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:48:02.246Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"b81e82e8-d45b-41da-9e4a-66da7edb0e9e%3A1759643215747%2Ccfcbe5be-ee15-494e-86c5-8ae0bd072ac5%3A1759620729848\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"b81e82e8-d45b-41da-9e4a-66da7edb0e9e\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125004\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125004\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126391.5\",\"cumExecValue\":\"28375.908\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126285.6\",\"orderIv\":\"\",\"createdTime\":\"1759643215747\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759643215748\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"15.6067494\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.227\",\"reduceOnly\":false,\"qty\":\"0.227\",\"stopLoss\":\"124253.9\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"19e34142-3072-4ad1-9d0d-282152a0daed\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125055.4\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125055.4\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"21259.418\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123807.7\",\"orderIv\":\"\",\"createdTime\":\"1759643189242\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759643189242\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"11.6926799\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.17\",\"reduceOnly\":true,\"qty\":\"0.17\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"ca590511-ad0a-47ea-92f6-99682d39d55a\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125144.2\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125144.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126533.3\",\"cumExecValue\":\"21274.514\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126401.7\",\"orderIv\":\"\",\"createdTime\":\"1759641282552\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"11.7009827\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.17\",\"reduceOnly\":false,\"qty\":\"0.17\",\"stopLoss\":\"124393.3\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"ff981acf-2f62-4ac0-bc1d-2be3f0c1b2dd\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125191.2\",\"stopOrderType\":\"StopLoss\",\"lastPriceOnCreated\":\"125199.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByStopLoss\",\"takeProfit\":\"\",\"cumExecValue\":\"36555.8304\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":2,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123947.3\",\"orderIv\":\"\",\"createdTime\":\"1759640797455\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759641216384\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125194.1\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.10570672\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.292\",\"reduceOnly\":true,\"qty\":\"0.292\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"0036d490-5f56-4e6b-ad4e-0148c2599668\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"124952.2\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"124952.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126386\",\"cumExecValue\":\"36486.0424\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126215.5\",\"orderIv\":\"\",\"createdTime\":\"1759640797455\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640797455\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.06732332\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.292\",\"reduceOnly\":false,\"qty\":\"0.292\",\"stopLoss\":\"124230.1\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"83854777-9ba8-4fe1-894a-479f041273b3\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125190.6\",\"stopOrderType\":\"StopLoss\",\"lastPriceOnCreated\":\"125194.3\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByStopLoss\",\"takeProfit\":\"\",\"cumExecValue\":\"36555.6552\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":2,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123954.9\",\"orderIv\":\"\",\"createdTime\":\"1759640378407\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640750094\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125194.1\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.10561036\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.292\",\"reduceOnly\":true,\"qty\":\"0.292\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"7c23ac21-dd21-4370-a713-f8c8c42a9883\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125148.7\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125148.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126634.4\",\"cumExecValue\":\"36543.4204\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126410.9\",\"orderIv\":\"\",\"createdTime\":\"1759640378407\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640378407\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.09888122\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.292\",\"reduceOnly\":false,\"qty\":\"0.292\",\"stopLoss\":\"124455.8\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"8509dfb8-d6fa-4cc0-8d17-31e38fdb97ed\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125192\",\"stopOrderType\":\"StopLoss\",\"lastPriceOnCreated\":\"125198.3\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByStopLoss\",\"takeProfit\":\"\",\"cumExecValue\":\"28418.584\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":2,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123961.7\",\"orderIv\":\"\",\"createdTime\":\"1759640302745\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640370605\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125194.1\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"15.6302212\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.227\",\"reduceOnly\":true,\"qty\":\"0.227\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"d8de2cf9-5b9c-4d22-95af-93267eb7de33\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125203.7\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125203.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126573.7\",\"cumExecValue\":\"28421.2399\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126453.6\",\"orderIv\":\"\",\"createdTime\":\"1759640302744\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640302745\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"15.63168195\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.227\",\"reduceOnly\":false,\"qty\":\"0.227\",\"stopLoss\":\"124433\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"d4f4fc46-688d-4b4e-b9e9-5815257b5fa7\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125190.9\",\"stopOrderType\":\"StopLoss\",\"lastPriceOnCreated\":\"125194.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByStopLoss\",\"takeProfit\":\"\",\"cumExecValue\":\"50577.1236\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":2,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123973.8\",\"orderIv\":\"\",\"createdTime\":\"1759639752464\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640280814\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125194.1\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"27.81741798\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.404\",\"reduceOnly\":true,\"qty\":\"0.404\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"b0fdbb11-eae6-4ab1-a51a-c59c6f23ae9b\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125381.5\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125381.5\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"127188.1\",\"cumExecValue\":\"50654.126\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126670.9\",\"orderIv\":\"\",\"createdTime\":\"1759639752463\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639752464\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"27.8597693\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.404\",\"reduceOnly\":false,\"qty\":\"0.404\",\"stopLoss\":\"124981.4\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"bab14857-9c51-433c-86a5-cfc456f1c0d1\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125147.8\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125147.8\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"6883.129\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123925.2\",\"orderIv\":\"\",\"createdTime\":\"1759639681340\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639681340\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"3.78572095\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.055\",\"reduceOnly\":false,\"qty\":\"0.055\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"f4d8a761-2ead-469e-a1d5-59fd070f48f1\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"124910.5\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"124910.5\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"13740.155\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123667.3\",\"orderIv\":\"\",\"createdTime\":\"1759639609922\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639609923\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"7.55708525\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.11\",\"reduceOnly\":false,\"qty\":\"0.11\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"d156c6ca-629c-4882-b9f8-280959c0e20b\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"124383.2\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"124383.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"9079.9736\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123150\",\"orderIv\":\"\",\"createdTime\":\"1759639539819\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639539820\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"4.99398548\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.073\",\"reduceOnly\":false,\"qty\":\"0.073\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"51e03e67-fa97-4def-8265-bf0901dab45f\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125413.6\",\"stopOrderType\":\"TakeProfit\",\"lastPriceOnCreated\":\"125400.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByTakeProfit\",\"takeProfit\":\"\",\"cumExecValue\":\"7023.1616\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":1,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"124112.9\",\"orderIv\":\"\",\"createdTime\":\"1759635645771\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639735096\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125403.4\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"3.86273888\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.056\",\"reduceOnly\":true,\"qty\":\"0.056\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"4f86d877-0375-4631-9967-9c01f601e8e5\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"123950.7\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"123950.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"125403.4\",\"cumExecValue\":\"36441.5058\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"125198.4\",\"orderIv\":\"\",\"createdTime\":\"1759635645771\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.04282819\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.294\",\"reduceOnly\":false,\"qty\":\"0.294\",\"stopLoss\":\"123246\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"a1f8524c-ec36-471d-8ad5-cc2512544abe\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"122199.6\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"122199.6\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"4521.3852\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"120980\",\"orderIv\":\"\",\"createdTime\":\"1759627473299\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759627473299\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"2.48676186\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.037\",\"reduceOnly\":false,\"qty\":\"0.037\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"8b69d590-2750-428a-814c-d6dd4d65898f\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"123480\",\"stopOrderType\":\"TakeProfit\",\"lastPriceOnCreated\":\"123478.8\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByTakeProfit\",\"takeProfit\":\"\",\"cumExecValue\":\"13706.28\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":1,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"122233.8\",\"orderIv\":\"\",\"createdTime\":\"1759626984495\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759631557724\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"123479.3\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"7.538454\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.111\",\"reduceOnly\":true,\"qty\":\"0.111\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"f220410a-cf85-4183-ae3b-65de31cb4e4f\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"122265.7\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"122265.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"123479.3\",\"cumExecValue\":\"18095.3236\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123495\",\"orderIv\":\"\",\"createdTime\":\"1759626984494\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759626984495\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"9.95242798\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.148\",\"reduceOnly\":false,\"qty\":\"0.148\",\"stopLoss\":\"121535.2\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"cfcbe5be-ee15-494e-86c5-8ae0bd072ac5\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"122236\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"122236\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByClosing\",\"takeProfit\":\"\",\"cumExecValue\":\"37404.216\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"121013.7\",\"orderIv\":\"\",\"createdTime\":\"1759620729848\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759620729849\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.5723188\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.306\",\"reduceOnly\":true,\"qty\":\"0.306\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"}]},\"retExtInfo\":{},\"time\":1759643283159}","module":"BybitClient","timestamp":"2025-10-05T05:48:03.698Z"}
{"level":"info","message":"📋 Órdenes recientes encontradas: 2","module":"BybitClient","timestamp":"2025-10-05T05:48:03.699Z"}
{"level":"debug","message":"  - Buy 0.227 @ 125004 | Estado: Filled | Tipo: Market","module":"BybitClient","timestamp":"2025-10-05T05:48:03.700Z"}
{"level":"debug","message":"  - Sell 0.17 @ 125055.4 | Estado: Filled | Tipo: Market","module":"BybitClient","timestamp":"2025-10-05T05:48:03.700Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:48:04.763Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:48:04.763Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una pérdida del 0.01%, pero hay señales de reversión débiles (MACD...","module":"OllamaClient","timestamp":"2025-10-05T05:48:06.847Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una pérdida del 0.01%, pero hay señales de reversión débiles (MACD bajista,...","module":"TradingStrategy","timestamp":"2025-10-05T05:48:06.847Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643286848","module":"BybitClient","timestamp":"2025-10-05T05:48:06.848Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:48:06.847Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:48:06.847Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:48:06.848Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759643215748%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"125004\",\"liqPrice\":\"117295.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126391.5\",\"positionValue\":\"28375.908\",\"isReduceOnly\":false,\"positionIMByMp\":\"1906.2937832\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117256.7\",\"unrealisedPnl\":\"-3.3369\",\"markPrice\":\"124989.3\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11931.18806254\",\"positionMM\":\"156.44602862\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1906.2937832\",\"positionMMByMp\":\"156.42934411\",\"seq\":140697267118621,\"updatedTime\":\"1759643215748\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1906.2937832\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.6067494\",\"size\":\"0.227\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124253.9\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759643287034}","module":"BybitClient","timestamp":"2025-10-05T05:48:07.218Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:48:07.219Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:48:07.218Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:48:07.219Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:48:31.876Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:48:32.965Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:48:32.966Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:48:32.966Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:49:07.223Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T05:49:07.224Z"}
{"level":"debug","message":"Predicción Kalman: 125012.6535001813 (Confianza: 0.879)","module":"KalmanFilter","timestamp":"2025-10-05T05:49:07.224Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:49:08.369Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:49:11.011Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":124947.80274832502,"middle":125094.8,"upper":125241.79725167499},"ema":{"ema21":125089.20283778725,"ema50":125074.23989475414,"ema9":125045.97304864804},"macd":{"histogram":-3.7908439578532125,"macd":-37.908439578532125,"signal":-34.11759562067891},"rsi":43.406921241049865,"volume":{"avg":229.94362,"current":18.069,"ratio":0.07858013194712686}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is below 30 and MACD is bearish, indicating a potential sell opportunity. However, the Bollinger band is wide and the volume is low, suggesting a possible buying opportunity. The Kalman prediction also indicates a bullish trend. Therefore, I suggest a long position with a leverage of 20-30x.","symbol":"BTCUSDT","timestamp":1759643351012}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643351013","module":"BybitClient","timestamp":"2025-10-05T05:49:11.013Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:49:11.013Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759643215748%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"125004\",\"liqPrice\":\"117295.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126391.5\",\"positionValue\":\"28375.908\",\"isReduceOnly\":false,\"positionIMByMp\":\"1906.2937832\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117256.7\",\"unrealisedPnl\":\"15.1636\",\"markPrice\":\"125070.8\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11931.18806254\",\"positionMM\":\"156.44602862\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1906.2937832\",\"positionMMByMp\":\"156.52184661\",\"seq\":140697267118621,\"updatedTime\":\"1759643215748\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1906.2937832\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.6067494\",\"size\":\"0.227\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124253.9\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759643351207}","module":"BybitClient","timestamp":"2025-10-05T05:49:11.389Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:49:11.389Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643351390","module":"BybitClient","timestamp":"2025-10-05T05:49:11.390Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:49:11.390Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216244.55232317\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"15.16575323\",\"totalWalletBalance\":\"216229.38656994\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49990.27375174\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123745.85703427\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4561.967397\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37941.06650871\",\"totalPositionMM\":\"156.44602862\",\"usdValue\":\"37946.45414015\",\"unrealisedPnl\":\"15.1636\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1906.2937832\",\"walletBalance\":\"37925.90290871\",\"cumRealisedPnl\":\"-12981.69998129\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759643351576}","module":"BybitClient","timestamp":"2025-10-05T05:49:11.760Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.227 BTCUSDT | PnL: 0.05%","module":"TradingStrategy","timestamp":"2025-10-05T05:49:11.761Z"}
{"level":"info","message":"Balance obtenido - Total: $216244.55, Disponible: $37925.90","module":"BybitClient","timestamp":"2025-10-05T05:49:11.760Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643351761","module":"BybitClient","timestamp":"2025-10-05T05:49:11.761Z"}
{"level":"debug","message":"Signature payload: category=linear&limit=20&orderStatus=Filled&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:49:11.762Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"b81e82e8-d45b-41da-9e4a-66da7edb0e9e%3A1759643215747%2Ccfcbe5be-ee15-494e-86c5-8ae0bd072ac5%3A1759620729848\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"b81e82e8-d45b-41da-9e4a-66da7edb0e9e\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125004\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125004\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126391.5\",\"cumExecValue\":\"28375.908\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126285.6\",\"orderIv\":\"\",\"createdTime\":\"1759643215747\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759643215748\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"15.6067494\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.227\",\"reduceOnly\":false,\"qty\":\"0.227\",\"stopLoss\":\"124253.9\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"19e34142-3072-4ad1-9d0d-282152a0daed\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125055.4\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125055.4\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"21259.418\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123807.7\",\"orderIv\":\"\",\"createdTime\":\"1759643189242\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759643189242\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"11.6926799\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.17\",\"reduceOnly\":true,\"qty\":\"0.17\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"ca590511-ad0a-47ea-92f6-99682d39d55a\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125144.2\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125144.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126533.3\",\"cumExecValue\":\"21274.514\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126401.7\",\"orderIv\":\"\",\"createdTime\":\"1759641282552\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"11.7009827\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.17\",\"reduceOnly\":false,\"qty\":\"0.17\",\"stopLoss\":\"124393.3\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"ff981acf-2f62-4ac0-bc1d-2be3f0c1b2dd\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125191.2\",\"stopOrderType\":\"StopLoss\",\"lastPriceOnCreated\":\"125199.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByStopLoss\",\"takeProfit\":\"\",\"cumExecValue\":\"36555.8304\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":2,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123947.3\",\"orderIv\":\"\",\"createdTime\":\"1759640797455\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759641216384\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125194.1\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.10570672\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.292\",\"reduceOnly\":true,\"qty\":\"0.292\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"0036d490-5f56-4e6b-ad4e-0148c2599668\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"124952.2\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"124952.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126386\",\"cumExecValue\":\"36486.0424\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126215.5\",\"orderIv\":\"\",\"createdTime\":\"1759640797455\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640797455\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.06732332\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.292\",\"reduceOnly\":false,\"qty\":\"0.292\",\"stopLoss\":\"124230.1\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"83854777-9ba8-4fe1-894a-479f041273b3\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125190.6\",\"stopOrderType\":\"StopLoss\",\"lastPriceOnCreated\":\"125194.3\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByStopLoss\",\"takeProfit\":\"\",\"cumExecValue\":\"36555.6552\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":2,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123954.9\",\"orderIv\":\"\",\"createdTime\":\"1759640378407\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640750094\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125194.1\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.10561036\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.292\",\"reduceOnly\":true,\"qty\":\"0.292\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"7c23ac21-dd21-4370-a713-f8c8c42a9883\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125148.7\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125148.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126634.4\",\"cumExecValue\":\"36543.4204\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126410.9\",\"orderIv\":\"\",\"createdTime\":\"1759640378407\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640378407\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.09888122\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.292\",\"reduceOnly\":false,\"qty\":\"0.292\",\"stopLoss\":\"124455.8\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"8509dfb8-d6fa-4cc0-8d17-31e38fdb97ed\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125192\",\"stopOrderType\":\"StopLoss\",\"lastPriceOnCreated\":\"125198.3\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByStopLoss\",\"takeProfit\":\"\",\"cumExecValue\":\"28418.584\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":2,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123961.7\",\"orderIv\":\"\",\"createdTime\":\"1759640302745\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640370605\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125194.1\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"15.6302212\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.227\",\"reduceOnly\":true,\"qty\":\"0.227\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"d8de2cf9-5b9c-4d22-95af-93267eb7de33\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125203.7\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125203.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126573.7\",\"cumExecValue\":\"28421.2399\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126453.6\",\"orderIv\":\"\",\"createdTime\":\"1759640302744\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640302745\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"15.63168195\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.227\",\"reduceOnly\":false,\"qty\":\"0.227\",\"stopLoss\":\"124433\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"d4f4fc46-688d-4b4e-b9e9-5815257b5fa7\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125190.9\",\"stopOrderType\":\"StopLoss\",\"lastPriceOnCreated\":\"125194.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByStopLoss\",\"takeProfit\":\"\",\"cumExecValue\":\"50577.1236\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":2,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123973.8\",\"orderIv\":\"\",\"createdTime\":\"1759639752464\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640280814\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125194.1\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"27.81741798\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.404\",\"reduceOnly\":true,\"qty\":\"0.404\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"b0fdbb11-eae6-4ab1-a51a-c59c6f23ae9b\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125381.5\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125381.5\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"127188.1\",\"cumExecValue\":\"50654.126\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126670.9\",\"orderIv\":\"\",\"createdTime\":\"1759639752463\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639752464\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"27.8597693\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.404\",\"reduceOnly\":false,\"qty\":\"0.404\",\"stopLoss\":\"124981.4\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"bab14857-9c51-433c-86a5-cfc456f1c0d1\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125147.8\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125147.8\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"6883.129\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123925.2\",\"orderIv\":\"\",\"createdTime\":\"1759639681340\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639681340\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"3.78572095\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.055\",\"reduceOnly\":false,\"qty\":\"0.055\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"f4d8a761-2ead-469e-a1d5-59fd070f48f1\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"124910.5\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"124910.5\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"13740.155\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123667.3\",\"orderIv\":\"\",\"createdTime\":\"1759639609922\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639609923\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"7.55708525\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.11\",\"reduceOnly\":false,\"qty\":\"0.11\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"d156c6ca-629c-4882-b9f8-280959c0e20b\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"124383.2\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"124383.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"9079.9736\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123150\",\"orderIv\":\"\",\"createdTime\":\"1759639539819\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639539820\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"4.99398548\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.073\",\"reduceOnly\":false,\"qty\":\"0.073\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"51e03e67-fa97-4def-8265-bf0901dab45f\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125413.6\",\"stopOrderType\":\"TakeProfit\",\"lastPriceOnCreated\":\"125400.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByTakeProfit\",\"takeProfit\":\"\",\"cumExecValue\":\"7023.1616\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":1,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"124112.9\",\"orderIv\":\"\",\"createdTime\":\"1759635645771\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639735096\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125403.4\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"3.86273888\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.056\",\"reduceOnly\":true,\"qty\":\"0.056\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"4f86d877-0375-4631-9967-9c01f601e8e5\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"123950.7\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"123950.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"125403.4\",\"cumExecValue\":\"36441.5058\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"125198.4\",\"orderIv\":\"\",\"createdTime\":\"1759635645771\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.04282819\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.294\",\"reduceOnly\":false,\"qty\":\"0.294\",\"stopLoss\":\"123246\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"a1f8524c-ec36-471d-8ad5-cc2512544abe\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"122199.6\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"122199.6\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"4521.3852\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"120980\",\"orderIv\":\"\",\"createdTime\":\"1759627473299\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759627473299\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"2.48676186\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.037\",\"reduceOnly\":false,\"qty\":\"0.037\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"8b69d590-2750-428a-814c-d6dd4d65898f\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"123480\",\"stopOrderType\":\"TakeProfit\",\"lastPriceOnCreated\":\"123478.8\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByTakeProfit\",\"takeProfit\":\"\",\"cumExecValue\":\"13706.28\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":1,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"122233.8\",\"orderIv\":\"\",\"createdTime\":\"1759626984495\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759631557724\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"123479.3\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"7.538454\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.111\",\"reduceOnly\":true,\"qty\":\"0.111\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"f220410a-cf85-4183-ae3b-65de31cb4e4f\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"122265.7\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"122265.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"123479.3\",\"cumExecValue\":\"18095.3236\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123495\",\"orderIv\":\"\",\"createdTime\":\"1759626984494\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759626984495\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"9.95242798\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.148\",\"reduceOnly\":false,\"qty\":\"0.148\",\"stopLoss\":\"121535.2\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"cfcbe5be-ee15-494e-86c5-8ae0bd072ac5\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"122236\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"122236\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByClosing\",\"takeProfit\":\"\",\"cumExecValue\":\"37404.216\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"121013.7\",\"orderIv\":\"\",\"createdTime\":\"1759620729848\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759620729849\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.5723188\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.306\",\"reduceOnly\":true,\"qty\":\"0.306\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"}]},\"retExtInfo\":{},\"time\":1759643352654}","module":"BybitClient","timestamp":"2025-10-05T05:49:13.187Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:49:13.553Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:49:13.553Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una ganancia del 0.05%, y aunque hay señales de reversión (MACD ba...","module":"OllamaClient","timestamp":"2025-10-05T05:49:16.199Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una ganancia del 0.05%, y aunque hay señales de reversión (MACD bajista, EM...","module":"TradingStrategy","timestamp":"2025-10-05T05:49:16.201Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643356202","module":"BybitClient","timestamp":"2025-10-05T05:49:16.202Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:49:16.200Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:49:16.201Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:49:16.203Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759643215748%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"125004\",\"liqPrice\":\"117295.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126391.5\",\"positionValue\":\"28375.908\",\"isReduceOnly\":false,\"positionIMByMp\":\"1906.2937832\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117256.7\",\"unrealisedPnl\":\"12.97759\",\"markPrice\":\"125061.17\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11931.18806254\",\"positionMM\":\"156.44602862\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1906.2937832\",\"positionMMByMp\":\"156.51091656\",\"seq\":140697267118621,\"updatedTime\":\"1759643215748\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1906.2937832\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.6067494\",\"size\":\"0.227\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124253.9\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759643357093}","module":"BybitClient","timestamp":"2025-10-05T05:49:17.279Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:49:17.280Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:49:17.279Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:49:17.280Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:49:31.879Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:49:32.271Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:49:32.271Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:49:32.271Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:50:17.283Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T05:50:17.283Z"}
{"level":"debug","message":"Predicción Kalman: 125034.17769974099 (Confianza: 0.878)","module":"KalmanFilter","timestamp":"2025-10-05T05:50:17.284Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:50:18.378Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:50:20.906Z"}
{"confidence":0.7,"decision":"BUY","indicators":{"bollinger":{"lower":124937.10209894653,"middle":125066.005,"upper":125194.90790105348},"ema":{"ema21":125069.78369899736,"ema50":125068.12847025585,"ema9":125042.2698565881},"macd":{"histogram":-3.0368214005618945,"macd":-30.36821400561894,"signal":-27.331392605057044},"rsi":48.99336046262644,"volume":{"avg":231.72699000000003,"current":14.642,"ratio":0.06318642468018075}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is above 50, MACD histogram is positive and crossed above zero, Bollinger bands are expanding and the price is above the upper band, EMA9 is above EMA21 and EMA50, Kalman predicts a bullish movement with confidence above 75%","symbol":"BTCUSDT","timestamp":1759643420906}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643420907","module":"BybitClient","timestamp":"2025-10-05T05:50:20.907Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:50:20.907Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759643215748%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"125004\",\"liqPrice\":\"117295.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126391.5\",\"positionValue\":\"28375.908\",\"isReduceOnly\":false,\"positionIMByMp\":\"1906.2937832\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117256.7\",\"unrealisedPnl\":\"5.31861\",\"markPrice\":\"125027.43\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11931.18806254\",\"positionMM\":\"156.44602862\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1906.2937832\",\"positionMMByMp\":\"156.47262166\",\"seq\":140697267118621,\"updatedTime\":\"1759643215748\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1906.2937832\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.6067494\",\"size\":\"0.227\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124253.9\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759643421096}","module":"BybitClient","timestamp":"2025-10-05T05:50:21.279Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:50:21.279Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643421280","module":"BybitClient","timestamp":"2025-10-05T05:50:21.280Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:50:21.281Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216204.6230251\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"5.31963117\",\"totalWalletBalance\":\"216199.30339393\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49989.27375127\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123716.35189859\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4560.493062\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37931.22151871\",\"totalPositionMM\":\"156.44602862\",\"usdValue\":\"37938.50431324\",\"unrealisedPnl\":\"5.31861\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1906.2937832\",\"walletBalance\":\"37925.90290871\",\"cumRealisedPnl\":\"-12981.69998129\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759643422160}","module":"BybitClient","timestamp":"2025-10-05T05:50:22.343Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.227 BTCUSDT | PnL: 0.02%","module":"TradingStrategy","timestamp":"2025-10-05T05:50:22.344Z"}
{"level":"info","message":"Balance obtenido - Total: $216204.62, Disponible: $37925.90","module":"BybitClient","timestamp":"2025-10-05T05:50:22.343Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643422344","module":"BybitClient","timestamp":"2025-10-05T05:50:22.344Z"}
{"level":"debug","message":"Signature payload: category=linear&limit=20&orderStatus=Filled&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:50:22.345Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"b81e82e8-d45b-41da-9e4a-66da7edb0e9e%3A1759643215747%2Ccfcbe5be-ee15-494e-86c5-8ae0bd072ac5%3A1759620729848\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"b81e82e8-d45b-41da-9e4a-66da7edb0e9e\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125004\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125004\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126391.5\",\"cumExecValue\":\"28375.908\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126285.6\",\"orderIv\":\"\",\"createdTime\":\"1759643215747\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759643215748\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"15.6067494\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.227\",\"reduceOnly\":false,\"qty\":\"0.227\",\"stopLoss\":\"124253.9\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"19e34142-3072-4ad1-9d0d-282152a0daed\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125055.4\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125055.4\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"21259.418\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123807.7\",\"orderIv\":\"\",\"createdTime\":\"1759643189242\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759643189242\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"11.6926799\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.17\",\"reduceOnly\":true,\"qty\":\"0.17\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"ca590511-ad0a-47ea-92f6-99682d39d55a\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125144.2\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125144.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126533.3\",\"cumExecValue\":\"21274.514\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126401.7\",\"orderIv\":\"\",\"createdTime\":\"1759641282552\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"11.7009827\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.17\",\"reduceOnly\":false,\"qty\":\"0.17\",\"stopLoss\":\"124393.3\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"ff981acf-2f62-4ac0-bc1d-2be3f0c1b2dd\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125191.2\",\"stopOrderType\":\"StopLoss\",\"lastPriceOnCreated\":\"125199.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByStopLoss\",\"takeProfit\":\"\",\"cumExecValue\":\"36555.8304\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":2,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123947.3\",\"orderIv\":\"\",\"createdTime\":\"1759640797455\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759641216384\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125194.1\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.10570672\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.292\",\"reduceOnly\":true,\"qty\":\"0.292\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"0036d490-5f56-4e6b-ad4e-0148c2599668\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"124952.2\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"124952.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126386\",\"cumExecValue\":\"36486.0424\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126215.5\",\"orderIv\":\"\",\"createdTime\":\"1759640797455\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640797455\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.06732332\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.292\",\"reduceOnly\":false,\"qty\":\"0.292\",\"stopLoss\":\"124230.1\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"83854777-9ba8-4fe1-894a-479f041273b3\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125190.6\",\"stopOrderType\":\"StopLoss\",\"lastPriceOnCreated\":\"125194.3\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByStopLoss\",\"takeProfit\":\"\",\"cumExecValue\":\"36555.6552\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":2,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123954.9\",\"orderIv\":\"\",\"createdTime\":\"1759640378407\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640750094\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125194.1\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.10561036\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.292\",\"reduceOnly\":true,\"qty\":\"0.292\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"7c23ac21-dd21-4370-a713-f8c8c42a9883\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125148.7\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125148.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126634.4\",\"cumExecValue\":\"36543.4204\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126410.9\",\"orderIv\":\"\",\"createdTime\":\"1759640378407\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640378407\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.09888122\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.292\",\"reduceOnly\":false,\"qty\":\"0.292\",\"stopLoss\":\"124455.8\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"8509dfb8-d6fa-4cc0-8d17-31e38fdb97ed\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125192\",\"stopOrderType\":\"StopLoss\",\"lastPriceOnCreated\":\"125198.3\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByStopLoss\",\"takeProfit\":\"\",\"cumExecValue\":\"28418.584\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":2,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123961.7\",\"orderIv\":\"\",\"createdTime\":\"1759640302745\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640370605\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125194.1\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"15.6302212\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.227\",\"reduceOnly\":true,\"qty\":\"0.227\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"d8de2cf9-5b9c-4d22-95af-93267eb7de33\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125203.7\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125203.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126573.7\",\"cumExecValue\":\"28421.2399\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126453.6\",\"orderIv\":\"\",\"createdTime\":\"1759640302744\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640302745\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"15.63168195\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.227\",\"reduceOnly\":false,\"qty\":\"0.227\",\"stopLoss\":\"124433\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"d4f4fc46-688d-4b4e-b9e9-5815257b5fa7\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125190.9\",\"stopOrderType\":\"StopLoss\",\"lastPriceOnCreated\":\"125194.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByStopLoss\",\"takeProfit\":\"\",\"cumExecValue\":\"50577.1236\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":2,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123973.8\",\"orderIv\":\"\",\"createdTime\":\"1759639752464\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640280814\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125194.1\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"27.81741798\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.404\",\"reduceOnly\":true,\"qty\":\"0.404\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"b0fdbb11-eae6-4ab1-a51a-c59c6f23ae9b\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125381.5\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125381.5\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"127188.1\",\"cumExecValue\":\"50654.126\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126670.9\",\"orderIv\":\"\",\"createdTime\":\"1759639752463\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639752464\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"27.8597693\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.404\",\"reduceOnly\":false,\"qty\":\"0.404\",\"stopLoss\":\"124981.4\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"bab14857-9c51-433c-86a5-cfc456f1c0d1\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125147.8\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125147.8\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"6883.129\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123925.2\",\"orderIv\":\"\",\"createdTime\":\"1759639681340\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639681340\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"3.78572095\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.055\",\"reduceOnly\":false,\"qty\":\"0.055\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"f4d8a761-2ead-469e-a1d5-59fd070f48f1\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"124910.5\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"124910.5\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"13740.155\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123667.3\",\"orderIv\":\"\",\"createdTime\":\"1759639609922\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639609923\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"7.55708525\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.11\",\"reduceOnly\":false,\"qty\":\"0.11\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"d156c6ca-629c-4882-b9f8-280959c0e20b\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"124383.2\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"124383.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"9079.9736\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123150\",\"orderIv\":\"\",\"createdTime\":\"1759639539819\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639539820\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"4.99398548\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.073\",\"reduceOnly\":false,\"qty\":\"0.073\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"51e03e67-fa97-4def-8265-bf0901dab45f\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125413.6\",\"stopOrderType\":\"TakeProfit\",\"lastPriceOnCreated\":\"125400.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByTakeProfit\",\"takeProfit\":\"\",\"cumExecValue\":\"7023.1616\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":1,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"124112.9\",\"orderIv\":\"\",\"createdTime\":\"1759635645771\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639735096\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125403.4\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"3.86273888\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.056\",\"reduceOnly\":true,\"qty\":\"0.056\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"4f86d877-0375-4631-9967-9c01f601e8e5\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"123950.7\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"123950.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"125403.4\",\"cumExecValue\":\"36441.5058\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"125198.4\",\"orderIv\":\"\",\"createdTime\":\"1759635645771\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.04282819\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.294\",\"reduceOnly\":false,\"qty\":\"0.294\",\"stopLoss\":\"123246\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"a1f8524c-ec36-471d-8ad5-cc2512544abe\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"122199.6\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"122199.6\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"4521.3852\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"120980\",\"orderIv\":\"\",\"createdTime\":\"1759627473299\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759627473299\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"2.48676186\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.037\",\"reduceOnly\":false,\"qty\":\"0.037\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"8b69d590-2750-428a-814c-d6dd4d65898f\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"123480\",\"stopOrderType\":\"TakeProfit\",\"lastPriceOnCreated\":\"123478.8\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByTakeProfit\",\"takeProfit\":\"\",\"cumExecValue\":\"13706.28\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":1,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"122233.8\",\"orderIv\":\"\",\"createdTime\":\"1759626984495\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759631557724\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"123479.3\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"7.538454\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.111\",\"reduceOnly\":true,\"qty\":\"0.111\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"f220410a-cf85-4183-ae3b-65de31cb4e4f\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"122265.7\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"122265.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"123479.3\",\"cumExecValue\":\"18095.3236\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123495\",\"orderIv\":\"\",\"createdTime\":\"1759626984494\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759626984495\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"9.95242798\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.148\",\"reduceOnly\":false,\"qty\":\"0.148\",\"stopLoss\":\"121535.2\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"cfcbe5be-ee15-494e-86c5-8ae0bd072ac5\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"122236\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"122236\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByClosing\",\"takeProfit\":\"\",\"cumExecValue\":\"37404.216\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"121013.7\",\"orderIv\":\"\",\"createdTime\":\"1759620729848\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759620729849\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.5723188\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.306\",\"reduceOnly\":true,\"qty\":\"0.306\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"}]},\"retExtInfo\":{},\"time\":1759643423249}","module":"BybitClient","timestamp":"2025-10-05T05:50:23.785Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:50:24.156Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:50:24.156Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una ganancia del 0.02%, y aunque hay señales de reversión débiles ...","module":"OllamaClient","timestamp":"2025-10-05T05:50:26.853Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una ganancia del...","module":"TradingStrategy","timestamp":"2025-10-05T05:50:26.854Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643426854","module":"BybitClient","timestamp":"2025-10-05T05:50:26.854Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-05T05:50:26.853Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-05T05:50:26.854Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 30%)","module":"OllamaClient","timestamp":"2025-10-05T05:50:26.854Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:50:26.854Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:50:26.855Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759643215748%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"125004\",\"liqPrice\":\"117295.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126391.5\",\"positionValue\":\"28375.908\",\"isReduceOnly\":false,\"positionIMByMp\":\"1906.2937832\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117256.7\",\"unrealisedPnl\":\"2.80799\",\"markPrice\":\"125016.37\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11931.18806254\",\"positionMM\":\"156.44602862\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1906.2937832\",\"positionMMByMp\":\"156.46006856\",\"seq\":140697267118621,\"updatedTime\":\"1759643215748\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1906.2937832\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.6067494\",\"size\":\"0.227\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124253.9\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759643427048}","module":"BybitClient","timestamp":"2025-10-05T05:50:27.231Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:50:27.232Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:50:27.232Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:50:27.232Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:50:31.878Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:50:32.250Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:50:32.251Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:50:32.250Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:51:27.234Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T05:51:27.235Z"}
{"level":"debug","message":"Predicción Kalman: 125031.49752497475 (Confianza: 0.879)","module":"KalmanFilter","timestamp":"2025-10-05T05:51:27.236Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:51:27.639Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:51:30.813Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":124931.40986804295,"middle":125046.22000000002,"upper":125161.03013195709},"ema":{"ema21":125053.61106230882,"ema50":125060.71677352679,"ema9":125033.0116906078},"macd":{"histogram":-2.5353265034966164,"macd":-25.35326503496617,"signal":-22.817938531469554},"rsi":37.10118505013646,"volume":{"avg":229.88694000000007,"current":12.921,"ratio":0.05620588972996898}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is below 37, MACD histogram is red and negative, Bollinger bands are above the price, EMA9 is above EMA21 and EMA50, Kalman prediction is bullish with high confidence (87.9%). These indicators suggest a potential bullish trend reversal. Additionally, the current price is below the 10-day moving average, which could be a sign of a possible bottom. Therefore, I suggest buying at this time.","symbol":"BTCUSDT","timestamp":1759643490813}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643490814","module":"BybitClient","timestamp":"2025-10-05T05:51:30.814Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:51:30.815Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759643215748%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"125004\",\"liqPrice\":\"117295.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126391.5\",\"positionValue\":\"28375.908\",\"isReduceOnly\":false,\"positionIMByMp\":\"1906.2937832\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117256.7\",\"unrealisedPnl\":\"4.84191\",\"markPrice\":\"125025.33\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11931.18806254\",\"positionMM\":\"156.44602862\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1906.2937832\",\"positionMMByMp\":\"156.47023816\",\"seq\":140697267118621,\"updatedTime\":\"1759643215748\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1906.2937832\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.6067494\",\"size\":\"0.227\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124253.9\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759643491698}","module":"BybitClient","timestamp":"2025-10-05T05:51:31.879Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:51:31.882Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:51:31.879Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643491880","module":"BybitClient","timestamp":"2025-10-05T05:51:31.880Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:51:31.880Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216210.95052698\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"10.21565376\",\"totalWalletBalance\":\"216200.73487322\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49987.62375048\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123723.36430023\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4561.416656\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37936.11790871\",\"totalPositionMM\":\"156.44602862\",\"usdValue\":\"37938.54582025\",\"unrealisedPnl\":\"10.215\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1906.2937832\",\"walletBalance\":\"37925.90290871\",\"cumRealisedPnl\":\"-12981.69998129\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759643492070}","module":"BybitClient","timestamp":"2025-10-05T05:51:32.254Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.227 BTCUSDT | PnL: 0.02%","module":"TradingStrategy","timestamp":"2025-10-05T05:51:32.255Z"}
{"level":"info","message":"Balance obtenido - Total: $216210.95, Disponible: $37925.90","module":"BybitClient","timestamp":"2025-10-05T05:51:32.255Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643492255","module":"BybitClient","timestamp":"2025-10-05T05:51:32.256Z"}
{"level":"debug","message":"Signature payload: category=linear&limit=20&orderStatus=Filled&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:51:32.256Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:51:32.287Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:51:32.288Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:51:32.287Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"b81e82e8-d45b-41da-9e4a-66da7edb0e9e%3A1759643215747%2Ccfcbe5be-ee15-494e-86c5-8ae0bd072ac5%3A1759620729848\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"b81e82e8-d45b-41da-9e4a-66da7edb0e9e\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125004\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125004\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126391.5\",\"cumExecValue\":\"28375.908\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126285.6\",\"orderIv\":\"\",\"createdTime\":\"1759643215747\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759643215748\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"15.6067494\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.227\",\"reduceOnly\":false,\"qty\":\"0.227\",\"stopLoss\":\"124253.9\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"19e34142-3072-4ad1-9d0d-282152a0daed\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125055.4\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125055.4\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"21259.418\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123807.7\",\"orderIv\":\"\",\"createdTime\":\"1759643189242\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759643189242\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"11.6926799\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.17\",\"reduceOnly\":true,\"qty\":\"0.17\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"ca590511-ad0a-47ea-92f6-99682d39d55a\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125144.2\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125144.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126533.3\",\"cumExecValue\":\"21274.514\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126401.7\",\"orderIv\":\"\",\"createdTime\":\"1759641282552\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"11.7009827\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.17\",\"reduceOnly\":false,\"qty\":\"0.17\",\"stopLoss\":\"124393.3\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"ff981acf-2f62-4ac0-bc1d-2be3f0c1b2dd\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125191.2\",\"stopOrderType\":\"StopLoss\",\"lastPriceOnCreated\":\"125199.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByStopLoss\",\"takeProfit\":\"\",\"cumExecValue\":\"36555.8304\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":2,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123947.3\",\"orderIv\":\"\",\"createdTime\":\"1759640797455\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759641216384\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125194.1\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.10570672\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.292\",\"reduceOnly\":true,\"qty\":\"0.292\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"0036d490-5f56-4e6b-ad4e-0148c2599668\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"124952.2\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"124952.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126386\",\"cumExecValue\":\"36486.0424\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126215.5\",\"orderIv\":\"\",\"createdTime\":\"1759640797455\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640797455\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.06732332\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.292\",\"reduceOnly\":false,\"qty\":\"0.292\",\"stopLoss\":\"124230.1\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"83854777-9ba8-4fe1-894a-479f041273b3\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125190.6\",\"stopOrderType\":\"StopLoss\",\"lastPriceOnCreated\":\"125194.3\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByStopLoss\",\"takeProfit\":\"\",\"cumExecValue\":\"36555.6552\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":2,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123954.9\",\"orderIv\":\"\",\"createdTime\":\"1759640378407\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640750094\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125194.1\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.10561036\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.292\",\"reduceOnly\":true,\"qty\":\"0.292\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"7c23ac21-dd21-4370-a713-f8c8c42a9883\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125148.7\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125148.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126634.4\",\"cumExecValue\":\"36543.4204\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126410.9\",\"orderIv\":\"\",\"createdTime\":\"1759640378407\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640378407\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.09888122\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.292\",\"reduceOnly\":false,\"qty\":\"0.292\",\"stopLoss\":\"124455.8\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"8509dfb8-d6fa-4cc0-8d17-31e38fdb97ed\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125192\",\"stopOrderType\":\"StopLoss\",\"lastPriceOnCreated\":\"125198.3\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByStopLoss\",\"takeProfit\":\"\",\"cumExecValue\":\"28418.584\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":2,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123961.7\",\"orderIv\":\"\",\"createdTime\":\"1759640302745\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640370605\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125194.1\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"15.6302212\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.227\",\"reduceOnly\":true,\"qty\":\"0.227\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"d8de2cf9-5b9c-4d22-95af-93267eb7de33\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125203.7\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125203.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126573.7\",\"cumExecValue\":\"28421.2399\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126453.6\",\"orderIv\":\"\",\"createdTime\":\"1759640302744\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640302745\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"15.63168195\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.227\",\"reduceOnly\":false,\"qty\":\"0.227\",\"stopLoss\":\"124433\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"d4f4fc46-688d-4b4e-b9e9-5815257b5fa7\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125190.9\",\"stopOrderType\":\"StopLoss\",\"lastPriceOnCreated\":\"125194.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByStopLoss\",\"takeProfit\":\"\",\"cumExecValue\":\"50577.1236\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":2,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123973.8\",\"orderIv\":\"\",\"createdTime\":\"1759639752464\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640280814\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125194.1\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"27.81741798\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.404\",\"reduceOnly\":true,\"qty\":\"0.404\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"b0fdbb11-eae6-4ab1-a51a-c59c6f23ae9b\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125381.5\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125381.5\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"127188.1\",\"cumExecValue\":\"50654.126\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126670.9\",\"orderIv\":\"\",\"createdTime\":\"1759639752463\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639752464\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"27.8597693\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.404\",\"reduceOnly\":false,\"qty\":\"0.404\",\"stopLoss\":\"124981.4\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"bab14857-9c51-433c-86a5-cfc456f1c0d1\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125147.8\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125147.8\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"6883.129\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123925.2\",\"orderIv\":\"\",\"createdTime\":\"1759639681340\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639681340\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"3.78572095\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.055\",\"reduceOnly\":false,\"qty\":\"0.055\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"f4d8a761-2ead-469e-a1d5-59fd070f48f1\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"124910.5\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"124910.5\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"13740.155\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123667.3\",\"orderIv\":\"\",\"createdTime\":\"1759639609922\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639609923\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"7.55708525\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.11\",\"reduceOnly\":false,\"qty\":\"0.11\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"d156c6ca-629c-4882-b9f8-280959c0e20b\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"124383.2\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"124383.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"9079.9736\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123150\",\"orderIv\":\"\",\"createdTime\":\"1759639539819\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639539820\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"4.99398548\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.073\",\"reduceOnly\":false,\"qty\":\"0.073\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"51e03e67-fa97-4def-8265-bf0901dab45f\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125413.6\",\"stopOrderType\":\"TakeProfit\",\"lastPriceOnCreated\":\"125400.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByTakeProfit\",\"takeProfit\":\"\",\"cumExecValue\":\"7023.1616\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":1,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"124112.9\",\"orderIv\":\"\",\"createdTime\":\"1759635645771\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639735096\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125403.4\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"3.86273888\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.056\",\"reduceOnly\":true,\"qty\":\"0.056\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"4f86d877-0375-4631-9967-9c01f601e8e5\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"123950.7\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"123950.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"125403.4\",\"cumExecValue\":\"36441.5058\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"125198.4\",\"orderIv\":\"\",\"createdTime\":\"1759635645771\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.04282819\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.294\",\"reduceOnly\":false,\"qty\":\"0.294\",\"stopLoss\":\"123246\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"a1f8524c-ec36-471d-8ad5-cc2512544abe\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"122199.6\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"122199.6\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"4521.3852\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"120980\",\"orderIv\":\"\",\"createdTime\":\"1759627473299\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759627473299\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"2.48676186\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.037\",\"reduceOnly\":false,\"qty\":\"0.037\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"8b69d590-2750-428a-814c-d6dd4d65898f\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"123480\",\"stopOrderType\":\"TakeProfit\",\"lastPriceOnCreated\":\"123478.8\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByTakeProfit\",\"takeProfit\":\"\",\"cumExecValue\":\"13706.28\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":1,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"122233.8\",\"orderIv\":\"\",\"createdTime\":\"1759626984495\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759631557724\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"123479.3\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"7.538454\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.111\",\"reduceOnly\":true,\"qty\":\"0.111\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"f220410a-cf85-4183-ae3b-65de31cb4e4f\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"122265.7\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"122265.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"123479.3\",\"cumExecValue\":\"18095.3236\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123495\",\"orderIv\":\"\",\"createdTime\":\"1759626984494\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759626984495\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"9.95242798\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.148\",\"reduceOnly\":false,\"qty\":\"0.148\",\"stopLoss\":\"121535.2\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"cfcbe5be-ee15-494e-86c5-8ae0bd072ac5\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"122236\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"122236\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByClosing\",\"takeProfit\":\"\",\"cumExecValue\":\"37404.216\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"121013.7\",\"orderIv\":\"\",\"createdTime\":\"1759620729848\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759620729849\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.5723188\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.306\",\"reduceOnly\":true,\"qty\":\"0.306\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"}]},\"retExtInfo\":{},\"time\":1759643493147}","module":"BybitClient","timestamp":"2025-10-05T05:51:33.678Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:51:34.737Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:51:34.737Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una ganancia del 0.02%, con un RSI en el área de la baja (37), MAC...","module":"OllamaClient","timestamp":"2025-10-05T05:51:37.723Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una ganancia del 0.02%, con un RSI en el área de la baja (37), MACD con un ...","module":"TradingStrategy","timestamp":"2025-10-05T05:51:37.723Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643497724","module":"BybitClient","timestamp":"2025-10-05T05:51:37.725Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:51:37.723Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:51:37.724Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:51:37.725Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759643215748%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"125004\",\"liqPrice\":\"117295.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126391.5\",\"positionValue\":\"28375.908\",\"isReduceOnly\":false,\"positionIMByMp\":\"1906.2937832\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117256.7\",\"unrealisedPnl\":\"10.2377\",\"markPrice\":\"125049.1\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11931.18806254\",\"positionMM\":\"156.44602862\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1906.2937832\",\"positionMMByMp\":\"156.49721711\",\"seq\":140697267118621,\"updatedTime\":\"1759643215748\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1906.2937832\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.6067494\",\"size\":\"0.227\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124253.9\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759643498608}","module":"BybitClient","timestamp":"2025-10-05T05:51:38.790Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:51:38.791Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:51:38.791Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:51:38.792Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:52:31.884Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:52:33.075Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:52:33.076Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:52:33.075Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:52:38.793Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T05:52:38.793Z"}
{"level":"debug","message":"Predicción Kalman: 125026.79349408048 (Confianza: 0.889)","module":"KalmanFilter","timestamp":"2025-10-05T05:52:38.794Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:52:39.886Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:52:42.440Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":124975.47114216012,"middle":125032.43499999998,"upper":125089.39885783984},"ema":{"ema21":125040.50838902485,"ema50":125055.02369609779,"ema9":125028.97500853216},"macd":{"histogram":-1.477830494170485,"macd":-14.778304941704846,"signal":-13.300474447534361},"rsi":44.33438028509324,"volume":{"avg":222.1623300000002,"current":13.774,"ratio":0.06199970985180065}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is above 45, MACD histogram is bullish and crossed above zero, Bollinger bands are wide and the price is above the upper band, EMA9 is above EMA21 and EMA50, Kalman prediction is bullish with high confidence (88.9%)","symbol":"BTCUSDT","timestamp":1759643562440}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643562440","module":"BybitClient","timestamp":"2025-10-05T05:52:42.441Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:52:42.441Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759643215748%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"125004\",\"liqPrice\":\"117295.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126391.5\",\"positionValue\":\"28375.908\",\"isReduceOnly\":false,\"positionIMByMp\":\"1906.2937832\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117256.7\",\"unrealisedPnl\":\"-5.0621\",\"markPrice\":\"124981.7\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11931.18806254\",\"positionMM\":\"156.44602862\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1906.2937832\",\"positionMMByMp\":\"156.42071811\",\"seq\":140697267118621,\"updatedTime\":\"1759643215748\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1906.2937832\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.6067494\",\"size\":\"0.227\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124253.9\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759643563324}","module":"BybitClient","timestamp":"2025-10-05T05:52:43.506Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:52:43.507Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643563507","module":"BybitClient","timestamp":"2025-10-05T05:52:43.507Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:52:43.507Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"216141.21774925\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-5.06280363\",\"totalWalletBalance\":\"216146.28055288\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49991.07375212\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123664.67206754\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4559.360124\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"37920.84080871\",\"totalPositionMM\":\"156.44602862\",\"usdValue\":\"37926.11180558\",\"unrealisedPnl\":\"-5.0621\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1906.2937832\",\"walletBalance\":\"37925.90290871\",\"cumRealisedPnl\":\"-12981.69998129\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759643563694}","module":"BybitClient","timestamp":"2025-10-05T05:52:43.878Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.227 BTCUSDT | PnL: -0.02%","module":"TradingStrategy","timestamp":"2025-10-05T05:52:43.879Z"}
{"level":"info","message":"Balance obtenido - Total: $216141.22, Disponible: $37925.90","module":"BybitClient","timestamp":"2025-10-05T05:52:43.879Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643563879","module":"BybitClient","timestamp":"2025-10-05T05:52:43.879Z"}
{"level":"debug","message":"Signature payload: category=linear&limit=20&orderStatus=Filled&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:52:43.880Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"b81e82e8-d45b-41da-9e4a-66da7edb0e9e%3A1759643215747%2Ccfcbe5be-ee15-494e-86c5-8ae0bd072ac5%3A1759620729848\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"b81e82e8-d45b-41da-9e4a-66da7edb0e9e\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125004\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125004\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126391.5\",\"cumExecValue\":\"28375.908\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126285.6\",\"orderIv\":\"\",\"createdTime\":\"1759643215747\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759643215748\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"15.6067494\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.227\",\"reduceOnly\":false,\"qty\":\"0.227\",\"stopLoss\":\"124253.9\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"19e34142-3072-4ad1-9d0d-282152a0daed\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125055.4\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125055.4\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"21259.418\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123807.7\",\"orderIv\":\"\",\"createdTime\":\"1759643189242\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759643189242\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"11.6926799\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.17\",\"reduceOnly\":true,\"qty\":\"0.17\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"ca590511-ad0a-47ea-92f6-99682d39d55a\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125144.2\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125144.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126533.3\",\"cumExecValue\":\"21274.514\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126401.7\",\"orderIv\":\"\",\"createdTime\":\"1759641282552\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"11.7009827\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.17\",\"reduceOnly\":false,\"qty\":\"0.17\",\"stopLoss\":\"124393.3\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"ff981acf-2f62-4ac0-bc1d-2be3f0c1b2dd\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125191.2\",\"stopOrderType\":\"StopLoss\",\"lastPriceOnCreated\":\"125199.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByStopLoss\",\"takeProfit\":\"\",\"cumExecValue\":\"36555.8304\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":2,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123947.3\",\"orderIv\":\"\",\"createdTime\":\"1759640797455\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759641216384\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125194.1\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.10570672\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.292\",\"reduceOnly\":true,\"qty\":\"0.292\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"0036d490-5f56-4e6b-ad4e-0148c2599668\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"124952.2\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"124952.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126386\",\"cumExecValue\":\"36486.0424\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126215.5\",\"orderIv\":\"\",\"createdTime\":\"1759640797455\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640797455\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.06732332\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.292\",\"reduceOnly\":false,\"qty\":\"0.292\",\"stopLoss\":\"124230.1\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"83854777-9ba8-4fe1-894a-479f041273b3\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125190.6\",\"stopOrderType\":\"StopLoss\",\"lastPriceOnCreated\":\"125194.3\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByStopLoss\",\"takeProfit\":\"\",\"cumExecValue\":\"36555.6552\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":2,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123954.9\",\"orderIv\":\"\",\"createdTime\":\"1759640378407\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640750094\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125194.1\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.10561036\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.292\",\"reduceOnly\":true,\"qty\":\"0.292\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"7c23ac21-dd21-4370-a713-f8c8c42a9883\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125148.7\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125148.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126634.4\",\"cumExecValue\":\"36543.4204\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126410.9\",\"orderIv\":\"\",\"createdTime\":\"1759640378407\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640378407\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.09888122\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.292\",\"reduceOnly\":false,\"qty\":\"0.292\",\"stopLoss\":\"124455.8\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"8509dfb8-d6fa-4cc0-8d17-31e38fdb97ed\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125192\",\"stopOrderType\":\"StopLoss\",\"lastPriceOnCreated\":\"125198.3\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByStopLoss\",\"takeProfit\":\"\",\"cumExecValue\":\"28418.584\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":2,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123961.7\",\"orderIv\":\"\",\"createdTime\":\"1759640302745\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640370605\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125194.1\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"15.6302212\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.227\",\"reduceOnly\":true,\"qty\":\"0.227\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"d8de2cf9-5b9c-4d22-95af-93267eb7de33\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125203.7\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125203.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126573.7\",\"cumExecValue\":\"28421.2399\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126453.6\",\"orderIv\":\"\",\"createdTime\":\"1759640302744\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640302745\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"15.63168195\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.227\",\"reduceOnly\":false,\"qty\":\"0.227\",\"stopLoss\":\"124433\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"d4f4fc46-688d-4b4e-b9e9-5815257b5fa7\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125190.9\",\"stopOrderType\":\"StopLoss\",\"lastPriceOnCreated\":\"125194.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByStopLoss\",\"takeProfit\":\"\",\"cumExecValue\":\"50577.1236\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":2,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123973.8\",\"orderIv\":\"\",\"createdTime\":\"1759639752464\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640280814\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125194.1\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"27.81741798\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.404\",\"reduceOnly\":true,\"qty\":\"0.404\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"b0fdbb11-eae6-4ab1-a51a-c59c6f23ae9b\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125381.5\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125381.5\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"127188.1\",\"cumExecValue\":\"50654.126\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126670.9\",\"orderIv\":\"\",\"createdTime\":\"1759639752463\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639752464\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"27.8597693\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.404\",\"reduceOnly\":false,\"qty\":\"0.404\",\"stopLoss\":\"124981.4\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"bab14857-9c51-433c-86a5-cfc456f1c0d1\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125147.8\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125147.8\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"6883.129\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123925.2\",\"orderIv\":\"\",\"createdTime\":\"1759639681340\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639681340\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"3.78572095\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.055\",\"reduceOnly\":false,\"qty\":\"0.055\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"f4d8a761-2ead-469e-a1d5-59fd070f48f1\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"124910.5\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"124910.5\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"13740.155\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123667.3\",\"orderIv\":\"\",\"createdTime\":\"1759639609922\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639609923\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"7.55708525\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.11\",\"reduceOnly\":false,\"qty\":\"0.11\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"d156c6ca-629c-4882-b9f8-280959c0e20b\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"124383.2\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"124383.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"9079.9736\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123150\",\"orderIv\":\"\",\"createdTime\":\"1759639539819\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639539820\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"4.99398548\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.073\",\"reduceOnly\":false,\"qty\":\"0.073\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"51e03e67-fa97-4def-8265-bf0901dab45f\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125413.6\",\"stopOrderType\":\"TakeProfit\",\"lastPriceOnCreated\":\"125400.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByTakeProfit\",\"takeProfit\":\"\",\"cumExecValue\":\"7023.1616\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":1,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"124112.9\",\"orderIv\":\"\",\"createdTime\":\"1759635645771\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639735096\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125403.4\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"3.86273888\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.056\",\"reduceOnly\":true,\"qty\":\"0.056\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"4f86d877-0375-4631-9967-9c01f601e8e5\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"123950.7\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"123950.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"125403.4\",\"cumExecValue\":\"36441.5058\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"125198.4\",\"orderIv\":\"\",\"createdTime\":\"1759635645771\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.04282819\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.294\",\"reduceOnly\":false,\"qty\":\"0.294\",\"stopLoss\":\"123246\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"a1f8524c-ec36-471d-8ad5-cc2512544abe\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"122199.6\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"122199.6\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"4521.3852\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"120980\",\"orderIv\":\"\",\"createdTime\":\"1759627473299\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759627473299\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"2.48676186\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.037\",\"reduceOnly\":false,\"qty\":\"0.037\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"8b69d590-2750-428a-814c-d6dd4d65898f\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"123480\",\"stopOrderType\":\"TakeProfit\",\"lastPriceOnCreated\":\"123478.8\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByTakeProfit\",\"takeProfit\":\"\",\"cumExecValue\":\"13706.28\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":1,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"122233.8\",\"orderIv\":\"\",\"createdTime\":\"1759626984495\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759631557724\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"123479.3\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"7.538454\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.111\",\"reduceOnly\":true,\"qty\":\"0.111\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"f220410a-cf85-4183-ae3b-65de31cb4e4f\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"122265.7\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"122265.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"123479.3\",\"cumExecValue\":\"18095.3236\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123495\",\"orderIv\":\"\",\"createdTime\":\"1759626984494\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759626984495\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"9.95242798\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.148\",\"reduceOnly\":false,\"qty\":\"0.148\",\"stopLoss\":\"121535.2\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"cfcbe5be-ee15-494e-86c5-8ae0bd072ac5\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"122236\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"122236\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByClosing\",\"takeProfit\":\"\",\"cumExecValue\":\"37404.216\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"121013.7\",\"orderIv\":\"\",\"createdTime\":\"1759620729848\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759620729849\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.5723188\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.306\",\"reduceOnly\":true,\"qty\":\"0.306\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"}]},\"retExtInfo\":{},\"time\":1759643564772}","module":"BybitClient","timestamp":"2025-10-05T05:52:45.304Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:52:46.365Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:52:46.365Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una pérdida del 0.02%, pero no hay señales claras de reversión. La...","module":"OllamaClient","timestamp":"2025-10-05T05:52:48.312Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una pérdida del 0.02%, pero no hay señales claras de reversión. La tendenci...","module":"TradingStrategy","timestamp":"2025-10-05T05:52:48.313Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643568313","module":"BybitClient","timestamp":"2025-10-05T05:52:48.313Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:52:48.312Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:52:48.313Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:52:48.313Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759643215748%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"125004\",\"liqPrice\":\"117295.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126391.5\",\"positionValue\":\"28375.908\",\"isReduceOnly\":false,\"positionIMByMp\":\"1906.2937832\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117256.7\",\"unrealisedPnl\":\"-5.0621\",\"markPrice\":\"124981.7\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11931.18806254\",\"positionMM\":\"156.44602862\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1906.2937832\",\"positionMMByMp\":\"156.42071811\",\"seq\":140697267118621,\"updatedTime\":\"1759643215748\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1906.2937832\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.6067494\",\"size\":\"0.227\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124253.9\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759643569196}","module":"BybitClient","timestamp":"2025-10-05T05:52:49.377Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:52:49.377Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:52:49.377Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:52:49.378Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:53:31.886Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:53:32.972Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:53:32.973Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:53:32.972Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:53:49.379Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T05:53:49.379Z"}
{"level":"debug","message":"Predicción Kalman: 124997.94860447498 (Confianza: 0.885)","module":"KalmanFilter","timestamp":"2025-10-05T05:53:49.380Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:53:50.477Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:53:52.970Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":124963.53875522914,"middle":125027.03499999999,"upper":125090.53124477084},"ema":{"ema21":125028.8472800155,"ema50":125059.46370499779,"ema9":125011.25923490056},"macd":{"histogram":-1.8331950020525234,"macd":-18.331950020525255,"signal":-16.498755018472732},"rsi":46.996466431094795,"volume":{"avg":188.1940600000003,"current":10.736,"ratio":0.05704749661067934}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima del 47%, MACD histogram es negativo y decreciente, Bollinger Bandas están en el superior, EMA9 cruza por encima de EMA21, Kalman predice una subida con confianza del 88.5%","symbol":"BTCUSDT","timestamp":1759643632971}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643632971","module":"BybitClient","timestamp":"2025-10-05T05:53:52.971Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:53:52.971Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759643215748%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"125004\",\"liqPrice\":\"117295.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126391.5\",\"positionValue\":\"28375.908\",\"isReduceOnly\":false,\"positionIMByMp\":\"1906.2937832\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117256.7\",\"unrealisedPnl\":\"-12.258\",\"markPrice\":\"124950\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11931.18806254\",\"positionMM\":\"156.44602862\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1906.2937832\",\"positionMMByMp\":\"156.38473861\",\"seq\":140697267118621,\"updatedTime\":\"1759643215748\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1906.2937832\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.6067494\",\"size\":\"0.227\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124253.9\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759643633861}","module":"BybitClient","timestamp":"2025-10-05T05:53:54.041Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:53:54.042Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643634042","module":"BybitClient","timestamp":"2025-10-05T05:53:54.042Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:53:54.042Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"180092.07059773\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-12.25918902\",\"totalWalletBalance\":\"180104.32978675\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49988.42375086\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123631.33601959\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4558.480295\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1913.64490871\",\"totalPositionMM\":\"156.44602862\",\"usdValue\":\"1913.83053226\",\"unrealisedPnl\":\"-12.258\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1906.2937832\",\"walletBalance\":\"1925.90290871\",\"cumRealisedPnl\":\"-12981.69998129\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759643634923}","module":"BybitClient","timestamp":"2025-10-05T05:53:55.105Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.227 BTCUSDT | PnL: -0.04%","module":"TradingStrategy","timestamp":"2025-10-05T05:53:55.106Z"}
{"level":"info","message":"Balance obtenido - Total: $180092.07, Disponible: $1925.90","module":"BybitClient","timestamp":"2025-10-05T05:53:55.106Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643635106","module":"BybitClient","timestamp":"2025-10-05T05:53:55.106Z"}
{"level":"debug","message":"Signature payload: category=linear&limit=20&orderStatus=Filled&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:53:55.107Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"b81e82e8-d45b-41da-9e4a-66da7edb0e9e%3A1759643215747%2Ccfcbe5be-ee15-494e-86c5-8ae0bd072ac5%3A1759620729848\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"b81e82e8-d45b-41da-9e4a-66da7edb0e9e\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125004\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125004\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126391.5\",\"cumExecValue\":\"28375.908\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126285.6\",\"orderIv\":\"\",\"createdTime\":\"1759643215747\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759643215748\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"15.6067494\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.227\",\"reduceOnly\":false,\"qty\":\"0.227\",\"stopLoss\":\"124253.9\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"19e34142-3072-4ad1-9d0d-282152a0daed\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125055.4\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125055.4\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"21259.418\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123807.7\",\"orderIv\":\"\",\"createdTime\":\"1759643189242\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759643189242\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"11.6926799\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.17\",\"reduceOnly\":true,\"qty\":\"0.17\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"ca590511-ad0a-47ea-92f6-99682d39d55a\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125144.2\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125144.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126533.3\",\"cumExecValue\":\"21274.514\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126401.7\",\"orderIv\":\"\",\"createdTime\":\"1759641282552\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"11.7009827\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.17\",\"reduceOnly\":false,\"qty\":\"0.17\",\"stopLoss\":\"124393.3\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"ff981acf-2f62-4ac0-bc1d-2be3f0c1b2dd\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125191.2\",\"stopOrderType\":\"StopLoss\",\"lastPriceOnCreated\":\"125199.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByStopLoss\",\"takeProfit\":\"\",\"cumExecValue\":\"36555.8304\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":2,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123947.3\",\"orderIv\":\"\",\"createdTime\":\"1759640797455\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759641216384\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125194.1\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.10570672\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.292\",\"reduceOnly\":true,\"qty\":\"0.292\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"0036d490-5f56-4e6b-ad4e-0148c2599668\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"124952.2\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"124952.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126386\",\"cumExecValue\":\"36486.0424\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126215.5\",\"orderIv\":\"\",\"createdTime\":\"1759640797455\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640797455\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.06732332\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.292\",\"reduceOnly\":false,\"qty\":\"0.292\",\"stopLoss\":\"124230.1\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"83854777-9ba8-4fe1-894a-479f041273b3\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125190.6\",\"stopOrderType\":\"StopLoss\",\"lastPriceOnCreated\":\"125194.3\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByStopLoss\",\"takeProfit\":\"\",\"cumExecValue\":\"36555.6552\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":2,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123954.9\",\"orderIv\":\"\",\"createdTime\":\"1759640378407\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640750094\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125194.1\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.10561036\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.292\",\"reduceOnly\":true,\"qty\":\"0.292\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"7c23ac21-dd21-4370-a713-f8c8c42a9883\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125148.7\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125148.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126634.4\",\"cumExecValue\":\"36543.4204\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126410.9\",\"orderIv\":\"\",\"createdTime\":\"1759640378407\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640378407\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.09888122\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.292\",\"reduceOnly\":false,\"qty\":\"0.292\",\"stopLoss\":\"124455.8\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"8509dfb8-d6fa-4cc0-8d17-31e38fdb97ed\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125192\",\"stopOrderType\":\"StopLoss\",\"lastPriceOnCreated\":\"125198.3\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByStopLoss\",\"takeProfit\":\"\",\"cumExecValue\":\"28418.584\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":2,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123961.7\",\"orderIv\":\"\",\"createdTime\":\"1759640302745\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640370605\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125194.1\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"15.6302212\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.227\",\"reduceOnly\":true,\"qty\":\"0.227\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"d8de2cf9-5b9c-4d22-95af-93267eb7de33\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125203.7\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125203.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126573.7\",\"cumExecValue\":\"28421.2399\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126453.6\",\"orderIv\":\"\",\"createdTime\":\"1759640302744\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640302745\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"15.63168195\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.227\",\"reduceOnly\":false,\"qty\":\"0.227\",\"stopLoss\":\"124433\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"d4f4fc46-688d-4b4e-b9e9-5815257b5fa7\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125190.9\",\"stopOrderType\":\"StopLoss\",\"lastPriceOnCreated\":\"125194.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByStopLoss\",\"takeProfit\":\"\",\"cumExecValue\":\"50577.1236\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":2,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123973.8\",\"orderIv\":\"\",\"createdTime\":\"1759639752464\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640280814\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125194.1\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"27.81741798\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.404\",\"reduceOnly\":true,\"qty\":\"0.404\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"b0fdbb11-eae6-4ab1-a51a-c59c6f23ae9b\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125381.5\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125381.5\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"127188.1\",\"cumExecValue\":\"50654.126\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126670.9\",\"orderIv\":\"\",\"createdTime\":\"1759639752463\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639752464\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"27.8597693\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.404\",\"reduceOnly\":false,\"qty\":\"0.404\",\"stopLoss\":\"124981.4\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"bab14857-9c51-433c-86a5-cfc456f1c0d1\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125147.8\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125147.8\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"6883.129\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123925.2\",\"orderIv\":\"\",\"createdTime\":\"1759639681340\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639681340\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"3.78572095\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.055\",\"reduceOnly\":false,\"qty\":\"0.055\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"f4d8a761-2ead-469e-a1d5-59fd070f48f1\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"124910.5\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"124910.5\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"13740.155\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123667.3\",\"orderIv\":\"\",\"createdTime\":\"1759639609922\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639609923\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"7.55708525\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.11\",\"reduceOnly\":false,\"qty\":\"0.11\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"d156c6ca-629c-4882-b9f8-280959c0e20b\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"124383.2\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"124383.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"9079.9736\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123150\",\"orderIv\":\"\",\"createdTime\":\"1759639539819\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639539820\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"4.99398548\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.073\",\"reduceOnly\":false,\"qty\":\"0.073\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"51e03e67-fa97-4def-8265-bf0901dab45f\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125413.6\",\"stopOrderType\":\"TakeProfit\",\"lastPriceOnCreated\":\"125400.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByTakeProfit\",\"takeProfit\":\"\",\"cumExecValue\":\"7023.1616\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":1,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"124112.9\",\"orderIv\":\"\",\"createdTime\":\"1759635645771\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639735096\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125403.4\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"3.86273888\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.056\",\"reduceOnly\":true,\"qty\":\"0.056\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"4f86d877-0375-4631-9967-9c01f601e8e5\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"123950.7\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"123950.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"125403.4\",\"cumExecValue\":\"36441.5058\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"125198.4\",\"orderIv\":\"\",\"createdTime\":\"1759635645771\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.04282819\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.294\",\"reduceOnly\":false,\"qty\":\"0.294\",\"stopLoss\":\"123246\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"a1f8524c-ec36-471d-8ad5-cc2512544abe\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"122199.6\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"122199.6\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"4521.3852\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"120980\",\"orderIv\":\"\",\"createdTime\":\"1759627473299\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759627473299\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"2.48676186\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.037\",\"reduceOnly\":false,\"qty\":\"0.037\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"8b69d590-2750-428a-814c-d6dd4d65898f\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"123480\",\"stopOrderType\":\"TakeProfit\",\"lastPriceOnCreated\":\"123478.8\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByTakeProfit\",\"takeProfit\":\"\",\"cumExecValue\":\"13706.28\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":1,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"122233.8\",\"orderIv\":\"\",\"createdTime\":\"1759626984495\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759631557724\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"123479.3\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"7.538454\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.111\",\"reduceOnly\":true,\"qty\":\"0.111\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"f220410a-cf85-4183-ae3b-65de31cb4e4f\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"122265.7\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"122265.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"123479.3\",\"cumExecValue\":\"18095.3236\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123495\",\"orderIv\":\"\",\"createdTime\":\"1759626984494\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759626984495\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"9.95242798\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.148\",\"reduceOnly\":false,\"qty\":\"0.148\",\"stopLoss\":\"121535.2\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"cfcbe5be-ee15-494e-86c5-8ae0bd072ac5\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"122236\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"122236\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByClosing\",\"takeProfit\":\"\",\"cumExecValue\":\"37404.216\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"121013.7\",\"orderIv\":\"\",\"createdTime\":\"1759620729848\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759620729849\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.5723188\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.306\",\"reduceOnly\":true,\"qty\":\"0.306\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"}]},\"retExtInfo\":{},\"time\":1759643636000}","module":"BybitClient","timestamp":"2025-10-05T05:53:56.528Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:53:56.896Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:53:56.897Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una pérdida del 0.04%, pero hay señales de reversión débiles (MACD...","module":"OllamaClient","timestamp":"2025-10-05T05:54:00.123Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una pérdida del 0.04%, pero hay señales de reversión débiles (MACD bajista,...","module":"TradingStrategy","timestamp":"2025-10-05T05:54:00.123Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643640124","module":"BybitClient","timestamp":"2025-10-05T05:54:00.124Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:54:00.123Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:54:00.123Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:54:00.124Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759643215748%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"125004\",\"liqPrice\":\"117295.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126391.5\",\"positionValue\":\"28375.908\",\"isReduceOnly\":false,\"positionIMByMp\":\"1906.2937832\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117256.7\",\"unrealisedPnl\":\"-12.53267\",\"markPrice\":\"124948.79\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11931.18806254\",\"positionMM\":\"156.44602862\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1906.2937832\",\"positionMMByMp\":\"156.38336526\",\"seq\":140697267118621,\"updatedTime\":\"1759643215748\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1906.2937832\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.6067494\",\"size\":\"0.227\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124253.9\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759643640313}","module":"BybitClient","timestamp":"2025-10-05T05:54:00.493Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:54:00.494Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:54:00.494Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:54:00.494Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:54:31.887Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:54:32.977Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:54:32.978Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:54:32.978Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:55:00.496Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T05:55:00.496Z"}
{"level":"debug","message":"Predicción Kalman: 124966.00740387269 (Confianza: 0.854)","module":"KalmanFilter","timestamp":"2025-10-05T05:55:00.498Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:55:01.598Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:55:04.453Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":124935.88525931993,"middle":125017.29999999997,"upper":125098.71474068002},"ema":{"ema21":125010.80066221266,"ema50":125054.5498805471,"ema9":124985.97685014404},"macd":{"histogram":-2.426795551090617,"macd":-24.267955510906177,"signal":-21.84115995981556},"rsi":39.90374974934678,"volume":{"avg":99.7309699999999,"current":21.469,"ratio":0.21526913856347754}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está bajo (39.90) y MACD histogram es negativo y decreciente, indicando una posible reversión de la tendencia bajista. Además, el precio actual está por debajo del nivel del Bollinger superior, lo que sugiere una oportunidad de compra. Kalman predice una subida con confianza del 85.4%","symbol":"BTCUSDT","timestamp":1759643704453}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643704453","module":"BybitClient","timestamp":"2025-10-05T05:55:04.454Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:55:04.454Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759643215748%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"125004\",\"liqPrice\":\"117295.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126391.5\",\"positionValue\":\"28375.908\",\"isReduceOnly\":false,\"positionIMByMp\":\"1906.2937832\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117256.7\",\"unrealisedPnl\":\"-3.8817\",\"markPrice\":\"124986.9\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11931.18806254\",\"positionMM\":\"156.44602862\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1906.2937832\",\"positionMMByMp\":\"156.42662011\",\"seq\":140697267118621,\"updatedTime\":\"1759643215748\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1906.2937832\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.6067494\",\"size\":\"0.227\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124253.9\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759643705335}","module":"BybitClient","timestamp":"2025-10-05T05:55:05.515Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:55:05.516Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643705516","module":"BybitClient","timestamp":"2025-10-05T05:55:05.516Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:55:05.516Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"180128.06684874\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-3.88213863\",\"totalWalletBalance\":\"180131.94898737\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49988.62375096\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123655.35028167\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4561.854419\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1922.02120871\",\"totalPositionMM\":\"156.44602862\",\"usdValue\":\"1922.2383971\",\"unrealisedPnl\":\"-3.8817\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1906.2937832\",\"walletBalance\":\"1925.90290871\",\"cumRealisedPnl\":\"-12981.69998129\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759643705704}","module":"BybitClient","timestamp":"2025-10-05T05:55:05.885Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.227 BTCUSDT | PnL: -0.01%","module":"TradingStrategy","timestamp":"2025-10-05T05:55:05.886Z"}
{"level":"info","message":"Balance obtenido - Total: $180128.07, Disponible: $1925.90","module":"BybitClient","timestamp":"2025-10-05T05:55:05.886Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643705886","module":"BybitClient","timestamp":"2025-10-05T05:55:05.886Z"}
{"level":"debug","message":"Signature payload: category=linear&limit=20&orderStatus=Filled&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:55:05.887Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"b81e82e8-d45b-41da-9e4a-66da7edb0e9e%3A1759643215747%2Ccfcbe5be-ee15-494e-86c5-8ae0bd072ac5%3A1759620729848\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"b81e82e8-d45b-41da-9e4a-66da7edb0e9e\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125004\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125004\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126391.5\",\"cumExecValue\":\"28375.908\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126285.6\",\"orderIv\":\"\",\"createdTime\":\"1759643215747\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759643215748\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"15.6067494\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.227\",\"reduceOnly\":false,\"qty\":\"0.227\",\"stopLoss\":\"124253.9\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"19e34142-3072-4ad1-9d0d-282152a0daed\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125055.4\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125055.4\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"21259.418\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123807.7\",\"orderIv\":\"\",\"createdTime\":\"1759643189242\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759643189242\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"11.6926799\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.17\",\"reduceOnly\":true,\"qty\":\"0.17\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"ca590511-ad0a-47ea-92f6-99682d39d55a\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125144.2\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125144.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126533.3\",\"cumExecValue\":\"21274.514\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126401.7\",\"orderIv\":\"\",\"createdTime\":\"1759641282552\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"11.7009827\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.17\",\"reduceOnly\":false,\"qty\":\"0.17\",\"stopLoss\":\"124393.3\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"ff981acf-2f62-4ac0-bc1d-2be3f0c1b2dd\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125191.2\",\"stopOrderType\":\"StopLoss\",\"lastPriceOnCreated\":\"125199.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByStopLoss\",\"takeProfit\":\"\",\"cumExecValue\":\"36555.8304\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":2,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123947.3\",\"orderIv\":\"\",\"createdTime\":\"1759640797455\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759641216384\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125194.1\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.10570672\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.292\",\"reduceOnly\":true,\"qty\":\"0.292\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"0036d490-5f56-4e6b-ad4e-0148c2599668\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"124952.2\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"124952.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126386\",\"cumExecValue\":\"36486.0424\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126215.5\",\"orderIv\":\"\",\"createdTime\":\"1759640797455\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640797455\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.06732332\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.292\",\"reduceOnly\":false,\"qty\":\"0.292\",\"stopLoss\":\"124230.1\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"83854777-9ba8-4fe1-894a-479f041273b3\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125190.6\",\"stopOrderType\":\"StopLoss\",\"lastPriceOnCreated\":\"125194.3\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByStopLoss\",\"takeProfit\":\"\",\"cumExecValue\":\"36555.6552\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":2,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123954.9\",\"orderIv\":\"\",\"createdTime\":\"1759640378407\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640750094\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125194.1\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.10561036\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.292\",\"reduceOnly\":true,\"qty\":\"0.292\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"7c23ac21-dd21-4370-a713-f8c8c42a9883\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125148.7\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125148.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126634.4\",\"cumExecValue\":\"36543.4204\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126410.9\",\"orderIv\":\"\",\"createdTime\":\"1759640378407\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640378407\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.09888122\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.292\",\"reduceOnly\":false,\"qty\":\"0.292\",\"stopLoss\":\"124455.8\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"8509dfb8-d6fa-4cc0-8d17-31e38fdb97ed\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125192\",\"stopOrderType\":\"StopLoss\",\"lastPriceOnCreated\":\"125198.3\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByStopLoss\",\"takeProfit\":\"\",\"cumExecValue\":\"28418.584\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":2,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123961.7\",\"orderIv\":\"\",\"createdTime\":\"1759640302745\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640370605\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125194.1\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"15.6302212\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.227\",\"reduceOnly\":true,\"qty\":\"0.227\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"d8de2cf9-5b9c-4d22-95af-93267eb7de33\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125203.7\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125203.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126573.7\",\"cumExecValue\":\"28421.2399\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126453.6\",\"orderIv\":\"\",\"createdTime\":\"1759640302744\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640302745\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"15.63168195\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.227\",\"reduceOnly\":false,\"qty\":\"0.227\",\"stopLoss\":\"124433\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"d4f4fc46-688d-4b4e-b9e9-5815257b5fa7\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125190.9\",\"stopOrderType\":\"StopLoss\",\"lastPriceOnCreated\":\"125194.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByStopLoss\",\"takeProfit\":\"\",\"cumExecValue\":\"50577.1236\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":2,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123973.8\",\"orderIv\":\"\",\"createdTime\":\"1759639752464\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640280814\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125194.1\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"27.81741798\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.404\",\"reduceOnly\":true,\"qty\":\"0.404\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"b0fdbb11-eae6-4ab1-a51a-c59c6f23ae9b\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125381.5\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125381.5\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"127188.1\",\"cumExecValue\":\"50654.126\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126670.9\",\"orderIv\":\"\",\"createdTime\":\"1759639752463\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639752464\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"27.8597693\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.404\",\"reduceOnly\":false,\"qty\":\"0.404\",\"stopLoss\":\"124981.4\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"bab14857-9c51-433c-86a5-cfc456f1c0d1\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125147.8\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125147.8\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"6883.129\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123925.2\",\"orderIv\":\"\",\"createdTime\":\"1759639681340\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639681340\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"3.78572095\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.055\",\"reduceOnly\":false,\"qty\":\"0.055\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"f4d8a761-2ead-469e-a1d5-59fd070f48f1\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"124910.5\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"124910.5\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"13740.155\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123667.3\",\"orderIv\":\"\",\"createdTime\":\"1759639609922\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639609923\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"7.55708525\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.11\",\"reduceOnly\":false,\"qty\":\"0.11\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"d156c6ca-629c-4882-b9f8-280959c0e20b\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"124383.2\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"124383.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"9079.9736\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123150\",\"orderIv\":\"\",\"createdTime\":\"1759639539819\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639539820\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"4.99398548\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.073\",\"reduceOnly\":false,\"qty\":\"0.073\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"51e03e67-fa97-4def-8265-bf0901dab45f\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125413.6\",\"stopOrderType\":\"TakeProfit\",\"lastPriceOnCreated\":\"125400.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByTakeProfit\",\"takeProfit\":\"\",\"cumExecValue\":\"7023.1616\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":1,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"124112.9\",\"orderIv\":\"\",\"createdTime\":\"1759635645771\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639735096\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125403.4\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"3.86273888\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.056\",\"reduceOnly\":true,\"qty\":\"0.056\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"4f86d877-0375-4631-9967-9c01f601e8e5\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"123950.7\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"123950.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"125403.4\",\"cumExecValue\":\"36441.5058\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"125198.4\",\"orderIv\":\"\",\"createdTime\":\"1759635645771\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.04282819\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.294\",\"reduceOnly\":false,\"qty\":\"0.294\",\"stopLoss\":\"123246\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"a1f8524c-ec36-471d-8ad5-cc2512544abe\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"122199.6\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"122199.6\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"4521.3852\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"120980\",\"orderIv\":\"\",\"createdTime\":\"1759627473299\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759627473299\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"2.48676186\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.037\",\"reduceOnly\":false,\"qty\":\"0.037\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"8b69d590-2750-428a-814c-d6dd4d65898f\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"123480\",\"stopOrderType\":\"TakeProfit\",\"lastPriceOnCreated\":\"123478.8\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByTakeProfit\",\"takeProfit\":\"\",\"cumExecValue\":\"13706.28\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":1,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"122233.8\",\"orderIv\":\"\",\"createdTime\":\"1759626984495\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759631557724\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"123479.3\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"7.538454\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.111\",\"reduceOnly\":true,\"qty\":\"0.111\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"f220410a-cf85-4183-ae3b-65de31cb4e4f\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"122265.7\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"122265.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"123479.3\",\"cumExecValue\":\"18095.3236\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123495\",\"orderIv\":\"\",\"createdTime\":\"1759626984494\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759626984495\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"9.95242798\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.148\",\"reduceOnly\":false,\"qty\":\"0.148\",\"stopLoss\":\"121535.2\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"cfcbe5be-ee15-494e-86c5-8ae0bd072ac5\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"122236\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"122236\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByClosing\",\"takeProfit\":\"\",\"cumExecValue\":\"37404.216\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"121013.7\",\"orderIv\":\"\",\"createdTime\":\"1759620729848\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759620729849\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.5723188\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.306\",\"reduceOnly\":true,\"qty\":\"0.306\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"}]},\"retExtInfo\":{},\"time\":1759643706777}","module":"BybitClient","timestamp":"2025-10-05T05:55:07.308Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:55:08.369Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:55:08.369Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual tiene una pérdida del 0.01%, pero no hay señales claras de reversión. La...","module":"OllamaClient","timestamp":"2025-10-05T05:55:10.818Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual tiene una pérdida del 0.01%, pero no hay señales claras de reversión. La tendenci...","module":"TradingStrategy","timestamp":"2025-10-05T05:55:10.818Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643710819","module":"BybitClient","timestamp":"2025-10-05T05:55:10.819Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:55:10.818Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:55:10.818Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:55:10.819Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759643215748%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"125004\",\"liqPrice\":\"117295.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126391.5\",\"positionValue\":\"28375.908\",\"isReduceOnly\":false,\"positionIMByMp\":\"1906.2937832\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117256.7\",\"unrealisedPnl\":\"-3.9044\",\"markPrice\":\"124986.8\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11931.18806254\",\"positionMM\":\"156.44602862\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1906.2937832\",\"positionMMByMp\":\"156.42650661\",\"seq\":140697267118621,\"updatedTime\":\"1759643215748\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1906.2937832\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.6067494\",\"size\":\"0.227\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124253.9\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759643711700}","module":"BybitClient","timestamp":"2025-10-05T05:55:11.882Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:55:11.882Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:55:11.882Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:55:11.882Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:55:31.888Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:55:32.288Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:55:32.289Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:55:32.288Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:56:11.885Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T05:56:11.885Z"}
{"level":"debug","message":"Predicción Kalman: 124975.50962503612 (Confianza: 0.843)","module":"KalmanFilter","timestamp":"2025-10-05T05:56:11.886Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-05T05:56:12.978Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-05T05:56:15.932Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":124923.54848591659,"middle":125004.415,"upper":125085.2815140834},"ema":{"ema21":125000.48704202565,"ema50":125038.50534425127,"ema9":124983.82739023109},"macd":{"histogram":-1.9424954780261032,"macd":-19.424954780261032,"signal":-17.48245930223493},"rsi":43.24168429148239,"volume":{"avg":87.18108999999991,"current":11.567,"ratio":0.13267785479626387}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI está por encima del 43%, MACD histogram es negativo y decreciente, Bollinger está por encima del 125085.28, EMA9 cruza por encima de EMA21 y EMA50, Kalman predice una subida con confianza del 71.7%, volumen es bajo pero no extremo, señales bajistas claras","symbol":"BTCUSDT","timestamp":1759643775932}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643775932","module":"BybitClient","timestamp":"2025-10-05T05:56:15.932Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:56:15.932Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759643215748%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"125004\",\"liqPrice\":\"117295.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126391.5\",\"positionValue\":\"28375.908\",\"isReduceOnly\":false,\"positionIMByMp\":\"1906.2937832\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117256.7\",\"unrealisedPnl\":\"-8.67821\",\"markPrice\":\"124965.77\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11931.18806254\",\"positionMM\":\"156.44602862\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1906.2937832\",\"positionMMByMp\":\"156.40263756\",\"seq\":140697267118621,\"updatedTime\":\"1759643215748\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1906.2937832\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.6067494\",\"size\":\"0.227\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124253.9\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759643776813}","module":"BybitClient","timestamp":"2025-10-05T05:56:16.995Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:56:16.996Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643776996","module":"BybitClient","timestamp":"2025-10-05T05:56:16.996Z"}
{"level":"debug","message":"Signature payload: accountType=UNIFIED","module":"BybitClient","timestamp":"2025-10-05T05:56:16.997Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"list\":[{\"accountIMRate\":\"\",\"totalMaintenanceMarginByMp\":\"\",\"totalInitialMargin\":\"\",\"accountType\":\"UNIFIED\",\"accountMMRate\":\"\",\"accountMMRateByMp\":\"\",\"accountIMRateByMp\":\"\",\"totalInitialMarginByMp\":\"\",\"totalMaintenanceMargin\":\"\",\"totalEquity\":\"180113.47423957\",\"totalMarginBalance\":\"\",\"totalAvailableBalance\":\"\",\"totalPerpUPL\":\"-8.67919931\",\"totalWalletBalance\":\"180122.15343888\",\"accountLTV\":\"\",\"coin\":[{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"50000.02375638\",\"totalPositionMM\":\"0\",\"usdValue\":\"49987.72375053\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"50000.02375638\",\"cumRealisedPnl\":\"0.02375638\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"0.989\",\"totalPositionMM\":\"0\",\"usdValue\":\"123644.17304971\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"0.989\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"BTC\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1\",\"totalPositionMM\":\"0\",\"usdValue\":\"4564.134177\",\"unrealisedPnl\":\"0\",\"collateralSwitch\":false,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"0\",\"walletBalance\":\"1\",\"cumRealisedPnl\":\"0\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"ETH\"},{\"availableToBorrow\":\"\",\"bonus\":\"0\",\"accruedInterest\":\"0\",\"availableToWithdraw\":\"\",\"totalOrderIM\":\"0\",\"equity\":\"1917.22469871\",\"totalPositionMM\":\"156.44602862\",\"usdValue\":\"1917.44326232\",\"unrealisedPnl\":\"-8.67821\",\"collateralSwitch\":true,\"spotHedgingQty\":\"0\",\"borrowAmount\":\"0\",\"totalPositionIM\":\"1906.2937832\",\"walletBalance\":\"1925.90290871\",\"cumRealisedPnl\":\"-12981.69998129\",\"locked\":\"0\",\"marginCollateral\":true,\"coin\":\"USDT\"}]}]},\"retExtInfo\":{},\"time\":1759643777184}","module":"BybitClient","timestamp":"2025-10-05T05:56:17.367Z"}
{"level":"info","message":"📊 Gestionando posición: Buy 0.227 BTCUSDT | PnL: -0.03%","module":"TradingStrategy","timestamp":"2025-10-05T05:56:17.368Z"}
{"level":"info","message":"Balance obtenido - Total: $180113.47, Disponible: $1925.90","module":"BybitClient","timestamp":"2025-10-05T05:56:17.367Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643777368","module":"BybitClient","timestamp":"2025-10-05T05:56:17.368Z"}
{"level":"debug","message":"Signature payload: category=linear&limit=20&orderStatus=Filled&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:56:17.368Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"b81e82e8-d45b-41da-9e4a-66da7edb0e9e%3A1759643215747%2Ccfcbe5be-ee15-494e-86c5-8ae0bd072ac5%3A1759620729848\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"b81e82e8-d45b-41da-9e4a-66da7edb0e9e\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125004\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125004\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126391.5\",\"cumExecValue\":\"28375.908\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126285.6\",\"orderIv\":\"\",\"createdTime\":\"1759643215747\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759643215748\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"15.6067494\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.227\",\"reduceOnly\":false,\"qty\":\"0.227\",\"stopLoss\":\"124253.9\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"19e34142-3072-4ad1-9d0d-282152a0daed\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125055.4\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125055.4\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"21259.418\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123807.7\",\"orderIv\":\"\",\"createdTime\":\"1759643189242\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759643189242\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"11.6926799\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.17\",\"reduceOnly\":true,\"qty\":\"0.17\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"ca590511-ad0a-47ea-92f6-99682d39d55a\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125144.2\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125144.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126533.3\",\"cumExecValue\":\"21274.514\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126401.7\",\"orderIv\":\"\",\"createdTime\":\"1759641282552\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759641282552\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"11.7009827\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.17\",\"reduceOnly\":false,\"qty\":\"0.17\",\"stopLoss\":\"124393.3\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"ff981acf-2f62-4ac0-bc1d-2be3f0c1b2dd\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125191.2\",\"stopOrderType\":\"StopLoss\",\"lastPriceOnCreated\":\"125199.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByStopLoss\",\"takeProfit\":\"\",\"cumExecValue\":\"36555.8304\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":2,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123947.3\",\"orderIv\":\"\",\"createdTime\":\"1759640797455\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759641216384\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125194.1\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.10570672\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.292\",\"reduceOnly\":true,\"qty\":\"0.292\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"0036d490-5f56-4e6b-ad4e-0148c2599668\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"124952.2\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"124952.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126386\",\"cumExecValue\":\"36486.0424\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126215.5\",\"orderIv\":\"\",\"createdTime\":\"1759640797455\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640797455\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.06732332\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.292\",\"reduceOnly\":false,\"qty\":\"0.292\",\"stopLoss\":\"124230.1\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"83854777-9ba8-4fe1-894a-479f041273b3\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125190.6\",\"stopOrderType\":\"StopLoss\",\"lastPriceOnCreated\":\"125194.3\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByStopLoss\",\"takeProfit\":\"\",\"cumExecValue\":\"36555.6552\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":2,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123954.9\",\"orderIv\":\"\",\"createdTime\":\"1759640378407\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640750094\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125194.1\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.10561036\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.292\",\"reduceOnly\":true,\"qty\":\"0.292\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"7c23ac21-dd21-4370-a713-f8c8c42a9883\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125148.7\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125148.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126634.4\",\"cumExecValue\":\"36543.4204\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126410.9\",\"orderIv\":\"\",\"createdTime\":\"1759640378407\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640378407\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.09888122\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.292\",\"reduceOnly\":false,\"qty\":\"0.292\",\"stopLoss\":\"124455.8\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"8509dfb8-d6fa-4cc0-8d17-31e38fdb97ed\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125192\",\"stopOrderType\":\"StopLoss\",\"lastPriceOnCreated\":\"125198.3\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByStopLoss\",\"takeProfit\":\"\",\"cumExecValue\":\"28418.584\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":2,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123961.7\",\"orderIv\":\"\",\"createdTime\":\"1759640302745\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640370605\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125194.1\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"15.6302212\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.227\",\"reduceOnly\":true,\"qty\":\"0.227\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"d8de2cf9-5b9c-4d22-95af-93267eb7de33\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125203.7\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125203.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"126573.7\",\"cumExecValue\":\"28421.2399\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126453.6\",\"orderIv\":\"\",\"createdTime\":\"1759640302744\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640302745\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"15.63168195\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.227\",\"reduceOnly\":false,\"qty\":\"0.227\",\"stopLoss\":\"124433\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"d4f4fc46-688d-4b4e-b9e9-5815257b5fa7\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125190.9\",\"stopOrderType\":\"StopLoss\",\"lastPriceOnCreated\":\"125194.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByStopLoss\",\"takeProfit\":\"\",\"cumExecValue\":\"50577.1236\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":2,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123973.8\",\"orderIv\":\"\",\"createdTime\":\"1759639752464\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759640280814\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125194.1\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"27.81741798\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.404\",\"reduceOnly\":true,\"qty\":\"0.404\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"b0fdbb11-eae6-4ab1-a51a-c59c6f23ae9b\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125381.5\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125381.5\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"127188.1\",\"cumExecValue\":\"50654.126\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"126670.9\",\"orderIv\":\"\",\"createdTime\":\"1759639752463\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639752464\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"27.8597693\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.404\",\"reduceOnly\":false,\"qty\":\"0.404\",\"stopLoss\":\"124981.4\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"bab14857-9c51-433c-86a5-cfc456f1c0d1\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125147.8\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"125147.8\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"6883.129\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123925.2\",\"orderIv\":\"\",\"createdTime\":\"1759639681340\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639681340\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"3.78572095\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.055\",\"reduceOnly\":false,\"qty\":\"0.055\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"f4d8a761-2ead-469e-a1d5-59fd070f48f1\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"124910.5\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"124910.5\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"13740.155\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123667.3\",\"orderIv\":\"\",\"createdTime\":\"1759639609922\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639609923\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"7.55708525\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.11\",\"reduceOnly\":false,\"qty\":\"0.11\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"d156c6ca-629c-4882-b9f8-280959c0e20b\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"124383.2\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"124383.2\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"9079.9736\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123150\",\"orderIv\":\"\",\"createdTime\":\"1759639539819\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639539820\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"4.99398548\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.073\",\"reduceOnly\":false,\"qty\":\"0.073\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"51e03e67-fa97-4def-8265-bf0901dab45f\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"125413.6\",\"stopOrderType\":\"TakeProfit\",\"lastPriceOnCreated\":\"125400.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByTakeProfit\",\"takeProfit\":\"\",\"cumExecValue\":\"7023.1616\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":1,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"124112.9\",\"orderIv\":\"\",\"createdTime\":\"1759635645771\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759639735096\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"125403.4\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"3.86273888\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.056\",\"reduceOnly\":true,\"qty\":\"0.056\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"4f86d877-0375-4631-9967-9c01f601e8e5\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"123950.7\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"123950.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"125403.4\",\"cumExecValue\":\"36441.5058\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"125198.4\",\"orderIv\":\"\",\"createdTime\":\"1759635645771\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759635645771\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.04282819\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.294\",\"reduceOnly\":false,\"qty\":\"0.294\",\"stopLoss\":\"123246\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"a1f8524c-ec36-471d-8ad5-cc2512544abe\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"122199.6\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"122199.6\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"\",\"cumExecValue\":\"4521.3852\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"120980\",\"orderIv\":\"\",\"createdTime\":\"1759627473299\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759627473299\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"2.48676186\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.037\",\"reduceOnly\":false,\"qty\":\"0.037\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"8b69d590-2750-428a-814c-d6dd4d65898f\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"123480\",\"stopOrderType\":\"TakeProfit\",\"lastPriceOnCreated\":\"123478.8\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByTakeProfit\",\"takeProfit\":\"\",\"cumExecValue\":\"13706.28\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":1,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"122233.8\",\"orderIv\":\"\",\"createdTime\":\"1759626984495\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759631557724\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"123479.3\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"7.538454\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.111\",\"reduceOnly\":true,\"qty\":\"0.111\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"LastPrice\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"f220410a-cf85-4183-ae3b-65de31cb4e4f\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"122265.7\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"122265.7\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByUser\",\"takeProfit\":\"123479.3\",\"cumExecValue\":\"18095.3236\",\"tpslMode\":\"Full\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"123495\",\"orderIv\":\"\",\"createdTime\":\"1759626984494\",\"tpTriggerBy\":\"LastPrice\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759626984495\",\"side\":\"Buy\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"9.95242798\",\"slTriggerBy\":\"LastPrice\",\"leavesQty\":\"0\",\"closeOnTrigger\":false,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.148\",\"reduceOnly\":false,\"qty\":\"0.148\",\"stopLoss\":\"121535.2\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"},{\"symbol\":\"BTCUSDT\",\"orderType\":\"Market\",\"orderLinkId\":\"\",\"slLimitPrice\":\"0\",\"orderId\":\"cfcbe5be-ee15-494e-86c5-8ae0bd072ac5\",\"cancelType\":\"UNKNOWN\",\"avgPrice\":\"122236\",\"stopOrderType\":\"\",\"lastPriceOnCreated\":\"122236\",\"orderStatus\":\"Filled\",\"createType\":\"CreateByClosing\",\"takeProfit\":\"\",\"cumExecValue\":\"37404.216\",\"tpslMode\":\"\",\"smpType\":\"None\",\"triggerDirection\":0,\"blockTradeId\":\"\",\"rejectReason\":\"EC_NoError\",\"isLeverage\":\"\",\"price\":\"121013.7\",\"orderIv\":\"\",\"createdTime\":\"1759620729848\",\"tpTriggerBy\":\"\",\"positionIdx\":0,\"timeInForce\":\"IOC\",\"leavesValue\":\"0\",\"updatedTime\":\"1759620729849\",\"side\":\"Sell\",\"smpGroup\":0,\"triggerPrice\":\"\",\"tpLimitPrice\":\"0\",\"cumExecFee\":\"20.5723188\",\"slTriggerBy\":\"\",\"leavesQty\":\"0\",\"closeOnTrigger\":true,\"slippageToleranceType\":\"UNKNOWN\",\"placeType\":\"\",\"cumExecQty\":\"0.306\",\"reduceOnly\":true,\"qty\":\"0.306\",\"stopLoss\":\"\",\"smpOrderId\":\"\",\"slippageTolerance\":\"0\",\"triggerBy\":\"\",\"extraFees\":\"\"}]},\"retExtInfo\":{},\"time\":1759643778260}","module":"BybitClient","timestamp":"2025-10-05T05:56:18.789Z"}
{"level":"info","message":"🤖 Consultando IA sobre posición BTCUSDT...","module":"TradingStrategy","timestamp":"2025-10-05T05:56:19.846Z"}
{"level":"info","message":"Consultando a Ollama sobre posición activa...","module":"OllamaClient","timestamp":"2025-10-05T05:56:19.847Z"}
{"level":"debug","message":"Respuesta de Ollama sobre posición: {\n  \"action\": \"HOLD\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La posición actual está perdiendo, pero no hay señales claras de reversión. RSI y MACD está...","module":"OllamaClient","timestamp":"2025-10-05T05:56:21.931Z"}
{"level":"info","message":"📊 IA: HOLD | Razón: La posición actual está perdiendo, pero no hay señales claras de reversión. RSI y MACD están en nive...","module":"TradingStrategy","timestamp":"2025-10-05T05:56:21.931Z"}
{"level":"debug","message":"Autenticación [GET]: timestamp=1759643781932","module":"BybitClient","timestamp":"2025-10-05T05:56:21.932Z"}
{"level":"info","message":"🤖 IA decide: HOLD (Confianza: 80%)","module":"OllamaClient","timestamp":"2025-10-05T05:56:21.931Z"}
{"level":"info","message":"IA sugiere HOLD, evaluando estrategias de respaldo...","module":"TradingStrategy","timestamp":"2025-10-05T05:56:21.931Z"}
{"level":"debug","message":"Signature payload: category=linear&symbol=BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:56:21.932Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1759643215748%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"15\",\"autoAddMargin\":0,\"avgPrice\":\"125004\",\"liqPrice\":\"117295.5\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"126391.5\",\"positionValue\":\"28375.908\",\"isReduceOnly\":false,\"positionIMByMp\":\"1906.2937832\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"liqPriceByMp\":\"117256.7\",\"unrealisedPnl\":\"-14.20793\",\"markPrice\":\"124941.41\",\"adlRankIndicator\":2,\"cumRealisedPnl\":\"-11931.18806254\",\"positionMM\":\"156.44602862\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"1906.2937832\",\"positionMMByMp\":\"156.37498896\",\"seq\":140697267118621,\"updatedTime\":\"1759643215748\",\"side\":\"Buy\",\"bustPrice\":\"\",\"positionBalance\":\"1906.2937832\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"-15.6067494\",\"size\":\"0.227\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"124253.9\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759643782813}","module":"BybitClient","timestamp":"2025-10-05T05:56:22.995Z"}
{"level":"info","message":"⚠️  Ya tenemos posición LONG abierta, IA sugiere BUY pero no abriremos otra. Esperando gestión de posición existente.","module":"TradingStrategy","timestamp":"2025-10-05T05:56:22.995Z"}
{"level":"info","message":"Posiciones activas encontradas: 1","module":"BybitClient","timestamp":"2025-10-05T05:56:22.995Z"}
{"level":"info","message":"No se generó señal de trading, esperando siguiente ciclo","module":"TradingStrategy","timestamp":"2025-10-05T05:56:22.996Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 1m, límite: 5","module":"BybitClient","timestamp":"2025-10-05T05:56:31.891Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-05T05:56:32.294Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-05T05:56:32.295Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-05T05:56:32.294Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-05T05:57:22.997Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-05T05:57:22.997Z"}
{"level":"debug","message":"Predicción Kalman: 124965.74688676366 (Confianza: 0.846)","module":"KalmanFilter","timestamp":"2025-10-05T05:57:22.998Z"}
