{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759551870999}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434/ - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:24:30.991Z"}
{"level":"info","message":"6 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T04:24:30.997Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-04T04:24:30.995Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-04T04:24:30.996Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-04T04:24:30.996Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434/ - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:24:30.998Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-04T04:24:30.999Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-04T04:24:30.998Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T04:24:30.999Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T04:24:30.999Z"}
{"level":"info","message":"Trading automático deshabilitado","module":"TradingSystem","timestamp":"2025-10-04T04:24:30.999Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-04T04:24:30.999Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T04:24:31.000Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-04T04:24:30.999Z"}
{"level":"info","message":"Recibida señal SIGINT, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-04T04:30:51.099Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759552251101}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-04T04:30:51.102Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759552260374}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-04T04:31:00.371Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:31:00.367Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:31:00.370Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:31:00.370Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T04:31:00.371Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759552260374}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:31:00.373Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:31:00.373Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T04:31:00.374Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T04:31:00.374Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (5m)","module":"TradingSystem","timestamp":"2025-10-04T04:31:00.374Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-04T04:31:00.371Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-04T04:31:00.371Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-04T04:31:00.372Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-04T04:31:00.372Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-04T04:31:00.372Z"}
{"level":"info","message":"6 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T04:31:00.372Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T04:31:00.392Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T04:31:00.373Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:31:00.374Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T04:31:00.417Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T04:31:01.442Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-04T04:31:01.443Z"}
{"error":"Error: Se necesitan al menos 50 velas para análisis técnico\n    at TechnicalAnalysis.analyze (/Users/tgomez/Documents/kalmann/ai-trading-system/src/analysis/technical-analysis.ts:21:15)\n    at TradingStrategy.performCompleteAnalysis (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:100:44)\n    at TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:70:37)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","level":"error","message":"Error en análisis técnico:","module":"TechnicalAnalysis","timestamp":"2025-10-04T04:31:01.810Z"}
{"error":"Error: Se necesitan al menos 10 velas para predicción\n    at KalmanFilter.predict (/Users/tgomez/Documents/kalmann/ai-trading-system/src/analysis/kalman-filter.ts:35:15)\n    at TradingStrategy.performCompleteAnalysis (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:103:38)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:70:26)","level":"error","message":"Error en predicción Kalman:","module":"KalmanFilter","timestamp":"2025-10-04T04:31:01.811Z"}
{"error":"TypeError: Cannot read properties of undefined (reading 'close')\n    at KalmanFilter.predict (/Users/tgomez/Documents/kalmann/ai-trading-system/src/analysis/kalman-filter.ts:74:51)\n    at TradingStrategy.performCompleteAnalysis (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:103:38)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:70:26)","level":"error","message":"Error en loop de trading:","module":"TradingStrategy","timestamp":"2025-10-04T04:31:01.811Z"}
{"error":"Error: Se necesitan al menos 50 velas para análisis técnico\n    at TechnicalAnalysis.analyze (/Users/tgomez/Documents/kalmann/ai-trading-system/src/analysis/technical-analysis.ts:21:15)\n    at TradingStrategy.performCompleteAnalysis (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:100:44)\n    at TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:70:37)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","level":"error","message":"Error en análisis técnico:","module":"TechnicalAnalysis","timestamp":"2025-10-04T04:31:32.920Z"}
{"error":"Error: Se necesitan al menos 10 velas para predicción\n    at KalmanFilter.predict (/Users/tgomez/Documents/kalmann/ai-trading-system/src/analysis/kalman-filter.ts:35:15)\n    at TradingStrategy.performCompleteAnalysis (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:103:38)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:70:26)","level":"error","message":"Error en predicción Kalman:","module":"KalmanFilter","timestamp":"2025-10-04T04:31:32.921Z"}
{"error":"TypeError: Cannot read properties of undefined (reading 'close')\n    at KalmanFilter.predict (/Users/tgomez/Documents/kalmann/ai-trading-system/src/analysis/kalman-filter.ts:74:51)\n    at TradingStrategy.performCompleteAnalysis (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:103:38)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:70:26)","level":"error","message":"Error en loop de trading:","module":"TradingStrategy","timestamp":"2025-10-04T04:31:32.921Z"}
{"error":"Error: Se necesitan al menos 50 velas para análisis técnico\n    at TechnicalAnalysis.analyze (/Users/tgomez/Documents/kalmann/ai-trading-system/src/analysis/technical-analysis.ts:21:15)\n    at TradingStrategy.performCompleteAnalysis (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:100:44)\n    at TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:70:37)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","level":"error","message":"Error en análisis técnico:","module":"TechnicalAnalysis","timestamp":"2025-10-04T04:32:04.050Z"}
{"error":"Error: Se necesitan al menos 10 velas para predicción\n    at KalmanFilter.predict (/Users/tgomez/Documents/kalmann/ai-trading-system/src/analysis/kalman-filter.ts:35:15)\n    at TradingStrategy.performCompleteAnalysis (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:103:38)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:70:26)","level":"error","message":"Error en predicción Kalman:","module":"KalmanFilter","timestamp":"2025-10-04T04:32:04.056Z"}
{"error":"TypeError: Cannot read properties of undefined (reading 'close')\n    at KalmanFilter.predict (/Users/tgomez/Documents/kalmann/ai-trading-system/src/analysis/kalman-filter.ts:74:51)\n    at TradingStrategy.performCompleteAnalysis (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:103:38)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:70:26)","level":"error","message":"Error en loop de trading:","module":"TradingStrategy","timestamp":"2025-10-04T04:32:04.058Z"}
{"error":"Error: Se necesitan al menos 50 velas para análisis técnico\n    at TechnicalAnalysis.analyze (/Users/tgomez/Documents/kalmann/ai-trading-system/src/analysis/technical-analysis.ts:21:15)\n    at TradingStrategy.performCompleteAnalysis (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:100:44)\n    at TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:70:37)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","level":"error","message":"Error en análisis técnico:","module":"TechnicalAnalysis","timestamp":"2025-10-04T04:32:35.682Z"}
{"error":"Error: Se necesitan al menos 10 velas para predicción\n    at KalmanFilter.predict (/Users/tgomez/Documents/kalmann/ai-trading-system/src/analysis/kalman-filter.ts:35:15)\n    at TradingStrategy.performCompleteAnalysis (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:103:38)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:70:26)","level":"error","message":"Error en predicción Kalman:","module":"KalmanFilter","timestamp":"2025-10-04T04:32:35.685Z"}
{"error":"TypeError: Cannot read properties of undefined (reading 'close')\n    at KalmanFilter.predict (/Users/tgomez/Documents/kalmann/ai-trading-system/src/analysis/kalman-filter.ts:74:51)\n    at TradingStrategy.performCompleteAnalysis (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:103:38)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:70:26)","level":"error","message":"Error en loop de trading:","module":"TradingStrategy","timestamp":"2025-10-04T04:32:35.687Z"}
{"error":"Error: Se necesitan al menos 50 velas para análisis técnico\n    at TechnicalAnalysis.analyze (/Users/tgomez/Documents/kalmann/ai-trading-system/src/analysis/technical-analysis.ts:21:15)\n    at TradingStrategy.performCompleteAnalysis (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:100:44)\n    at TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:70:37)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)","level":"error","message":"Error en análisis técnico:","module":"TechnicalAnalysis","timestamp":"2025-10-04T04:33:06.104Z"}
{"error":"Error: Se necesitan al menos 10 velas para predicción\n    at KalmanFilter.predict (/Users/tgomez/Documents/kalmann/ai-trading-system/src/analysis/kalman-filter.ts:35:15)\n    at TradingStrategy.performCompleteAnalysis (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:103:38)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:70:26)","level":"error","message":"Error en predicción Kalman:","module":"KalmanFilter","timestamp":"2025-10-04T04:33:06.105Z"}
{"error":"TypeError: Cannot read properties of undefined (reading 'close')\n    at KalmanFilter.predict (/Users/tgomez/Documents/kalmann/ai-trading-system/src/analysis/kalman-filter.ts:74:51)\n    at TradingStrategy.performCompleteAnalysis (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:103:38)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:70:26)","level":"error","message":"Error en loop de trading:","module":"TradingStrategy","timestamp":"2025-10-04T04:33:06.106Z"}
{"level":"info","message":"Recibida señal SIGINT, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-04T04:33:30.274Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759552410274}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-04T04:33:30.275Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759552413229}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-04T04:33:33.226Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:33:33.221Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:33:33.225Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:33:33.226Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T04:33:33.226Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759552413230}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:33:33.228Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T04:33:33.228Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:33:33.228Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:33:33.228Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T04:33:33.229Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T04:33:33.229Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (5m)","module":"TradingSystem","timestamp":"2025-10-04T04:33:33.230Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-04T04:33:33.226Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-04T04:33:33.226Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-04T04:33:33.226Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-04T04:33:33.227Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-04T04:33:33.227Z"}
{"level":"info","message":"6 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T04:33:33.227Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T04:33:33.248Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:33:33.229Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T04:33:33.262Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T04:33:34.421Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (5m)","module":"DataManager","timestamp":"2025-10-04T04:33:34.421Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-04T04:33:34.421Z"}
{"level":"info","message":"Datos históricos recopilados: 0 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T04:33:34.789Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:33:34.790Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T04:33:34.790Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:33:36.791Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:33:38.792Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:33:40.793Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:33:42.795Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:33:44.796Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:33:46.812Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759552428289}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:33:48.285Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-04T04:33:48.288Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-04T04:33:48.288Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-04T04:33:48.289Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-04T04:33:48.289Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T04:33:48.316Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:33:48.813Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T04:33:49.072Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (5m)","module":"DataManager","timestamp":"2025-10-04T04:33:49.072Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-04T04:33:49.072Z"}
{"level":"info","message":"Datos históricos recopilados: 0 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T04:33:49.440Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:33:49.440Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T04:33:49.440Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:33:50.815Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:33:51.442Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:33:52.816Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:33:53.442Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:33:54.817Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:33:55.444Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:33:56.819Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:33:57.445Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:33:58.820Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:33:59.448Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:00.821Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:01.448Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:02.823Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:03.450Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:04.824Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:05.451Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:06.826Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:07.452Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:08.827Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:09.453Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:10.829Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:11.455Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:12.830Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:13.456Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:14.832Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:15.458Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:16.833Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:17.459Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:18.834Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:19.463Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:20.837Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:21.463Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:22.838Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:23.464Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:24.840Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:25.466Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:26.844Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:27.466Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:28.847Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:29.468Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:30.850Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:31.469Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:32.851Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:33.470Z"}
{"error":"Error: Timeout esperando datos para BTCUSDT\n    at TradingStrategy.waitForData (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:454:15)\n    at async TradingStrategy.start (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:50:7)\n    at async TradingSystem.start (/Users/tgomez/Documents/kalmann/ai-trading-system/src/index.ts:44:9)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-04T04:34:34.858Z"}
{"error":"Error: Timeout esperando datos para BTCUSDT\n    at TradingStrategy.waitForData (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:454:15)\n    at async TradingStrategy.start (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:50:7)\n    at async TradingSystem.start (/Users/tgomez/Documents/kalmann/ai-trading-system/src/index.ts:44:9)","level":"error","message":"Error iniciando sistema:","module":"TradingSystem","timestamp":"2025-10-04T04:34:34.859Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:34:35.472Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759552519114}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-04T04:35:19.112Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:35:19.107Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:35:19.110Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T04:35:19.111Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:35:19.111Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759552519115}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:35:19.113Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T04:35:19.114Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:35:19.114Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:35:19.114Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T04:35:19.114Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T04:35:19.114Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (5m)","module":"TradingSystem","timestamp":"2025-10-04T04:35:19.114Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-04T04:35:19.112Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-04T04:35:19.112Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-04T04:35:19.112Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-04T04:35:19.112Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-04T04:35:19.112Z"}
{"level":"info","message":"6 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T04:35:19.112Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T04:35:19.127Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:35:19.114Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T04:35:19.149Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T04:35:20.148Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (5m)","module":"DataManager","timestamp":"2025-10-04T04:35:20.148Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-04T04:35:20.148Z"}
{"level":"info","message":"Datos históricos recopilados: 0 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T04:35:20.515Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:35:20.515Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T04:35:20.515Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:35:22.516Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:35:24.517Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:35:26.518Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:35:28.520Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:35:30.521Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:35:32.522Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:35:34.522Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:35:36.523Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:35:38.525Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:35:40.526Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:35:42.527Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759552552116}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:35:52.112Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":10,"maxLeverage":5,"maxPositionSize":1000,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":2,"stopLossPercentage":3,"symbol":"BTCUSDT","takeProfitPercentage":6,"timestamp":"2025-10-04T04:35:52.115Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-04T04:35:52.115Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-04T04:35:52.115Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-04T04:35:52.115Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T04:35:52.143Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T04:35:52.945Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (5m)","module":"DataManager","timestamp":"2025-10-04T04:35:52.946Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-04T04:35:52.946Z"}
{"level":"info","message":"Datos históricos recopilados: 0 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T04:35:53.308Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:35:53.309Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T04:35:53.309Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:35:55.310Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:35:57.311Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:35:59.314Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:01.315Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:03.316Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:05.317Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:07.318Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:09.320Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:11.322Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-04T04:36:13.047Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:13.322Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:15.324Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:17.326Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:19.327Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:21.328Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:23.330Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:25.332Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:27.338Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:29.337Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:31.338Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:33.339Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:35.345Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:37.346Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:39.349Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:41.351Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:43.357Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:45.360Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:47.365Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:49.365Z"}
{"level":"info","message":"Recopilando datos para BTCUSDT: 0/50 velas","module":"TradingStrategy","timestamp":"2025-10-04T04:36:51.367Z"}
{"error":"Error: Timeout esperando datos para BTCUSDT\n    at TradingStrategy.waitForData (/Users/tgomez/Documents/kalmann/ai-trading-system/dist/strategy/trading-strategy.js:403:23)\n    at async TradingStrategy.start (/Users/tgomez/Documents/kalmann/ai-trading-system/dist/strategy/trading-strategy.js:46:13)\n    at async testTradingSystem (/Users/tgomez/Documents/kalmann/ai-trading-system/test-trading.js:20:5)","level":"error","message":"Error iniciando estrategia:","module":"TradingStrategy","timestamp":"2025-10-04T04:36:53.367Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-04T04:37:13.493Z"}
{"level":"info","message":"Velas obtenidas: 0 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T04:37:14.670Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-04T04:38:43.723Z"}
{"level":"info","message":"Velas obtenidas: 10 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T04:38:44.925Z"}
{"error":"AxiosError: Request failed with status code 404\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:2097:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3305:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/dist/exchange/bybit-client.js:233:26)\n    at async BybitClient.getBalance (/Users/tgomez/Documents/kalmann/ai-trading-system/dist/exchange/bybit-client.js:183:30)\n    at async testBybitConnection (/Users/tgomez/Documents/kalmann/ai-trading-system/test-bybit.js:31:21)","level":"error","message":"Error obteniendo balance:","module":"BybitClient","timestamp":"2025-10-04T04:38:45.292Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759552751668}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-04T04:39:11.664Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:39:11.660Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T04:39:11.664Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:39:11.663Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:39:11.666Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:39:11.663Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759552751668}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T04:39:11.667Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:39:11.667Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T04:39:11.668Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T04:39:11.668Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (5m)","module":"TradingSystem","timestamp":"2025-10-04T04:39:11.668Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-04T04:39:11.664Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-04T04:39:11.664Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-04T04:39:11.665Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-04T04:39:11.665Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-04T04:39:11.665Z"}
{"level":"info","message":"6 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T04:39:11.665Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T04:39:11.682Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:39:11.667Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:39:11.668Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T04:39:11.708Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T04:39:13.200Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (5m)","module":"DataManager","timestamp":"2025-10-04T04:39:13.201Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 200","module":"BybitClient","timestamp":"2025-10-04T04:39:13.201Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-04T04:39:13.201Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T04:39:14.649Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T04:39:14.649Z"}
{"level":"info","message":"Datos suficientes recopilados para BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T04:39:14.650Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T04:39:14.650Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0030, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-04T04:39:14.651Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-04T04:39:14.651Z"}
{"level":"info","message":"Velas obtenidas: 200 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T04:39:14.649Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T04:39:14.650Z"}
{"level":"debug","message":"Predicción Kalman: 131672.32001245813 (Confianza: 0.908)","module":"KalmanFilter","timestamp":"2025-10-04T04:39:14.651Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T04:39:15.720Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T04:39:26.556Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":132068.89164036638,"middle":141860.70500000002,"upper":151652.51835963366},"ema":{"ema21":140093.5635509675,"ema50":141363.59852389307,"ema9":138430.7728987927},"macd":{"histogram":-79.98373639348722,"macd":-799.837363934872,"signal":-719.8536275413848},"rsi":10.458377982065315,"volume":{"avg":53114.663669999965,"current":1.255,"ratio":0.000023628126646857496}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is oversold and MACD is bearish, indicating a potential bottom. Additionally, the Kalman prediction for a price increase with high confidence suggests that this could be a good entry point.","symbol":"BTCUSDT","timestamp":1759552766557}
{"error":"AxiosError: Request failed with status code 404\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:264:22)\n    at async BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:159:24)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error obteniendo posiciones:","module":"BybitClient","timestamp":"2025-10-04T04:39:27.009Z"}
{"error":"Error: Error obteniendo posiciones\n    at BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:174:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error en loop de trading:","module":"TradingStrategy","timestamp":"2025-10-04T04:39:27.010Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T04:39:57.014Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0030, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-04T04:39:57.016Z"}
{"level":"debug","message":"Predicción Kalman: 131672.32001245813 (Confianza: 0.908)","module":"KalmanFilter","timestamp":"2025-10-04T04:39:57.016Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T04:39:58.115Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T04:40:05.865Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":132068.89164036638,"middle":141860.70500000002,"upper":151652.51835963366},"ema":{"ema21":140093.5635509675,"ema50":141363.59852389307,"ema9":138430.7728987927},"macd":{"histogram":-79.98373639348722,"macd":-799.837363934872,"signal":-719.8536275413848},"rsi":10.458377982065315,"volume":{"avg":53114.663669999965,"current":1.255,"ratio":0.000023628126646857496}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La RSI está en el rango inferior (10-70), indicando un posible bottom en el mercado. Además, el cambio reciente ha sido negativo y el volumen 24h es alto, lo que sugiere una mayor actividad en el mercado. El MACD también está en un signal bullish, confirmando la tendencia actual. La predicción de Kalman también indica una subida en los próximos días con alta confianza","symbol":"BTCUSDT","timestamp":1759552805865}
{"error":"AxiosError: Request failed with status code 404\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:264:22)\n    at async BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:159:24)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error obteniendo posiciones:","module":"BybitClient","timestamp":"2025-10-04T04:40:06.269Z"}
{"error":"Error: Error obteniendo posiciones\n    at BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:174:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error en loop de trading:","module":"TradingStrategy","timestamp":"2025-10-04T04:40:06.269Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T04:40:36.273Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0030, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-04T04:40:36.277Z"}
{"level":"debug","message":"Predicción Kalman: 131672.32001245813 (Confianza: 0.908)","module":"KalmanFilter","timestamp":"2025-10-04T04:40:36.277Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T04:40:37.980Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T04:40:47.893Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":132068.89164036638,"middle":141860.70500000002,"upper":151652.51835963366},"ema":{"ema21":140093.5635509675,"ema50":141363.59852389307,"ema9":138430.7728987927},"macd":{"histogram":-79.98373639348722,"macd":-799.837363934872,"signal":-719.8536275413848},"rsi":10.458377982065315,"volume":{"avg":53114.663669999965,"current":1.255,"ratio":0.000023628126646857496}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La RSI está en el rango más bajo (10-70) y el MACD está en una posición baja (-799.8374), lo que indica un posible cambio de tendencia hacia arriba. Además, el Kalman predice un aumento en el precio con una confianza del 90.8%. Considerando el leverage alto (10-50x) y la volatilidad alta del mercado, es apropiado tomar una posición de compra con una confianza del 80%","symbol":"BTCUSDT","timestamp":1759552847894}
{"error":"AxiosError: Request failed with status code 404\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:264:22)\n    at async BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:159:24)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error obteniendo posiciones:","module":"BybitClient","timestamp":"2025-10-04T04:40:48.292Z"}
{"error":"Error: Error obteniendo posiciones\n    at BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:174:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error en loop de trading:","module":"TradingStrategy","timestamp":"2025-10-04T04:40:48.292Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: false","module":"BybitClient","timestamp":"2025-10-04T04:41:10.443Z"}
{"level":"info","message":"Velas obtenidas: 10 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T04:41:11.741Z"}
{"error":"AxiosError: Request failed with status code 401\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:2097:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:3305:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at process.processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/dist/node/axios.cjs:4483:41)\n    at process.processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/dist/exchange/bybit-client.js:242:24)\n    at async BybitClient.getBalance (/Users/tgomez/Documents/kalmann/ai-trading-system/dist/exchange/bybit-client.js:183:30)\n    at async testBybitConnection (/Users/tgomez/Documents/kalmann/ai-trading-system/test-bybit.js:31:21)","level":"error","message":"Error obteniendo balance:","module":"BybitClient","timestamp":"2025-10-04T04:41:12.110Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T04:41:18.294Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0030, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-04T04:41:18.295Z"}
{"level":"debug","message":"Predicción Kalman: 131672.32001245813 (Confianza: 0.908)","module":"KalmanFilter","timestamp":"2025-10-04T04:41:18.295Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T04:41:18.699Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T04:41:27.956Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":132068.89164036638,"middle":141860.70500000002,"upper":151652.51835963366},"ema":{"ema21":140093.5635509675,"ema50":141363.59852389307,"ema9":138430.7728987927},"macd":{"histogram":-79.98373639348722,"macd":-799.837363934872,"signal":-719.8536275413848},"rsi":10.458377982065315,"volume":{"avg":53114.663669999965,"current":1.255,"ratio":0.000023628126646857496}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La RSI está en el rango más bajo (10-70) y el MACD está en una posición baja (-799.8374), lo que sugiere una posible oportunidad de compra. Además, el Kalman predice un aumento en el precio con una confianza del 90.8%. Considerando el alto volumen y la leverage disponible (10-50x), es recomendable tomar una posición de compra con una confianza moderada.","symbol":"BTCUSDT","timestamp":1759552887957}
{"error":"AxiosError: Request failed with status code 404\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:264:22)\n    at async BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:159:24)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error obteniendo posiciones:","module":"BybitClient","timestamp":"2025-10-04T04:41:28.341Z"}
{"error":"Error: Error obteniendo posiciones\n    at BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:174:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error en loop de trading:","module":"TradingStrategy","timestamp":"2025-10-04T04:41:28.341Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T04:41:58.347Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0030, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-04T04:41:58.351Z"}
{"level":"debug","message":"Predicción Kalman: 131672.32001245813 (Confianza: 0.908)","module":"KalmanFilter","timestamp":"2025-10-04T04:41:58.351Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T04:41:59.125Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T04:42:04.577Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":132068.89164036638,"middle":141860.70500000002,"upper":151652.51835963366},"ema":{"ema21":140093.5635509675,"ema50":141363.59852389307,"ema9":138430.7728987927},"macd":{"histogram":-79.98373639348722,"macd":-799.837363934872,"signal":-719.8536275413848},"rsi":10.458377982065315,"volume":{"avg":53114.663669999965,"current":1.255,"ratio":0.000023628126646857496}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La RSI está en el rango más bajo (10.46) y el MACD está en una posición bearish, lo que sugiere una oportunidad de compra. Además, el Kalman predice un aumento en el precio con una confianza del 90.8%. Considerando el leverage alto (10-50x) y la alta volatilidad y volumen, es recomendable tomar una posición de compra con una confianza moderada.","symbol":"BTCUSDT","timestamp":1759552924577}
{"error":"AxiosError: Request failed with status code 404\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:264:22)\n    at async BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:159:24)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error obteniendo posiciones:","module":"BybitClient","timestamp":"2025-10-04T04:42:04.978Z"}
{"error":"Error: Error obteniendo posiciones\n    at BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:174:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error en loop de trading:","module":"TradingStrategy","timestamp":"2025-10-04T04:42:04.981Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T04:42:34.987Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0030, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-04T04:42:34.990Z"}
{"level":"debug","message":"Predicción Kalman: 131672.32001245813 (Confianza: 0.908)","module":"KalmanFilter","timestamp":"2025-10-04T04:42:34.991Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T04:42:36.111Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T04:42:42.057Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":132068.89164036638,"middle":141860.70500000002,"upper":151652.51835963366},"ema":{"ema21":140093.5635509675,"ema50":141363.59852389307,"ema9":138430.7728987927},"macd":{"histogram":-79.98373639348722,"macd":-799.837363934872,"signal":-719.8536275413848},"rsi":10.458377982065315,"volume":{"avg":53114.663669999965,"current":1.255,"ratio":0.000023628126646857496}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La RSI está en el rango más bajo (10.46) y el MACD está en una posición bearish. Además, el Bollinger Band Superior y Medio están en niveles altos, lo que indica una gran actividad en el mercado. La predicción de Kalman también indica una tendencia bajista con alta confianza. Basándome en estas señales claras, decido comprar con un leverage alto (10-50x) y una confianza del 80%","symbol":"BTCUSDT","timestamp":1759552962057}
{"error":"AxiosError: Request failed with status code 404\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:264:22)\n    at async BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:159:24)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error obteniendo posiciones:","module":"BybitClient","timestamp":"2025-10-04T04:42:42.449Z"}
{"error":"Error: Error obteniendo posiciones\n    at BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:174:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error en loop de trading:","module":"TradingStrategy","timestamp":"2025-10-04T04:42:42.450Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T04:43:12.455Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0030, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-04T04:43:12.457Z"}
{"level":"debug","message":"Predicción Kalman: 131672.32001245813 (Confianza: 0.908)","module":"KalmanFilter","timestamp":"2025-10-04T04:43:12.457Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T04:43:12.873Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T04:43:18.535Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":132068.89164036638,"middle":141860.70500000002,"upper":151652.51835963366},"ema":{"ema21":140093.5635509675,"ema50":141363.59852389307,"ema9":138430.7728987927},"macd":{"histogram":-79.98373639348722,"macd":-799.837363934872,"signal":-719.8536275413848},"rsi":10.458377982065315,"volume":{"avg":53114.663669999965,"current":1.255,"ratio":0.000023628126646857496}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is oversold and MACD is bearish, indicating a potential bottom. Additionally, the Kalman prediction for a price increase with high confidence suggests that this may be a good time to buy.","symbol":"BTCUSDT","timestamp":1759552998535}
{"error":"AxiosError: Request failed with status code 404\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:264:22)\n    at async BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:159:24)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error obteniendo posiciones:","module":"BybitClient","timestamp":"2025-10-04T04:43:19.695Z"}
{"error":"Error: Error obteniendo posiciones\n    at BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:174:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error en loop de trading:","module":"TradingStrategy","timestamp":"2025-10-04T04:43:19.696Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T04:43:49.703Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0030, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-04T04:43:49.705Z"}
{"level":"debug","message":"Predicción Kalman: 131672.32001245813 (Confianza: 0.908)","module":"KalmanFilter","timestamp":"2025-10-04T04:43:49.705Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T04:43:50.811Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T04:43:59.337Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":132068.89164036638,"middle":141860.70500000002,"upper":151652.51835963366},"ema":{"ema21":140093.5635509675,"ema50":141363.59852389307,"ema9":138430.7728987927},"macd":{"histogram":-79.98373639348722,"macd":-799.837363934872,"signal":-719.8536275413848},"rsi":10.458377982065315,"volume":{"avg":53114.663669999965,"current":1.255,"ratio":0.000023628126646857496}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La RSI está en un nivel muy bajo (10.46) indicando una oportunidad de compra. Además, el cambio reciente ha sido negativo del 14.62%, lo que sugiere una posible tendencia bearish. Sin embargo, el MACD y el Bollinger Band indican una posibilidad de un giro en la tendencia. La Kalman Prediction también predice una subida con alta confianza. Considerando todos estos factores, es probable que el precio siga subiendo.","symbol":"BTCUSDT","timestamp":1759553039338}
{"error":"AxiosError: Request failed with status code 404\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:264:22)\n    at async BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:159:24)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error obteniendo posiciones:","module":"BybitClient","timestamp":"2025-10-04T04:44:00.434Z"}
{"error":"Error: Error obteniendo posiciones\n    at BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:174:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error en loop de trading:","module":"TradingStrategy","timestamp":"2025-10-04T04:44:00.434Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 5","module":"BybitClient","timestamp":"2025-10-04T04:44:14.654Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T04:44:15.769Z"}
{"level":"debug","message":"Buffer actualizado para BTCUSDT: 200 velas","module":"DataManager","timestamp":"2025-10-04T04:44:15.770Z"}
{"level":"info","message":"Velas obtenidas: 5 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T04:44:15.769Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T04:44:30.455Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0038, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-04T04:44:30.455Z"}
{"level":"debug","message":"Predicción Kalman: 122105.80554855386 (Confianza: 0.912)","module":"KalmanFilter","timestamp":"2025-10-04T04:44:30.456Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T04:44:31.567Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T04:44:40.203Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":123768.59888829745,"middle":139622.66000000003,"upper":155476.72111170262},"ema":{"ema21":137138.8478206696,"ema50":139883.7456375376,"ema9":133145.09758375923},"macd":{"histogram":-292.17373204977184,"macd":-2921.7373204977193,"signal":-2629.5635884479475},"rsi":35.52637523552876,"volume":{"avg":53114.67766999996,"current":0.077,"ratio":0.000001449693444030648}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La combinación de un precio actual por debajo del cambio reciente y una RSI por debajo de 30, junto con un MACD bearish y un Bollinger Superior, indica una posible oportunidad de compra. Además, la predicción Kalman sugiere que el precio podría subir en los próximos días. Considerando el leverage alto (10-50x) y la alta volatilidad del mercado, es recomendable tomar una posición de compra con confianza.","symbol":"BTCUSDT","timestamp":1759553080204}
{"error":"AxiosError: Request failed with status code 404\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:264:22)\n    at async BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:159:24)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error obteniendo posiciones:","module":"BybitClient","timestamp":"2025-10-04T04:44:40.675Z"}
{"error":"Error: Error obteniendo posiciones\n    at BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:174:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error en loop de trading:","module":"TradingStrategy","timestamp":"2025-10-04T04:44:40.676Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T04:45:10.683Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0038, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-04T04:45:10.685Z"}
{"level":"debug","message":"Predicción Kalman: 122105.80554855386 (Confianza: 0.912)","module":"KalmanFilter","timestamp":"2025-10-04T04:45:10.685Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T04:45:11.075Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T04:45:19.007Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":123768.59888829745,"middle":139622.66000000003,"upper":155476.72111170262},"ema":{"ema21":137138.8478206696,"ema50":139883.7456375376,"ema9":133145.09758375923},"macd":{"histogram":-292.17373204977184,"macd":-2921.7373204977193,"signal":-2629.5635884479475},"rsi":35.52637523552876,"volume":{"avg":53114.67766999996,"current":0.077,"ratio":0.000001449693444030648}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La combinación de un precio actual por debajo del cambio reciente y los indicadores técnicos en declive sugiere una posible oportunidad de compra. La RSI está por debajo del 30, el MACD está en una posición bearish y el Bollinger Band está en el lado inferior, lo que indica una mayor volatilidad. Además, la predicción de Kalman sugiere un aumento en los precios futuros con una alta confianza.","symbol":"BTCUSDT","timestamp":1759553119008}
{"error":"AxiosError: Request failed with status code 404\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:264:22)\n    at async BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:159:24)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error obteniendo posiciones:","module":"BybitClient","timestamp":"2025-10-04T04:45:19.407Z"}
{"error":"Error: Error obteniendo posiciones\n    at BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:174:13)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error en loop de trading:","module":"TradingStrategy","timestamp":"2025-10-04T04:45:19.408Z"}
{"level":"info","message":"Recibida señal SIGINT, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-04T04:45:45.720Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759553145725}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-04T04:45:45.725Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-04T04:45:45.726Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759553183561}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-04T04:46:23.558Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:46:23.552Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:46:23.556Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T04:46:23.557Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:46:23.556Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759553183562}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:46:23.560Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T04:46:23.561Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:46:23.561Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T04:46:23.562Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T04:46:23.562Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (5m)","module":"TradingSystem","timestamp":"2025-10-04T04:46:23.562Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-04T04:46:23.558Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-04T04:46:23.558Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-04T04:46:23.558Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-04T04:46:23.558Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-04T04:46:23.558Z"}
{"level":"info","message":"6 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T04:46:23.558Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T04:46:23.584Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:46:23.561Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:46:23.561Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T04:46:23.612Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T04:46:24.847Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (5m)","module":"DataManager","timestamp":"2025-10-04T04:46:24.848Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 200","module":"BybitClient","timestamp":"2025-10-04T04:46:24.848Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-04T04:46:24.848Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T04:46:26.255Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T04:46:26.255Z"}
{"level":"info","message":"Datos suficientes recopilados para BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T04:46:26.256Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T04:46:26.256Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0030, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-04T04:46:26.256Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-04T04:46:26.257Z"}
{"level":"info","message":"Velas obtenidas: 200 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T04:46:26.255Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T04:46:26.255Z"}
{"level":"debug","message":"Predicción Kalman: 114663.50442271336 (Confianza: 0.907)","module":"KalmanFilter","timestamp":"2025-10-04T04:46:26.257Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T04:46:27.318Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T04:46:38.813Z"}
{"confidence":0.3,"decision":"BUY","indicators":{"bollinger":{"lower":123311.8698325666,"middle":139704.87500000006,"upper":156097.88016743353},"ema":{"ema21":136599.92882470996,"ema50":139743.55193258065,"ema9":131771.47065540485},"macd":{"histogram":-343.3183552775704,"macd":-3433.1835527757066,"signal":-3089.8651974981362},"rsi":10.325782438165362,"volume":{"avg":53114.66486999996,"current":0.04,"ratio":7.530876848776403e-7}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"{\n  \"decision\": \"BUY\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La RSI está en un nivel muy bajo (10.33) indicando una oportunidad de compra. Además, el cambio reciente ha sido negativo (-16.02%) lo que s","symbol":"BTCUSDT","timestamp":1759553198819}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-04T04:46:38.818Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-04T04:46:38.819Z"}
{"error":"AxiosError: Request failed with status code 401\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:295:18)\n    at async BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:159:24)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error obteniendo posiciones:","module":"BybitClient","timestamp":"2025-10-04T04:46:40.059Z"}
{"level":"info","message":"Asumiendo que no hay posiciones activas para demo trading","module":"BybitClient","timestamp":"2025-10-04T04:46:40.059Z"}
{"error":"AxiosError: Request failed with status code 401\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:295:18)\n    at async BybitClient.getBalance (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:213:24)\n    at async TradingStrategy.calculatePositionSize (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:313:23)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:159:22)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error obteniendo balance:","module":"BybitClient","timestamp":"2025-10-04T04:46:41.146Z"}
{"level":"info","message":"Usando balance demo para trading","module":"BybitClient","timestamp":"2025-10-04T04:46:41.147Z"}
{"level":"info","message":"Contador diario de trades reseteado","module":"RiskManager","timestamp":"2025-10-04T04:46:41.516Z"}
{"error":"AxiosError: Request failed with status code 401\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:295:18)\n    at async BybitClient.getBalance (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:213:24)\n    at async RiskManager.validateTrade (/Users/tgomez/Documents/kalmann/ai-trading-system/src/risk/risk-manager.ts:63:23)\n    at async TradingStrategy.executeTradingAction (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:231:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:94:11)","level":"error","message":"Error obteniendo balance:","module":"BybitClient","timestamp":"2025-10-04T04:46:41.916Z"}
{"level":"info","message":"Usando balance demo para trading","module":"BybitClient","timestamp":"2025-10-04T04:46:41.917Z"}
{"level":"warn","message":"Trade rechazado por gestión de riesgo: Posición excede límite de riesgo. Máximo: $100.00","module":"TradingStrategy","timestamp":"2025-10-04T04:46:43.393Z"}
{"level":"info","message":"Recibida señal SIGINT, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-04T04:48:58.604Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759553338608}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-04T04:48:58.608Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-04T04:48:58.610Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759553355742}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-04T04:49:15.739Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:49:15.733Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:49:15.737Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T04:49:15.738Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:49:15.738Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759553355742}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:49:15.741Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T04:49:15.741Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:49:15.741Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:49:15.741Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T04:49:15.742Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T04:49:15.742Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (5m)","module":"TradingSystem","timestamp":"2025-10-04T04:49:15.742Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-04T04:49:15.739Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-04T04:49:15.739Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-04T04:49:15.739Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-04T04:49:15.739Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-04T04:49:15.739Z"}
{"level":"info","message":"6 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T04:49:15.739Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T04:49:15.758Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:49:15.742Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T04:49:15.781Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T04:49:16.242Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (5m)","module":"DataManager","timestamp":"2025-10-04T04:49:16.242Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 200","module":"BybitClient","timestamp":"2025-10-04T04:49:16.242Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-04T04:49:16.242Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T04:49:17.653Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T04:49:17.654Z"}
{"level":"info","message":"Datos suficientes recopilados para BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T04:49:17.654Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T04:49:17.655Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0030, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-04T04:49:17.656Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-04T04:49:17.656Z"}
{"level":"info","message":"Velas obtenidas: 200 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T04:49:17.654Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T04:49:17.654Z"}
{"level":"debug","message":"Predicción Kalman: 113934.03349621897 (Confianza: 0.909)","module":"KalmanFilter","timestamp":"2025-10-04T04:49:17.656Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T04:49:18.728Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T04:49:24.620Z"}
{"confidence":0.9,"decision":"BUY","indicators":{"bollinger":{"lower":122813.39694096701,"middle":139622.55000000005,"upper":156431.70305903308},"ema":{"ema21":136450.24700652814,"ema50":139678.98330512966,"ema9":131442.17065540483},"macd":{"histogram":-356.45282821204455,"macd":-3564.5282821204455,"signal":-3208.075453908401},"rsi":9.766165027451905,"volume":{"avg":53114.66575999996,"current":0.129,"ratio":0.000002428707743034475}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"RSI is oversold and MACD is bearish, indicating a potential bottom. Additionally, the Kalman prediction for a price increase with high confidence suggests that now is a good time to buy.","symbol":"BTCUSDT","timestamp":1759553364621}
{"error":"AxiosError: Request failed with status code 401\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:295:18)\n    at async BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:159:24)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error obteniendo posiciones:","module":"BybitClient","timestamp":"2025-10-04T04:49:25.733Z"}
{"level":"info","message":"Asumiendo que no hay posiciones activas para demo trading","module":"BybitClient","timestamp":"2025-10-04T04:49:25.733Z"}
{"error":"AxiosError: Request failed with status code 401\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:295:18)\n    at async BybitClient.getBalance (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:213:24)\n    at async TradingStrategy.calculatePositionSize (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:313:23)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:159:22)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error obteniendo balance:","module":"BybitClient","timestamp":"2025-10-04T04:49:27.083Z"}
{"level":"info","message":"Usando balance demo para trading","module":"BybitClient","timestamp":"2025-10-04T04:49:27.084Z"}
{"level":"info","message":"Contador diario de trades reseteado","module":"RiskManager","timestamp":"2025-10-04T04:49:27.457Z"}
{"error":"AxiosError: Request failed with status code 401\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:295:18)\n    at async BybitClient.getBalance (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:213:24)\n    at async RiskManager.validateTrade (/Users/tgomez/Documents/kalmann/ai-trading-system/src/risk/risk-manager.ts:63:23)\n    at async TradingStrategy.executeTradingAction (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:231:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:94:11)","level":"error","message":"Error obteniendo balance:","module":"BybitClient","timestamp":"2025-10-04T04:49:27.847Z"}
{"level":"info","message":"Usando balance demo para trading","module":"BybitClient","timestamp":"2025-10-04T04:49:27.848Z"}
{"level":"warn","message":"Trade rechazado por gestión de riesgo: Posición excede límite de riesgo. Máximo: $100.00","module":"TradingStrategy","timestamp":"2025-10-04T04:49:29.291Z"}
{"level":"info","message":"Recibida señal SIGINT, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-04T04:51:19.396Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759553479403}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-04T04:51:19.404Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-04T04:51:19.406Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759553538900}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-04T04:52:18.896Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:52:18.890Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:52:18.894Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T04:52:18.895Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:52:18.895Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759553538900}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:52:18.898Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T04:52:18.899Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:52:18.899Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:52:18.900Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T04:52:18.900Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T04:52:18.900Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (5m)","module":"TradingSystem","timestamp":"2025-10-04T04:52:18.900Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-04T04:52:18.896Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-04T04:52:18.896Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-04T04:52:18.896Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-04T04:52:18.896Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-04T04:52:18.896Z"}
{"level":"info","message":"6 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T04:52:18.897Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T04:52:18.918Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:52:18.900Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T04:52:18.937Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T04:52:19.860Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (5m)","module":"DataManager","timestamp":"2025-10-04T04:52:19.860Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 200","module":"BybitClient","timestamp":"2025-10-04T04:52:19.860Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-04T04:52:19.860Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T04:52:20.579Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T04:52:20.581Z"}
{"level":"info","message":"Datos suficientes recopilados para BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T04:52:20.581Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T04:52:20.582Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0030, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-04T04:52:20.582Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-04T04:52:20.582Z"}
{"level":"info","message":"Velas obtenidas: 200 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T04:52:20.580Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T04:52:20.581Z"}
{"level":"debug","message":"Predicción Kalman: 108608.98944129006 (Confianza: 0.910)","module":"KalmanFilter","timestamp":"2025-10-04T04:52:20.582Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T04:52:21.639Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T04:52:30.288Z"}
{"confidence":0.8,"decision":"BUY","indicators":{"bollinger":{"lower":118577.80335299119,"middle":138304.53500000003,"upper":158031.26664700886},"ema":{"ema21":134561.49676707995,"ema50":138662.73816623428,"ema9":128293.94852349423},"macd":{"histogram":-472.51655609091813,"macd":-4725.165560909183,"signal":-4252.649004818265},"rsi":9.167083773612887,"volume":{"avg":53114.66771999997,"current":0.17,"ratio":0.0000032006224889925775}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"La RSI está en el rango más bajo (9.17) y el MACD está en un signal bearish (-4725.1656). Además, el Bollinger Band Superior es mayor que el precio actual ($115875.7), lo que sugiere una oportunidad de compra. La predicción Kalman también indica una posibilidad del 91.0% de un aumento en el precio.","symbol":"BTCUSDT","timestamp":1759553550289}
{"level":"debug","message":"Autenticación: timestamp=1759553550289, query=category=linear&symbol=BTCUSDT, signature=7b3dfd280d430c8a7b0bb50ad7ac686098e02186a7c62bbb98d17de6423a3173","module":"BybitClient","timestamp":"2025-10-04T04:52:30.290Z"}
{"error":{"endpoint":"/v5/position/list","error":"Request failed with status code 401","method":"GET","params":{"category":"linear","symbol":"BTCUSDT"},"response":""},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-04T04:52:30.711Z"}
{"error":"AxiosError: Request failed with status code 401\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:300:20)\n    at async BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:160:24)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error obteniendo posiciones:","module":"BybitClient","timestamp":"2025-10-04T04:52:30.712Z"}
{"level":"info","message":"Asumiendo que no hay posiciones activas para demo trading","module":"BybitClient","timestamp":"2025-10-04T04:52:30.712Z"}
{"level":"debug","message":"Autenticación: timestamp=1759553550712, query=accountType=UNIFIED, signature=680ec30c73be8789ab28143cade3d98dedf2de16e46b71b48a7ec5da431464ec","module":"BybitClient","timestamp":"2025-10-04T04:52:30.712Z"}
{"error":{"endpoint":"/v5/account/wallet-balance","error":"Request failed with status code 401","method":"GET","params":{"accountType":"UNIFIED"},"response":""},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-04T04:52:31.773Z"}
{"error":"AxiosError: Request failed with status code 401\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:300:20)\n    at async BybitClient.getBalance (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:214:24)\n    at async TradingStrategy.calculatePositionSize (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:313:23)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:159:22)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error obteniendo balance:","module":"BybitClient","timestamp":"2025-10-04T04:52:31.773Z"}
{"level":"info","message":"Usando balance demo para trading","module":"BybitClient","timestamp":"2025-10-04T04:52:31.773Z"}
{"level":"info","message":"Contador diario de trades reseteado","module":"RiskManager","timestamp":"2025-10-04T04:52:32.857Z"}
{"level":"debug","message":"Autenticación: timestamp=1759553552857, query=accountType=UNIFIED, signature=978bfd7713a360288e48a6822464889ffb7783f4cd031cef275b6c47a4909649","module":"BybitClient","timestamp":"2025-10-04T04:52:32.857Z"}
{"error":{"endpoint":"/v5/account/wallet-balance","error":"Request failed with status code 401","method":"GET","params":{"accountType":"UNIFIED"},"response":""},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-04T04:52:33.269Z"}
{"error":"AxiosError: Request failed with status code 401\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:300:20)\n    at async BybitClient.getBalance (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:214:24)\n    at async RiskManager.validateTrade (/Users/tgomez/Documents/kalmann/ai-trading-system/src/risk/risk-manager.ts:63:23)\n    at async TradingStrategy.executeTradingAction (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:231:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:94:11)","level":"error","message":"Error obteniendo balance:","module":"BybitClient","timestamp":"2025-10-04T04:52:33.269Z"}
{"level":"info","message":"Usando balance demo para trading","module":"BybitClient","timestamp":"2025-10-04T04:52:33.270Z"}
{"level":"warn","message":"Trade rechazado por gestión de riesgo: Posición excede límite de riesgo. Máximo: $100.00","module":"TradingStrategy","timestamp":"2025-10-04T04:52:34.002Z"}
{"level":"info","message":"Recibida señal SIGINT, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-04T04:53:18.968Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759553598971}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-04T04:53:18.971Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-04T04:53:18.973Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759553622759}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-04T04:53:42.756Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:53:42.752Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:53:42.755Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T04:53:42.756Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:53:42.756Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759553622759}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T04:53:42.759Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:53:42.758Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:53:42.759Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T04:53:42.759Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T04:53:42.759Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (5m)","module":"TradingSystem","timestamp":"2025-10-04T04:53:42.759Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-04T04:53:42.756Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-04T04:53:42.756Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-04T04:53:42.757Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-04T04:53:42.757Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-04T04:53:42.757Z"}
{"level":"info","message":"6 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T04:53:42.757Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T04:53:42.775Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:53:42.759Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:53:42.758Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T04:53:42.807Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T04:53:43.637Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (5m)","module":"DataManager","timestamp":"2025-10-04T04:53:43.637Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 200","module":"BybitClient","timestamp":"2025-10-04T04:53:43.637Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-04T04:53:43.637Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T04:53:44.357Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T04:53:44.358Z"}
{"level":"info","message":"Datos suficientes recopilados para BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T04:53:44.358Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T04:53:44.358Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0030, R: 0.0500","module":"KalmanFilter","timestamp":"2025-10-04T04:53:44.359Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-04T04:53:44.359Z"}
{"level":"info","message":"Velas obtenidas: 200 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T04:53:44.358Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T04:53:44.358Z"}
{"level":"debug","message":"Predicción Kalman: 108198.66202988774 (Confianza: 0.911)","module":"KalmanFilter","timestamp":"2025-10-04T04:53:44.359Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T04:53:45.412Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T04:53:51.890Z"}
{"confidence":0.3,"decision":"BUY","indicators":{"bollinger":{"lower":118320.77074584366,"middle":138258.73000000004,"upper":158196.68925415643},"ema":{"ema21":134478.21494889815,"ema50":138626.81267603821,"ema9":128110.72852349422},"macd":{"histogram":-479.8244763188395,"macd":-4798.244763188399,"signal":-4318.420286869559},"rsi":8.914755467686646,"volume":{"avg":53114.66847999997,"current":0.246,"ratio":0.000004631488947212951}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"{\n  \"decision\": \"BUY\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"RSI is oversold and MACD is bearish, indicating a potential bottom. Additionally, the Kalman prediction is for an increase in price with hig","symbol":"BTCUSDT","timestamp":1759553631891}
{"level":"debug","message":"Autenticación: timestamp=1759553631892, query=category=linear&symbol=BTCUSDT, signature=cff77ae8fabae02383ee1d2eac59e054ced37c7b400407e61f935286bfc60f8b","module":"BybitClient","timestamp":"2025-10-04T04:53:51.893Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-04T04:53:51.891Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-04T04:53:51.891Z"}
{"error":{"endpoint":"/v5/position/list","error":"Request failed with status code 401","method":"GET","params":{"category":"linear","symbol":"BTCUSDT"},"response":""},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-04T04:53:52.313Z"}
{"error":"AxiosError: Request failed with status code 401\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:300:20)\n    at async BybitClient.getPositions (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:160:24)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:147:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error obteniendo posiciones:","module":"BybitClient","timestamp":"2025-10-04T04:53:52.313Z"}
{"level":"info","message":"Asumiendo que no hay posiciones activas para demo trading","module":"BybitClient","timestamp":"2025-10-04T04:53:52.313Z"}
{"level":"debug","message":"Autenticación: timestamp=1759553632313, query=accountType=UNIFIED, signature=9255463acbcb88c94763e6e3201ae5814af3d16e0d0e751a2b48d41af800580a","module":"BybitClient","timestamp":"2025-10-04T04:53:52.313Z"}
{"error":{"endpoint":"/v5/account/wallet-balance","error":"Request failed with status code 401","method":"GET","params":{"accountType":"UNIFIED"},"response":""},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-04T04:53:52.695Z"}
{"error":"AxiosError: Request failed with status code 401\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:300:20)\n    at async BybitClient.getBalance (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:214:24)\n    at async TradingStrategy.calculatePositionSize (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:313:23)\n    at async TradingStrategy.generateTradingSignal (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:159:22)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:90:24)","level":"error","message":"Error obteniendo balance:","module":"BybitClient","timestamp":"2025-10-04T04:53:52.695Z"}
{"level":"info","message":"Usando balance demo para trading","module":"BybitClient","timestamp":"2025-10-04T04:53:52.696Z"}
{"level":"info","message":"Contador diario de trades reseteado","module":"RiskManager","timestamp":"2025-10-04T04:53:53.114Z"}
{"level":"debug","message":"Autenticación: timestamp=1759553633114, query=accountType=UNIFIED, signature=3ba8c4cdc1c9ead7e903b0c7998c3f75c8d76a6cc785c4a1b9721f03c9af4ebc","module":"BybitClient","timestamp":"2025-10-04T04:53:53.114Z"}
{"error":{"endpoint":"/v5/account/wallet-balance","error":"Request failed with status code 401","method":"GET","params":{"accountType":"UNIFIED"},"response":""},"level":"error","message":"Error en petición autenticada:","module":"BybitClient","timestamp":"2025-10-04T04:53:53.493Z"}
{"error":"AxiosError: Request failed with status code 401\n    at settle (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/settle.js:19:12)\n    at IncomingMessage.handleStreamEnd (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/adapters/http.js:617:11)\n    at IncomingMessage.emit (node:events:519:35)\n    at IncomingMessage.emit (node:domain:489:12)\n    at endReadableNT (node:internal/streams/readable:1701:12)\n    at processTicksAndRejections (node:internal/process/task_queues:90:21)\n    at Axios.request (/Users/tgomez/Documents/kalmann/ai-trading-system/node_modules/.pnpm/axios@1.12.2/node_modules/axios/lib/core/Axios.js:45:41)\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\n    at async BybitClient.makeAuthenticatedRequest (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:300:20)\n    at async BybitClient.getBalance (/Users/tgomez/Documents/kalmann/ai-trading-system/src/exchange/bybit-client.ts:214:24)\n    at async RiskManager.validateTrade (/Users/tgomez/Documents/kalmann/ai-trading-system/src/risk/risk-manager.ts:63:23)\n    at async TradingStrategy.executeTradingAction (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:231:30)\n    at async TradingStrategy.tradingLoop (/Users/tgomez/Documents/kalmann/ai-trading-system/src/strategy/trading-strategy.ts:94:11)","level":"error","message":"Error obteniendo balance:","module":"BybitClient","timestamp":"2025-10-04T04:53:53.493Z"}
{"level":"info","message":"Usando balance demo para trading","module":"BybitClient","timestamp":"2025-10-04T04:53:53.493Z"}
{"level":"warn","message":"Trade rechazado por gestión de riesgo: Posición excede límite de riesgo. Máximo: $5000.00","module":"TradingStrategy","timestamp":"2025-10-04T04:53:54.246Z"}
{"level":"info","message":"Recibida señal SIGINT, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-04T04:56:03.131Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759553763135}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-04T04:56:03.136Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-04T04:56:03.138Z"}
{"component":"TradingSystem","level":"info","message":"SYSTEM_TRADINGSYSTEM_START","module":"TradingSystem","status":"start","timestamp":1759553765692}
{"level":"debug","message":"Herramienta registrada: get_market_data","module":"MCPServer","timestamp":"2025-10-04T04:56:05.689Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:56:05.684Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:56:05.687Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T04:56:05.688Z"}
{"component":"TradingStrategy","interval":"5m","level":"info","message":"SYSTEM_TRADINGSTRATEGY_START","module":"TradingStrategy","status":"start","symbol":"BTCUSDT","timestamp":1759553765692}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:56:05.688Z"}
{"level":"info","message":"Cliente Ollama inicializado: http://localhost:11434 - llama2:7b-chat","module":"OllamaClient","timestamp":"2025-10-04T04:56:05.690Z"}
{"enablePaperTrading":false,"level":"info","maxDailyTrades":20,"maxLeverage":50,"maxPositionSize":100,"message":"Risk Manager inicializado con configuración:","module":"RiskManager","riskPercentage":1,"stopLossPercentage":2,"symbol":"BTCUSDT","takeProfitPercentage":4,"timestamp":"2025-10-04T04:56:05.691Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:56:05.691Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:56:05.691Z"}
{"level":"info","message":"Variables de entorno validadas correctamente","module":"TradingSystem","timestamp":"2025-10-04T04:56:05.692Z"}
{"level":"info","message":"Iniciando servidor MCP...","module":"TradingSystem","timestamp":"2025-10-04T04:56:05.692Z"}
{"level":"info","message":"Iniciando estrategia de trading para BTCUSDT (5m)","module":"TradingSystem","timestamp":"2025-10-04T04:56:05.692Z"}
{"level":"debug","message":"Herramienta registrada: analyze_technical","module":"MCPServer","timestamp":"2025-10-04T04:56:05.689Z"}
{"level":"debug","message":"Herramienta registrada: kalman_predict","module":"MCPServer","timestamp":"2025-10-04T04:56:05.689Z"}
{"level":"debug","message":"Herramienta registrada: ai_analysis","module":"MCPServer","timestamp":"2025-10-04T04:56:05.689Z"}
{"level":"debug","message":"Herramienta registrada: execute_trade","module":"MCPServer","timestamp":"2025-10-04T04:56:05.689Z"}
{"level":"debug","message":"Herramienta registrada: get_positions","module":"MCPServer","timestamp":"2025-10-04T04:56:05.689Z"}
{"level":"info","message":"6 herramientas MCP registradas","module":"MCPServer","timestamp":"2025-10-04T04:56:05.689Z"}
{"level":"info","message":"Servidor MCP iniciado en puerto 3001","module":"MCPServer","timestamp":"2025-10-04T04:56:05.713Z"}
{"level":"info","message":"Cliente Bybit inicializado - Testnet: true","module":"BybitClient","timestamp":"2025-10-04T04:56:05.692Z"}
{"level":"info","message":"Health check de Ollama exitoso","module":"OllamaClient","timestamp":"2025-10-04T04:56:05.739Z"}
{"level":"info","message":"Health check completado exitosamente","module":"TradingStrategy","timestamp":"2025-10-04T04:56:06.737Z"}
{"level":"info","message":"Iniciando recopilación de datos para BTCUSDT (5m)","module":"DataManager","timestamp":"2025-10-04T04:56:06.738Z"}
{"level":"debug","message":"Obteniendo velas para BTCUSDT, intervalo: 5m, límite: 200","module":"BybitClient","timestamp":"2025-10-04T04:56:06.738Z"}
{"level":"info","message":"Recopilando datos históricos para BTCUSDT...","module":"DataManager","timestamp":"2025-10-04T04:56:06.738Z"}
{"level":"debug","message":"Respuesta de Bybit:","module":"BybitClient","timestamp":"2025-10-04T04:56:07.452Z"}
{"level":"info","message":"Datos históricos recopilados: 200 velas para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T04:56:07.453Z"}
{"level":"info","message":"Datos suficientes recopilados para BTCUSDT","module":"TradingStrategy","timestamp":"2025-10-04T04:56:07.454Z"}
{"level":"debug","message":"Análisis técnico completado para 100 velas","module":"TechnicalAnalysis","timestamp":"2025-10-04T04:56:07.454Z"}
{"level":"debug","message":"Parámetros adaptados - Q: 0.0010, R: 0.0994","module":"KalmanFilter","timestamp":"2025-10-04T04:56:07.455Z"}
{"level":"info","message":"Sistema de trading iniciado exitosamente","module":"TradingSystem","timestamp":"2025-10-04T04:56:07.455Z"}
{"level":"info","message":"Velas obtenidas: 200 para BTCUSDT","module":"BybitClient","timestamp":"2025-10-04T04:56:07.453Z"}
{"level":"debug","message":"Predicción Kalman: 122361.64942701158 (Confianza: 0.848)","module":"KalmanFilter","timestamp":"2025-10-04T04:56:07.455Z"}
{"level":"info","message":"Recopilación de datos iniciada para BTCUSDT","module":"DataManager","timestamp":"2025-10-04T04:56:07.453Z"}
{"level":"debug","message":"Enviando prompt a Ollama para análisis","module":"OllamaClient","timestamp":"2025-10-04T04:56:07.825Z"}
{"level":"debug","message":"Respuesta recibida de Ollama","module":"OllamaClient","timestamp":"2025-10-04T04:56:16.127Z"}
{"confidence":0.3,"decision":"BUY","indicators":{"bollinger":{"lower":121892.95348031101,"middle":122216.93500000003,"upper":122540.91651968904},"ema":{"ema21":122228.84419161665,"ema50":122120.58153590292,"ema9":122364.29199025454},"macd":{"histogram":13.477921088150467,"macd":134.7792108815047,"signal":121.30128979335423},"rsi":87.67225325884189,"volume":{"avg":113.09119000000001,"current":3.671,"ratio":0.0324605303030236}},"level":"info","message":"AI_ANALYSIS","module":"TradingStrategy","reasoning":"{\n  \"decision\": \"BUY\",\n  \"confidence\": 0.8,\n  \"reasoning\": \"La RSI está en un nivel extremo de overbought (87.67), indicando una posible tendencia a bajar. Además, el MACD está en un nivel bullish y e","symbol":"BTCUSDT","timestamp":1759553776128}
{"level":"debug","message":"Autenticación: timestamp=1759553776128, query=category=linear&symbol=BTCUSDT, signature=687015b95565d235aacbf590a2b3960bda92d8f1906736746a06bf7785126ea1","module":"BybitClient","timestamp":"2025-10-04T04:56:16.128Z"}
{"level":"warn","message":"No se pudo parsear JSON de la respuesta, usando parser de fallback","module":"OllamaClient","timestamp":"2025-10-04T04:56:16.128Z"}
{"level":"debug","message":"Usando parser de fallback para respuesta de IA","module":"OllamaClient","timestamp":"2025-10-04T04:56:16.128Z"}
{"level":"debug","message":"Respuesta Bybit: {\"retCode\":0,\"retMsg\":\"OK\",\"result\":{\"nextPageCursor\":\"BTCUSDT%2C1754196323203%2C0\",\"category\":\"linear\",\"list\":[{\"symbol\":\"BTCUSDT\",\"leverage\":\"10\",\"autoAddMargin\":0,\"avgPrice\":\"0\",\"liqPrice\":\"\",\"riskLimitValue\":\"2000000\",\"takeProfit\":\"\",\"positionValue\":\"\",\"isReduceOnly\":false,\"positionIMByMp\":\"\",\"tpslMode\":\"Full\",\"riskId\":1,\"trailingStop\":\"0\",\"unrealisedPnl\":\"\",\"markPrice\":\"122452.02\",\"adlRankIndicator\":0,\"cumRealisedPnl\":\"-9409.10616415\",\"positionMM\":\"0\",\"createdTime\":\"1741116559931\",\"positionIdx\":0,\"positionIM\":\"0\",\"positionMMByMp\":\"\",\"seq\":140697097140965,\"updatedTime\":\"1754196323203\",\"side\":\"\",\"bustPrice\":\"\",\"positionBalance\":\"0\",\"leverageSysUpdatedTime\":\"\",\"curRealisedPnl\":\"0\",\"size\":\"0\",\"positionStatus\":\"Normal\",\"mmrSysUpdatedTime\":\"\",\"stopLoss\":\"\",\"tradeMode\":0,\"sessionAvgPrice\":\"\"}]},\"retExtInfo\":{},\"time\":1759553777140}","module":"BybitClient","timestamp":"2025-10-04T04:56:17.263Z"}
{"level":"info","message":"Recibida señal SIGINT, iniciando cierre graceful...","module":"TradingSystem","timestamp":"2025-10-04T04:58:05.029Z"}
{"component":"TradingStrategy","level":"info","message":"SYSTEM_TRADINGSTRATEGY_STOP","module":"TradingStrategy","status":"stop","timestamp":1759553885032}
{"level":"info","message":"Recopilación de datos detenida","module":"DataManager","timestamp":"2025-10-04T04:58:05.032Z"}
{"level":"info","message":"Servidor MCP cerrado","module":"MCPServer","timestamp":"2025-10-04T04:58:05.033Z"}
